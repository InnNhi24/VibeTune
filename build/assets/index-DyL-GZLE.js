function oj(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function fh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function aj(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var o=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:function(){return t[s]}})}),n}var _d={exports:{}},ho={},kd={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function lj(){if(Py)return Te;Py=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function x(N){return N===null||typeof N!="object"?null:(N=y&&N[y]||N["@@iterator"],typeof N=="function"?N:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function _(N,W,ee){this.props=N,this.context=W,this.refs=S,this.updater=ee||w}_.prototype.isReactComponent={},_.prototype.setState=function(N,W){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,W,"setState")},_.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function T(){}T.prototype=_.prototype;function P(N,W,ee){this.props=N,this.context=W,this.refs=S,this.updater=ee||w}var C=P.prototype=new T;C.constructor=P,k(C,_.prototype),C.isPureReactComponent=!0;var E=Array.isArray,A=Object.prototype.hasOwnProperty,M={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function $(N,W,ee){var ue,Se={},je=null,ne=null;if(W!=null)for(ue in W.ref!==void 0&&(ne=W.ref),W.key!==void 0&&(je=""+W.key),W)A.call(W,ue)&&!D.hasOwnProperty(ue)&&(Se[ue]=W[ue]);var we=arguments.length-2;if(we===1)Se.children=ee;else if(1<we){for(var ke=Array(we),Le=0;Le<we;Le++)ke[Le]=arguments[Le+2];Se.children=ke}if(N&&N.defaultProps)for(ue in we=N.defaultProps,we)Se[ue]===void 0&&(Se[ue]=we[ue]);return{$$typeof:t,type:N,key:je,ref:ne,props:Se,_owner:M.current}}function G(N,W){return{$$typeof:t,type:N.type,key:W,ref:N.ref,props:N.props,_owner:N._owner}}function Z(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function fe(N){var W={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ee){return W[ee]})}var be=/\/+/g;function me(N,W){return typeof N=="object"&&N!==null&&N.key!=null?fe(""+N.key):W.toString(36)}function ge(N,W,ee,ue,Se){var je=typeof N;(je==="undefined"||je==="boolean")&&(N=null);var ne=!1;if(N===null)ne=!0;else switch(je){case"string":case"number":ne=!0;break;case"object":switch(N.$$typeof){case t:case e:ne=!0}}if(ne)return ne=N,Se=Se(ne),N=ue===""?"."+me(ne,0):ue,E(Se)?(ee="",N!=null&&(ee=N.replace(be,"$&/")+"/"),ge(Se,W,ee,"",function(Le){return Le})):Se!=null&&(Z(Se)&&(Se=G(Se,ee+(!Se.key||ne&&ne.key===Se.key?"":(""+Se.key).replace(be,"$&/")+"/")+N)),W.push(Se)),1;if(ne=0,ue=ue===""?".":ue+":",E(N))for(var we=0;we<N.length;we++){je=N[we];var ke=ue+me(je,we);ne+=ge(je,W,ee,ke,Se)}else if(ke=x(N),typeof ke=="function")for(N=ke.call(N),we=0;!(je=N.next()).done;)je=je.value,ke=ue+me(je,we++),ne+=ge(je,W,ee,ke,Se);else if(je==="object")throw W=String(N),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return ne}function Q(N,W,ee){if(N==null)return N;var ue=[],Se=0;return ge(N,ue,"","",function(je){return W.call(ee,je,Se++)}),ue}function J(N){if(N._status===-1){var W=N._result;W=W(),W.then(function(ee){(N._status===0||N._status===-1)&&(N._status=1,N._result=ee)},function(ee){(N._status===0||N._status===-1)&&(N._status=2,N._result=ee)}),N._status===-1&&(N._status=0,N._result=W)}if(N._status===1)return N._result.default;throw N._result}var B={current:null},I={transition:null},H={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:I,ReactCurrentOwner:M};function V(){throw Error("act(...) is not supported in production builds of React.")}return Te.Children={map:Q,forEach:function(N,W,ee){Q(N,function(){W.apply(this,arguments)},ee)},count:function(N){var W=0;return Q(N,function(){W++}),W},toArray:function(N){return Q(N,function(W){return W})||[]},only:function(N){if(!Z(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Te.Component=_,Te.Fragment=n,Te.Profiler=o,Te.PureComponent=P,Te.StrictMode=s,Te.Suspense=h,Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,Te.act=V,Te.cloneElement=function(N,W,ee){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var ue=k({},N.props),Se=N.key,je=N.ref,ne=N._owner;if(W!=null){if(W.ref!==void 0&&(je=W.ref,ne=M.current),W.key!==void 0&&(Se=""+W.key),N.type&&N.type.defaultProps)var we=N.type.defaultProps;for(ke in W)A.call(W,ke)&&!D.hasOwnProperty(ke)&&(ue[ke]=W[ke]===void 0&&we!==void 0?we[ke]:W[ke])}var ke=arguments.length-2;if(ke===1)ue.children=ee;else if(1<ke){we=Array(ke);for(var Le=0;Le<ke;Le++)we[Le]=arguments[Le+2];ue.children=we}return{$$typeof:t,type:N.type,key:Se,ref:je,props:ue,_owner:ne}},Te.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:a,_context:N},N.Consumer=N},Te.createElement=$,Te.createFactory=function(N){var W=$.bind(null,N);return W.type=N,W},Te.createRef=function(){return{current:null}},Te.forwardRef=function(N){return{$$typeof:u,render:N}},Te.isValidElement=Z,Te.lazy=function(N){return{$$typeof:m,_payload:{_status:-1,_result:N},_init:J}},Te.memo=function(N,W){return{$$typeof:p,type:N,compare:W===void 0?null:W}},Te.startTransition=function(N){var W=I.transition;I.transition={};try{N()}finally{I.transition=W}},Te.unstable_act=V,Te.useCallback=function(N,W){return B.current.useCallback(N,W)},Te.useContext=function(N){return B.current.useContext(N)},Te.useDebugValue=function(){},Te.useDeferredValue=function(N){return B.current.useDeferredValue(N)},Te.useEffect=function(N,W){return B.current.useEffect(N,W)},Te.useId=function(){return B.current.useId()},Te.useImperativeHandle=function(N,W,ee){return B.current.useImperativeHandle(N,W,ee)},Te.useInsertionEffect=function(N,W){return B.current.useInsertionEffect(N,W)},Te.useLayoutEffect=function(N,W){return B.current.useLayoutEffect(N,W)},Te.useMemo=function(N,W){return B.current.useMemo(N,W)},Te.useReducer=function(N,W,ee){return B.current.useReducer(N,W,ee)},Te.useRef=function(N){return B.current.useRef(N)},Te.useState=function(N){return B.current.useState(N)},Te.useSyncExternalStore=function(N,W,ee){return B.current.useSyncExternalStore(N,W,ee)},Te.useTransition=function(){return B.current.useTransition()},Te.version="18.3.1",Te}var Ny;function hh(){return Ny||(Ny=1,kd.exports=lj()),kd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function cj(){if(Ay)return ho;Ay=1;var t=hh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(u,h,p){var m,y={},x=null,w=null;p!==void 0&&(x=""+p),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(w=h.ref);for(m in h)s.call(h,m)&&!a.hasOwnProperty(m)&&(y[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)y[m]===void 0&&(y[m]=h[m]);return{$$typeof:e,type:u,key:x,ref:w,props:y,_owner:o.current}}return ho.Fragment=n,ho.jsx=c,ho.jsxs=c,ho}var Ry;function uj(){return Ry||(Ry=1,_d.exports=cj()),_d.exports}var d=uj(),ll={},jd={exports:{}},Nt={},Cd={exports:{}},Td={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function dj(){return Iy||(Iy=1,(function(t){function e(I,H){var V=I.length;I.push(H);e:for(;0<V;){var N=V-1>>>1,W=I[N];if(0<o(W,H))I[N]=H,I[V]=W,V=N;else break e}}function n(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var H=I[0],V=I.pop();if(V!==H){I[0]=V;e:for(var N=0,W=I.length,ee=W>>>1;N<ee;){var ue=2*(N+1)-1,Se=I[ue],je=ue+1,ne=I[je];if(0>o(Se,V))je<W&&0>o(ne,Se)?(I[N]=ne,I[je]=V,N=je):(I[N]=Se,I[ue]=V,N=ue);else if(je<W&&0>o(ne,V))I[N]=ne,I[je]=V,N=je;else break e}}return H}function o(I,H){var V=I.sortIndex-H.sortIndex;return V!==0?V:I.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var h=[],p=[],m=1,y=null,x=3,w=!1,k=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(I){for(var H=n(p);H!==null;){if(H.callback===null)s(p);else if(H.startTime<=I)s(p),H.sortIndex=H.expirationTime,e(h,H);else break;H=n(p)}}function E(I){if(S=!1,C(I),!k)if(n(h)!==null)k=!0,J(A);else{var H=n(p);H!==null&&B(E,H.startTime-I)}}function A(I,H){k=!1,S&&(S=!1,T($),$=-1),w=!0;var V=x;try{for(C(H),y=n(h);y!==null&&(!(y.expirationTime>H)||I&&!fe());){var N=y.callback;if(typeof N=="function"){y.callback=null,x=y.priorityLevel;var W=N(y.expirationTime<=H);H=t.unstable_now(),typeof W=="function"?y.callback=W:y===n(h)&&s(h),C(H)}else s(h);y=n(h)}if(y!==null)var ee=!0;else{var ue=n(p);ue!==null&&B(E,ue.startTime-H),ee=!1}return ee}finally{y=null,x=V,w=!1}}var M=!1,D=null,$=-1,G=5,Z=-1;function fe(){return!(t.unstable_now()-Z<G)}function be(){if(D!==null){var I=t.unstable_now();Z=I;var H=!0;try{H=D(!0,I)}finally{H?me():(M=!1,D=null)}}else M=!1}var me;if(typeof P=="function")me=function(){P(be)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,Q=ge.port2;ge.port1.onmessage=be,me=function(){Q.postMessage(null)}}else me=function(){_(be,0)};function J(I){D=I,M||(M=!0,me())}function B(I,H){$=_(function(){I(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){k||w||(k=!0,J(A))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(I){switch(x){case 1:case 2:case 3:var H=3;break;default:H=x}var V=x;x=H;try{return I()}finally{x=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,H){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var V=x;x=I;try{return H()}finally{x=V}},t.unstable_scheduleCallback=function(I,H,V){var N=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?N+V:N):V=N,I){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=V+W,I={id:m++,callback:H,priorityLevel:I,startTime:V,expirationTime:W,sortIndex:-1},V>N?(I.sortIndex=V,e(p,I),n(h)===null&&I===n(p)&&(S?(T($),$=-1):S=!0,B(E,V-N))):(I.sortIndex=W,e(h,I),k||w||(k=!0,J(A))),I},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(I){var H=x;return function(){var V=x;x=H;try{return I.apply(this,arguments)}finally{x=V}}}})(Td)),Td}var Oy;function fj(){return Oy||(Oy=1,Cd.exports=dj()),Cd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function hj(){if(My)return Nt;My=1;var t=hh(),e=fj();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function x(r){return h.call(y,r)?!0:h.call(m,r)?!1:p.test(r)?y[r]=!0:(m[r]=!0,!1)}function w(r,i,l,f){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function k(r,i,l,f){if(i===null||typeof i>"u"||w(r,i,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function S(r,i,l,f,g,v,j){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=r,this.type=i,this.sanitizeURL=v,this.removeEmptyString=j}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){_[r]=new S(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];_[i]=new S(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){_[r]=new S(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){_[r]=new S(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){_[r]=new S(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){_[r]=new S(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){_[r]=new S(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){_[r]=new S(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){_[r]=new S(r,5,!1,r.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function P(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(T,P);_[i]=new S(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(T,P);_[i]=new S(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(T,P);_[i]=new S(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){_[r]=new S(r,1,!1,r.toLowerCase(),null,!1,!1)}),_.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){_[r]=new S(r,1,!1,r.toLowerCase(),null,!0,!0)});function C(r,i,l,f){var g=_.hasOwnProperty(i)?_[i]:null;(g!==null?g.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(k(i,l,g,f)&&(l=null),f||g===null?x(i)&&(l===null?r.removeAttribute(i):r.setAttribute(i,""+l)):g.mustUseProperty?r[g.propertyName]=l===null?g.type===3?!1:"":l:(i=g.attributeName,f=g.attributeNamespace,l===null?r.removeAttribute(i):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,f?r.setAttributeNS(f,i,l):r.setAttribute(i,l))))}var E=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),M=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),fe=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),I=Symbol.iterator;function H(r){return r===null||typeof r!="object"?null:(r=I&&r[I]||r["@@iterator"],typeof r=="function"?r:null)}var V=Object.assign,N;function W(r){if(N===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);N=i&&i[1]||""}return`
`+N+r}var ee=!1;function ue(r,i){if(!r||ee)return"";ee=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(z){var f=z}Reflect.construct(r,[],i)}else{try{i.call()}catch(z){f=z}r.call(i.prototype)}else{try{throw Error()}catch(z){f=z}r()}}catch(z){if(z&&f&&typeof z.stack=="string"){for(var g=z.stack.split(`
`),v=f.stack.split(`
`),j=g.length-1,R=v.length-1;1<=j&&0<=R&&g[j]!==v[R];)R--;for(;1<=j&&0<=R;j--,R--)if(g[j]!==v[R]){if(j!==1||R!==1)do if(j--,R--,0>R||g[j]!==v[R]){var O=`
`+g[j].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=j&&0<=R);break}}}finally{ee=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?W(r):""}function Se(r){switch(r.tag){case 5:return W(r.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return r=ue(r.type,!1),r;case 11:return r=ue(r.type.render,!1),r;case 1:return r=ue(r.type,!0),r;default:return""}}function je(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case M:return"Portal";case G:return"Profiler";case $:return"StrictMode";case me:return"Suspense";case ge:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case fe:return(r.displayName||"Context")+".Consumer";case Z:return(r._context.displayName||"Context")+".Provider";case be:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Q:return i=r.displayName||null,i!==null?i:je(r.type)||"Memo";case J:i=r._payload,r=r._init;try{return je(r(i))}catch{}}return null}function ne(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(i);case 8:return i===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function we(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ke(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Le(r){var i=ke(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),f=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return g.call(this)},set:function(j){f=""+j,v.call(this,j)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(j){f=""+j},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Ze(r){r._valueTracker||(r._valueTracker=Le(r))}function Ot(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),f="";return r&&(f=ke(r)?r.checked?"true":"false":r.value),r=f,r!==l?(i.setValue(r),!0):!1}function $n(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Nc(r,i){var l=i.checked;return V({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Lp(r,i){var l=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;l=we(i.value!=null?i.value:l),r._wrapperState={initialChecked:f,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Dp(r,i){i=i.checked,i!=null&&C(r,"checked",i,!1)}function Ac(r,i){Dp(r,i);var l=we(i.value),f=i.type;if(l!=null)f==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Rc(r,i.type,l):i.hasOwnProperty("defaultValue")&&Rc(r,i.type,we(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function $p(r,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,l||i===r.value||(r.value=i),r.defaultValue=i}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Rc(r,i,l){(i!=="number"||$n(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Ti=Array.isArray;function ps(r,i,l,f){if(r=r.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=i.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&f&&(r[l].defaultSelected=!0)}else{for(l=""+we(l),i=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,f&&(r[g].defaultSelected=!0);return}i!==null||r[g].disabled||(i=r[g])}i!==null&&(i.selected=!0)}}function Ic(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return V({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Fp(r,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(Ti(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}r._wrapperState={initialValue:we(l)}}function Vp(r,i){var l=we(i.value),f=we(i.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),i.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),f!=null&&(r.defaultValue=""+f)}function Up(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function zp(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oc(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?zp(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ea,Bp=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,f,g){MSApp.execUnsafeLocalFunction(function(){return r(i,l,f,g)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(ea=ea||document.createElement("div"),ea.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ea.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function Ei(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var Pi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},u_=["Webkit","ms","Moz","O"];Object.keys(Pi).forEach(function(r){u_.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Pi[i]=Pi[r]})});function Wp(r,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||Pi.hasOwnProperty(r)&&Pi[r]?(""+i).trim():i+"px"}function Hp(r,i){r=r.style;for(var l in i)if(i.hasOwnProperty(l)){var f=l.indexOf("--")===0,g=Wp(l,i[l],f);l==="float"&&(l="cssFloat"),f?r.setProperty(l,g):r[l]=g}}var d_=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mc(r,i){if(i){if(d_[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Lc(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dc=null;function $c(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Fc=null,ms=null,gs=null;function Gp(r){if(r=Xi(r)){if(typeof Fc!="function")throw Error(n(280));var i=r.stateNode;i&&(i=_a(i),Fc(r.stateNode,r.type,i))}}function Kp(r){ms?gs?gs.push(r):gs=[r]:ms=r}function qp(){if(ms){var r=ms,i=gs;if(gs=ms=null,Gp(r),i)for(r=0;r<i.length;r++)Gp(i[r])}}function Yp(r,i){return r(i)}function Qp(){}var Vc=!1;function Xp(r,i,l){if(Vc)return r(i,l);Vc=!0;try{return Yp(r,i,l)}finally{Vc=!1,(ms!==null||gs!==null)&&(Qp(),qp())}}function Ni(r,i){var l=r.stateNode;if(l===null)return null;var f=_a(l);if(f===null)return null;l=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var Uc=!1;if(u)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){Uc=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{Uc=!1}function f_(r,i,l,f,g,v,j,R,O){var z=Array.prototype.slice.call(arguments,3);try{i.apply(l,z)}catch(q){this.onError(q)}}var Ri=!1,ta=null,na=!1,zc=null,h_={onError:function(r){Ri=!0,ta=r}};function p_(r,i,l,f,g,v,j,R,O){Ri=!1,ta=null,f_.apply(h_,arguments)}function m_(r,i,l,f,g,v,j,R,O){if(p_.apply(this,arguments),Ri){if(Ri){var z=ta;Ri=!1,ta=null}else throw Error(n(198));na||(na=!0,zc=z)}}function Mr(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function Jp(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Zp(r){if(Mr(r)!==r)throw Error(n(188))}function g_(r){var i=r.alternate;if(!i){if(i=Mr(r),i===null)throw Error(n(188));return i!==r?null:r}for(var l=r,f=i;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return Zp(g),r;if(v===f)return Zp(g),i;v=v.sibling}throw Error(n(188))}if(l.return!==f.return)l=g,f=v;else{for(var j=!1,R=g.child;R;){if(R===l){j=!0,l=g,f=v;break}if(R===f){j=!0,f=g,l=v;break}R=R.sibling}if(!j){for(R=v.child;R;){if(R===l){j=!0,l=v,f=g;break}if(R===f){j=!0,f=v,l=g;break}R=R.sibling}if(!j)throw Error(n(189))}}if(l.alternate!==f)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:i}function em(r){return r=g_(r),r!==null?tm(r):null}function tm(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=tm(r);if(i!==null)return i;r=r.sibling}return null}var nm=e.unstable_scheduleCallback,rm=e.unstable_cancelCallback,y_=e.unstable_shouldYield,v_=e.unstable_requestPaint,Qe=e.unstable_now,x_=e.unstable_getCurrentPriorityLevel,Bc=e.unstable_ImmediatePriority,sm=e.unstable_UserBlockingPriority,ra=e.unstable_NormalPriority,w_=e.unstable_LowPriority,im=e.unstable_IdlePriority,sa=null,wn=null;function b_(r){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(sa,r,void 0,(r.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:k_,S_=Math.log,__=Math.LN2;function k_(r){return r>>>=0,r===0?32:31-(S_(r)/__|0)|0}var ia=64,oa=4194304;function Ii(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function aa(r,i){var l=r.pendingLanes;if(l===0)return 0;var f=0,g=r.suspendedLanes,v=r.pingedLanes,j=l&268435455;if(j!==0){var R=j&~g;R!==0?f=Ii(R):(v&=j,v!==0&&(f=Ii(v)))}else j=l&~g,j!==0?f=Ii(j):v!==0&&(f=Ii(v));if(f===0)return 0;if(i!==0&&i!==f&&(i&g)===0&&(g=f&-f,v=i&-i,g>=v||g===16&&(v&4194240)!==0))return i;if((f&4)!==0&&(f|=l&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=f;0<i;)l=31-on(i),g=1<<l,f|=r[l],i&=~g;return f}function j_(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C_(r,i){for(var l=r.suspendedLanes,f=r.pingedLanes,g=r.expirationTimes,v=r.pendingLanes;0<v;){var j=31-on(v),R=1<<j,O=g[j];O===-1?((R&l)===0||(R&f)!==0)&&(g[j]=j_(R,i)):O<=i&&(r.expiredLanes|=R),v&=~R}}function Wc(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function om(){var r=ia;return ia<<=1,(ia&4194240)===0&&(ia=64),r}function Hc(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function Oi(r,i,l){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-on(i),r[i]=l}function T_(r,i){var l=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<l;){var g=31-on(l),v=1<<g;i[g]=0,f[g]=-1,r[g]=-1,l&=~v}}function Gc(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var f=31-on(l),g=1<<f;g&i|r[f]&i&&(r[f]|=i),l&=~g}}var Me=0;function am(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var lm,Kc,cm,um,dm,qc=!1,la=[],nr=null,rr=null,sr=null,Mi=new Map,Li=new Map,ir=[],E_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fm(r,i){switch(r){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Mi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(i.pointerId)}}function Di(r,i,l,f,g,v){return r===null||r.nativeEvent!==v?(r={blockedOn:i,domEventName:l,eventSystemFlags:f,nativeEvent:v,targetContainers:[g]},i!==null&&(i=Xi(i),i!==null&&Kc(i)),r):(r.eventSystemFlags|=f,i=r.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),r)}function P_(r,i,l,f,g){switch(i){case"focusin":return nr=Di(nr,r,i,l,f,g),!0;case"dragenter":return rr=Di(rr,r,i,l,f,g),!0;case"mouseover":return sr=Di(sr,r,i,l,f,g),!0;case"pointerover":var v=g.pointerId;return Mi.set(v,Di(Mi.get(v)||null,r,i,l,f,g)),!0;case"gotpointercapture":return v=g.pointerId,Li.set(v,Di(Li.get(v)||null,r,i,l,f,g)),!0}return!1}function hm(r){var i=Lr(r.target);if(i!==null){var l=Mr(i);if(l!==null){if(i=l.tag,i===13){if(i=Jp(l),i!==null){r.blockedOn=i,dm(r.priority,function(){cm(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ca(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=Qc(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var f=new l.constructor(l.type,l);Dc=f,l.target.dispatchEvent(f),Dc=null}else return i=Xi(l),i!==null&&Kc(i),r.blockedOn=l,!1;i.shift()}return!0}function pm(r,i,l){ca(r)&&l.delete(i)}function N_(){qc=!1,nr!==null&&ca(nr)&&(nr=null),rr!==null&&ca(rr)&&(rr=null),sr!==null&&ca(sr)&&(sr=null),Mi.forEach(pm),Li.forEach(pm)}function $i(r,i){r.blockedOn===i&&(r.blockedOn=null,qc||(qc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,N_)))}function Fi(r){function i(g){return $i(g,r)}if(0<la.length){$i(la[0],r);for(var l=1;l<la.length;l++){var f=la[l];f.blockedOn===r&&(f.blockedOn=null)}}for(nr!==null&&$i(nr,r),rr!==null&&$i(rr,r),sr!==null&&$i(sr,r),Mi.forEach(i),Li.forEach(i),l=0;l<ir.length;l++)f=ir[l],f.blockedOn===r&&(f.blockedOn=null);for(;0<ir.length&&(l=ir[0],l.blockedOn===null);)hm(l),l.blockedOn===null&&ir.shift()}var ys=E.ReactCurrentBatchConfig,ua=!0;function A_(r,i,l,f){var g=Me,v=ys.transition;ys.transition=null;try{Me=1,Yc(r,i,l,f)}finally{Me=g,ys.transition=v}}function R_(r,i,l,f){var g=Me,v=ys.transition;ys.transition=null;try{Me=4,Yc(r,i,l,f)}finally{Me=g,ys.transition=v}}function Yc(r,i,l,f){if(ua){var g=Qc(r,i,l,f);if(g===null)hu(r,i,f,da,l),fm(r,f);else if(P_(g,r,i,l,f))f.stopPropagation();else if(fm(r,f),i&4&&-1<E_.indexOf(r)){for(;g!==null;){var v=Xi(g);if(v!==null&&lm(v),v=Qc(r,i,l,f),v===null&&hu(r,i,f,da,l),v===g)break;g=v}g!==null&&f.stopPropagation()}else hu(r,i,f,null,l)}}var da=null;function Qc(r,i,l,f){if(da=null,r=$c(f),r=Lr(r),r!==null)if(i=Mr(r),i===null)r=null;else if(l=i.tag,l===13){if(r=Jp(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return da=r,null}function mm(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x_()){case Bc:return 1;case sm:return 4;case ra:case w_:return 16;case im:return 536870912;default:return 16}default:return 16}}var or=null,Xc=null,fa=null;function gm(){if(fa)return fa;var r,i=Xc,l=i.length,f,g="value"in or?or.value:or.textContent,v=g.length;for(r=0;r<l&&i[r]===g[r];r++);var j=l-r;for(f=1;f<=j&&i[l-f]===g[v-f];f++);return fa=g.slice(r,1<f?1-f:void 0)}function ha(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function pa(){return!0}function ym(){return!1}function Mt(r){function i(l,f,g,v,j){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=v,this.target=j,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(l=r[R],this[R]=l?l(v):v[R]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?pa:ym,this.isPropagationStopped=ym,this}return V(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=pa)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=pa)},persist:function(){},isPersistent:pa}),i}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jc=Mt(vs),Vi=V({},vs,{view:0,detail:0}),I_=Mt(Vi),Zc,eu,Ui,ma=V({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ui&&(Ui&&r.type==="mousemove"?(Zc=r.screenX-Ui.screenX,eu=r.screenY-Ui.screenY):eu=Zc=0,Ui=r),Zc)},movementY:function(r){return"movementY"in r?r.movementY:eu}}),vm=Mt(ma),O_=V({},ma,{dataTransfer:0}),M_=Mt(O_),L_=V({},Vi,{relatedTarget:0}),tu=Mt(L_),D_=V({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),$_=Mt(D_),F_=V({},vs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),V_=Mt(F_),U_=V({},vs,{data:0}),xm=Mt(U_),z_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H_(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=W_[r])?!!i[r]:!1}function nu(){return H_}var G_=V({},Vi,{key:function(r){if(r.key){var i=z_[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=ha(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?B_[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nu,charCode:function(r){return r.type==="keypress"?ha(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ha(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),K_=Mt(G_),q_=V({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wm=Mt(q_),Y_=V({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nu}),Q_=Mt(Y_),X_=V({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),J_=Mt(X_),Z_=V({},ma,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ek=Mt(Z_),tk=[9,13,27,32],ru=u&&"CompositionEvent"in window,zi=null;u&&"documentMode"in document&&(zi=document.documentMode);var nk=u&&"TextEvent"in window&&!zi,bm=u&&(!ru||zi&&8<zi&&11>=zi),Sm=" ",_m=!1;function km(r,i){switch(r){case"keyup":return tk.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var xs=!1;function rk(r,i){switch(r){case"compositionend":return jm(i);case"keypress":return i.which!==32?null:(_m=!0,Sm);case"textInput":return r=i.data,r===Sm&&_m?null:r;default:return null}}function sk(r,i){if(xs)return r==="compositionend"||!ru&&km(r,i)?(r=gm(),fa=Xc=or=null,xs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bm&&i.locale!=="ko"?null:i.data;default:return null}}var ik={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cm(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!ik[r.type]:i==="textarea"}function Tm(r,i,l,f){Kp(f),i=wa(i,"onChange"),0<i.length&&(l=new Jc("onChange","change",null,l,f),r.push({event:l,listeners:i}))}var Bi=null,Wi=null;function ok(r){Hm(r,0)}function ga(r){var i=ks(r);if(Ot(i))return r}function ak(r,i){if(r==="change")return i}var Em=!1;if(u){var su;if(u){var iu="oninput"in document;if(!iu){var Pm=document.createElement("div");Pm.setAttribute("oninput","return;"),iu=typeof Pm.oninput=="function"}su=iu}else su=!1;Em=su&&(!document.documentMode||9<document.documentMode)}function Nm(){Bi&&(Bi.detachEvent("onpropertychange",Am),Wi=Bi=null)}function Am(r){if(r.propertyName==="value"&&ga(Wi)){var i=[];Tm(i,Wi,r,$c(r)),Xp(ok,i)}}function lk(r,i,l){r==="focusin"?(Nm(),Bi=i,Wi=l,Bi.attachEvent("onpropertychange",Am)):r==="focusout"&&Nm()}function ck(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ga(Wi)}function uk(r,i){if(r==="click")return ga(i)}function dk(r,i){if(r==="input"||r==="change")return ga(i)}function fk(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var an=typeof Object.is=="function"?Object.is:fk;function Hi(r,i){if(an(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),f=Object.keys(i);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!h.call(i,g)||!an(r[g],i[g]))return!1}return!0}function Rm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Im(r,i){var l=Rm(r);r=0;for(var f;l;){if(l.nodeType===3){if(f=r+l.textContent.length,r<=i&&f>=i)return{node:l,offset:i-r};r=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Rm(l)}}function Om(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Om(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Mm(){for(var r=window,i=$n();i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=$n(r.document)}return i}function ou(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function hk(r){var i=Mm(),l=r.focusedElem,f=r.selectionRange;if(i!==l&&l&&l.ownerDocument&&Om(l.ownerDocument.documentElement,l)){if(f!==null&&ou(l)){if(i=f.start,r=f.end,r===void 0&&(r=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(r,l.value.length);else if(r=(i=l.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var g=l.textContent.length,v=Math.min(f.start,g);f=f.end===void 0?v:Math.min(f.end,g),!r.extend&&v>f&&(g=f,f=v,v=g),g=Im(l,v);var j=Im(l,f);g&&j&&(r.rangeCount!==1||r.anchorNode!==g.node||r.anchorOffset!==g.offset||r.focusNode!==j.node||r.focusOffset!==j.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),r.removeAllRanges(),v>f?(r.addRange(i),r.extend(j.node,j.offset)):(i.setEnd(j.node,j.offset),r.addRange(i)))}}for(i=[],r=l;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)r=i[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var pk=u&&"documentMode"in document&&11>=document.documentMode,ws=null,au=null,Gi=null,lu=!1;function Lm(r,i,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;lu||ws==null||ws!==$n(f)||(f=ws,"selectionStart"in f&&ou(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Gi&&Hi(Gi,f)||(Gi=f,f=wa(au,"onSelect"),0<f.length&&(i=new Jc("onSelect","select",null,i,l),r.push({event:i,listeners:f}),i.target=ws)))}function ya(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var bs={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionend:ya("Transition","TransitionEnd")},cu={},Dm={};u&&(Dm=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function va(r){if(cu[r])return cu[r];if(!bs[r])return r;var i=bs[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in Dm)return cu[r]=i[l];return r}var $m=va("animationend"),Fm=va("animationiteration"),Vm=va("animationstart"),Um=va("transitionend"),zm=new Map,Bm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ar(r,i){zm.set(r,i),a(i,[r])}for(var uu=0;uu<Bm.length;uu++){var du=Bm[uu],mk=du.toLowerCase(),gk=du[0].toUpperCase()+du.slice(1);ar(mk,"on"+gk)}ar($m,"onAnimationEnd"),ar(Fm,"onAnimationIteration"),ar(Vm,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(Um,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ki));function Wm(r,i,l){var f=r.type||"unknown-event";r.currentTarget=l,m_(f,i,void 0,r),r.currentTarget=null}function Hm(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var f=r[l],g=f.event;f=f.listeners;e:{var v=void 0;if(i)for(var j=f.length-1;0<=j;j--){var R=f[j],O=R.instance,z=R.currentTarget;if(R=R.listener,O!==v&&g.isPropagationStopped())break e;Wm(g,R,z),v=O}else for(j=0;j<f.length;j++){if(R=f[j],O=R.instance,z=R.currentTarget,R=R.listener,O!==v&&g.isPropagationStopped())break e;Wm(g,R,z),v=O}}}if(na)throw r=zc,na=!1,zc=null,r}function Ve(r,i){var l=i[xu];l===void 0&&(l=i[xu]=new Set);var f=r+"__bubble";l.has(f)||(Gm(i,r,2,!1),l.add(f))}function fu(r,i,l){var f=0;i&&(f|=4),Gm(l,r,f,i)}var xa="_reactListening"+Math.random().toString(36).slice(2);function qi(r){if(!r[xa]){r[xa]=!0,s.forEach(function(l){l!=="selectionchange"&&(yk.has(l)||fu(l,!1,r),fu(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[xa]||(i[xa]=!0,fu("selectionchange",!1,i))}}function Gm(r,i,l,f){switch(mm(i)){case 1:var g=A_;break;case 4:g=R_;break;default:g=Yc}l=g.bind(null,i,l,r),g=void 0,!Uc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),f?g!==void 0?r.addEventListener(i,l,{capture:!0,passive:g}):r.addEventListener(i,l,!0):g!==void 0?r.addEventListener(i,l,{passive:g}):r.addEventListener(i,l,!1)}function hu(r,i,l,f,g){var v=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var j=f.tag;if(j===3||j===4){var R=f.stateNode.containerInfo;if(R===g||R.nodeType===8&&R.parentNode===g)break;if(j===4)for(j=f.return;j!==null;){var O=j.tag;if((O===3||O===4)&&(O=j.stateNode.containerInfo,O===g||O.nodeType===8&&O.parentNode===g))return;j=j.return}for(;R!==null;){if(j=Lr(R),j===null)return;if(O=j.tag,O===5||O===6){f=v=j;continue e}R=R.parentNode}}f=f.return}Xp(function(){var z=v,q=$c(l),Y=[];e:{var K=zm.get(r);if(K!==void 0){var te=Jc,se=r;switch(r){case"keypress":if(ha(l)===0)break e;case"keydown":case"keyup":te=K_;break;case"focusin":se="focus",te=tu;break;case"focusout":se="blur",te=tu;break;case"beforeblur":case"afterblur":te=tu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=vm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=M_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Q_;break;case $m:case Fm:case Vm:te=$_;break;case Um:te=J_;break;case"scroll":te=I_;break;case"wheel":te=ek;break;case"copy":case"cut":case"paste":te=V_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=wm}var ae=(i&4)!==0,Xe=!ae&&r==="scroll",F=ae?K!==null?K+"Capture":null:K;ae=[];for(var L=z,U;L!==null;){U=L;var X=U.stateNode;if(U.tag===5&&X!==null&&(U=X,F!==null&&(X=Ni(L,F),X!=null&&ae.push(Yi(L,X,U)))),Xe)break;L=L.return}0<ae.length&&(K=new te(K,se,null,l,q),Y.push({event:K,listeners:ae}))}}if((i&7)===0){e:{if(K=r==="mouseover"||r==="pointerover",te=r==="mouseout"||r==="pointerout",K&&l!==Dc&&(se=l.relatedTarget||l.fromElement)&&(Lr(se)||se[Fn]))break e;if((te||K)&&(K=q.window===q?q:(K=q.ownerDocument)?K.defaultView||K.parentWindow:window,te?(se=l.relatedTarget||l.toElement,te=z,se=se?Lr(se):null,se!==null&&(Xe=Mr(se),se!==Xe||se.tag!==5&&se.tag!==6)&&(se=null)):(te=null,se=z),te!==se)){if(ae=vm,X="onMouseLeave",F="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(ae=wm,X="onPointerLeave",F="onPointerEnter",L="pointer"),Xe=te==null?K:ks(te),U=se==null?K:ks(se),K=new ae(X,L+"leave",te,l,q),K.target=Xe,K.relatedTarget=U,X=null,Lr(q)===z&&(ae=new ae(F,L+"enter",se,l,q),ae.target=U,ae.relatedTarget=Xe,X=ae),Xe=X,te&&se)t:{for(ae=te,F=se,L=0,U=ae;U;U=Ss(U))L++;for(U=0,X=F;X;X=Ss(X))U++;for(;0<L-U;)ae=Ss(ae),L--;for(;0<U-L;)F=Ss(F),U--;for(;L--;){if(ae===F||F!==null&&ae===F.alternate)break t;ae=Ss(ae),F=Ss(F)}ae=null}else ae=null;te!==null&&Km(Y,K,te,ae,!1),se!==null&&Xe!==null&&Km(Y,Xe,se,ae,!0)}}e:{if(K=z?ks(z):window,te=K.nodeName&&K.nodeName.toLowerCase(),te==="select"||te==="input"&&K.type==="file")var le=ak;else if(Cm(K))if(Em)le=dk;else{le=ck;var he=lk}else(te=K.nodeName)&&te.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(le=uk);if(le&&(le=le(r,z))){Tm(Y,le,l,q);break e}he&&he(r,K,z),r==="focusout"&&(he=K._wrapperState)&&he.controlled&&K.type==="number"&&Rc(K,"number",K.value)}switch(he=z?ks(z):window,r){case"focusin":(Cm(he)||he.contentEditable==="true")&&(ws=he,au=z,Gi=null);break;case"focusout":Gi=au=ws=null;break;case"mousedown":lu=!0;break;case"contextmenu":case"mouseup":case"dragend":lu=!1,Lm(Y,l,q);break;case"selectionchange":if(pk)break;case"keydown":case"keyup":Lm(Y,l,q)}var pe;if(ru)e:{switch(r){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else xs?km(r,l)&&(xe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(xe="onCompositionStart");xe&&(bm&&l.locale!=="ko"&&(xs||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&xs&&(pe=gm()):(or=q,Xc="value"in or?or.value:or.textContent,xs=!0)),he=wa(z,xe),0<he.length&&(xe=new xm(xe,r,null,l,q),Y.push({event:xe,listeners:he}),pe?xe.data=pe:(pe=jm(l),pe!==null&&(xe.data=pe)))),(pe=nk?rk(r,l):sk(r,l))&&(z=wa(z,"onBeforeInput"),0<z.length&&(q=new xm("onBeforeInput","beforeinput",null,l,q),Y.push({event:q,listeners:z}),q.data=pe))}Hm(Y,i)})}function Yi(r,i,l){return{instance:r,listener:i,currentTarget:l}}function wa(r,i){for(var l=i+"Capture",f=[];r!==null;){var g=r,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=Ni(r,l),v!=null&&f.unshift(Yi(r,v,g)),v=Ni(r,i),v!=null&&f.push(Yi(r,v,g))),r=r.return}return f}function Ss(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Km(r,i,l,f,g){for(var v=i._reactName,j=[];l!==null&&l!==f;){var R=l,O=R.alternate,z=R.stateNode;if(O!==null&&O===f)break;R.tag===5&&z!==null&&(R=z,g?(O=Ni(l,v),O!=null&&j.unshift(Yi(l,O,R))):g||(O=Ni(l,v),O!=null&&j.push(Yi(l,O,R)))),l=l.return}j.length!==0&&r.push({event:i,listeners:j})}var vk=/\r\n?/g,xk=/\u0000|\uFFFD/g;function qm(r){return(typeof r=="string"?r:""+r).replace(vk,`
`).replace(xk,"")}function ba(r,i,l){if(i=qm(i),qm(r)!==i&&l)throw Error(n(425))}function Sa(){}var pu=null,mu=null;function gu(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var yu=typeof setTimeout=="function"?setTimeout:void 0,wk=typeof clearTimeout=="function"?clearTimeout:void 0,Ym=typeof Promise=="function"?Promise:void 0,bk=typeof queueMicrotask=="function"?queueMicrotask:typeof Ym<"u"?function(r){return Ym.resolve(null).then(r).catch(Sk)}:yu;function Sk(r){setTimeout(function(){throw r})}function vu(r,i){var l=i,f=0;do{var g=l.nextSibling;if(r.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(f===0){r.removeChild(g),Fi(i);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=g}while(l);Fi(i)}function lr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Qm(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}var _s=Math.random().toString(36).slice(2),bn="__reactFiber$"+_s,Qi="__reactProps$"+_s,Fn="__reactContainer$"+_s,xu="__reactEvents$"+_s,_k="__reactListeners$"+_s,kk="__reactHandles$"+_s;function Lr(r){var i=r[bn];if(i)return i;for(var l=r.parentNode;l;){if(i=l[Fn]||l[bn]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=Qm(r);r!==null;){if(l=r[bn])return l;r=Qm(r)}return i}r=l,l=r.parentNode}return null}function Xi(r){return r=r[bn]||r[Fn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ks(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function _a(r){return r[Qi]||null}var wu=[],js=-1;function cr(r){return{current:r}}function Ue(r){0>js||(r.current=wu[js],wu[js]=null,js--)}function De(r,i){js++,wu[js]=r.current,r.current=i}var ur={},yt=cr(ur),jt=cr(!1),Dr=ur;function Cs(r,i){var l=r.type.contextTypes;if(!l)return ur;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in l)g[v]=i[v];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=g),g}function Ct(r){return r=r.childContextTypes,r!=null}function ka(){Ue(jt),Ue(yt)}function Xm(r,i,l){if(yt.current!==ur)throw Error(n(168));De(yt,i),De(jt,l)}function Jm(r,i,l){var f=r.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var g in f)if(!(g in i))throw Error(n(108,ne(r)||"Unknown",g));return V({},l,f)}function ja(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ur,Dr=yt.current,De(yt,r),De(jt,jt.current),!0}function Zm(r,i,l){var f=r.stateNode;if(!f)throw Error(n(169));l?(r=Jm(r,i,Dr),f.__reactInternalMemoizedMergedChildContext=r,Ue(jt),Ue(yt),De(yt,r)):Ue(jt),De(jt,l)}var Vn=null,Ca=!1,bu=!1;function eg(r){Vn===null?Vn=[r]:Vn.push(r)}function jk(r){Ca=!0,eg(r)}function dr(){if(!bu&&Vn!==null){bu=!0;var r=0,i=Me;try{var l=Vn;for(Me=1;r<l.length;r++){var f=l[r];do f=f(!0);while(f!==null)}Vn=null,Ca=!1}catch(g){throw Vn!==null&&(Vn=Vn.slice(r+1)),nm(Bc,dr),g}finally{Me=i,bu=!1}}return null}var Ts=[],Es=0,Ta=null,Ea=0,Bt=[],Wt=0,$r=null,Un=1,zn="";function Fr(r,i){Ts[Es++]=Ea,Ts[Es++]=Ta,Ta=r,Ea=i}function tg(r,i,l){Bt[Wt++]=Un,Bt[Wt++]=zn,Bt[Wt++]=$r,$r=r;var f=Un;r=zn;var g=32-on(f)-1;f&=~(1<<g),l+=1;var v=32-on(i)+g;if(30<v){var j=g-g%5;v=(f&(1<<j)-1).toString(32),f>>=j,g-=j,Un=1<<32-on(i)+g|l<<g|f,zn=v+r}else Un=1<<v|l<<g|f,zn=r}function Su(r){r.return!==null&&(Fr(r,1),tg(r,1,0))}function _u(r){for(;r===Ta;)Ta=Ts[--Es],Ts[Es]=null,Ea=Ts[--Es],Ts[Es]=null;for(;r===$r;)$r=Bt[--Wt],Bt[Wt]=null,zn=Bt[--Wt],Bt[Wt]=null,Un=Bt[--Wt],Bt[Wt]=null}var Lt=null,Dt=null,Be=!1,ln=null;function ng(r,i){var l=qt(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=r,i=r.deletions,i===null?(r.deletions=[l],r.flags|=16):i.push(l)}function rg(r,i){switch(r.tag){case 5:var l=r.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Lt=r,Dt=lr(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Lt=r,Dt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=$r!==null?{id:Un,overflow:zn}:null,r.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=qt(18,null,null,0),l.stateNode=i,l.return=r,r.child=l,Lt=r,Dt=null,!0):!1;default:return!1}}function ku(r){return(r.mode&1)!==0&&(r.flags&128)===0}function ju(r){if(Be){var i=Dt;if(i){var l=i;if(!rg(r,i)){if(ku(r))throw Error(n(418));i=lr(l.nextSibling);var f=Lt;i&&rg(r,i)?ng(f,l):(r.flags=r.flags&-4097|2,Be=!1,Lt=r)}}else{if(ku(r))throw Error(n(418));r.flags=r.flags&-4097|2,Be=!1,Lt=r}}}function sg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Lt=r}function Pa(r){if(r!==Lt)return!1;if(!Be)return sg(r),Be=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!gu(r.type,r.memoizedProps)),i&&(i=Dt)){if(ku(r))throw ig(),Error(n(418));for(;i;)ng(r,i),i=lr(i.nextSibling)}if(sg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(i===0){Dt=lr(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}r=r.nextSibling}Dt=null}}else Dt=Lt?lr(r.stateNode.nextSibling):null;return!0}function ig(){for(var r=Dt;r;)r=lr(r.nextSibling)}function Ps(){Dt=Lt=null,Be=!1}function Cu(r){ln===null?ln=[r]:ln.push(r)}var Ck=E.ReactCurrentBatchConfig;function Ji(r,i,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var f=l.stateNode}if(!f)throw Error(n(147,r));var g=f,v=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===v?i.ref:(i=function(j){var R=g.refs;j===null?delete R[v]:R[v]=j},i._stringRef=v,i)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function Na(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function og(r){var i=r._init;return i(r._payload)}function ag(r){function i(F,L){if(r){var U=F.deletions;U===null?(F.deletions=[L],F.flags|=16):U.push(L)}}function l(F,L){if(!r)return null;for(;L!==null;)i(F,L),L=L.sibling;return null}function f(F,L){for(F=new Map;L!==null;)L.key!==null?F.set(L.key,L):F.set(L.index,L),L=L.sibling;return F}function g(F,L){return F=xr(F,L),F.index=0,F.sibling=null,F}function v(F,L,U){return F.index=U,r?(U=F.alternate,U!==null?(U=U.index,U<L?(F.flags|=2,L):U):(F.flags|=2,L)):(F.flags|=1048576,L)}function j(F){return r&&F.alternate===null&&(F.flags|=2),F}function R(F,L,U,X){return L===null||L.tag!==6?(L=yd(U,F.mode,X),L.return=F,L):(L=g(L,U),L.return=F,L)}function O(F,L,U,X){var le=U.type;return le===D?q(F,L,U.props.children,X,U.key):L!==null&&(L.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===J&&og(le)===L.type)?(X=g(L,U.props),X.ref=Ji(F,L,U),X.return=F,X):(X=el(U.type,U.key,U.props,null,F.mode,X),X.ref=Ji(F,L,U),X.return=F,X)}function z(F,L,U,X){return L===null||L.tag!==4||L.stateNode.containerInfo!==U.containerInfo||L.stateNode.implementation!==U.implementation?(L=vd(U,F.mode,X),L.return=F,L):(L=g(L,U.children||[]),L.return=F,L)}function q(F,L,U,X,le){return L===null||L.tag!==7?(L=Kr(U,F.mode,X,le),L.return=F,L):(L=g(L,U),L.return=F,L)}function Y(F,L,U){if(typeof L=="string"&&L!==""||typeof L=="number")return L=yd(""+L,F.mode,U),L.return=F,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return U=el(L.type,L.key,L.props,null,F.mode,U),U.ref=Ji(F,null,L),U.return=F,U;case M:return L=vd(L,F.mode,U),L.return=F,L;case J:var X=L._init;return Y(F,X(L._payload),U)}if(Ti(L)||H(L))return L=Kr(L,F.mode,U,null),L.return=F,L;Na(F,L)}return null}function K(F,L,U,X){var le=L!==null?L.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return le!==null?null:R(F,L,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case A:return U.key===le?O(F,L,U,X):null;case M:return U.key===le?z(F,L,U,X):null;case J:return le=U._init,K(F,L,le(U._payload),X)}if(Ti(U)||H(U))return le!==null?null:q(F,L,U,X,null);Na(F,U)}return null}function te(F,L,U,X,le){if(typeof X=="string"&&X!==""||typeof X=="number")return F=F.get(U)||null,R(L,F,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return F=F.get(X.key===null?U:X.key)||null,O(L,F,X,le);case M:return F=F.get(X.key===null?U:X.key)||null,z(L,F,X,le);case J:var he=X._init;return te(F,L,U,he(X._payload),le)}if(Ti(X)||H(X))return F=F.get(U)||null,q(L,F,X,le,null);Na(L,X)}return null}function se(F,L,U,X){for(var le=null,he=null,pe=L,xe=L=0,dt=null;pe!==null&&xe<U.length;xe++){pe.index>xe?(dt=pe,pe=null):dt=pe.sibling;var Re=K(F,pe,U[xe],X);if(Re===null){pe===null&&(pe=dt);break}r&&pe&&Re.alternate===null&&i(F,pe),L=v(Re,L,xe),he===null?le=Re:he.sibling=Re,he=Re,pe=dt}if(xe===U.length)return l(F,pe),Be&&Fr(F,xe),le;if(pe===null){for(;xe<U.length;xe++)pe=Y(F,U[xe],X),pe!==null&&(L=v(pe,L,xe),he===null?le=pe:he.sibling=pe,he=pe);return Be&&Fr(F,xe),le}for(pe=f(F,pe);xe<U.length;xe++)dt=te(pe,F,xe,U[xe],X),dt!==null&&(r&&dt.alternate!==null&&pe.delete(dt.key===null?xe:dt.key),L=v(dt,L,xe),he===null?le=dt:he.sibling=dt,he=dt);return r&&pe.forEach(function(wr){return i(F,wr)}),Be&&Fr(F,xe),le}function ae(F,L,U,X){var le=H(U);if(typeof le!="function")throw Error(n(150));if(U=le.call(U),U==null)throw Error(n(151));for(var he=le=null,pe=L,xe=L=0,dt=null,Re=U.next();pe!==null&&!Re.done;xe++,Re=U.next()){pe.index>xe?(dt=pe,pe=null):dt=pe.sibling;var wr=K(F,pe,Re.value,X);if(wr===null){pe===null&&(pe=dt);break}r&&pe&&wr.alternate===null&&i(F,pe),L=v(wr,L,xe),he===null?le=wr:he.sibling=wr,he=wr,pe=dt}if(Re.done)return l(F,pe),Be&&Fr(F,xe),le;if(pe===null){for(;!Re.done;xe++,Re=U.next())Re=Y(F,Re.value,X),Re!==null&&(L=v(Re,L,xe),he===null?le=Re:he.sibling=Re,he=Re);return Be&&Fr(F,xe),le}for(pe=f(F,pe);!Re.done;xe++,Re=U.next())Re=te(pe,F,xe,Re.value,X),Re!==null&&(r&&Re.alternate!==null&&pe.delete(Re.key===null?xe:Re.key),L=v(Re,L,xe),he===null?le=Re:he.sibling=Re,he=Re);return r&&pe.forEach(function(ij){return i(F,ij)}),Be&&Fr(F,xe),le}function Xe(F,L,U,X){if(typeof U=="object"&&U!==null&&U.type===D&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case A:e:{for(var le=U.key,he=L;he!==null;){if(he.key===le){if(le=U.type,le===D){if(he.tag===7){l(F,he.sibling),L=g(he,U.props.children),L.return=F,F=L;break e}}else if(he.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===J&&og(le)===he.type){l(F,he.sibling),L=g(he,U.props),L.ref=Ji(F,he,U),L.return=F,F=L;break e}l(F,he);break}else i(F,he);he=he.sibling}U.type===D?(L=Kr(U.props.children,F.mode,X,U.key),L.return=F,F=L):(X=el(U.type,U.key,U.props,null,F.mode,X),X.ref=Ji(F,L,U),X.return=F,F=X)}return j(F);case M:e:{for(he=U.key;L!==null;){if(L.key===he)if(L.tag===4&&L.stateNode.containerInfo===U.containerInfo&&L.stateNode.implementation===U.implementation){l(F,L.sibling),L=g(L,U.children||[]),L.return=F,F=L;break e}else{l(F,L);break}else i(F,L);L=L.sibling}L=vd(U,F.mode,X),L.return=F,F=L}return j(F);case J:return he=U._init,Xe(F,L,he(U._payload),X)}if(Ti(U))return se(F,L,U,X);if(H(U))return ae(F,L,U,X);Na(F,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,L!==null&&L.tag===6?(l(F,L.sibling),L=g(L,U),L.return=F,F=L):(l(F,L),L=yd(U,F.mode,X),L.return=F,F=L),j(F)):l(F,L)}return Xe}var Ns=ag(!0),lg=ag(!1),Aa=cr(null),Ra=null,As=null,Tu=null;function Eu(){Tu=As=Ra=null}function Pu(r){var i=Aa.current;Ue(Aa),r._currentValue=i}function Nu(r,i,l){for(;r!==null;){var f=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),r===l)break;r=r.return}}function Rs(r,i){Ra=r,Tu=As=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Tt=!0),r.firstContext=null)}function Ht(r){var i=r._currentValue;if(Tu!==r)if(r={context:r,memoizedValue:i,next:null},As===null){if(Ra===null)throw Error(n(308));As=r,Ra.dependencies={lanes:0,firstContext:r}}else As=As.next=r;return i}var Vr=null;function Au(r){Vr===null?Vr=[r]:Vr.push(r)}function cg(r,i,l,f){var g=i.interleaved;return g===null?(l.next=l,Au(i)):(l.next=g.next,g.next=l),i.interleaved=l,Bn(r,f)}function Bn(r,i){r.lanes|=i;var l=r.alternate;for(l!==null&&(l.lanes|=i),l=r,r=r.return;r!==null;)r.childLanes|=i,l=r.alternate,l!==null&&(l.childLanes|=i),l=r,r=r.return;return l.tag===3?l.stateNode:null}var fr=!1;function Ru(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ug(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Wn(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function hr(r,i,l){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(Ae&2)!==0){var g=f.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),f.pending=i,Bn(r,l)}return g=f.interleaved,g===null?(i.next=i,Au(f)):(i.next=g.next,g.next=i),f.interleaved=i,Bn(r,l)}function Ia(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var f=i.lanes;f&=r.pendingLanes,l|=f,i.lanes=l,Gc(r,l)}}function dg(r,i){var l=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var j={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?g=v=j:v=v.next=j,l=l.next}while(l!==null);v===null?g=v=i:v=v.next=i}else g=v=i;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:f.shared,effects:f.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}function Oa(r,i,l,f){var g=r.updateQueue;fr=!1;var v=g.firstBaseUpdate,j=g.lastBaseUpdate,R=g.shared.pending;if(R!==null){g.shared.pending=null;var O=R,z=O.next;O.next=null,j===null?v=z:j.next=z,j=O;var q=r.alternate;q!==null&&(q=q.updateQueue,R=q.lastBaseUpdate,R!==j&&(R===null?q.firstBaseUpdate=z:R.next=z,q.lastBaseUpdate=O))}if(v!==null){var Y=g.baseState;j=0,q=z=O=null,R=v;do{var K=R.lane,te=R.eventTime;if((f&K)===K){q!==null&&(q=q.next={eventTime:te,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var se=r,ae=R;switch(K=i,te=l,ae.tag){case 1:if(se=ae.payload,typeof se=="function"){Y=se.call(te,Y,K);break e}Y=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=ae.payload,K=typeof se=="function"?se.call(te,Y,K):se,K==null)break e;Y=V({},Y,K);break e;case 2:fr=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,K=g.effects,K===null?g.effects=[R]:K.push(R))}else te={eventTime:te,lane:K,tag:R.tag,payload:R.payload,callback:R.callback,next:null},q===null?(z=q=te,O=Y):q=q.next=te,j|=K;if(R=R.next,R===null){if(R=g.shared.pending,R===null)break;K=R,R=K.next,K.next=null,g.lastBaseUpdate=K,g.shared.pending=null}}while(!0);if(q===null&&(O=Y),g.baseState=O,g.firstBaseUpdate=z,g.lastBaseUpdate=q,i=g.shared.interleaved,i!==null){g=i;do j|=g.lane,g=g.next;while(g!==i)}else v===null&&(g.shared.lanes=0);Br|=j,r.lanes=j,r.memoizedState=Y}}function fg(r,i,l){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var f=r[i],g=f.callback;if(g!==null){if(f.callback=null,f=l,typeof g!="function")throw Error(n(191,g));g.call(f)}}}var Zi={},Sn=cr(Zi),eo=cr(Zi),to=cr(Zi);function Ur(r){if(r===Zi)throw Error(n(174));return r}function Iu(r,i){switch(De(to,i),De(eo,r),De(Sn,Zi),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Oc(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Oc(i,r)}Ue(Sn),De(Sn,i)}function Is(){Ue(Sn),Ue(eo),Ue(to)}function hg(r){Ur(to.current);var i=Ur(Sn.current),l=Oc(i,r.type);i!==l&&(De(eo,r),De(Sn,l))}function Ou(r){eo.current===r&&(Ue(Sn),Ue(eo))}var He=cr(0);function Ma(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Mu=[];function Lu(){for(var r=0;r<Mu.length;r++)Mu[r]._workInProgressVersionPrimary=null;Mu.length=0}var La=E.ReactCurrentDispatcher,Du=E.ReactCurrentBatchConfig,zr=0,Ge=null,rt=null,ct=null,Da=!1,no=!1,ro=0,Tk=0;function vt(){throw Error(n(321))}function $u(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!an(r[l],i[l]))return!1;return!0}function Fu(r,i,l,f,g,v){if(zr=v,Ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,La.current=r===null||r.memoizedState===null?Ak:Rk,r=l(f,g),no){v=0;do{if(no=!1,ro=0,25<=v)throw Error(n(301));v+=1,ct=rt=null,i.updateQueue=null,La.current=Ik,r=l(f,g)}while(no)}if(La.current=Va,i=rt!==null&&rt.next!==null,zr=0,ct=rt=Ge=null,Da=!1,i)throw Error(n(300));return r}function Vu(){var r=ro!==0;return ro=0,r}function _n(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ge.memoizedState=ct=r:ct=ct.next=r,ct}function Gt(){if(rt===null){var r=Ge.alternate;r=r!==null?r.memoizedState:null}else r=rt.next;var i=ct===null?Ge.memoizedState:ct.next;if(i!==null)ct=i,rt=r;else{if(r===null)throw Error(n(310));rt=r,r={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},ct===null?Ge.memoizedState=ct=r:ct=ct.next=r}return ct}function so(r,i){return typeof i=="function"?i(r):i}function Uu(r){var i=Gt(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var f=rt,g=f.baseQueue,v=l.pending;if(v!==null){if(g!==null){var j=g.next;g.next=v.next,v.next=j}f.baseQueue=g=v,l.pending=null}if(g!==null){v=g.next,f=f.baseState;var R=j=null,O=null,z=v;do{var q=z.lane;if((zr&q)===q)O!==null&&(O=O.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),f=z.hasEagerState?z.eagerState:r(f,z.action);else{var Y={lane:q,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};O===null?(R=O=Y,j=f):O=O.next=Y,Ge.lanes|=q,Br|=q}z=z.next}while(z!==null&&z!==v);O===null?j=f:O.next=R,an(f,i.memoizedState)||(Tt=!0),i.memoizedState=f,i.baseState=j,i.baseQueue=O,l.lastRenderedState=f}if(r=l.interleaved,r!==null){g=r;do v=g.lane,Ge.lanes|=v,Br|=v,g=g.next;while(g!==r)}else g===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function zu(r){var i=Gt(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var f=l.dispatch,g=l.pending,v=i.memoizedState;if(g!==null){l.pending=null;var j=g=g.next;do v=r(v,j.action),j=j.next;while(j!==g);an(v,i.memoizedState)||(Tt=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,f]}function pg(){}function mg(r,i){var l=Ge,f=Gt(),g=i(),v=!an(f.memoizedState,g);if(v&&(f.memoizedState=g,Tt=!0),f=f.queue,Bu(vg.bind(null,l,f,r),[r]),f.getSnapshot!==i||v||ct!==null&&ct.memoizedState.tag&1){if(l.flags|=2048,io(9,yg.bind(null,l,f,g,i),void 0,null),ut===null)throw Error(n(349));(zr&30)!==0||gg(l,i,g)}return g}function gg(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=Ge.updateQueue,i===null?(i={lastEffect:null,stores:null},Ge.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function yg(r,i,l,f){i.value=l,i.getSnapshot=f,xg(i)&&wg(r)}function vg(r,i,l){return l(function(){xg(i)&&wg(r)})}function xg(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!an(r,l)}catch{return!0}}function wg(r){var i=Bn(r,1);i!==null&&fn(i,r,1,-1)}function bg(r){var i=_n();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:r},i.queue=r,r=r.dispatch=Nk.bind(null,Ge,r),[i.memoizedState,r]}function io(r,i,l,f){return r={tag:r,create:i,destroy:l,deps:f,next:null},i=Ge.updateQueue,i===null?(i={lastEffect:null,stores:null},Ge.updateQueue=i,i.lastEffect=r.next=r):(l=i.lastEffect,l===null?i.lastEffect=r.next=r:(f=l.next,l.next=r,r.next=f,i.lastEffect=r)),r}function Sg(){return Gt().memoizedState}function $a(r,i,l,f){var g=_n();Ge.flags|=r,g.memoizedState=io(1|i,l,void 0,f===void 0?null:f)}function Fa(r,i,l,f){var g=Gt();f=f===void 0?null:f;var v=void 0;if(rt!==null){var j=rt.memoizedState;if(v=j.destroy,f!==null&&$u(f,j.deps)){g.memoizedState=io(i,l,v,f);return}}Ge.flags|=r,g.memoizedState=io(1|i,l,v,f)}function _g(r,i){return $a(8390656,8,r,i)}function Bu(r,i){return Fa(2048,8,r,i)}function kg(r,i){return Fa(4,2,r,i)}function jg(r,i){return Fa(4,4,r,i)}function Cg(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Tg(r,i,l){return l=l!=null?l.concat([r]):null,Fa(4,4,Cg.bind(null,i,r),l)}function Wu(){}function Eg(r,i){var l=Gt();i=i===void 0?null:i;var f=l.memoizedState;return f!==null&&i!==null&&$u(i,f[1])?f[0]:(l.memoizedState=[r,i],r)}function Pg(r,i){var l=Gt();i=i===void 0?null:i;var f=l.memoizedState;return f!==null&&i!==null&&$u(i,f[1])?f[0]:(r=r(),l.memoizedState=[r,i],r)}function Ng(r,i,l){return(zr&21)===0?(r.baseState&&(r.baseState=!1,Tt=!0),r.memoizedState=l):(an(l,i)||(l=om(),Ge.lanes|=l,Br|=l,r.baseState=!0),i)}function Ek(r,i){var l=Me;Me=l!==0&&4>l?l:4,r(!0);var f=Du.transition;Du.transition={};try{r(!1),i()}finally{Me=l,Du.transition=f}}function Ag(){return Gt().memoizedState}function Pk(r,i,l){var f=yr(r);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},Rg(r))Ig(i,l);else if(l=cg(r,i,l,f),l!==null){var g=_t();fn(l,r,f,g),Og(l,i,f)}}function Nk(r,i,l){var f=yr(r),g={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(Rg(r))Ig(i,g);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var j=i.lastRenderedState,R=v(j,l);if(g.hasEagerState=!0,g.eagerState=R,an(R,j)){var O=i.interleaved;O===null?(g.next=g,Au(i)):(g.next=O.next,O.next=g),i.interleaved=g;return}}catch{}finally{}l=cg(r,i,g,f),l!==null&&(g=_t(),fn(l,r,f,g),Og(l,i,f))}}function Rg(r){var i=r.alternate;return r===Ge||i!==null&&i===Ge}function Ig(r,i){no=Da=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function Og(r,i,l){if((l&4194240)!==0){var f=i.lanes;f&=r.pendingLanes,l|=f,i.lanes=l,Gc(r,l)}}var Va={readContext:Ht,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},Ak={readContext:Ht,useCallback:function(r,i){return _n().memoizedState=[r,i===void 0?null:i],r},useContext:Ht,useEffect:_g,useImperativeHandle:function(r,i,l){return l=l!=null?l.concat([r]):null,$a(4194308,4,Cg.bind(null,i,r),l)},useLayoutEffect:function(r,i){return $a(4194308,4,r,i)},useInsertionEffect:function(r,i){return $a(4,2,r,i)},useMemo:function(r,i){var l=_n();return i=i===void 0?null:i,r=r(),l.memoizedState=[r,i],r},useReducer:function(r,i,l){var f=_n();return i=l!==void 0?l(i):i,f.memoizedState=f.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},f.queue=r,r=r.dispatch=Pk.bind(null,Ge,r),[f.memoizedState,r]},useRef:function(r){var i=_n();return r={current:r},i.memoizedState=r},useState:bg,useDebugValue:Wu,useDeferredValue:function(r){return _n().memoizedState=r},useTransition:function(){var r=bg(!1),i=r[0];return r=Ek.bind(null,r[1]),_n().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,l){var f=Ge,g=_n();if(Be){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),ut===null)throw Error(n(349));(zr&30)!==0||gg(f,i,l)}g.memoizedState=l;var v={value:l,getSnapshot:i};return g.queue=v,_g(vg.bind(null,f,v,r),[r]),f.flags|=2048,io(9,yg.bind(null,f,v,l,i),void 0,null),l},useId:function(){var r=_n(),i=ut.identifierPrefix;if(Be){var l=zn,f=Un;l=(f&~(1<<32-on(f)-1)).toString(32)+l,i=":"+i+"R"+l,l=ro++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=Tk++,i=":"+i+"r"+l.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Rk={readContext:Ht,useCallback:Eg,useContext:Ht,useEffect:Bu,useImperativeHandle:Tg,useInsertionEffect:kg,useLayoutEffect:jg,useMemo:Pg,useReducer:Uu,useRef:Sg,useState:function(){return Uu(so)},useDebugValue:Wu,useDeferredValue:function(r){var i=Gt();return Ng(i,rt.memoizedState,r)},useTransition:function(){var r=Uu(so)[0],i=Gt().memoizedState;return[r,i]},useMutableSource:pg,useSyncExternalStore:mg,useId:Ag,unstable_isNewReconciler:!1},Ik={readContext:Ht,useCallback:Eg,useContext:Ht,useEffect:Bu,useImperativeHandle:Tg,useInsertionEffect:kg,useLayoutEffect:jg,useMemo:Pg,useReducer:zu,useRef:Sg,useState:function(){return zu(so)},useDebugValue:Wu,useDeferredValue:function(r){var i=Gt();return rt===null?i.memoizedState=r:Ng(i,rt.memoizedState,r)},useTransition:function(){var r=zu(so)[0],i=Gt().memoizedState;return[r,i]},useMutableSource:pg,useSyncExternalStore:mg,useId:Ag,unstable_isNewReconciler:!1};function cn(r,i){if(r&&r.defaultProps){i=V({},i),r=r.defaultProps;for(var l in r)i[l]===void 0&&(i[l]=r[l]);return i}return i}function Hu(r,i,l,f){i=r.memoizedState,l=l(f,i),l=l==null?i:V({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Ua={isMounted:function(r){return(r=r._reactInternals)?Mr(r)===r:!1},enqueueSetState:function(r,i,l){r=r._reactInternals;var f=_t(),g=yr(r),v=Wn(f,g);v.payload=i,l!=null&&(v.callback=l),i=hr(r,v,g),i!==null&&(fn(i,r,g,f),Ia(i,r,g))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var f=_t(),g=yr(r),v=Wn(f,g);v.tag=1,v.payload=i,l!=null&&(v.callback=l),i=hr(r,v,g),i!==null&&(fn(i,r,g,f),Ia(i,r,g))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=_t(),f=yr(r),g=Wn(l,f);g.tag=2,i!=null&&(g.callback=i),i=hr(r,g,f),i!==null&&(fn(i,r,f,l),Ia(i,r,f))}};function Mg(r,i,l,f,g,v,j){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,v,j):i.prototype&&i.prototype.isPureReactComponent?!Hi(l,f)||!Hi(g,v):!0}function Lg(r,i,l){var f=!1,g=ur,v=i.contextType;return typeof v=="object"&&v!==null?v=Ht(v):(g=Ct(i)?Dr:yt.current,f=i.contextTypes,v=(f=f!=null)?Cs(r,g):ur),i=new i(l,v),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ua,r.stateNode=i,i._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=g,r.__reactInternalMemoizedMaskedChildContext=v),i}function Dg(r,i,l,f){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,f),i.state!==r&&Ua.enqueueReplaceState(i,i.state,null)}function Gu(r,i,l,f){var g=r.stateNode;g.props=l,g.state=r.memoizedState,g.refs={},Ru(r);var v=i.contextType;typeof v=="object"&&v!==null?g.context=Ht(v):(v=Ct(i)?Dr:yt.current,g.context=Cs(r,v)),g.state=r.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(Hu(r,i,v,l),g.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(i=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),i!==g.state&&Ua.enqueueReplaceState(g,g.state,null),Oa(r,l,g,f),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308)}function Os(r,i){try{var l="",f=i;do l+=Se(f),f=f.return;while(f);var g=l}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:r,source:i,stack:g,digest:null}}function Ku(r,i,l){return{value:r,source:null,stack:l??null,digest:i??null}}function qu(r,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var Ok=typeof WeakMap=="function"?WeakMap:Map;function $g(r,i,l){l=Wn(-1,l),l.tag=3,l.payload={element:null};var f=i.value;return l.callback=function(){qa||(qa=!0,cd=f),qu(r,i)},l}function Fg(r,i,l){l=Wn(-1,l),l.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var g=i.value;l.payload=function(){return f(g)},l.callback=function(){qu(r,i)}}var v=r.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){qu(r,i),typeof f!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var j=i.stack;this.componentDidCatch(i.value,{componentStack:j!==null?j:""})}),l}function Vg(r,i,l){var f=r.pingCache;if(f===null){f=r.pingCache=new Ok;var g=new Set;f.set(i,g)}else g=f.get(i),g===void 0&&(g=new Set,f.set(i,g));g.has(l)||(g.add(l),r=qk.bind(null,r,i,l),i.then(r,r))}function Ug(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function zg(r,i,l,f,g){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Wn(-1,1),i.tag=2,hr(l,i,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=g,r)}var Mk=E.ReactCurrentOwner,Tt=!1;function St(r,i,l,f){i.child=r===null?lg(i,null,l,f):Ns(i,r.child,l,f)}function Bg(r,i,l,f,g){l=l.render;var v=i.ref;return Rs(i,g),f=Fu(r,i,l,f,v,g),l=Vu(),r!==null&&!Tt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~g,Hn(r,i,g)):(Be&&l&&Su(i),i.flags|=1,St(r,i,f,g),i.child)}function Wg(r,i,l,f,g){if(r===null){var v=l.type;return typeof v=="function"&&!gd(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=v,Hg(r,i,v,f,g)):(r=el(l.type,null,f,i,i.mode,g),r.ref=i.ref,r.return=i,i.child=r)}if(v=r.child,(r.lanes&g)===0){var j=v.memoizedProps;if(l=l.compare,l=l!==null?l:Hi,l(j,f)&&r.ref===i.ref)return Hn(r,i,g)}return i.flags|=1,r=xr(v,f),r.ref=i.ref,r.return=i,i.child=r}function Hg(r,i,l,f,g){if(r!==null){var v=r.memoizedProps;if(Hi(v,f)&&r.ref===i.ref)if(Tt=!1,i.pendingProps=f=v,(r.lanes&g)!==0)(r.flags&131072)!==0&&(Tt=!0);else return i.lanes=r.lanes,Hn(r,i,g)}return Yu(r,i,l,f,g)}function Gg(r,i,l){var f=i.pendingProps,g=f.children,v=r!==null?r.memoizedState:null;if(f.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Ls,$t),$t|=l;else{if((l&1073741824)===0)return r=v!==null?v.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,De(Ls,$t),$t|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:l,De(Ls,$t),$t|=f}else v!==null?(f=v.baseLanes|l,i.memoizedState=null):f=l,De(Ls,$t),$t|=f;return St(r,i,g,l),i.child}function Kg(r,i){var l=i.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Yu(r,i,l,f,g){var v=Ct(l)?Dr:yt.current;return v=Cs(i,v),Rs(i,g),l=Fu(r,i,l,f,v,g),f=Vu(),r!==null&&!Tt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~g,Hn(r,i,g)):(Be&&f&&Su(i),i.flags|=1,St(r,i,l,g),i.child)}function qg(r,i,l,f,g){if(Ct(l)){var v=!0;ja(i)}else v=!1;if(Rs(i,g),i.stateNode===null)Ba(r,i),Lg(i,l,f),Gu(i,l,f,g),f=!0;else if(r===null){var j=i.stateNode,R=i.memoizedProps;j.props=R;var O=j.context,z=l.contextType;typeof z=="object"&&z!==null?z=Ht(z):(z=Ct(l)?Dr:yt.current,z=Cs(i,z));var q=l.getDerivedStateFromProps,Y=typeof q=="function"||typeof j.getSnapshotBeforeUpdate=="function";Y||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(R!==f||O!==z)&&Dg(i,j,f,z),fr=!1;var K=i.memoizedState;j.state=K,Oa(i,f,j,g),O=i.memoizedState,R!==f||K!==O||jt.current||fr?(typeof q=="function"&&(Hu(i,l,q,f),O=i.memoizedState),(R=fr||Mg(i,l,R,f,K,O,z))?(Y||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(i.flags|=4194308)):(typeof j.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=O),j.props=f,j.state=O,j.context=z,f=R):(typeof j.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{j=i.stateNode,ug(r,i),R=i.memoizedProps,z=i.type===i.elementType?R:cn(i.type,R),j.props=z,Y=i.pendingProps,K=j.context,O=l.contextType,typeof O=="object"&&O!==null?O=Ht(O):(O=Ct(l)?Dr:yt.current,O=Cs(i,O));var te=l.getDerivedStateFromProps;(q=typeof te=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(R!==Y||K!==O)&&Dg(i,j,f,O),fr=!1,K=i.memoizedState,j.state=K,Oa(i,f,j,g);var se=i.memoizedState;R!==Y||K!==se||jt.current||fr?(typeof te=="function"&&(Hu(i,l,te,f),se=i.memoizedState),(z=fr||Mg(i,l,z,f,K,se,O)||!1)?(q||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(f,se,O),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(f,se,O)),typeof j.componentDidUpdate=="function"&&(i.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof j.componentDidUpdate!="function"||R===r.memoizedProps&&K===r.memoizedState||(i.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&K===r.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=se),j.props=f,j.state=se,j.context=O,f=z):(typeof j.componentDidUpdate!="function"||R===r.memoizedProps&&K===r.memoizedState||(i.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&K===r.memoizedState||(i.flags|=1024),f=!1)}return Qu(r,i,l,f,v,g)}function Qu(r,i,l,f,g,v){Kg(r,i);var j=(i.flags&128)!==0;if(!f&&!j)return g&&Zm(i,l,!1),Hn(r,i,v);f=i.stateNode,Mk.current=i;var R=j&&typeof l.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,r!==null&&j?(i.child=Ns(i,r.child,null,v),i.child=Ns(i,null,R,v)):St(r,i,R,v),i.memoizedState=f.state,g&&Zm(i,l,!0),i.child}function Yg(r){var i=r.stateNode;i.pendingContext?Xm(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Xm(r,i.context,!1),Iu(r,i.containerInfo)}function Qg(r,i,l,f,g){return Ps(),Cu(g),i.flags|=256,St(r,i,l,f),i.child}var Xu={dehydrated:null,treeContext:null,retryLane:0};function Ju(r){return{baseLanes:r,cachePool:null,transitions:null}}function Xg(r,i,l){var f=i.pendingProps,g=He.current,v=!1,j=(i.flags&128)!==0,R;if((R=j)||(R=r!==null&&r.memoizedState===null?!1:(g&2)!==0),R?(v=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(g|=1),De(He,g&1),r===null)return ju(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(j=f.children,r=f.fallback,v?(f=i.mode,v=i.child,j={mode:"hidden",children:j},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=j):v=tl(j,f,0,null),r=Kr(r,f,l,null),v.return=i,r.return=i,v.sibling=r,i.child=v,i.child.memoizedState=Ju(l),i.memoizedState=Xu,r):Zu(i,j));if(g=r.memoizedState,g!==null&&(R=g.dehydrated,R!==null))return Lk(r,i,j,f,R,g,l);if(v){v=f.fallback,j=i.mode,g=r.child,R=g.sibling;var O={mode:"hidden",children:f.children};return(j&1)===0&&i.child!==g?(f=i.child,f.childLanes=0,f.pendingProps=O,i.deletions=null):(f=xr(g,O),f.subtreeFlags=g.subtreeFlags&14680064),R!==null?v=xr(R,v):(v=Kr(v,j,l,null),v.flags|=2),v.return=i,f.return=i,f.sibling=v,i.child=f,f=v,v=i.child,j=r.child.memoizedState,j=j===null?Ju(l):{baseLanes:j.baseLanes|l,cachePool:null,transitions:j.transitions},v.memoizedState=j,v.childLanes=r.childLanes&~l,i.memoizedState=Xu,f}return v=r.child,r=v.sibling,f=xr(v,{mode:"visible",children:f.children}),(i.mode&1)===0&&(f.lanes=l),f.return=i,f.sibling=null,r!==null&&(l=i.deletions,l===null?(i.deletions=[r],i.flags|=16):l.push(r)),i.child=f,i.memoizedState=null,f}function Zu(r,i){return i=tl({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function za(r,i,l,f){return f!==null&&Cu(f),Ns(i,r.child,null,l),r=Zu(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Lk(r,i,l,f,g,v,j){if(l)return i.flags&256?(i.flags&=-257,f=Ku(Error(n(422))),za(r,i,j,f)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(v=f.fallback,g=i.mode,f=tl({mode:"visible",children:f.children},g,0,null),v=Kr(v,g,j,null),v.flags|=2,f.return=i,v.return=i,f.sibling=v,i.child=f,(i.mode&1)!==0&&Ns(i,r.child,null,j),i.child.memoizedState=Ju(j),i.memoizedState=Xu,v);if((i.mode&1)===0)return za(r,i,j,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var R=f.dgst;return f=R,v=Error(n(419)),f=Ku(v,f,void 0),za(r,i,j,f)}if(R=(j&r.childLanes)!==0,Tt||R){if(f=ut,f!==null){switch(j&-j){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|j))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,Bn(r,g),fn(f,r,g,-1))}return md(),f=Ku(Error(n(421))),za(r,i,j,f)}return g.data==="$?"?(i.flags|=128,i.child=r.child,i=Yk.bind(null,r),g._reactRetry=i,null):(r=v.treeContext,Dt=lr(g.nextSibling),Lt=i,Be=!0,ln=null,r!==null&&(Bt[Wt++]=Un,Bt[Wt++]=zn,Bt[Wt++]=$r,Un=r.id,zn=r.overflow,$r=i),i=Zu(i,f.children),i.flags|=4096,i)}function Jg(r,i,l){r.lanes|=i;var f=r.alternate;f!==null&&(f.lanes|=i),Nu(r.return,i,l)}function ed(r,i,l,f,g){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=l,v.tailMode=g)}function Zg(r,i,l){var f=i.pendingProps,g=f.revealOrder,v=f.tail;if(St(r,i,f.children,l),f=He.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Jg(r,l,i);else if(r.tag===19)Jg(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(De(He,f),(i.mode&1)===0)i.memoizedState=null;else switch(g){case"forwards":for(l=i.child,g=null;l!==null;)r=l.alternate,r!==null&&Ma(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),ed(i,!1,g,l,v);break;case"backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(r=g.alternate,r!==null&&Ma(r)===null){i.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}ed(i,!0,l,null,v);break;case"together":ed(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ba(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Hn(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),Br|=i.lanes,(l&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,l=xr(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=xr(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function Dk(r,i,l){switch(i.tag){case 3:Yg(i),Ps();break;case 5:hg(i);break;case 1:Ct(i.type)&&ja(i);break;case 4:Iu(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,g=i.memoizedProps.value;De(Aa,f._currentValue),f._currentValue=g;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(De(He,He.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Xg(r,i,l):(De(He,He.current&1),r=Hn(r,i,l),r!==null?r.sibling:null);De(He,He.current&1);break;case 19:if(f=(l&i.childLanes)!==0,(r.flags&128)!==0){if(f)return Zg(r,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),De(He,He.current),f)break;return null;case 22:case 23:return i.lanes=0,Gg(r,i,l)}return Hn(r,i,l)}var ey,td,ty,ny;ey=function(r,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},td=function(){},ty=function(r,i,l,f){var g=r.memoizedProps;if(g!==f){r=i.stateNode,Ur(Sn.current);var v=null;switch(l){case"input":g=Nc(r,g),f=Nc(r,f),v=[];break;case"select":g=V({},g,{value:void 0}),f=V({},f,{value:void 0}),v=[];break;case"textarea":g=Ic(r,g),f=Ic(r,f),v=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=Sa)}Mc(l,f);var j;l=null;for(z in g)if(!f.hasOwnProperty(z)&&g.hasOwnProperty(z)&&g[z]!=null)if(z==="style"){var R=g[z];for(j in R)R.hasOwnProperty(j)&&(l||(l={}),l[j]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?v||(v=[]):(v=v||[]).push(z,null));for(z in f){var O=f[z];if(R=g?.[z],f.hasOwnProperty(z)&&O!==R&&(O!=null||R!=null))if(z==="style")if(R){for(j in R)!R.hasOwnProperty(j)||O&&O.hasOwnProperty(j)||(l||(l={}),l[j]="");for(j in O)O.hasOwnProperty(j)&&R[j]!==O[j]&&(l||(l={}),l[j]=O[j])}else l||(v||(v=[]),v.push(z,l)),l=O;else z==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,R=R?R.__html:void 0,O!=null&&R!==O&&(v=v||[]).push(z,O)):z==="children"?typeof O!="string"&&typeof O!="number"||(v=v||[]).push(z,""+O):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(O!=null&&z==="onScroll"&&Ve("scroll",r),v||R===O||(v=[])):(v=v||[]).push(z,O))}l&&(v=v||[]).push("style",l);var z=v;(i.updateQueue=z)&&(i.flags|=4)}},ny=function(r,i,l,f){l!==f&&(i.flags|=4)};function oo(r,i){if(!Be)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function xt(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,f=0;if(i)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=f,r.childLanes=l,i}function $k(r,i,l){var f=i.pendingProps;switch(_u(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(i),null;case 1:return Ct(i.type)&&ka(),xt(i),null;case 3:return f=i.stateNode,Is(),Ue(jt),Ue(yt),Lu(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(Pa(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ln!==null&&(fd(ln),ln=null))),td(r,i),xt(i),null;case 5:Ou(i);var g=Ur(to.current);if(l=i.type,r!==null&&i.stateNode!=null)ty(r,i,l,f,g),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(n(166));return xt(i),null}if(r=Ur(Sn.current),Pa(i)){f=i.stateNode,l=i.type;var v=i.memoizedProps;switch(f[bn]=i,f[Qi]=v,r=(i.mode&1)!==0,l){case"dialog":Ve("cancel",f),Ve("close",f);break;case"iframe":case"object":case"embed":Ve("load",f);break;case"video":case"audio":for(g=0;g<Ki.length;g++)Ve(Ki[g],f);break;case"source":Ve("error",f);break;case"img":case"image":case"link":Ve("error",f),Ve("load",f);break;case"details":Ve("toggle",f);break;case"input":Lp(f,v),Ve("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},Ve("invalid",f);break;case"textarea":Fp(f,v),Ve("invalid",f)}Mc(l,v),g=null;for(var j in v)if(v.hasOwnProperty(j)){var R=v[j];j==="children"?typeof R=="string"?f.textContent!==R&&(v.suppressHydrationWarning!==!0&&ba(f.textContent,R,r),g=["children",R]):typeof R=="number"&&f.textContent!==""+R&&(v.suppressHydrationWarning!==!0&&ba(f.textContent,R,r),g=["children",""+R]):o.hasOwnProperty(j)&&R!=null&&j==="onScroll"&&Ve("scroll",f)}switch(l){case"input":Ze(f),$p(f,v,!0);break;case"textarea":Ze(f),Up(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=Sa)}f=g,i.updateQueue=f,f!==null&&(i.flags|=4)}else{j=g.nodeType===9?g:g.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=zp(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=j.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=j.createElement(l,{is:f.is}):(r=j.createElement(l),l==="select"&&(j=r,f.multiple?j.multiple=!0:f.size&&(j.size=f.size))):r=j.createElementNS(r,l),r[bn]=i,r[Qi]=f,ey(r,i,!1,!1),i.stateNode=r;e:{switch(j=Lc(l,f),l){case"dialog":Ve("cancel",r),Ve("close",r),g=f;break;case"iframe":case"object":case"embed":Ve("load",r),g=f;break;case"video":case"audio":for(g=0;g<Ki.length;g++)Ve(Ki[g],r);g=f;break;case"source":Ve("error",r),g=f;break;case"img":case"image":case"link":Ve("error",r),Ve("load",r),g=f;break;case"details":Ve("toggle",r),g=f;break;case"input":Lp(r,f),g=Nc(r,f),Ve("invalid",r);break;case"option":g=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},g=V({},f,{value:void 0}),Ve("invalid",r);break;case"textarea":Fp(r,f),g=Ic(r,f),Ve("invalid",r);break;default:g=f}Mc(l,g),R=g;for(v in R)if(R.hasOwnProperty(v)){var O=R[v];v==="style"?Hp(r,O):v==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Bp(r,O)):v==="children"?typeof O=="string"?(l!=="textarea"||O!=="")&&Ei(r,O):typeof O=="number"&&Ei(r,""+O):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?O!=null&&v==="onScroll"&&Ve("scroll",r):O!=null&&C(r,v,O,j))}switch(l){case"input":Ze(r),$p(r,f,!1);break;case"textarea":Ze(r),Up(r);break;case"option":f.value!=null&&r.setAttribute("value",""+we(f.value));break;case"select":r.multiple=!!f.multiple,v=f.value,v!=null?ps(r,!!f.multiple,v,!1):f.defaultValue!=null&&ps(r,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(r.onclick=Sa)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return xt(i),null;case 6:if(r&&i.stateNode!=null)ny(r,i,r.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(n(166));if(l=Ur(to.current),Ur(Sn.current),Pa(i)){if(f=i.stateNode,l=i.memoizedProps,f[bn]=i,(v=f.nodeValue!==l)&&(r=Lt,r!==null))switch(r.tag){case 3:ba(f.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ba(f.nodeValue,l,(r.mode&1)!==0)}v&&(i.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[bn]=i,i.stateNode=f}return xt(i),null;case 13:if(Ue(He),f=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Be&&Dt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)ig(),Ps(),i.flags|=98560,v=!1;else if(v=Pa(i),f!==null&&f.dehydrated!==null){if(r===null){if(!v)throw Error(n(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[bn]=i}else Ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;xt(i),v=!1}else ln!==null&&(fd(ln),ln=null),v=!0;if(!v)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(He.current&1)!==0?st===0&&(st=3):md())),i.updateQueue!==null&&(i.flags|=4),xt(i),null);case 4:return Is(),td(r,i),r===null&&qi(i.stateNode.containerInfo),xt(i),null;case 10:return Pu(i.type._context),xt(i),null;case 17:return Ct(i.type)&&ka(),xt(i),null;case 19:if(Ue(He),v=i.memoizedState,v===null)return xt(i),null;if(f=(i.flags&128)!==0,j=v.rendering,j===null)if(f)oo(v,!1);else{if(st!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(j=Ma(r),j!==null){for(i.flags|=128,oo(v,!1),f=j.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=l,l=i.child;l!==null;)v=l,r=f,v.flags&=14680066,j=v.alternate,j===null?(v.childLanes=0,v.lanes=r,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=j.childLanes,v.lanes=j.lanes,v.child=j.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=j.memoizedProps,v.memoizedState=j.memoizedState,v.updateQueue=j.updateQueue,v.type=j.type,r=j.dependencies,v.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return De(He,He.current&1|2),i.child}r=r.sibling}v.tail!==null&&Qe()>Ds&&(i.flags|=128,f=!0,oo(v,!1),i.lanes=4194304)}else{if(!f)if(r=Ma(j),r!==null){if(i.flags|=128,f=!0,l=r.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),oo(v,!0),v.tail===null&&v.tailMode==="hidden"&&!j.alternate&&!Be)return xt(i),null}else 2*Qe()-v.renderingStartTime>Ds&&l!==1073741824&&(i.flags|=128,f=!0,oo(v,!1),i.lanes=4194304);v.isBackwards?(j.sibling=i.child,i.child=j):(l=v.last,l!==null?l.sibling=j:i.child=j,v.last=j)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=Qe(),i.sibling=null,l=He.current,De(He,f?l&1|2:l&1),i):(xt(i),null);case 22:case 23:return pd(),f=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(i.flags|=8192),f&&(i.mode&1)!==0?($t&1073741824)!==0&&(xt(i),i.subtreeFlags&6&&(i.flags|=8192)):xt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function Fk(r,i){switch(_u(i),i.tag){case 1:return Ct(i.type)&&ka(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Is(),Ue(jt),Ue(yt),Lu(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Ou(i),null;case 13:if(Ue(He),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Ps()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Ue(He),null;case 4:return Is(),null;case 10:return Pu(i.type._context),null;case 22:case 23:return pd(),null;case 24:return null;default:return null}}var Wa=!1,wt=!1,Vk=typeof WeakSet=="function"?WeakSet:Set,re=null;function Ms(r,i){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){qe(r,i,f)}else l.current=null}function nd(r,i,l){try{l()}catch(f){qe(r,i,f)}}var ry=!1;function Uk(r,i){if(pu=ua,r=Mm(),ou(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var j=0,R=-1,O=-1,z=0,q=0,Y=r,K=null;t:for(;;){for(var te;Y!==l||g!==0&&Y.nodeType!==3||(R=j+g),Y!==v||f!==0&&Y.nodeType!==3||(O=j+f),Y.nodeType===3&&(j+=Y.nodeValue.length),(te=Y.firstChild)!==null;)K=Y,Y=te;for(;;){if(Y===r)break t;if(K===l&&++z===g&&(R=j),K===v&&++q===f&&(O=j),(te=Y.nextSibling)!==null)break;Y=K,K=Y.parentNode}Y=te}l=R===-1||O===-1?null:{start:R,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(mu={focusedElem:r,selectionRange:l},ua=!1,re=i;re!==null;)if(i=re,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,re=r;else for(;re!==null;){i=re;try{var se=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var ae=se.memoizedProps,Xe=se.memoizedState,F=i.stateNode,L=F.getSnapshotBeforeUpdate(i.elementType===i.type?ae:cn(i.type,ae),Xe);F.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var U=i.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(X){qe(i,i.return,X)}if(r=i.sibling,r!==null){r.return=i.return,re=r;break}re=i.return}return se=ry,ry=!1,se}function ao(r,i,l){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&r)===r){var v=g.destroy;g.destroy=void 0,v!==void 0&&nd(i,l,v)}g=g.next}while(g!==f)}}function Ha(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&r)===r){var f=l.create;l.destroy=f()}l=l.next}while(l!==i)}}function rd(r){var i=r.ref;if(i!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof i=="function"?i(r):i.current=r}}function sy(r){var i=r.alternate;i!==null&&(r.alternate=null,sy(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[bn],delete i[Qi],delete i[xu],delete i[_k],delete i[kk])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function iy(r){return r.tag===5||r.tag===3||r.tag===4}function oy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||iy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function sd(r,i,l){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(r,i):l.insertBefore(r,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(r,l)):(i=l,i.appendChild(r)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Sa));else if(f!==4&&(r=r.child,r!==null))for(sd(r,i,l),r=r.sibling;r!==null;)sd(r,i,l),r=r.sibling}function id(r,i,l){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(id(r,i,l),r=r.sibling;r!==null;)id(r,i,l),r=r.sibling}var ht=null,un=!1;function pr(r,i,l){for(l=l.child;l!==null;)ay(r,i,l),l=l.sibling}function ay(r,i,l){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(sa,l)}catch{}switch(l.tag){case 5:wt||Ms(l,i);case 6:var f=ht,g=un;ht=null,pr(r,i,l),ht=f,un=g,ht!==null&&(un?(r=ht,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):ht.removeChild(l.stateNode));break;case 18:ht!==null&&(un?(r=ht,l=l.stateNode,r.nodeType===8?vu(r.parentNode,l):r.nodeType===1&&vu(r,l),Fi(r)):vu(ht,l.stateNode));break;case 4:f=ht,g=un,ht=l.stateNode.containerInfo,un=!0,pr(r,i,l),ht=f,un=g;break;case 0:case 11:case 14:case 15:if(!wt&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var v=g,j=v.destroy;v=v.tag,j!==void 0&&((v&2)!==0||(v&4)!==0)&&nd(l,i,j),g=g.next}while(g!==f)}pr(r,i,l);break;case 1:if(!wt&&(Ms(l,i),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(R){qe(l,i,R)}pr(r,i,l);break;case 21:pr(r,i,l);break;case 22:l.mode&1?(wt=(f=wt)||l.memoizedState!==null,pr(r,i,l),wt=f):pr(r,i,l);break;default:pr(r,i,l)}}function ly(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new Vk),i.forEach(function(f){var g=Qk.bind(null,r,f);l.has(f)||(l.add(f),f.then(g,g))})}}function dn(r,i){var l=i.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f];try{var v=r,j=i,R=j;e:for(;R!==null;){switch(R.tag){case 5:ht=R.stateNode,un=!1;break e;case 3:ht=R.stateNode.containerInfo,un=!0;break e;case 4:ht=R.stateNode.containerInfo,un=!0;break e}R=R.return}if(ht===null)throw Error(n(160));ay(v,j,g),ht=null,un=!1;var O=g.alternate;O!==null&&(O.return=null),g.return=null}catch(z){qe(g,i,z)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)cy(i,r),i=i.sibling}function cy(r,i){var l=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(dn(i,r),kn(r),f&4){try{ao(3,r,r.return),Ha(3,r)}catch(ae){qe(r,r.return,ae)}try{ao(5,r,r.return)}catch(ae){qe(r,r.return,ae)}}break;case 1:dn(i,r),kn(r),f&512&&l!==null&&Ms(l,l.return);break;case 5:if(dn(i,r),kn(r),f&512&&l!==null&&Ms(l,l.return),r.flags&32){var g=r.stateNode;try{Ei(g,"")}catch(ae){qe(r,r.return,ae)}}if(f&4&&(g=r.stateNode,g!=null)){var v=r.memoizedProps,j=l!==null?l.memoizedProps:v,R=r.type,O=r.updateQueue;if(r.updateQueue=null,O!==null)try{R==="input"&&v.type==="radio"&&v.name!=null&&Dp(g,v),Lc(R,j);var z=Lc(R,v);for(j=0;j<O.length;j+=2){var q=O[j],Y=O[j+1];q==="style"?Hp(g,Y):q==="dangerouslySetInnerHTML"?Bp(g,Y):q==="children"?Ei(g,Y):C(g,q,Y,z)}switch(R){case"input":Ac(g,v);break;case"textarea":Vp(g,v);break;case"select":var K=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var te=v.value;te!=null?ps(g,!!v.multiple,te,!1):K!==!!v.multiple&&(v.defaultValue!=null?ps(g,!!v.multiple,v.defaultValue,!0):ps(g,!!v.multiple,v.multiple?[]:"",!1))}g[Qi]=v}catch(ae){qe(r,r.return,ae)}}break;case 6:if(dn(i,r),kn(r),f&4){if(r.stateNode===null)throw Error(n(162));g=r.stateNode,v=r.memoizedProps;try{g.nodeValue=v}catch(ae){qe(r,r.return,ae)}}break;case 3:if(dn(i,r),kn(r),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Fi(i.containerInfo)}catch(ae){qe(r,r.return,ae)}break;case 4:dn(i,r),kn(r);break;case 13:dn(i,r),kn(r),g=r.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(ld=Qe())),f&4&&ly(r);break;case 22:if(q=l!==null&&l.memoizedState!==null,r.mode&1?(wt=(z=wt)||q,dn(i,r),wt=z):dn(i,r),kn(r),f&8192){if(z=r.memoizedState!==null,(r.stateNode.isHidden=z)&&!q&&(r.mode&1)!==0)for(re=r,q=r.child;q!==null;){for(Y=re=q;re!==null;){switch(K=re,te=K.child,K.tag){case 0:case 11:case 14:case 15:ao(4,K,K.return);break;case 1:Ms(K,K.return);var se=K.stateNode;if(typeof se.componentWillUnmount=="function"){f=K,l=K.return;try{i=f,se.props=i.memoizedProps,se.state=i.memoizedState,se.componentWillUnmount()}catch(ae){qe(f,l,ae)}}break;case 5:Ms(K,K.return);break;case 22:if(K.memoizedState!==null){fy(Y);continue}}te!==null?(te.return=K,re=te):fy(Y)}q=q.sibling}e:for(q=null,Y=r;;){if(Y.tag===5){if(q===null){q=Y;try{g=Y.stateNode,z?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(R=Y.stateNode,O=Y.memoizedProps.style,j=O!=null&&O.hasOwnProperty("display")?O.display:null,R.style.display=Wp("display",j))}catch(ae){qe(r,r.return,ae)}}}else if(Y.tag===6){if(q===null)try{Y.stateNode.nodeValue=z?"":Y.memoizedProps}catch(ae){qe(r,r.return,ae)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===r)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===r)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===r)break e;q===Y&&(q=null),Y=Y.return}q===Y&&(q=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:dn(i,r),kn(r),f&4&&ly(r);break;case 21:break;default:dn(i,r),kn(r)}}function kn(r){var i=r.flags;if(i&2){try{e:{for(var l=r.return;l!==null;){if(iy(l)){var f=l;break e}l=l.return}throw Error(n(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Ei(g,""),f.flags&=-33);var v=oy(r);id(r,v,g);break;case 3:case 4:var j=f.stateNode.containerInfo,R=oy(r);sd(r,R,j);break;default:throw Error(n(161))}}catch(O){qe(r,r.return,O)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function zk(r,i,l){re=r,uy(r)}function uy(r,i,l){for(var f=(r.mode&1)!==0;re!==null;){var g=re,v=g.child;if(g.tag===22&&f){var j=g.memoizedState!==null||Wa;if(!j){var R=g.alternate,O=R!==null&&R.memoizedState!==null||wt;R=Wa;var z=wt;if(Wa=j,(wt=O)&&!z)for(re=g;re!==null;)j=re,O=j.child,j.tag===22&&j.memoizedState!==null?hy(g):O!==null?(O.return=j,re=O):hy(g);for(;v!==null;)re=v,uy(v),v=v.sibling;re=g,Wa=R,wt=z}dy(r)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,re=v):dy(r)}}function dy(r){for(;re!==null;){var i=re;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:wt||Ha(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!wt)if(l===null)f.componentDidMount();else{var g=i.elementType===i.type?l.memoizedProps:cn(i.type,l.memoizedProps);f.componentDidUpdate(g,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=i.updateQueue;v!==null&&fg(i,v,f);break;case 3:var j=i.updateQueue;if(j!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}fg(i,j,l)}break;case 5:var R=i.stateNode;if(l===null&&i.flags&4){l=R;var O=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&l.focus();break;case"img":O.src&&(l.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var z=i.alternate;if(z!==null){var q=z.memoizedState;if(q!==null){var Y=q.dehydrated;Y!==null&&Fi(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}wt||i.flags&512&&rd(i)}catch(K){qe(i,i.return,K)}}if(i===r){re=null;break}if(l=i.sibling,l!==null){l.return=i.return,re=l;break}re=i.return}}function fy(r){for(;re!==null;){var i=re;if(i===r){re=null;break}var l=i.sibling;if(l!==null){l.return=i.return,re=l;break}re=i.return}}function hy(r){for(;re!==null;){var i=re;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Ha(4,i)}catch(O){qe(i,l,O)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var g=i.return;try{f.componentDidMount()}catch(O){qe(i,g,O)}}var v=i.return;try{rd(i)}catch(O){qe(i,v,O)}break;case 5:var j=i.return;try{rd(i)}catch(O){qe(i,j,O)}}}catch(O){qe(i,i.return,O)}if(i===r){re=null;break}var R=i.sibling;if(R!==null){R.return=i.return,re=R;break}re=i.return}}var Bk=Math.ceil,Ga=E.ReactCurrentDispatcher,od=E.ReactCurrentOwner,Kt=E.ReactCurrentBatchConfig,Ae=0,ut=null,et=null,pt=0,$t=0,Ls=cr(0),st=0,lo=null,Br=0,Ka=0,ad=0,co=null,Et=null,ld=0,Ds=1/0,Gn=null,qa=!1,cd=null,mr=null,Ya=!1,gr=null,Qa=0,uo=0,ud=null,Xa=-1,Ja=0;function _t(){return(Ae&6)!==0?Qe():Xa!==-1?Xa:Xa=Qe()}function yr(r){return(r.mode&1)===0?1:(Ae&2)!==0&&pt!==0?pt&-pt:Ck.transition!==null?(Ja===0&&(Ja=om()),Ja):(r=Me,r!==0||(r=window.event,r=r===void 0?16:mm(r.type)),r)}function fn(r,i,l,f){if(50<uo)throw uo=0,ud=null,Error(n(185));Oi(r,l,f),((Ae&2)===0||r!==ut)&&(r===ut&&((Ae&2)===0&&(Ka|=l),st===4&&vr(r,pt)),Pt(r,f),l===1&&Ae===0&&(i.mode&1)===0&&(Ds=Qe()+500,Ca&&dr()))}function Pt(r,i){var l=r.callbackNode;C_(r,i);var f=aa(r,r===ut?pt:0);if(f===0)l!==null&&rm(l),r.callbackNode=null,r.callbackPriority=0;else if(i=f&-f,r.callbackPriority!==i){if(l!=null&&rm(l),i===1)r.tag===0?jk(my.bind(null,r)):eg(my.bind(null,r)),bk(function(){(Ae&6)===0&&dr()}),l=null;else{switch(am(f)){case 1:l=Bc;break;case 4:l=sm;break;case 16:l=ra;break;case 536870912:l=im;break;default:l=ra}l=_y(l,py.bind(null,r))}r.callbackPriority=i,r.callbackNode=l}}function py(r,i){if(Xa=-1,Ja=0,(Ae&6)!==0)throw Error(n(327));var l=r.callbackNode;if($s()&&r.callbackNode!==l)return null;var f=aa(r,r===ut?pt:0);if(f===0)return null;if((f&30)!==0||(f&r.expiredLanes)!==0||i)i=Za(r,f);else{i=f;var g=Ae;Ae|=2;var v=yy();(ut!==r||pt!==i)&&(Gn=null,Ds=Qe()+500,Hr(r,i));do try{Gk();break}catch(R){gy(r,R)}while(!0);Eu(),Ga.current=v,Ae=g,et!==null?i=0:(ut=null,pt=0,i=st)}if(i!==0){if(i===2&&(g=Wc(r),g!==0&&(f=g,i=dd(r,g))),i===1)throw l=lo,Hr(r,0),vr(r,f),Pt(r,Qe()),l;if(i===6)vr(r,f);else{if(g=r.current.alternate,(f&30)===0&&!Wk(g)&&(i=Za(r,f),i===2&&(v=Wc(r),v!==0&&(f=v,i=dd(r,v))),i===1))throw l=lo,Hr(r,0),vr(r,f),Pt(r,Qe()),l;switch(r.finishedWork=g,r.finishedLanes=f,i){case 0:case 1:throw Error(n(345));case 2:Gr(r,Et,Gn);break;case 3:if(vr(r,f),(f&130023424)===f&&(i=ld+500-Qe(),10<i)){if(aa(r,0)!==0)break;if(g=r.suspendedLanes,(g&f)!==f){_t(),r.pingedLanes|=r.suspendedLanes&g;break}r.timeoutHandle=yu(Gr.bind(null,r,Et,Gn),i);break}Gr(r,Et,Gn);break;case 4:if(vr(r,f),(f&4194240)===f)break;for(i=r.eventTimes,g=-1;0<f;){var j=31-on(f);v=1<<j,j=i[j],j>g&&(g=j),f&=~v}if(f=g,f=Qe()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Bk(f/1960))-f,10<f){r.timeoutHandle=yu(Gr.bind(null,r,Et,Gn),f);break}Gr(r,Et,Gn);break;case 5:Gr(r,Et,Gn);break;default:throw Error(n(329))}}}return Pt(r,Qe()),r.callbackNode===l?py.bind(null,r):null}function dd(r,i){var l=co;return r.current.memoizedState.isDehydrated&&(Hr(r,i).flags|=256),r=Za(r,i),r!==2&&(i=Et,Et=l,i!==null&&fd(i)),r}function fd(r){Et===null?Et=r:Et.push.apply(Et,r)}function Wk(r){for(var i=r;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var g=l[f],v=g.getSnapshot;g=g.value;try{if(!an(v(),g))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function vr(r,i){for(i&=~ad,i&=~Ka,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var l=31-on(i),f=1<<l;r[l]=-1,i&=~f}}function my(r){if((Ae&6)!==0)throw Error(n(327));$s();var i=aa(r,0);if((i&1)===0)return Pt(r,Qe()),null;var l=Za(r,i);if(r.tag!==0&&l===2){var f=Wc(r);f!==0&&(i=f,l=dd(r,f))}if(l===1)throw l=lo,Hr(r,0),vr(r,i),Pt(r,Qe()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Gr(r,Et,Gn),Pt(r,Qe()),null}function hd(r,i){var l=Ae;Ae|=1;try{return r(i)}finally{Ae=l,Ae===0&&(Ds=Qe()+500,Ca&&dr())}}function Wr(r){gr!==null&&gr.tag===0&&(Ae&6)===0&&$s();var i=Ae;Ae|=1;var l=Kt.transition,f=Me;try{if(Kt.transition=null,Me=1,r)return r()}finally{Me=f,Kt.transition=l,Ae=i,(Ae&6)===0&&dr()}}function pd(){$t=Ls.current,Ue(Ls)}function Hr(r,i){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,wk(l)),et!==null)for(l=et.return;l!==null;){var f=l;switch(_u(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&ka();break;case 3:Is(),Ue(jt),Ue(yt),Lu();break;case 5:Ou(f);break;case 4:Is();break;case 13:Ue(He);break;case 19:Ue(He);break;case 10:Pu(f.type._context);break;case 22:case 23:pd()}l=l.return}if(ut=r,et=r=xr(r.current,null),pt=$t=i,st=0,lo=null,ad=Ka=Br=0,Et=co=null,Vr!==null){for(i=0;i<Vr.length;i++)if(l=Vr[i],f=l.interleaved,f!==null){l.interleaved=null;var g=f.next,v=l.pending;if(v!==null){var j=v.next;v.next=g,f.next=j}l.pending=f}Vr=null}return r}function gy(r,i){do{var l=et;try{if(Eu(),La.current=Va,Da){for(var f=Ge.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Da=!1}if(zr=0,ct=rt=Ge=null,no=!1,ro=0,od.current=null,l===null||l.return===null){st=1,lo=i,et=null;break}e:{var v=r,j=l.return,R=l,O=i;if(i=pt,R.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var z=O,q=R,Y=q.tag;if((q.mode&1)===0&&(Y===0||Y===11||Y===15)){var K=q.alternate;K?(q.updateQueue=K.updateQueue,q.memoizedState=K.memoizedState,q.lanes=K.lanes):(q.updateQueue=null,q.memoizedState=null)}var te=Ug(j);if(te!==null){te.flags&=-257,zg(te,j,R,v,i),te.mode&1&&Vg(v,z,i),i=te,O=z;var se=i.updateQueue;if(se===null){var ae=new Set;ae.add(O),i.updateQueue=ae}else se.add(O);break e}else{if((i&1)===0){Vg(v,z,i),md();break e}O=Error(n(426))}}else if(Be&&R.mode&1){var Xe=Ug(j);if(Xe!==null){(Xe.flags&65536)===0&&(Xe.flags|=256),zg(Xe,j,R,v,i),Cu(Os(O,R));break e}}v=O=Os(O,R),st!==4&&(st=2),co===null?co=[v]:co.push(v),v=j;do{switch(v.tag){case 3:v.flags|=65536,i&=-i,v.lanes|=i;var F=$g(v,O,i);dg(v,F);break e;case 1:R=O;var L=v.type,U=v.stateNode;if((v.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(mr===null||!mr.has(U)))){v.flags|=65536,i&=-i,v.lanes|=i;var X=Fg(v,R,i);dg(v,X);break e}}v=v.return}while(v!==null)}xy(l)}catch(le){i=le,et===l&&l!==null&&(et=l=l.return);continue}break}while(!0)}function yy(){var r=Ga.current;return Ga.current=Va,r===null?Va:r}function md(){(st===0||st===3||st===2)&&(st=4),ut===null||(Br&268435455)===0&&(Ka&268435455)===0||vr(ut,pt)}function Za(r,i){var l=Ae;Ae|=2;var f=yy();(ut!==r||pt!==i)&&(Gn=null,Hr(r,i));do try{Hk();break}catch(g){gy(r,g)}while(!0);if(Eu(),Ae=l,Ga.current=f,et!==null)throw Error(n(261));return ut=null,pt=0,st}function Hk(){for(;et!==null;)vy(et)}function Gk(){for(;et!==null&&!y_();)vy(et)}function vy(r){var i=Sy(r.alternate,r,$t);r.memoizedProps=r.pendingProps,i===null?xy(r):et=i,od.current=null}function xy(r){var i=r;do{var l=i.alternate;if(r=i.return,(i.flags&32768)===0){if(l=$k(l,i,$t),l!==null){et=l;return}}else{if(l=Fk(l,i),l!==null){l.flags&=32767,et=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{st=6,et=null;return}}if(i=i.sibling,i!==null){et=i;return}et=i=r}while(i!==null);st===0&&(st=5)}function Gr(r,i,l){var f=Me,g=Kt.transition;try{Kt.transition=null,Me=1,Kk(r,i,l,f)}finally{Kt.transition=g,Me=f}return null}function Kk(r,i,l,f){do $s();while(gr!==null);if((Ae&6)!==0)throw Error(n(327));l=r.finishedWork;var g=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var v=l.lanes|l.childLanes;if(T_(r,v),r===ut&&(et=ut=null,pt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ya||(Ya=!0,_y(ra,function(){return $s(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=Kt.transition,Kt.transition=null;var j=Me;Me=1;var R=Ae;Ae|=4,od.current=null,Uk(r,l),cy(l,r),hk(mu),ua=!!pu,mu=pu=null,r.current=l,zk(l),v_(),Ae=R,Me=j,Kt.transition=v}else r.current=l;if(Ya&&(Ya=!1,gr=r,Qa=g),v=r.pendingLanes,v===0&&(mr=null),b_(l.stateNode),Pt(r,Qe()),i!==null)for(f=r.onRecoverableError,l=0;l<i.length;l++)g=i[l],f(g.value,{componentStack:g.stack,digest:g.digest});if(qa)throw qa=!1,r=cd,cd=null,r;return(Qa&1)!==0&&r.tag!==0&&$s(),v=r.pendingLanes,(v&1)!==0?r===ud?uo++:(uo=0,ud=r):uo=0,dr(),null}function $s(){if(gr!==null){var r=am(Qa),i=Kt.transition,l=Me;try{if(Kt.transition=null,Me=16>r?16:r,gr===null)var f=!1;else{if(r=gr,gr=null,Qa=0,(Ae&6)!==0)throw Error(n(331));var g=Ae;for(Ae|=4,re=r.current;re!==null;){var v=re,j=v.child;if((re.flags&16)!==0){var R=v.deletions;if(R!==null){for(var O=0;O<R.length;O++){var z=R[O];for(re=z;re!==null;){var q=re;switch(q.tag){case 0:case 11:case 15:ao(8,q,v)}var Y=q.child;if(Y!==null)Y.return=q,re=Y;else for(;re!==null;){q=re;var K=q.sibling,te=q.return;if(sy(q),q===z){re=null;break}if(K!==null){K.return=te,re=K;break}re=te}}}var se=v.alternate;if(se!==null){var ae=se.child;if(ae!==null){se.child=null;do{var Xe=ae.sibling;ae.sibling=null,ae=Xe}while(ae!==null)}}re=v}}if((v.subtreeFlags&2064)!==0&&j!==null)j.return=v,re=j;else e:for(;re!==null;){if(v=re,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:ao(9,v,v.return)}var F=v.sibling;if(F!==null){F.return=v.return,re=F;break e}re=v.return}}var L=r.current;for(re=L;re!==null;){j=re;var U=j.child;if((j.subtreeFlags&2064)!==0&&U!==null)U.return=j,re=U;else e:for(j=L;re!==null;){if(R=re,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Ha(9,R)}}catch(le){qe(R,R.return,le)}if(R===j){re=null;break e}var X=R.sibling;if(X!==null){X.return=R.return,re=X;break e}re=R.return}}if(Ae=g,dr(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(sa,r)}catch{}f=!0}return f}finally{Me=l,Kt.transition=i}}return!1}function wy(r,i,l){i=Os(l,i),i=$g(r,i,1),r=hr(r,i,1),i=_t(),r!==null&&(Oi(r,1,i),Pt(r,i))}function qe(r,i,l){if(r.tag===3)wy(r,r,l);else for(;i!==null;){if(i.tag===3){wy(i,r,l);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(mr===null||!mr.has(f))){r=Os(l,r),r=Fg(i,r,1),i=hr(i,r,1),r=_t(),i!==null&&(Oi(i,1,r),Pt(i,r));break}}i=i.return}}function qk(r,i,l){var f=r.pingCache;f!==null&&f.delete(i),i=_t(),r.pingedLanes|=r.suspendedLanes&l,ut===r&&(pt&l)===l&&(st===4||st===3&&(pt&130023424)===pt&&500>Qe()-ld?Hr(r,0):ad|=l),Pt(r,i)}function by(r,i){i===0&&((r.mode&1)===0?i=1:(i=oa,oa<<=1,(oa&130023424)===0&&(oa=4194304)));var l=_t();r=Bn(r,i),r!==null&&(Oi(r,i,l),Pt(r,l))}function Yk(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),by(r,l)}function Qk(r,i){var l=0;switch(r.tag){case 13:var f=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(i),by(r,l)}var Sy;Sy=function(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps||jt.current)Tt=!0;else{if((r.lanes&l)===0&&(i.flags&128)===0)return Tt=!1,Dk(r,i,l);Tt=(r.flags&131072)!==0}else Tt=!1,Be&&(i.flags&1048576)!==0&&tg(i,Ea,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;Ba(r,i),r=i.pendingProps;var g=Cs(i,yt.current);Rs(i,l),g=Fu(null,i,f,r,g,l);var v=Vu();return i.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Ct(f)?(v=!0,ja(i)):v=!1,i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Ru(i),g.updater=Ua,i.stateNode=g,g._reactInternals=i,Gu(i,f,r,l),i=Qu(null,i,f,!0,v,l)):(i.tag=0,Be&&v&&Su(i),St(null,i,g,l),i=i.child),i;case 16:f=i.elementType;e:{switch(Ba(r,i),r=i.pendingProps,g=f._init,f=g(f._payload),i.type=f,g=i.tag=Jk(f),r=cn(f,r),g){case 0:i=Yu(null,i,f,r,l);break e;case 1:i=qg(null,i,f,r,l);break e;case 11:i=Bg(null,i,f,r,l);break e;case 14:i=Wg(null,i,f,cn(f.type,r),l);break e}throw Error(n(306,f,""))}return i;case 0:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:cn(f,g),Yu(r,i,f,g,l);case 1:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:cn(f,g),qg(r,i,f,g,l);case 3:e:{if(Yg(i),r===null)throw Error(n(387));f=i.pendingProps,v=i.memoizedState,g=v.element,ug(r,i),Oa(i,f,null,l);var j=i.memoizedState;if(f=j.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){g=Os(Error(n(423)),i),i=Qg(r,i,f,l,g);break e}else if(f!==g){g=Os(Error(n(424)),i),i=Qg(r,i,f,l,g);break e}else for(Dt=lr(i.stateNode.containerInfo.firstChild),Lt=i,Be=!0,ln=null,l=lg(i,null,f,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ps(),f===g){i=Hn(r,i,l);break e}St(r,i,f,l)}i=i.child}return i;case 5:return hg(i),r===null&&ju(i),f=i.type,g=i.pendingProps,v=r!==null?r.memoizedProps:null,j=g.children,gu(f,g)?j=null:v!==null&&gu(f,v)&&(i.flags|=32),Kg(r,i),St(r,i,j,l),i.child;case 6:return r===null&&ju(i),null;case 13:return Xg(r,i,l);case 4:return Iu(i,i.stateNode.containerInfo),f=i.pendingProps,r===null?i.child=Ns(i,null,f,l):St(r,i,f,l),i.child;case 11:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:cn(f,g),Bg(r,i,f,g,l);case 7:return St(r,i,i.pendingProps,l),i.child;case 8:return St(r,i,i.pendingProps.children,l),i.child;case 12:return St(r,i,i.pendingProps.children,l),i.child;case 10:e:{if(f=i.type._context,g=i.pendingProps,v=i.memoizedProps,j=g.value,De(Aa,f._currentValue),f._currentValue=j,v!==null)if(an(v.value,j)){if(v.children===g.children&&!jt.current){i=Hn(r,i,l);break e}}else for(v=i.child,v!==null&&(v.return=i);v!==null;){var R=v.dependencies;if(R!==null){j=v.child;for(var O=R.firstContext;O!==null;){if(O.context===f){if(v.tag===1){O=Wn(-1,l&-l),O.tag=2;var z=v.updateQueue;if(z!==null){z=z.shared;var q=z.pending;q===null?O.next=O:(O.next=q.next,q.next=O),z.pending=O}}v.lanes|=l,O=v.alternate,O!==null&&(O.lanes|=l),Nu(v.return,l,i),R.lanes|=l;break}O=O.next}}else if(v.tag===10)j=v.type===i.type?null:v.child;else if(v.tag===18){if(j=v.return,j===null)throw Error(n(341));j.lanes|=l,R=j.alternate,R!==null&&(R.lanes|=l),Nu(j,l,i),j=v.sibling}else j=v.child;if(j!==null)j.return=v;else for(j=v;j!==null;){if(j===i){j=null;break}if(v=j.sibling,v!==null){v.return=j.return,j=v;break}j=j.return}v=j}St(r,i,g.children,l),i=i.child}return i;case 9:return g=i.type,f=i.pendingProps.children,Rs(i,l),g=Ht(g),f=f(g),i.flags|=1,St(r,i,f,l),i.child;case 14:return f=i.type,g=cn(f,i.pendingProps),g=cn(f.type,g),Wg(r,i,f,g,l);case 15:return Hg(r,i,i.type,i.pendingProps,l);case 17:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:cn(f,g),Ba(r,i),i.tag=1,Ct(f)?(r=!0,ja(i)):r=!1,Rs(i,l),Lg(i,f,g),Gu(i,f,g,l),Qu(null,i,f,!0,r,l);case 19:return Zg(r,i,l);case 22:return Gg(r,i,l)}throw Error(n(156,i.tag))};function _y(r,i){return nm(r,i)}function Xk(r,i,l,f){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(r,i,l,f){return new Xk(r,i,l,f)}function gd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Jk(r){if(typeof r=="function")return gd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===be)return 11;if(r===Q)return 14}return 2}function xr(r,i){var l=r.alternate;return l===null?(l=qt(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function el(r,i,l,f,g,v){var j=2;if(f=r,typeof r=="function")gd(r)&&(j=1);else if(typeof r=="string")j=5;else e:switch(r){case D:return Kr(l.children,g,v,i);case $:j=8,g|=8;break;case G:return r=qt(12,l,i,g|2),r.elementType=G,r.lanes=v,r;case me:return r=qt(13,l,i,g),r.elementType=me,r.lanes=v,r;case ge:return r=qt(19,l,i,g),r.elementType=ge,r.lanes=v,r;case B:return tl(l,g,v,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Z:j=10;break e;case fe:j=9;break e;case be:j=11;break e;case Q:j=14;break e;case J:j=16,f=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=qt(j,l,i,g),i.elementType=r,i.type=f,i.lanes=v,i}function Kr(r,i,l,f){return r=qt(7,r,f,i),r.lanes=l,r}function tl(r,i,l,f){return r=qt(22,r,f,i),r.elementType=B,r.lanes=l,r.stateNode={isHidden:!1},r}function yd(r,i,l){return r=qt(6,r,null,i),r.lanes=l,r}function vd(r,i,l){return i=qt(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Zk(r,i,l,f,g){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hc(0),this.expirationTimes=Hc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hc(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function xd(r,i,l,f,g,v,j,R,O){return r=new Zk(r,i,l,R,O),i===1?(i=1,v===!0&&(i|=8)):i=0,v=qt(3,null,null,i),r.current=v,v.stateNode=r,v.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ru(v),r}function ej(r,i,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:f==null?null:""+f,children:r,containerInfo:i,implementation:l}}function ky(r){if(!r)return ur;r=r._reactInternals;e:{if(Mr(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Ct(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(Ct(l))return Jm(r,l,i)}return i}function jy(r,i,l,f,g,v,j,R,O){return r=xd(l,f,!0,r,g,v,j,R,O),r.context=ky(null),l=r.current,f=_t(),g=yr(l),v=Wn(f,g),v.callback=i??null,hr(l,v,g),r.current.lanes=g,Oi(r,g,f),Pt(r,f),r}function nl(r,i,l,f){var g=i.current,v=_t(),j=yr(g);return l=ky(l),i.context===null?i.context=l:i.pendingContext=l,i=Wn(v,j),i.payload={element:r},f=f===void 0?null:f,f!==null&&(i.callback=f),r=hr(g,i,j),r!==null&&(fn(r,g,j,v),Ia(r,g,j)),j}function rl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Cy(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function wd(r,i){Cy(r,i),(r=r.alternate)&&Cy(r,i)}function tj(){return null}var Ty=typeof reportError=="function"?reportError:function(r){console.error(r)};function bd(r){this._internalRoot=r}sl.prototype.render=bd.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));nl(r,i,null,null)},sl.prototype.unmount=bd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Wr(function(){nl(null,r,null,null)}),i[Fn]=null}};function sl(r){this._internalRoot=r}sl.prototype.unstable_scheduleHydration=function(r){if(r){var i=um();r={blockedOn:null,target:r,priority:i};for(var l=0;l<ir.length&&i!==0&&i<ir[l].priority;l++);ir.splice(l,0,r),l===0&&hm(r)}};function Sd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function il(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Ey(){}function nj(r,i,l,f,g){if(g){if(typeof f=="function"){var v=f;f=function(){var z=rl(j);v.call(z)}}var j=jy(i,f,r,0,null,!1,!1,"",Ey);return r._reactRootContainer=j,r[Fn]=j.current,qi(r.nodeType===8?r.parentNode:r),Wr(),j}for(;g=r.lastChild;)r.removeChild(g);if(typeof f=="function"){var R=f;f=function(){var z=rl(O);R.call(z)}}var O=xd(r,0,!1,null,null,!1,!1,"",Ey);return r._reactRootContainer=O,r[Fn]=O.current,qi(r.nodeType===8?r.parentNode:r),Wr(function(){nl(i,O,l,f)}),O}function ol(r,i,l,f,g){var v=l._reactRootContainer;if(v){var j=v;if(typeof g=="function"){var R=g;g=function(){var O=rl(j);R.call(O)}}nl(i,j,r,g)}else j=nj(l,i,r,g,f);return rl(j)}lm=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var l=Ii(i.pendingLanes);l!==0&&(Gc(i,l|1),Pt(i,Qe()),(Ae&6)===0&&(Ds=Qe()+500,dr()))}break;case 13:Wr(function(){var f=Bn(r,1);if(f!==null){var g=_t();fn(f,r,1,g)}}),wd(r,1)}},Kc=function(r){if(r.tag===13){var i=Bn(r,134217728);if(i!==null){var l=_t();fn(i,r,134217728,l)}wd(r,134217728)}},cm=function(r){if(r.tag===13){var i=yr(r),l=Bn(r,i);if(l!==null){var f=_t();fn(l,r,i,f)}wd(r,i)}},um=function(){return Me},dm=function(r,i){var l=Me;try{return Me=r,i()}finally{Me=l}},Fc=function(r,i,l){switch(i){case"input":if(Ac(r,l),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var f=l[i];if(f!==r&&f.form===r.form){var g=_a(f);if(!g)throw Error(n(90));Ot(f),Ac(f,g)}}}break;case"textarea":Vp(r,l);break;case"select":i=l.value,i!=null&&ps(r,!!l.multiple,i,!1)}},Yp=hd,Qp=Wr;var rj={usingClientEntryPoint:!1,Events:[Xi,ks,_a,Kp,qp,hd]},fo={findFiberByHostInstance:Lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sj={bundleType:fo.bundleType,version:fo.version,rendererPackageName:fo.rendererPackageName,rendererConfig:fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=em(r),r===null?null:r.stateNode},findFiberByHostInstance:fo.findFiberByHostInstance||tj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{sa=al.inject(sj),wn=al}catch{}}return Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rj,Nt.createPortal=function(r,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sd(i))throw Error(n(200));return ej(r,i,null,l)},Nt.createRoot=function(r,i){if(!Sd(r))throw Error(n(299));var l=!1,f="",g=Ty;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=xd(r,1,!1,null,null,l,!1,f,g),r[Fn]=i.current,qi(r.nodeType===8?r.parentNode:r),new bd(i)},Nt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=em(i),r=r===null?null:r.stateNode,r},Nt.flushSync=function(r){return Wr(r)},Nt.hydrate=function(r,i,l){if(!il(i))throw Error(n(200));return ol(null,r,i,!0,l)},Nt.hydrateRoot=function(r,i,l){if(!Sd(r))throw Error(n(405));var f=l!=null&&l.hydratedSources||null,g=!1,v="",j=Ty;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(j=l.onRecoverableError)),i=jy(i,null,r,1,l??null,g,!1,v,j),r[Fn]=i.current,qi(r),f)for(r=0;r<f.length;r++)l=f[r],g=l._getVersion,g=g(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,g]:i.mutableSourceEagerHydrationData.push(l,g);return new sl(i)},Nt.render=function(r,i,l){if(!il(i))throw Error(n(200));return ol(null,r,i,!1,l)},Nt.unmountComponentAtNode=function(r){if(!il(r))throw Error(n(40));return r._reactRootContainer?(Wr(function(){ol(null,null,r,!1,function(){r._reactRootContainer=null,r[Fn]=null})}),!0):!1},Nt.unstable_batchedUpdates=hd,Nt.unstable_renderSubtreeIntoContainer=function(r,i,l,f){if(!il(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return ol(r,i,l,!1,f)},Nt.version="18.3.1-next-f1338f8080-20240426",Nt}var Ly;function px(){if(Ly)return jd.exports;Ly=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jd.exports=hj(),jd.exports}var Dy;function pj(){if(Dy)return ll;Dy=1;var t=px();return ll.createRoot=t.createRoot,ll.hydrateRoot=t.hydrateRoot,ll}var mj=pj(),b=hh();const Ft=fh(b),mx=oj({__proto__:null,default:Ft},[b]);function $y(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function gx(...t){return e=>{let n=!1;const s=t.map(o=>{const a=$y(o,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<s.length;o++){const a=s[o];typeof a=="function"?a():$y(t[o],null)}}}}function Fe(...t){return b.useCallback(gx(...t),t)}function Oo(t){const e=gj(t),n=b.forwardRef((s,o)=>{const{children:a,...c}=s,u=b.Children.toArray(a),h=u.find(vj);if(h){const p=h.props.children,m=u.map(y=>y===h?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:y);return d.jsx(e,{...c,ref:o,children:b.isValidElement(p)?b.cloneElement(p,void 0,m):null})}return d.jsx(e,{...c,ref:o,children:a})});return n.displayName=`${t}.Slot`,n}var yx=Oo("Slot");function gj(t){const e=b.forwardRef((n,s)=>{const{children:o,...a}=n;if(b.isValidElement(o)){const c=wj(o),u=xj(a,o.props);return o.type!==b.Fragment&&(u.ref=s?gx(s,c):c),b.cloneElement(o,u)}return b.Children.count(o)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var vx=Symbol("radix.slottable");function yj(t){const e=({children:n})=>d.jsx(d.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=vx,e}function vj(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===vx}function xj(t,e){const n={...e};for(const s in e){const o=t[s],a=e[s];/^on[A-Z]/.test(s)?o&&a?n[s]=(...u)=>{const h=a(...u);return o(...u),h}:o&&(n[s]=o):s==="style"?n[s]={...o,...a}:s==="className"&&(n[s]=[o,a].filter(Boolean).join(" "))}return{...t,...n}}function wj(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function xx(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=xx(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function wx(){for(var t,e,n=0,s="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=xx(t))&&(s&&(s+=" "),s+=e);return s}const Fy=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Vy=wx,ph=(t,e)=>n=>{var s;if(e?.variants==null)return Vy(t,n?.class,n?.className);const{variants:o,defaultVariants:a}=e,c=Object.keys(o).map(p=>{const m=n?.[p],y=a?.[p];if(m===null)return null;const x=Fy(m)||Fy(y);return o[p][x]}),u=n&&Object.entries(n).reduce((p,m)=>{let[y,x]=m;return x===void 0||(p[y]=x),p},{}),h=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((p,m)=>{let{class:y,className:x,...w}=m;return Object.entries(w).every(k=>{let[S,_]=k;return Array.isArray(_)?_.includes({...a,...u}[S]):{...a,...u}[S]===_})?[...p,y,x]:p},[]);return Vy(t,c,h,n?.class,n?.className)},mh="-",bj=t=>{const e=_j(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:c=>{const u=c.split(mh);return u[0]===""&&u.length!==1&&u.shift(),bx(u,e)||Sj(c)},getConflictingClassGroupIds:(c,u)=>{const h=n[c]||[];return u&&s[c]?[...h,...s[c]]:h}}},bx=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),o=s?bx(t.slice(1),s):void 0;if(o)return o;if(e.validators.length===0)return;const a=t.join(mh);return e.validators.find(({validator:c})=>c(a))?.classGroupId},Uy=/^\[(.+)\]$/,Sj=t=>{if(Uy.test(t)){const e=Uy.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},_j=t=>{const{theme:e,classGroups:n}=t,s={nextPart:new Map,validators:[]};for(const o in n)ff(n[o],s,o,e);return s},ff=(t,e,n,s)=>{t.forEach(o=>{if(typeof o=="string"){const a=o===""?e:zy(e,o);a.classGroupId=n;return}if(typeof o=="function"){if(kj(o)){ff(o(s),e,n,s);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,c])=>{ff(c,zy(e,a),n,s)})})},zy=(t,e)=>{let n=t;return e.split(mh).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},kj=t=>t.isThemeGetter,jj=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const o=(a,c)=>{n.set(a,c),e++,e>t&&(e=0,s=n,n=new Map)};return{get(a){let c=n.get(a);if(c!==void 0)return c;if((c=s.get(a))!==void 0)return o(a,c),c},set(a,c){n.has(a)?n.set(a,c):o(a,c)}}},hf="!",pf=":",Cj=pf.length,Tj=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=o=>{const a=[];let c=0,u=0,h=0,p;for(let k=0;k<o.length;k++){let S=o[k];if(c===0&&u===0){if(S===pf){a.push(o.slice(h,k)),h=k+Cj;continue}if(S==="/"){p=k;continue}}S==="["?c++:S==="]"?c--:S==="("?u++:S===")"&&u--}const m=a.length===0?o:o.substring(h),y=Ej(m),x=y!==m,w=p&&p>h?p-h:void 0;return{modifiers:a,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:w}};if(e){const o=e+pf,a=s;s=c=>c.startsWith(o)?a(c.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const o=s;s=a=>n({className:a,parseClassName:o})}return s},Ej=t=>t.endsWith(hf)?t.substring(0,t.length-1):t.startsWith(hf)?t.substring(1):t,Pj=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let a=[];return s.forEach(c=>{c[0]==="["||e[c]?(o.push(...a.sort(),c),a=[]):a.push(c)}),o.push(...a.sort()),o}},Nj=t=>({cache:jj(t.cacheSize),parseClassName:Tj(t),sortModifiers:Pj(t),...bj(t)}),Aj=/\s+/,Rj=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:a}=e,c=[],u=t.trim().split(Aj);let h="";for(let p=u.length-1;p>=0;p-=1){const m=u[p],{isExternal:y,modifiers:x,hasImportantModifier:w,baseClassName:k,maybePostfixModifierPosition:S}=n(m);if(y){h=m+(h.length>0?" "+h:h);continue}let _=!!S,T=s(_?k.substring(0,S):k);if(!T){if(!_){h=m+(h.length>0?" "+h:h);continue}if(T=s(k),!T){h=m+(h.length>0?" "+h:h);continue}_=!1}const P=a(x).join(":"),C=w?P+hf:P,E=C+T;if(c.includes(E))continue;c.push(E);const A=o(T,_);for(let M=0;M<A.length;++M){const D=A[M];c.push(C+D)}h=m+(h.length>0?" "+h:h)}return h};function Ij(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Sx(e))&&(s&&(s+=" "),s+=n);return s}const Sx=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=Sx(t[s]))&&(n&&(n+=" "),n+=e);return n};function Oj(t,...e){let n,s,o,a=c;function c(h){const p=e.reduce((m,y)=>y(m),t());return n=Nj(p),s=n.cache.get,o=n.cache.set,a=u,u(h)}function u(h){const p=s(h);if(p)return p;const m=Rj(h,n);return o(h,m),m}return function(){return a(Ij.apply(null,arguments))}}const it=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},_x=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,kx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Mj=/^\d+\/\d+$/,Lj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Dj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$j=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Fj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Vj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fs=t=>Mj.test(t),Ce=t=>!!t&&!Number.isNaN(Number(t)),br=t=>!!t&&Number.isInteger(Number(t)),Ed=t=>t.endsWith("%")&&Ce(t.slice(0,-1)),Kn=t=>Lj.test(t),Uj=()=>!0,zj=t=>Dj.test(t)&&!$j.test(t),jx=()=>!1,Bj=t=>Fj.test(t),Wj=t=>Vj.test(t),Hj=t=>!ie(t)&&!oe(t),Gj=t=>xi(t,Ex,jx),ie=t=>_x.test(t),qr=t=>xi(t,Px,zj),Pd=t=>xi(t,Xj,Ce),By=t=>xi(t,Cx,jx),Kj=t=>xi(t,Tx,Wj),cl=t=>xi(t,Nx,Bj),oe=t=>kx.test(t),po=t=>wi(t,Px),qj=t=>wi(t,Jj),Wy=t=>wi(t,Cx),Yj=t=>wi(t,Ex),Qj=t=>wi(t,Tx),ul=t=>wi(t,Nx,!0),xi=(t,e,n)=>{const s=_x.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},wi=(t,e,n=!1)=>{const s=kx.exec(t);return s?s[1]?e(s[1]):n:!1},Cx=t=>t==="position"||t==="percentage",Tx=t=>t==="image"||t==="url",Ex=t=>t==="length"||t==="size"||t==="bg-size",Px=t=>t==="length",Xj=t=>t==="number",Jj=t=>t==="family-name",Nx=t=>t==="shadow",Zj=()=>{const t=it("color"),e=it("font"),n=it("text"),s=it("font-weight"),o=it("tracking"),a=it("leading"),c=it("breakpoint"),u=it("container"),h=it("spacing"),p=it("radius"),m=it("shadow"),y=it("inset-shadow"),x=it("text-shadow"),w=it("drop-shadow"),k=it("blur"),S=it("perspective"),_=it("aspect"),T=it("ease"),P=it("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...E(),oe,ie],M=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],$=()=>[oe,ie,h],G=()=>[Fs,"full","auto",...$()],Z=()=>[br,"none","subgrid",oe,ie],fe=()=>["auto",{span:["full",br,oe,ie]},br,oe,ie],be=()=>[br,"auto",oe,ie],me=()=>["auto","min","max","fr",oe,ie],ge=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Q=()=>["start","end","center","stretch","center-safe","end-safe"],J=()=>["auto",...$()],B=()=>[Fs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...$()],I=()=>[t,oe,ie],H=()=>[...E(),Wy,By,{position:[oe,ie]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],N=()=>["auto","cover","contain",Yj,Gj,{size:[oe,ie]}],W=()=>[Ed,po,qr],ee=()=>["","none","full",p,oe,ie],ue=()=>["",Ce,po,qr],Se=()=>["solid","dashed","dotted","double"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>[Ce,Ed,Wy,By],we=()=>["","none",k,oe,ie],ke=()=>["none",Ce,oe,ie],Le=()=>["none",Ce,oe,ie],Ze=()=>[Ce,oe,ie],Ot=()=>[Fs,"full",...$()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Kn],breakpoint:[Kn],color:[Uj],container:[Kn],"drop-shadow":[Kn],ease:["in","out","in-out"],font:[Hj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Kn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Kn],shadow:[Kn],spacing:["px",Ce],text:[Kn],"text-shadow":[Kn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Fs,ie,oe,_]}],container:["container"],columns:[{columns:[Ce,ie,oe,u]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:G()}],"inset-x":[{"inset-x":G()}],"inset-y":[{"inset-y":G()}],start:[{start:G()}],end:[{end:G()}],top:[{top:G()}],right:[{right:G()}],bottom:[{bottom:G()}],left:[{left:G()}],visibility:["visible","invisible","collapse"],z:[{z:[br,"auto",oe,ie]}],basis:[{basis:[Fs,"full","auto",u,...$()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ce,Fs,"auto","initial","none",ie]}],grow:[{grow:["",Ce,oe,ie]}],shrink:[{shrink:["",Ce,oe,ie]}],order:[{order:[br,"first","last","none",oe,ie]}],"grid-cols":[{"grid-cols":Z()}],"col-start-end":[{col:fe()}],"col-start":[{"col-start":be()}],"col-end":[{"col-end":be()}],"grid-rows":[{"grid-rows":Z()}],"row-start-end":[{row:fe()}],"row-start":[{"row-start":be()}],"row-end":[{"row-end":be()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":me()}],"auto-rows":[{"auto-rows":me()}],gap:[{gap:$()}],"gap-x":[{"gap-x":$()}],"gap-y":[{"gap-y":$()}],"justify-content":[{justify:[...ge(),"normal"]}],"justify-items":[{"justify-items":[...Q(),"normal"]}],"justify-self":[{"justify-self":["auto",...Q()]}],"align-content":[{content:["normal",...ge()]}],"align-items":[{items:[...Q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Q(),{baseline:["","last"]}]}],"place-content":[{"place-content":ge()}],"place-items":[{"place-items":[...Q(),"baseline"]}],"place-self":[{"place-self":["auto",...Q()]}],p:[{p:$()}],px:[{px:$()}],py:[{py:$()}],ps:[{ps:$()}],pe:[{pe:$()}],pt:[{pt:$()}],pr:[{pr:$()}],pb:[{pb:$()}],pl:[{pl:$()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":$()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":$()}],"space-y-reverse":["space-y-reverse"],size:[{size:B()}],w:[{w:[u,"screen",...B()]}],"min-w":[{"min-w":[u,"screen","none",...B()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...B()]}],h:[{h:["screen","lh",...B()]}],"min-h":[{"min-h":["screen","lh","none",...B()]}],"max-h":[{"max-h":["screen","lh",...B()]}],"font-size":[{text:["base",n,po,qr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,oe,Pd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ed,ie]}],"font-family":[{font:[qj,ie,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,oe,ie]}],"line-clamp":[{"line-clamp":[Ce,"none",oe,Pd]}],leading:[{leading:[a,...$()]}],"list-image":[{"list-image":["none",oe,ie]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",oe,ie]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ce,"from-font","auto",oe,qr]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[Ce,"auto",oe,ie]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",oe,ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",oe,ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:H()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:N()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},br,oe,ie],radial:["",oe,ie],conic:[br,oe,ie]},Qj,Kj]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ce,oe,ie]}],"outline-w":[{outline:["",Ce,po,qr]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",m,ul,cl]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",y,ul,cl]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[Ce,qr]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",x,ul,cl]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[Ce,oe,ie]}],"mix-blend":[{"mix-blend":[...je(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":je()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ce]}],"mask-image-linear-from-pos":[{"mask-linear-from":ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":ne()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":ne()}],"mask-image-t-to-pos":[{"mask-t-to":ne()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":ne()}],"mask-image-r-to-pos":[{"mask-r-to":ne()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":ne()}],"mask-image-b-to-pos":[{"mask-b-to":ne()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":ne()}],"mask-image-l-to-pos":[{"mask-l-to":ne()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":ne()}],"mask-image-x-to-pos":[{"mask-x-to":ne()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":ne()}],"mask-image-y-to-pos":[{"mask-y-to":ne()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[oe,ie]}],"mask-image-radial-from-pos":[{"mask-radial-from":ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":ne()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[Ce]}],"mask-image-conic-from-pos":[{"mask-conic-from":ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":ne()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:H()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:N()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",oe,ie]}],filter:[{filter:["","none",oe,ie]}],blur:[{blur:we()}],brightness:[{brightness:[Ce,oe,ie]}],contrast:[{contrast:[Ce,oe,ie]}],"drop-shadow":[{"drop-shadow":["","none",w,ul,cl]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",Ce,oe,ie]}],"hue-rotate":[{"hue-rotate":[Ce,oe,ie]}],invert:[{invert:["",Ce,oe,ie]}],saturate:[{saturate:[Ce,oe,ie]}],sepia:[{sepia:["",Ce,oe,ie]}],"backdrop-filter":[{"backdrop-filter":["","none",oe,ie]}],"backdrop-blur":[{"backdrop-blur":we()}],"backdrop-brightness":[{"backdrop-brightness":[Ce,oe,ie]}],"backdrop-contrast":[{"backdrop-contrast":[Ce,oe,ie]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ce,oe,ie]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ce,oe,ie]}],"backdrop-invert":[{"backdrop-invert":["",Ce,oe,ie]}],"backdrop-opacity":[{"backdrop-opacity":[Ce,oe,ie]}],"backdrop-saturate":[{"backdrop-saturate":[Ce,oe,ie]}],"backdrop-sepia":[{"backdrop-sepia":["",Ce,oe,ie]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":$()}],"border-spacing-x":[{"border-spacing-x":$()}],"border-spacing-y":[{"border-spacing-y":$()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",oe,ie]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ce,"initial",oe,ie]}],ease:[{ease:["linear","initial",T,oe,ie]}],delay:[{delay:[Ce,oe,ie]}],animate:[{animate:["none",P,oe,ie]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,oe,ie]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:ke()}],"rotate-x":[{"rotate-x":ke()}],"rotate-y":[{"rotate-y":ke()}],"rotate-z":[{"rotate-z":ke()}],scale:[{scale:Le()}],"scale-x":[{"scale-x":Le()}],"scale-y":[{"scale-y":Le()}],"scale-z":[{"scale-z":Le()}],"scale-3d":["scale-3d"],skew:[{skew:Ze()}],"skew-x":[{"skew-x":Ze()}],"skew-y":[{"skew-y":Ze()}],transform:[{transform:[oe,ie,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ot()}],"translate-x":[{"translate-x":Ot()}],"translate-y":[{"translate-y":Ot()}],"translate-z":[{"translate-z":Ot()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",oe,ie]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",oe,ie]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[Ce,po,qr,Pd]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},eC=Oj(Zj);function Ie(...t){return eC(wx(t))}const tC=ph("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),ce=b.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...o},a)=>{const c=s?yx:"button";return d.jsx(c,{"data-slot":"button",className:Ie(tC({variant:e,size:n,className:t})),ref:a,...o})});ce.displayName="Button";function at({className:t,...e}){return d.jsx("div",{"data-slot":"card",className:Ie("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function gn({className:t,...e}){return d.jsx("div",{"data-slot":"card-header",className:Ie("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function Zt({className:t,...e}){return d.jsx("h4",{"data-slot":"card-title",className:Ie("leading-none",t),...e})}function _o({className:t,...e}){return d.jsx("p",{"data-slot":"card-description",className:Ie("text-muted-foreground",t),...e})}function lt({className:t,...e}){return d.jsx("div",{"data-slot":"card-content",className:Ie("px-6 [&:last-child]:pb-6",t),...e})}const nC=ph("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function ze({className:t,variant:e,asChild:n=!1,...s}){const o=n?yx:"span";return d.jsx(o,{"data-slot":"badge",className:Ie(nC({variant:e}),t),...s})}function rC(t,e){const n=b.createContext(e),s=a=>{const{children:c,...u}=a,h=b.useMemo(()=>u,Object.values(u));return d.jsx(n.Provider,{value:h,children:c})};s.displayName=t+"Provider";function o(a){const c=b.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[s,o]}function rn(t,e=[]){let n=[];function s(a,c){const u=b.createContext(c),h=n.length;n=[...n,c];const p=y=>{const{scope:x,children:w,...k}=y,S=x?.[t]?.[h]||u,_=b.useMemo(()=>k,Object.values(k));return d.jsx(S.Provider,{value:_,children:w})};p.displayName=a+"Provider";function m(y,x){const w=x?.[t]?.[h]||u,k=b.useContext(w);if(k)return k;if(c!==void 0)return c;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[p,m]}const o=()=>{const a=n.map(c=>b.createContext(c));return function(u){const h=u?.[t]||a;return b.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return o.scopeName=t,[s,sC(o,...e)]}function sC(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=s.reduce((u,{useScope:h,scopeName:p})=>{const y=h(a)[`__scope${p}`];return{...u,...y}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}var gh=px();const iC=fh(gh);var oC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pe=oC.reduce((t,e)=>{const n=Oo(`Primitive.${e}`),s=b.forwardRef((o,a)=>{const{asChild:c,...u}=o,h=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(h,{...u,ref:a})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function aC(t,e){t&&gh.flushSync(()=>t.dispatchEvent(e))}var yh="Progress",vh=100,[lC]=rn(yh),[cC,uC]=lC(yh),Ax=b.forwardRef((t,e)=>{const{__scopeProgress:n,value:s=null,max:o,getValueLabel:a=dC,...c}=t;(o||o===0)&&!Hy(o)&&console.error(fC(`${o}`,"Progress"));const u=Hy(o)?o:vh;s!==null&&!Gy(s,u)&&console.error(hC(`${s}`,"Progress"));const h=Gy(s,u)?s:null,p=Ml(h)?a(h,u):void 0;return d.jsx(cC,{scope:n,value:h,max:u,children:d.jsx(Pe.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":Ml(h)?h:void 0,"aria-valuetext":p,role:"progressbar","data-state":Ox(h,u),"data-value":h??void 0,"data-max":u,...c,ref:e})})});Ax.displayName=yh;var Rx="ProgressIndicator",Ix=b.forwardRef((t,e)=>{const{__scopeProgress:n,...s}=t,o=uC(Rx,n);return d.jsx(Pe.div,{"data-state":Ox(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...s,ref:e})});Ix.displayName=Rx;function dC(t,e){return`${Math.round(t/e*100)}%`}function Ox(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Ml(t){return typeof t=="number"}function Hy(t){return Ml(t)&&!isNaN(t)&&t>0}function Gy(t,e){return Ml(t)&&!isNaN(t)&&t<=e&&t>=0}function fC(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${vh}\`.`}function hC(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${vh} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var pC=Ax,mC=Ix;function oc({className:t,value:e,...n}){return d.jsx(pC,{"data-slot":"progress",className:Ie("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...n,children:d.jsx(mC,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Ky=t=>{const e=yC(t);return e.charAt(0).toUpperCase()+e.slice(1)},Mx=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:a,iconNode:c,...u},h)=>b.createElement("svg",{ref:h,...vC,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:Mx("lucide",o),...u},[...c.map(([p,m])=>b.createElement(p,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(t,e)=>{const n=b.forwardRef(({className:s,...o},a)=>b.createElement(xC,{ref:a,iconNode:e,className:Mx(`lucide-${gC(Ky(t))}`,`lucide-${t}`,s),...o}));return n.displayName=Ky(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ll=de("arrow-left",wC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Lx=de("award",bC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],_C=de("bell",SC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Dl=de("book-open",kC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],CC=de("bot",jC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],EC=de("briefcase",TC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],NC=de("camera",PC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],xh=de("chevron-down",AC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],IC=de("chevron-up",RC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ss=de("circle-alert",OC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Xn=de("circle-check",MC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],DC=de("circle",LC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],$l=de("clock",$C);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],VC=de("cloud-off",FC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],zC=de("cloud",UC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],WC=de("coffee",BC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],GC=de("download",HC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],qC=de("eye-off",KC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mf=de("eye",YC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],XC=de("gamepad-2",QC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ZC=de("globe",JC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Fl=de("graduation-cap",eT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],nT=de("heart",tT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],qy=de("info",rT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],iT=de("lightbulb",sT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],mn=de("loader-circle",oT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ko=de("lock",aT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],cT=de("log-in",lT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],dT=de("log-out",uT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Dx=de("mail",fT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],pT=de("menu",hT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],ti=de("message-circle",mT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],yT=de("mic-off",gT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Mo=de("mic",vT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M5 12h14",key:"1ays0h"}]],wT=de("minus",xT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],ST=de("music",bT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],kT=de("palette",_T);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],$x=de("pause",jT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],TT=de("pen-line",CT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Fx=de("play",ET);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Yy=de("refresh-cw",PT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Vl=de("rotate-ccw",NT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],RT=de("save",AT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Vx=de("send",IT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wh=de("settings",OT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],LT=de("shield",MT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Qy=de("star",DT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Xy=de("target",$T);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],VT=de("thumbs-up",FT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Jy=de("trash-2",UT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],BT=de("trending-down",zT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Nn=de("trending-up",WT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],GT=de("triangle-alert",HT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],qT=de("user-plus",KT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ac=de("user",YT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],XT=de("utensils",QT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Ul=de("volume-2",JT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bh=de("x",ZT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Er=de("zap",eE),Sh=b.createContext({});function _h(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const kh=typeof window<"u",Ux=kh?b.useLayoutEffect:b.useEffect,lc=b.createContext(null);function jh(t,e){t.indexOf(e)===-1&&t.push(e)}function Ch(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Jn=(t,e,n)=>n>e?e:n<t?t:n;let Th=()=>{};const Zn={},zx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Bx(t){return typeof t=="object"&&t!==null}const Wx=t=>/^0[^.\s]+$/u.test(t);function Eh(t){let e;return()=>(e===void 0&&(e=t()),e)}const nn=t=>t,tE=(t,e)=>n=>e(t(n)),Go=(...t)=>t.reduce(tE),Lo=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Ph{constructor(){this.subscriptions=[]}add(e){return jh(this.subscriptions,e),()=>Ch(this.subscriptions,e)}notify(e,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,s);else for(let a=0;a<o;a++){const c=this.subscriptions[a];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const An=t=>t*1e3,en=t=>t/1e3;function Hx(t,e){return e?t*(1e3/e):0}const Gx=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,nE=1e-7,rE=12;function sE(t,e,n,s,o){let a,c,u=0;do c=e+(n-e)/2,a=Gx(c,s,o)-t,a>0?n=c:e=c;while(Math.abs(a)>nE&&++u<rE);return c}function Ko(t,e,n,s){if(t===e&&n===s)return nn;const o=a=>sE(a,0,1,t,n);return a=>a===0||a===1?a:Gx(o(a),e,s)}const Kx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,qx=t=>e=>1-t(1-e),Yx=Ko(.33,1.53,.69,.99),Nh=qx(Yx),Qx=Kx(Nh),Xx=t=>(t*=2)<1?.5*Nh(t):.5*(2-Math.pow(2,-10*(t-1))),Ah=t=>1-Math.sin(Math.acos(t)),Jx=qx(Ah),Zx=Kx(Ah),iE=Ko(.42,0,1,1),oE=Ko(0,0,.58,1),ew=Ko(.42,0,.58,1),aE=t=>Array.isArray(t)&&typeof t[0]!="number",tw=t=>Array.isArray(t)&&typeof t[0]=="number",lE={linear:nn,easeIn:iE,easeInOut:ew,easeOut:oE,circIn:Ah,circInOut:Zx,circOut:Jx,backIn:Nh,backInOut:Qx,backOut:Yx,anticipate:Xx},cE=t=>typeof t=="string",Zy=t=>{if(tw(t)){Th(t.length===4);const[e,n,s,o]=t;return Ko(e,n,s,o)}else if(cE(t))return lE[t];return t},dl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function uE(t,e){let n=new Set,s=new Set,o=!1,a=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(m){c.has(m)&&(p.schedule(m),t()),m(u)}const p={schedule:(m,y=!1,x=!1)=>{const k=x&&o?n:s;return y&&c.add(m),k.has(m)||k.add(m),m},cancel:m=>{s.delete(m),c.delete(m)},process:m=>{if(u=m,o){a=!0;return}o=!0,[n,s]=[s,n],n.forEach(h),n.clear(),o=!1,a&&(a=!1,p.process(m))}};return p}const dE=40;function nw(t,e){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,c=dl.reduce((C,E)=>(C[E]=uE(a),C),{}),{setup:u,read:h,resolveKeyframes:p,preUpdate:m,update:y,preRender:x,render:w,postRender:k}=c,S=()=>{const C=Zn.useManualTiming?o.timestamp:performance.now();n=!1,Zn.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(C-o.timestamp,dE),1)),o.timestamp=C,o.isProcessing=!0,u.process(o),h.process(o),p.process(o),m.process(o),y.process(o),x.process(o),w.process(o),k.process(o),o.isProcessing=!1,n&&e&&(s=!1,t(S))},_=()=>{n=!0,s=!0,o.isProcessing||t(S)};return{schedule:dl.reduce((C,E)=>{const A=c[E];return C[E]=(M,D=!1,$=!1)=>(n||_(),A.schedule(M,D,$)),C},{}),cancel:C=>{for(let E=0;E<dl.length;E++)c[dl[E]].cancel(C)},state:o,steps:c}}const{schedule:We,cancel:Pr,state:gt,steps:Nd}=nw(typeof requestAnimationFrame<"u"?requestAnimationFrame:nn,!0);let Tl;function fE(){Tl=void 0}const It={now:()=>(Tl===void 0&&It.set(gt.isProcessing||Zn.useManualTiming?gt.timestamp:performance.now()),Tl),set:t=>{Tl=t,queueMicrotask(fE)}},rw=t=>e=>typeof e=="string"&&e.startsWith(t),Rh=rw("--"),hE=rw("var(--"),Ih=t=>hE(t)?pE.test(t.split("/*")[0].trim()):!1,pE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Do={...bi,transform:t=>Jn(0,1,t)},fl={...bi,default:1},jo=t=>Math.round(t*1e5)/1e5,Oh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mE(t){return t==null}const gE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Mh=(t,e)=>n=>!!(typeof n=="string"&&gE.test(n)&&n.startsWith(t)||e&&!mE(n)&&Object.prototype.hasOwnProperty.call(n,e)),sw=(t,e,n)=>s=>{if(typeof s!="string")return s;const[o,a,c,u]=s.match(Oh);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},yE=t=>Jn(0,255,t),Ad={...bi,transform:t=>Math.round(yE(t))},ns={test:Mh("rgb","red"),parse:sw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Ad.transform(t)+", "+Ad.transform(e)+", "+Ad.transform(n)+", "+jo(Do.transform(s))+")"};function vE(t){let e="",n="",s="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const gf={test:Mh("#"),parse:vE,transform:ns.transform},qo=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),_r=qo("deg"),Rn=qo("%"),ye=qo("px"),xE=qo("vh"),wE=qo("vw"),ev={...Rn,parse:t=>Rn.parse(t)/100,transform:t=>Rn.transform(t*100)},ni={test:Mh("hsl","hue"),parse:sw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Rn.transform(jo(e))+", "+Rn.transform(jo(n))+", "+jo(Do.transform(s))+")"},nt={test:t=>ns.test(t)||gf.test(t)||ni.test(t),parse:t=>ns.test(t)?ns.parse(t):ni.test(t)?ni.parse(t):gf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ns.transform(t):ni.transform(t),getAnimatableNone:t=>{const e=nt.parse(t);return e.alpha=0,nt.transform(e)}},bE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function SE(t){return isNaN(t)&&typeof t=="string"&&(t.match(Oh)?.length||0)+(t.match(bE)?.length||0)>0}const iw="number",ow="color",_E="var",kE="var(",tv="${}",jE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $o(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},o=[];let a=0;const u=e.replace(jE,h=>(nt.test(h)?(s.color.push(a),o.push(ow),n.push(nt.parse(h))):h.startsWith(kE)?(s.var.push(a),o.push(_E),n.push(h)):(s.number.push(a),o.push(iw),n.push(parseFloat(h))),++a,tv)).split(tv);return{values:n,split:u,indexes:s,types:o}}function aw(t){return $o(t).values}function lw(t){const{split:e,types:n}=$o(t),s=e.length;return o=>{let a="";for(let c=0;c<s;c++)if(a+=e[c],o[c]!==void 0){const u=n[c];u===iw?a+=jo(o[c]):u===ow?a+=nt.transform(o[c]):a+=o[c]}return a}}const CE=t=>typeof t=="number"?0:nt.test(t)?nt.getAnimatableNone(t):t;function TE(t){const e=aw(t);return lw(t)(e.map(CE))}const Nr={test:SE,parse:aw,createTransformer:lw,getAnimatableNone:TE};function Rd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function EE({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let o=0,a=0,c=0;if(!e)o=a=c=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;o=Rd(h,u,t+1/3),a=Rd(h,u,t),c=Rd(h,u,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(c*255),alpha:s}}function zl(t,e){return n=>n>0?e:t}const Ke=(t,e,n)=>t+(e-t)*n,Id=(t,e,n)=>{const s=t*t,o=n*(e*e-s)+s;return o<0?0:Math.sqrt(o)},PE=[gf,ns,ni],NE=t=>PE.find(e=>e.test(t));function nv(t){const e=NE(t);if(!e)return!1;let n=e.parse(t);return e===ni&&(n=EE(n)),n}const rv=(t,e)=>{const n=nv(t),s=nv(e);if(!n||!s)return zl(t,e);const o={...n};return a=>(o.red=Id(n.red,s.red,a),o.green=Id(n.green,s.green,a),o.blue=Id(n.blue,s.blue,a),o.alpha=Ke(n.alpha,s.alpha,a),ns.transform(o))},yf=new Set(["none","hidden"]);function AE(t,e){return yf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function RE(t,e){return n=>Ke(t,e,n)}function Lh(t){return typeof t=="number"?RE:typeof t=="string"?Ih(t)?zl:nt.test(t)?rv:ME:Array.isArray(t)?cw:typeof t=="object"?nt.test(t)?rv:IE:zl}function cw(t,e){const n=[...t],s=n.length,o=t.map((a,c)=>Lh(a)(a,e[c]));return a=>{for(let c=0;c<s;c++)n[c]=o[c](a);return n}}function IE(t,e){const n={...t,...e},s={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(s[o]=Lh(t[o])(t[o],e[o]));return o=>{for(const a in s)n[a]=s[a](o);return n}}function OE(t,e){const n=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],c=t.indexes[a][s[a]],u=t.values[c]??0;n[o]=u,s[a]++}return n}const ME=(t,e)=>{const n=Nr.createTransformer(e),s=$o(t),o=$o(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?yf.has(t)&&!o.values.length||yf.has(e)&&!s.values.length?AE(t,e):Go(cw(OE(s,o),o.values),n):zl(t,e)};function uw(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ke(t,e,n):Lh(t)(t,e)}const LE=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>We.update(e,n),stop:()=>Pr(e),now:()=>gt.isProcessing?gt.timestamp:It.now()}},dw=(t,e,n=10)=>{let s="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)s+=Math.round(t(a/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Bl=2e4;function Dh(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Bl;)e+=n,s=t.next(e);return e>=Bl?1/0:e}function DE(t,e=100,n){const s=n({...t,keyframes:[0,e]}),o=Math.min(Dh(s),Bl);return{type:"keyframes",ease:a=>s.next(o*a).value/e,duration:en(o)}}const $E=5;function fw(t,e,n){const s=Math.max(e-$E,0);return Hx(n-t(s),e-s)}const Ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Od=.001;function FE({duration:t=Ye.duration,bounce:e=Ye.bounce,velocity:n=Ye.velocity,mass:s=Ye.mass}){let o,a,c=1-e;c=Jn(Ye.minDamping,Ye.maxDamping,c),t=Jn(Ye.minDuration,Ye.maxDuration,en(t)),c<1?(o=p=>{const m=p*c,y=m*t,x=m-n,w=vf(p,c),k=Math.exp(-y);return Od-x/w*k},a=p=>{const y=p*c*t,x=y*n+n,w=Math.pow(c,2)*Math.pow(p,2)*t,k=Math.exp(-y),S=vf(Math.pow(p,2),c);return(-o(p)+Od>0?-1:1)*((x-w)*k)/S}):(o=p=>{const m=Math.exp(-p*t),y=(p-n)*t+1;return-Od+m*y},a=p=>{const m=Math.exp(-p*t),y=(n-p)*(t*t);return m*y});const u=5/t,h=UE(o,a,u);if(t=An(t),isNaN(h))return{stiffness:Ye.stiffness,damping:Ye.damping,duration:t};{const p=Math.pow(h,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const VE=12;function UE(t,e,n){let s=n;for(let o=1;o<VE;o++)s=s-t(s)/e(s);return s}function vf(t,e){return t*Math.sqrt(1-e*e)}const zE=["duration","bounce"],BE=["stiffness","damping","mass"];function sv(t,e){return e.some(n=>t[n]!==void 0)}function WE(t){let e={velocity:Ye.velocity,stiffness:Ye.stiffness,damping:Ye.damping,mass:Ye.mass,isResolvedFromDuration:!1,...t};if(!sv(t,BE)&&sv(t,zE))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,a=2*Jn(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Ye.mass,stiffness:o,damping:a}}else{const n=FE(t);e={...e,...n,mass:Ye.mass},e.isResolvedFromDuration=!0}return e}function Wl(t=Ye.visualDuration,e=Ye.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=n;const a=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:h,damping:p,mass:m,duration:y,velocity:x,isResolvedFromDuration:w}=WE({...n,velocity:-en(n.velocity||0)}),k=x||0,S=p/(2*Math.sqrt(h*m)),_=c-a,T=en(Math.sqrt(h/m)),P=Math.abs(_)<5;s||(s=P?Ye.restSpeed.granular:Ye.restSpeed.default),o||(o=P?Ye.restDelta.granular:Ye.restDelta.default);let C;if(S<1){const A=vf(T,S);C=M=>{const D=Math.exp(-S*T*M);return c-D*((k+S*T*_)/A*Math.sin(A*M)+_*Math.cos(A*M))}}else if(S===1)C=A=>c-Math.exp(-T*A)*(_+(k+T*_)*A);else{const A=T*Math.sqrt(S*S-1);C=M=>{const D=Math.exp(-S*T*M),$=Math.min(A*M,300);return c-D*((k+S*T*_)*Math.sinh($)+A*_*Math.cosh($))/A}}const E={calculatedDuration:w&&y||null,next:A=>{const M=C(A);if(w)u.done=A>=y;else{let D=A===0?k:0;S<1&&(D=A===0?An(k):fw(C,A,M));const $=Math.abs(D)<=s,G=Math.abs(c-M)<=o;u.done=$&&G}return u.value=u.done?c:M,u},toString:()=>{const A=Math.min(Dh(E),Bl),M=dw(D=>E.next(A*D).value,A,30);return A+"ms "+M},toTransition:()=>{}};return E}Wl.applyToOptions=t=>{const e=DE(t,100,Wl);return t.ease=e.ease,t.duration=An(e.duration),t.type="keyframes",t};function xf({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:c,min:u,max:h,restDelta:p=.5,restSpeed:m}){const y=t[0],x={done:!1,value:y},w=$=>u!==void 0&&$<u||h!==void 0&&$>h,k=$=>u===void 0?h:h===void 0||Math.abs(u-$)<Math.abs(h-$)?u:h;let S=n*e;const _=y+S,T=c===void 0?_:c(_);T!==_&&(S=T-y);const P=$=>-S*Math.exp(-$/s),C=$=>T+P($),E=$=>{const G=P($),Z=C($);x.done=Math.abs(G)<=p,x.value=x.done?T:Z};let A,M;const D=$=>{w(x.value)&&(A=$,M=Wl({keyframes:[x.value,k(x.value)],velocity:fw(C,$,x.value),damping:o,stiffness:a,restDelta:p,restSpeed:m}))};return D(0),{calculatedDuration:null,next:$=>{let G=!1;return!M&&A===void 0&&(G=!0,E($),D($)),A!==void 0&&$>=A?M.next($-A):(!G&&E($),x)}}}function HE(t,e,n){const s=[],o=n||Zn.mix||uw,a=t.length-1;for(let c=0;c<a;c++){let u=o(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||nn:e;u=Go(h,u)}s.push(u)}return s}function GE(t,e,{clamp:n=!0,ease:s,mixer:o}={}){const a=t.length;if(Th(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=HE(e,s,o),h=u.length,p=m=>{if(c&&m<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(m<t[y+1]);y++);const x=Lo(t[y],t[y+1],m);return u[y](x)};return n?m=>p(Jn(t[0],t[a-1],m)):p}function KE(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const o=Lo(0,e,s);t.push(Ke(n,1,o))}}function qE(t){const e=[0];return KE(e,t.length-1),e}function YE(t,e){return t.map(n=>n*e)}function QE(t,e){return t.map(()=>e||ew).splice(0,t.length-1)}function Co({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const o=aE(s)?s.map(Zy):Zy(s),a={done:!1,value:e[0]},c=YE(n&&n.length===e.length?n:qE(e),t),u=GE(c,e,{ease:Array.isArray(o)?o:QE(e,o)});return{calculatedDuration:t,next:h=>(a.value=u(h),a.done=h>=t,a)}}const XE=t=>t!==null;function $h(t,{repeat:e,repeatType:n="loop"},s,o=1){const a=t.filter(XE),u=o<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||s===void 0?a[u]:s}const JE={decay:xf,inertia:xf,tween:Co,keyframes:Co,spring:Wl};function hw(t){typeof t.type=="string"&&(t.type=JE[t.type])}class Fh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const ZE=t=>t/100;class Vh extends Fh{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==It.now()&&this.tick(It.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;hw(e);const{type:n=Co,repeat:s=0,repeatDelay:o=0,repeatType:a,velocity:c=0}=e;let{keyframes:u}=e;const h=n||Co;h!==Co&&typeof u[0]!="number"&&(this.mixKeyframes=Go(ZE,uw(u[0],u[1])),u=[0,100]);const p=h({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Dh(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:o,mixKeyframes:a,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:m,repeat:y,repeatType:x,repeatDelay:w,type:k,onUpdate:S,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const T=this.currentTime-p*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?T<0:T>o;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let C=this.currentTime,E=s;if(y){const $=Math.min(this.currentTime,o)/u;let G=Math.floor($),Z=$%1;!Z&&$>=1&&(Z=1),Z===1&&G--,G=Math.min(G,y+1),!!(G%2)&&(x==="reverse"?(Z=1-Z,w&&(Z-=w/u)):x==="mirror"&&(E=c)),C=Jn(0,1,Z)*u}const A=P?{done:!1,value:m[0]}:E.next(C);a&&(A.value=a(A.value));let{done:M}=A;!P&&h!==null&&(M=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return D&&k!==xf&&(A.value=$h(m,this.options,_,this.speed)),S&&S(A.value),D&&this.finish(),A}then(e,n){return this.finished.then(e,n)}get duration(){return en(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+en(e)}get time(){return en(this.currentTime)}set time(e){e=An(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(It.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=en(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=LE,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(It.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function eP(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const rs=t=>t*180/Math.PI,wf=t=>{const e=rs(Math.atan2(t[1],t[0]));return bf(e)},tP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:wf,rotateZ:wf,skewX:t=>rs(Math.atan(t[1])),skewY:t=>rs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},bf=t=>(t=t%360,t<0&&(t+=360),t),iv=wf,ov=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),av=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),nP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ov,scaleY:av,scale:t=>(ov(t)+av(t))/2,rotateX:t=>bf(rs(Math.atan2(t[6],t[5]))),rotateY:t=>bf(rs(Math.atan2(-t[2],t[0]))),rotateZ:iv,rotate:iv,skewX:t=>rs(Math.atan(t[4])),skewY:t=>rs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Sf(t){return t.includes("scale")?1:0}function _f(t,e){if(!t||t==="none")return Sf(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=nP,o=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=tP,o=u}if(!o)return Sf(e);const a=s[e],c=o[1].split(",").map(sP);return typeof a=="function"?a(c):c[a]}const rP=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return _f(n,e)};function sP(t){return parseFloat(t.trim())}const Si=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_i=new Set(Si),lv=t=>t===bi||t===ye,iP=new Set(["x","y","z"]),oP=Si.filter(t=>!iP.has(t));function aP(t){const e=[];return oP.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const is={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>_f(e,"x"),y:(t,{transform:e})=>_f(e,"y")};is.translateX=is.x;is.translateY=is.y;const os=new Set;let kf=!1,jf=!1,Cf=!1;function pw(){if(jf){const t=Array.from(os).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const o=aP(s);o.length&&(n.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([a,c])=>{s.getValue(a)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}jf=!1,kf=!1,os.forEach(t=>t.complete(Cf)),os.clear()}function mw(){os.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(jf=!0)})}function lP(){Cf=!0,mw(),pw(),Cf=!1}class Uh{constructor(e,n,s,o,a,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=o,this.element=a,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(os.add(this),kf||(kf=!0,We.read(mw),We.resolveKeyframes(pw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:o}=this;if(e[0]===null){const a=o?.get(),c=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&n){const u=s.readValue(n,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),o&&a===void 0&&o.set(e[0])}eP(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),os.delete(this)}cancel(){this.state==="scheduled"&&(os.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const cP=t=>t.startsWith("--");function uP(t,e,n){cP(e)?t.style.setProperty(e,n):t.style[e]=n}const dP=Eh(()=>window.ScrollTimeline!==void 0),fP={};function hP(t,e){const n=Eh(t);return()=>fP[e]??n()}const gw=hP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vo=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,cv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vo([0,.65,.55,1]),circOut:vo([.55,0,1,.45]),backIn:vo([.31,.01,.66,-.59]),backOut:vo([.33,1.53,.69,.99])};function yw(t,e){if(t)return typeof t=="function"?gw()?dw(t,e):"ease-out":tw(t)?vo(t):Array.isArray(t)?t.map(n=>yw(n,e)||cv.easeOut):cv[t]}function pP(t,e,n,{delay:s=0,duration:o=300,repeat:a=0,repeatType:c="loop",ease:u="easeOut",times:h}={},p=void 0){const m={[e]:n};h&&(m.offset=h);const y=yw(u,o);Array.isArray(y)&&(m.easing=y);const x={delay:s,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:c==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),t.animate(m,x)}function vw(t){return typeof t=="function"&&"applyToOptions"in t}function mP({type:t,...e}){return vw(t)&&gw()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class gP extends Fh{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:o,pseudoElement:a,allowFlatten:c=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!a,this.allowFlatten=c,this.options=e,Th(typeof e.type!="string");const p=mP(e);this.animation=pP(n,s,o,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=$h(o,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):uP(n,s,m),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return en(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+en(e)}get time(){return en(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=An(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&dP()?(this.animation.timeline=e,nn):n(this)}}const xw={anticipate:Xx,backInOut:Qx,circInOut:Zx};function yP(t){return t in xw}function vP(t){typeof t.ease=="string"&&yP(t.ease)&&(t.ease=xw[t.ease])}const uv=10;class xP extends gP{constructor(e){vP(e),hw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:o,element:a,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new Vh({...c,autoplay:!1}),h=An(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-uv).value,u.sample(h).value,uv),u.stop()}}const dv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Nr.test(t)||t==="0")&&!t.startsWith("url("));function wP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function bP(t,e,n,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],c=dv(o,e),u=dv(a,e);return!c||!u?!1:wP(t)||(n==="spring"||vw(n))&&s}function Tf(t){t.duration=0,t.type="keyframes"}const SP=new Set(["opacity","clipPath","filter","transform"]),_P=Eh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function kP(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:o,damping:a,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=e.owner.getProps();return _P()&&n&&SP.has(n)&&(n!=="transform"||!p)&&!h&&!s&&o!=="mirror"&&a!==0&&c!=="inertia"}const jP=40;class CP extends Fh{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:c="loop",keyframes:u,name:h,motionValue:p,element:m,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=It.now();const x={autoplay:e,delay:n,type:s,repeat:o,repeatDelay:a,repeatType:c,name:h,motionValue:p,element:m,...y},w=m?.KeyframeResolver||Uh;this.keyframeResolver=new w(u,(k,S,_)=>this.onKeyframesResolved(k,S,x,!_),h,p,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,o){this.keyframeResolver=void 0;const{name:a,type:c,velocity:u,delay:h,isHandoff:p,onUpdate:m}=s;this.resolvedAt=It.now(),bP(e,a,c,u)||((Zn.instantAnimations||!h)&&m?.($h(e,s,n)),e[0]=e[e.length-1],Tf(s),s.repeat=0);const x={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>jP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},w=!p&&kP(x)?new xP({...x,element:x.motionValue.owner.current}):new Vh(x);w.finished.then(()=>this.notifyFinished()).catch(nn),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),lP()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const TP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function EP(t){const e=TP.exec(t);if(!e)return[,];const[,n,s,o]=e;return[`--${n??s}`,o]}function ww(t,e,n=1){const[s,o]=EP(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const c=a.trim();return zx(c)?parseFloat(c):c}return Ih(o)?ww(o,e,n+1):o}function zh(t,e){return t?.[e]??t?.default??t}const bw=new Set(["width","height","top","left","right","bottom",...Si]),PP={test:t=>t==="auto",parse:t=>t},Sw=t=>e=>e.test(t),_w=[bi,ye,Rn,_r,wE,xE,PP],fv=t=>_w.find(Sw(t));function NP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Wx(t):!0}const AP=new Set(["brightness","contrast","saturate","opacity"]);function RP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Oh)||[];if(!s)return t;const o=n.replace(s,"");let a=AP.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+o+")"}const IP=/\b([a-z-]*)\(.*?\)/gu,Ef={...Nr,getAnimatableNone:t=>{const e=t.match(IP);return e?e.map(RP).join(" "):t}},hv={...bi,transform:Math.round},OP={rotate:_r,rotateX:_r,rotateY:_r,rotateZ:_r,scale:fl,scaleX:fl,scaleY:fl,scaleZ:fl,skew:_r,skewX:_r,skewY:_r,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:Do,originX:ev,originY:ev,originZ:ye},Bh={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,backgroundPositionX:ye,backgroundPositionY:ye,...OP,zIndex:hv,fillOpacity:Do,strokeOpacity:Do,numOctaves:hv},MP={...Bh,color:nt,backgroundColor:nt,outlineColor:nt,fill:nt,stroke:nt,borderColor:nt,borderTopColor:nt,borderRightColor:nt,borderBottomColor:nt,borderLeftColor:nt,filter:Ef,WebkitFilter:Ef},kw=t=>MP[t];function jw(t,e){let n=kw(t);return n!==Ef&&(n=Nr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const LP=new Set(["auto","none","0"]);function DP(t,e,n){let s=0,o;for(;s<t.length&&!o;){const a=t[s];typeof a=="string"&&!LP.has(a)&&$o(a).values.length&&(o=t[s]),s++}if(o&&n)for(const a of e)t[a]=jw(n,o)}class $P extends Uh{constructor(e,n,s,o,a){super(e,n,s,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),Ih(p))){const m=ww(p,n.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!bw.has(s)||e.length!==2)return;const[o,a]=e,c=fv(o),u=fv(a);if(c!==u)if(lv(c)&&lv(u))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else is[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||NP(e[o]))&&s.push(o);s.length&&DP(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=is[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const a=s.length-1,c=s[a];s[a]=is[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,h])=>{e.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function FP(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=n?.[t]??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const Cw=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Tw(t){return Bx(t)&&"offsetHeight"in t}const pv=30,VP=t=>!isNaN(parseFloat(t));class UP{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=It.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=It.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=VP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ph);const s=this.events[e].add(n);return e==="change"?()=>{s(),We.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=It.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,pv);return Hx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fi(t,e){return new UP(t,e)}const{schedule:Wh}=nw(queueMicrotask,!1),hn={x:!1,y:!1};function Ew(){return hn.x||hn.y}function zP(t){return t==="x"||t==="y"?hn[t]?null:(hn[t]=!0,()=>{hn[t]=!1}):hn.x||hn.y?null:(hn.x=hn.y=!0,()=>{hn.x=hn.y=!1})}function Pw(t,e){const n=FP(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[n,o,()=>s.abort()]}function mv(t){return!(t.pointerType==="touch"||Ew())}function BP(t,e,n={}){const[s,o,a]=Pw(t,n),c=u=>{if(!mv(u))return;const{target:h}=u,p=e(h,u);if(typeof p!="function"||!h)return;const m=y=>{mv(y)&&(p(y),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,o)};return s.forEach(u=>{u.addEventListener("pointerenter",c,o)}),a}const Nw=(t,e)=>e?t===e?!0:Nw(t,e.parentElement):!1,Hh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,WP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function HP(t){return WP.has(t.tagName)||t.tabIndex!==-1}const El=new WeakSet;function gv(t){return e=>{e.key==="Enter"&&t(e)}}function Md(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const GP=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=gv(()=>{if(El.has(n))return;Md(n,"down");const o=gv(()=>{Md(n,"up")}),a=()=>Md(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function yv(t){return Hh(t)&&!Ew()}function KP(t,e,n={}){const[s,o,a]=Pw(t,n),c=u=>{const h=u.currentTarget;if(!yv(u))return;El.add(h);const p=e(h,u),m=(w,k)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",x),El.has(h)&&El.delete(h),yv(w)&&typeof p=="function"&&p(w,{success:k})},y=w=>{m(w,h===window||h===document||n.useGlobalTarget||Nw(h,w.target))},x=w=>{m(w,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",x,o)};return s.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",c,o),Tw(u)&&(u.addEventListener("focus",p=>GP(p,o)),!HP(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function Aw(t){return Bx(t)&&"ownerSVGElement"in t}function qP(t){return Aw(t)&&t.tagName==="svg"}const bt=t=>!!(t&&t.getVelocity),YP=[..._w,nt,Nr],QP=t=>YP.find(Sw(t)),Gh=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function vv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function XP(...t){return e=>{let n=!1;const s=t.map(o=>{const a=vv(o,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<s.length;o++){const a=s[o];typeof a=="function"?a():vv(t[o],null)}}}}function JP(...t){return b.useCallback(XP(...t),t)}class ZP extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=Tw(s)&&s.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=o-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function eN({children:t,isPresent:e,anchorX:n,root:s}){const o=b.useId(),a=b.useRef(null),c=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=b.useContext(Gh),h=JP(a,t?.ref);return b.useInsertionEffect(()=>{const{width:p,height:m,top:y,left:x,right:w}=c.current;if(e||!a.current||!p||!m)return;const k=n==="left"?`left: ${x}`:`right: ${w}`;a.current.dataset.motionPopId=o;const S=document.createElement("style");u&&(S.nonce=u);const _=s??document.head;return _.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${m}px !important;
            ${k}px !important;
            top: ${y}px !important;
          }
        `),()=>{_.contains(S)&&_.removeChild(S)}},[e]),d.jsx(ZP,{isPresent:e,childRef:a,sizeRef:c,children:b.cloneElement(t,{ref:h})})}const tN=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:a,mode:c,anchorX:u,root:h})=>{const p=_h(nN),m=b.useId();let y=!0,x=b.useMemo(()=>(y=!1,{id:m,initial:e,isPresent:n,custom:o,onExitComplete:w=>{p.set(w,!0);for(const k of p.values())if(!k)return;s&&s()},register:w=>(p.set(w,!1),()=>p.delete(w))}),[n,p,s]);return a&&y&&(x={...x}),b.useMemo(()=>{p.forEach((w,k)=>p.set(k,!1))},[n]),b.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),c==="popLayout"&&(t=d.jsx(eN,{isPresent:n,anchorX:u,root:h,children:t})),d.jsx(lc.Provider,{value:x,children:t})};function nN(){return new Map}function Rw(t=!0){const e=b.useContext(lc);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=e,a=b.useId();b.useEffect(()=>{if(t)return o(a)},[t]);const c=b.useCallback(()=>t&&s&&s(a),[a,s,t]);return!n&&s?[!1,c]:[!0]}const hl=t=>t.key||"";function xv(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const hi=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:a="sync",propagate:c=!1,anchorX:u="left",root:h})=>{const[p,m]=Rw(c),y=b.useMemo(()=>xv(t),[t]),x=c&&!p?[]:y.map(hl),w=b.useRef(!0),k=b.useRef(y),S=_h(()=>new Map),[_,T]=b.useState(y),[P,C]=b.useState(y);Ux(()=>{w.current=!1,k.current=y;for(let M=0;M<P.length;M++){const D=hl(P[M]);x.includes(D)?S.delete(D):S.get(D)!==!0&&S.set(D,!1)}},[P,x.length,x.join("-")]);const E=[];if(y!==_){let M=[...y];for(let D=0;D<P.length;D++){const $=P[D],G=hl($);x.includes(G)||(M.splice(D,0,$),E.push($))}return a==="wait"&&E.length&&(M=E),C(xv(M)),T(y),null}const{forceRender:A}=b.useContext(Sh);return d.jsx(d.Fragment,{children:P.map(M=>{const D=hl(M),$=c&&!p?!1:y===P||x.includes(D),G=()=>{if(S.has(D))S.set(D,!0);else return;let Z=!0;S.forEach(fe=>{fe||(Z=!1)}),Z&&(A?.(),C(k.current),c&&m?.(),s&&s())};return d.jsx(tN,{isPresent:$,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:a,root:h,onExitComplete:$?void 0:G,anchorX:u,children:M},D)})})},Iw=b.createContext({strict:!1}),wv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pi={};for(const t in wv)pi[t]={isEnabled:e=>wv[t].some(n=>!!e[n])};function rN(t){for(const e in t)pi[e]={...pi[e],...t[e]}}const sN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||sN.has(t)}let Ow=t=>!Hl(t);function iN(t){typeof t=="function"&&(Ow=e=>e.startsWith("on")?!Hl(e):t(e))}try{iN(require("@emotion/is-prop-valid").default)}catch{}function oN(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(Ow(o)||n===!0&&Hl(o)||!e&&!Hl(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const cc=b.createContext({});function uc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Fo(t){return typeof t=="string"||Array.isArray(t)}const Kh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qh=["initial",...Kh];function dc(t){return uc(t.animate)||qh.some(e=>Fo(t[e]))}function Mw(t){return!!(dc(t)||t.variants)}function aN(t,e){if(dc(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Fo(n)?n:void 0,animate:Fo(s)?s:void 0}}return t.inherit!==!1?e:{}}function lN(t){const{initial:e,animate:n}=aN(t,b.useContext(cc));return b.useMemo(()=>({initial:e,animate:n}),[bv(e),bv(n)])}function bv(t){return Array.isArray(t)?t.join(" "):t}const Vo={};function cN(t){for(const e in t)Vo[e]=t[e],Rh(e)&&(Vo[e].isCSSVariable=!0)}function Lw(t,{layout:e,layoutId:n}){return _i.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vo[t]||t==="opacity")}const uN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dN=Si.length;function fN(t,e,n){let s="",o=!0;for(let a=0;a<dN;a++){const c=Si[a],u=t[c];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(c.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const p=Cw(u,Bh[c]);if(!h){o=!1;const m=uN[c]||c;s+=`${m}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,o?"":s):o&&(s="none"),s}function Yh(t,e,n){const{style:s,vars:o,transformOrigin:a}=t;let c=!1,u=!1;for(const h in e){const p=e[h];if(_i.has(h)){c=!0;continue}else if(Rh(h)){o[h]=p;continue}else{const m=Cw(p,Bh[h]);h.startsWith("origin")?(u=!0,a[h]=m):s[h]=m}}if(e.transform||(c||n?s.transform=fN(e,t.transform,n):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:m=0}=a;s.transformOrigin=`${h} ${p} ${m}`}}const Qh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Dw(t,e,n){for(const s in e)!bt(e[s])&&!Lw(s,n)&&(t[s]=e[s])}function hN({transformTemplate:t},e){return b.useMemo(()=>{const n=Qh();return Yh(n,e,t),Object.assign({},n.vars,n.style)},[e])}function pN(t,e){const n=t.style||{},s={};return Dw(s,n,t),Object.assign(s,hN(t,e)),s}function mN(t,e){const n={},s=pN(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const gN={offset:"stroke-dashoffset",array:"stroke-dasharray"},yN={offset:"strokeDashoffset",array:"strokeDasharray"};function vN(t,e,n=1,s=0,o=!0){t.pathLength=1;const a=o?gN:yN;t[a.offset]=ye.transform(-s);const c=ye.transform(e),u=ye.transform(n);t[a.array]=`${c} ${u}`}function $w(t,{attrX:e,attrY:n,attrScale:s,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...u},h,p,m){if(Yh(t,u,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:x}=t;y.transform&&(x.transform=y.transform,delete y.transform),(x.transform||y.transformOrigin)&&(x.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),x.transform&&(x.transformBox=m?.transformBox??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),s!==void 0&&(y.scale=s),o!==void 0&&vN(y,o,a,c,!1)}const Fw=()=>({...Qh(),attrs:{}}),Vw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function xN(t,e,n,s){const o=b.useMemo(()=>{const a=Fw();return $w(a,e,Vw(s),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};Dw(a,t.style,t),o.style={...a,...o.style}}return o}const wN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xh(t){return typeof t!="string"||t.includes("-")?!1:!!(wN.indexOf(t)>-1||/[A-Z]/u.test(t))}function bN(t,e,n,{latestValues:s},o,a=!1){const u=(Xh(t)?xN:mN)(e,s,o,t),h=oN(e,typeof t=="string",a),p=t!==b.Fragment?{...h,...u,ref:n}:{},{children:m}=e,y=b.useMemo(()=>bt(m)?m.get():m,[m]);return b.createElement(t,{...p,children:y})}function Sv(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Jh(t,e,n,s){if(typeof e=="function"){const[o,a]=Sv(s);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=Sv(s);e=e(n!==void 0?n:t.custom,o,a)}return e}function Pl(t){return bt(t)?t.get():t}function SN({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,o){return{latestValues:_N(n,s,o,t),renderState:e()}}function _N(t,e,n,s){const o={},a=s(t,{});for(const x in a)o[x]=Pl(a[x]);let{initial:c,animate:u}=t;const h=dc(t),p=Mw(t);e&&p&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||c===!1;const y=m?u:c;if(y&&typeof y!="boolean"&&!uc(y)){const x=Array.isArray(y)?y:[y];for(let w=0;w<x.length;w++){const k=Jh(t,x[w]);if(k){const{transitionEnd:S,transition:_,...T}=k;for(const P in T){let C=T[P];if(Array.isArray(C)){const E=m?C.length-1:0;C=C[E]}C!==null&&(o[P]=C)}for(const P in S)o[P]=S[P]}}}return o}const Uw=t=>(e,n)=>{const s=b.useContext(cc),o=b.useContext(lc),a=()=>SN(t,e,s,o);return n?a():_h(a)};function Zh(t,e,n){const{style:s}=t,o={};for(const a in s)(bt(s[a])||e.style&&bt(e.style[a])||Lw(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(o[a]=s[a]);return o}const kN=Uw({scrapeMotionValuesFromProps:Zh,createRenderState:Qh});function zw(t,e,n){const s=Zh(t,e,n);for(const o in t)if(bt(t[o])||bt(e[o])){const a=Si.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[a]=t[o]}return s}const jN=Uw({scrapeMotionValuesFromProps:zw,createRenderState:Fw}),CN=Symbol.for("motionComponentSymbol");function ri(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function TN(t,e,n){return b.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):ri(n)&&(n.current=s))},[e])}const ep=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),EN="framerAppearId",Bw="data-"+ep(EN),Ww=b.createContext({});function PN(t,e,n,s,o){const{visualElement:a}=b.useContext(cc),c=b.useContext(Iw),u=b.useContext(lc),h=b.useContext(Gh).reducedMotion,p=b.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const m=p.current,y=b.useContext(Ww);m&&!m.projection&&o&&(m.type==="html"||m.type==="svg")&&NN(p.current,n,o,y);const x=b.useRef(!1);b.useInsertionEffect(()=>{m&&x.current&&m.update(n,u)});const w=n[Bw],k=b.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return Ux(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),k.current&&m.animationState&&m.animationState.animateChanges())}),b.useEffect(()=>{m&&(!k.current&&m.animationState&&m.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),k.current=!1),m.enteringChildren=void 0)}),m}function NN(t,e,n,s){const{layoutId:o,layout:a,drag:c,dragConstraints:u,layoutScroll:h,layoutRoot:p,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Hw(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!c||u&&ri(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:m,layoutScroll:h,layoutRoot:p})}function Hw(t){if(t)return t.options.allowProjection!==!1?t.projection:Hw(t.parent)}function Ld(t,{forwardMotionProps:e=!1}={},n,s){n&&rN(n);const o=Xh(t)?jN:kN;function a(u,h){let p;const m={...b.useContext(Gh),...u,layoutId:AN(u)},{isStatic:y}=m,x=lN(u),w=o(u,y);if(!y&&kh){RN();const k=IN(m);p=k.MeasureLayout,x.visualElement=PN(t,w,m,s,k.ProjectionNode)}return d.jsxs(cc.Provider,{value:x,children:[p&&x.visualElement?d.jsx(p,{visualElement:x.visualElement,...m}):null,bN(t,u,TN(w,x.visualElement,h),w,y,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=b.forwardRef(a);return c[CN]=t,c}function AN({layoutId:t}){const e=b.useContext(Sh).id;return e&&t!==void 0?e+"-"+t:t}function RN(t,e){b.useContext(Iw).strict}function IN(t){const{drag:e,layout:n}=pi;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function ON(t,e){if(typeof Proxy>"u")return Ld;const n=new Map,s=(a,c)=>Ld(a,c,t,e),o=(a,c)=>s(a,c);return new Proxy(o,{get:(a,c)=>c==="create"?s:(n.has(c)||n.set(c,Ld(c,void 0,t,e)),n.get(c))})}function Gw({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function MN({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function LN(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Dd(t){return t===void 0||t===1}function Pf({scale:t,scaleX:e,scaleY:n}){return!Dd(t)||!Dd(e)||!Dd(n)}function Zr(t){return Pf(t)||Kw(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Kw(t){return _v(t.x)||_v(t.y)}function _v(t){return t&&t!=="0%"}function Gl(t,e,n){const s=t-n,o=e*s;return n+o}function kv(t,e,n,s,o){return o!==void 0&&(t=Gl(t,o,s)),Gl(t,n,s)+e}function Nf(t,e=0,n=1,s,o){t.min=kv(t.min,e,n,s,o),t.max=kv(t.max,e,n,s,o)}function qw(t,{x:e,y:n}){Nf(t.x,e.translate,e.scale,e.originPoint),Nf(t.y,n.translate,n.scale,n.originPoint)}const jv=.999999999999,Cv=1.0000000000001;function DN(t,e,n,s=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,c;for(let u=0;u<o;u++){a=n[u],c=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ii(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,qw(t,c)),s&&Zr(a.latestValues)&&ii(t,a.latestValues))}e.x<Cv&&e.x>jv&&(e.x=1),e.y<Cv&&e.y>jv&&(e.y=1)}function si(t,e){t.min=t.min+e,t.max=t.max+e}function Tv(t,e,n,s,o=.5){const a=Ke(t.min,t.max,o);Nf(t,e,n,a,s)}function ii(t,e){Tv(t.x,e.x,e.scaleX,e.scale,e.originX),Tv(t.y,e.y,e.scaleY,e.scale,e.originY)}function Yw(t,e){return Gw(LN(t.getBoundingClientRect(),e))}function $N(t,e,n){const s=Yw(t,n),{scroll:o}=e;return o&&(si(s.x,o.offset.x),si(s.y,o.offset.y)),s}const Ev=()=>({translate:0,scale:1,origin:0,originPoint:0}),oi=()=>({x:Ev(),y:Ev()}),Pv=()=>({min:0,max:0}),Je=()=>({x:Pv(),y:Pv()}),Af={current:null},Qw={current:!1};function FN(){if(Qw.current=!0,!!kh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Af.current=t.matches;t.addEventListener("change",e),e()}else Af.current=!1}const VN=new WeakMap;function UN(t,e,n){for(const s in e){const o=e[s],a=n[s];if(bt(o))t.addValue(s,o);else if(bt(a))t.addValue(s,fi(o,{owner:t}));else if(a!==o)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(s);t.addValue(s,fi(c!==void 0?c:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Nv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zN{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:a,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Uh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=It.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,We.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=dc(n),this.isVariantNode=Mw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in y){const w=y[x];h[x]!==void 0&&bt(w)&&w.set(h[x])}}mount(e){this.current=e,VN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Qw.current||FN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Af.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Pr(this.notifyUpdate),Pr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=_i.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&We.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in pi){const n=pi[e];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Je()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Nv.length;s++){const o=Nv[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,c=e[a];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=UN(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=fi(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(zx(s)||Wx(s))?s=parseFloat(s):!QP(s)&&Nr.test(n)&&(s=jw(e,n)),this.setBaseTarget(e,bt(s)?s.get():s)),bt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=Jh(this.props,n,this.presenceContext?.custom);a&&(s=a[e])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!bt(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ph),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Wh.render(this.render)}}class Xw extends zN{constructor(){super(...arguments),this.KeyframeResolver=$P}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Jw(t,{style:e,vars:n},s,o){const a=t.style;let c;for(c in e)a[c]=e[c];o?.applyProjectionStyles(a,s);for(c in n)a.setProperty(c,n[c])}function BN(t){return window.getComputedStyle(t)}class WN extends Xw{constructor(){super(...arguments),this.type="html",this.renderInstance=Jw}readValueFromInstance(e,n){if(_i.has(n))return this.projection?.isProjecting?Sf(n):rP(e,n);{const s=BN(e),o=(Rh(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Yw(e,n)}build(e,n,s){Yh(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Zh(e,n,s)}}const Zw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HN(t,e,n,s){Jw(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(Zw.has(o)?o:ep(o),e.attrs[o])}class GN extends Xw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Je}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(_i.has(n)){const s=kw(n);return s&&s.default||0}return n=Zw.has(n)?n:ep(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return zw(e,n,s)}build(e,n,s){$w(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,o){HN(e,n,s,o)}mount(e){this.isSVGTag=Vw(e.tagName),super.mount(e)}}const KN=(t,e)=>Xh(t)?new GN(e):new WN(e,{allowProjection:t!==b.Fragment});function ci(t,e,n){const s=t.getProps();return Jh(s,e,n!==void 0?n:s.custom,t)}const Rf=t=>Array.isArray(t);function qN(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,fi(n))}function YN(t){return Rf(t)?t[t.length-1]||0:t}function QN(t,e){const n=ci(t,e);let{transitionEnd:s={},transition:o={},...a}=n||{};a={...a,...s};for(const c in a){const u=YN(a[c]);qN(t,c,u)}}function XN(t){return!!(bt(t)&&t.add)}function If(t,e){const n=t.getValue("willChange");if(XN(n))return n.add(e);if(!n&&Zn.WillChange){const s=new Zn.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function eb(t){return t.props[Bw]}const JN=t=>t!==null;function ZN(t,{repeat:e,repeatType:n="loop"},s){const o=t.filter(JN),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[a]}const eA={type:"spring",stiffness:500,damping:25,restSpeed:10},tA=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),nA={type:"keyframes",duration:.8},rA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sA=(t,{keyframes:e})=>e.length>2?nA:_i.has(t)?t.startsWith("scale")?tA(e[1]):eA:rA;function iA({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:a,repeatType:c,repeatDelay:u,from:h,elapsed:p,...m}){return!!Object.keys(m).length}const tp=(t,e,n,s={},o,a)=>c=>{const u=zh(s,t)||{},h=u.delay||s.delay||0;let{elapsed:p=0}=s;p=p-An(h);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:x=>{e.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:o};iA(u)||Object.assign(m,sA(t,m)),m.duration&&(m.duration=An(m.duration)),m.repeatDelay&&(m.repeatDelay=An(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Tf(m),m.delay===0&&(y=!0)),(Zn.instantAnimations||Zn.skipAnimations)&&(y=!0,Tf(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,y&&!a&&e.get()!==void 0){const x=ZN(m.keyframes,u);if(x!==void 0){We.update(()=>{m.onUpdate(x),m.onComplete()});return}}return u.isSync?new Vh(m):new CP(m)};function oA({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function tb(t,e,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:c,...u}=e;s&&(a=s);const h=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const m in u){const y=t.getValue(m,t.latestValues[m]??null),x=u[m];if(x===void 0||p&&oA(p,m))continue;const w={delay:n,...zh(a||{},m)},k=y.get();if(k!==void 0&&!y.isAnimating&&!Array.isArray(x)&&x===k&&!w.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const T=eb(t);if(T){const P=window.MotionHandoffAnimation(T,m,We);P!==null&&(w.startTime=P,S=!0)}}If(t,m),y.start(tp(m,y,x,t.shouldReduceMotion&&bw.has(m)?{type:!1}:w,t,S));const _=y.animation;_&&h.push(_)}return c&&Promise.all(h).then(()=>{We.update(()=>{c&&QN(t,c)})}),h}function nb(t,e,n,s=0,o=1){const a=Array.from(t).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),c=t.size,u=(c-1)*s;return typeof n=="function"?n(a,c):o===1?a*s:u-a*s}function Of(t,e,n={}){const s=ci(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const a=s?()=>Promise.all(tb(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:y}=o;return aA(t,e,h,p,m,y,n)}:()=>Promise.resolve(),{when:u}=o;if(u){const[h,p]=u==="beforeChildren"?[a,c]:[c,a];return h().then(()=>p())}else return Promise.all([a(),c(n.delay)])}function aA(t,e,n=0,s=0,o=0,a=1,c){const u=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),u.push(Of(h,e,{...c,delay:n+(typeof s=="function"?0:s)+nb(t.variantChildren,h,s,o,a)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(u)}function lA(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(a=>Of(t,a,n));s=Promise.all(o)}else if(typeof e=="string")s=Of(t,e,n);else{const o=typeof e=="function"?ci(t,e,n.custom):e;s=Promise.all(tb(t,o,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function rb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const cA=qh.length;function sb(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?sb(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<cA;n++){const s=qh[n],o=t.props[s];(Fo(o)||o===!1)&&(e[s]=o)}return e}const uA=[...Kh].reverse(),dA=Kh.length;function fA(t){return e=>Promise.all(e.map(({animation:n,options:s})=>lA(t,n,s)))}function hA(t){let e=fA(t),n=Av(),s=!0;const o=h=>(p,m)=>{const y=ci(t,m,h==="exit"?t.presenceContext?.custom:void 0);if(y){const{transition:x,transitionEnd:w,...k}=y;p={...p,...k,...w}}return p};function a(h){e=h(t)}function c(h){const{props:p}=t,m=sb(t.parent)||{},y=[],x=new Set;let w={},k=1/0;for(let _=0;_<dA;_++){const T=uA[_],P=n[T],C=p[T]!==void 0?p[T]:m[T],E=Fo(C),A=T===h?P.isActive:null;A===!1&&(k=_);let M=C===m[T]&&C!==p[T]&&E;if(M&&s&&t.manuallyAnimateOnMount&&(M=!1),P.protectedKeys={...w},!P.isActive&&A===null||!C&&!P.prevProp||uc(C)||typeof C=="boolean")continue;const D=pA(P.prevProp,C);let $=D||T===h&&P.isActive&&!M&&E||_>k&&E,G=!1;const Z=Array.isArray(C)?C:[C];let fe=Z.reduce(o(T),{});A===!1&&(fe={});const{prevResolvedValues:be={}}=P,me={...be,...fe},ge=B=>{$=!0,x.has(B)&&(G=!0,x.delete(B)),P.needsAnimating[B]=!0;const I=t.getValue(B);I&&(I.liveStyle=!1)};for(const B in me){const I=fe[B],H=be[B];if(w.hasOwnProperty(B))continue;let V=!1;Rf(I)&&Rf(H)?V=!rb(I,H):V=I!==H,V?I!=null?ge(B):x.add(B):I!==void 0&&x.has(B)?ge(B):P.protectedKeys[B]=!0}P.prevProp=C,P.prevResolvedValues=fe,P.isActive&&(w={...w,...fe}),s&&t.blockInitialAnimation&&($=!1);const Q=M&&D;$&&(!Q||G)&&y.push(...Z.map(B=>{const I={type:T};if(typeof B=="string"&&s&&!Q&&t.manuallyAnimateOnMount&&t.parent){const{parent:H}=t,V=ci(H,B);if(H.enteringChildren&&V){const{delayChildren:N}=V.transition||{};I.delay=nb(H.enteringChildren,t,N)}}return{animation:B,options:I}}))}if(x.size){const _={};if(typeof p.initial!="boolean"){const T=ci(t,Array.isArray(p.initial)?p.initial[0]:p.initial);T&&T.transition&&(_.transition=T.transition)}x.forEach(T=>{const P=t.getBaseTarget(T),C=t.getValue(T);C&&(C.liveStyle=!0),_[T]=P??null}),y.push({animation:_})}let S=!!y.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(S=!1),s=!1,S?e(y):Promise.resolve()}function u(h,p){if(n[h].isActive===p)return Promise.resolve();t.variantChildren?.forEach(y=>y.animationState?.setActive(h,p)),n[h].isActive=p;const m=c(h);for(const y in n)n[y].protectedKeys={};return m}return{animateChanges:c,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Av(),s=!0}}}function pA(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!rb(e,t):!1}function Yr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Av(){return{animate:Yr(!0),whileInView:Yr(),whileHover:Yr(),whileTap:Yr(),whileDrag:Yr(),whileFocus:Yr(),exit:Yr()}}class Ir{constructor(e){this.isMounted=!1,this.node=e}update(){}}class mA extends Ir{constructor(e){super(e),e.animationState||(e.animationState=hA(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();uc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let gA=0;class yA extends Ir{constructor(){super(...arguments),this.id=gA++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const vA={animation:{Feature:mA},exit:{Feature:yA}};function Uo(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Yo(t){return{point:{x:t.pageX,y:t.pageY}}}const xA=t=>e=>Hh(e)&&t(e,Yo(e));function To(t,e,n,s){return Uo(t,e,xA(n),s)}const ib=1e-4,wA=1-ib,bA=1+ib,ob=.01,SA=0-ob,_A=0+ob;function kt(t){return t.max-t.min}function kA(t,e,n){return Math.abs(t-e)<=n}function Rv(t,e,n,s=.5){t.origin=s,t.originPoint=Ke(e.min,e.max,t.origin),t.scale=kt(n)/kt(e),t.translate=Ke(n.min,n.max,t.origin)-t.originPoint,(t.scale>=wA&&t.scale<=bA||isNaN(t.scale))&&(t.scale=1),(t.translate>=SA&&t.translate<=_A||isNaN(t.translate))&&(t.translate=0)}function Eo(t,e,n,s){Rv(t.x,e.x,n.x,s?s.originX:void 0),Rv(t.y,e.y,n.y,s?s.originY:void 0)}function Iv(t,e,n){t.min=n.min+e.min,t.max=t.min+kt(e)}function jA(t,e,n){Iv(t.x,e.x,n.x),Iv(t.y,e.y,n.y)}function Ov(t,e,n){t.min=e.min-n.min,t.max=t.min+kt(e)}function Po(t,e,n){Ov(t.x,e.x,n.x),Ov(t.y,e.y,n.y)}function Xt(t){return[t("x"),t("y")]}const ab=({current:t})=>t?t.ownerDocument.defaultView:null,Mv=(t,e)=>Math.abs(t-e);function CA(t,e){const n=Mv(t.x,e.x),s=Mv(t.y,e.y);return Math.sqrt(n**2+s**2)}class lb{constructor(e,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Fd(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,k=CA(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!k)return;const{point:S}=x,{timestamp:_}=gt;this.history.push({...S,timestamp:_});const{onStart:T,onMove:P}=this.handlers;w||(T&&T(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,x)},this.handlePointerMove=(x,w)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=$d(w,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(x,w)=>{this.end();const{onEnd:k,onSessionEnd:S,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Fd(x.type==="pointercancel"?this.lastMoveEventInfo:$d(w,this.transformPagePoint),this.history);this.startEvent&&k&&k(x,T),S&&S(x,T)},!Hh(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=o||window;const u=Yo(e),h=$d(u,this.transformPagePoint),{point:p}=h,{timestamp:m}=gt;this.history=[{...p,timestamp:m}];const{onSessionStart:y}=n;y&&y(e,Fd(h,this.history)),this.removeListeners=Go(To(this.contextWindow,"pointermove",this.handlePointerMove),To(this.contextWindow,"pointerup",this.handlePointerUp),To(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Pr(this.updatePoint)}}function $d(t,e){return e?{point:e(t.point)}:t}function Lv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Fd({point:t},e){return{point:t,delta:Lv(t,cb(e)),offset:Lv(t,TA(e)),velocity:EA(e,.1)}}function TA(t){return t[0]}function cb(t){return t[t.length-1]}function EA(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=cb(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>An(e)));)n--;if(!s)return{x:0,y:0};const a=en(o.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const c={x:(o.x-s.x)/a,y:(o.y-s.y)/a};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function PA(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Ke(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Ke(n,t,s.max):Math.min(t,n)),t}function Dv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function NA(t,{top:e,left:n,bottom:s,right:o}){return{x:Dv(t.x,n,o),y:Dv(t.y,e,s)}}function $v(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function AA(t,e){return{x:$v(t.x,e.x),y:$v(t.y,e.y)}}function RA(t,e){let n=.5;const s=kt(t),o=kt(e);return o>s?n=Lo(e.min,e.max-s,t.min):s>o&&(n=Lo(t.min,t.max-o,e.min)),Jn(0,1,n)}function IA(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Mf=.35;function OA(t=Mf){return t===!1?t=0:t===!0&&(t=Mf),{x:Fv(t,"left","right"),y:Fv(t,"top","bottom")}}function Fv(t,e,n){return{min:Vv(t,e),max:Vv(t,n)}}function Vv(t,e){return typeof t=="number"?t:t[e]||0}const MA=new WeakMap;class LA{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Je(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Yo(y).point)},c=(y,x)=>{const{drag:w,dragPropagation:k,onDragStart:S}=this.getProps();if(w&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zP(w),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xt(T=>{let P=this.getAxisMotionValue(T).get()||0;if(Rn.test(P)){const{projection:C}=this.visualElement;if(C&&C.layout){const E=C.layout.layoutBox[T];E&&(P=kt(E)*(parseFloat(P)/100))}}this.originPoint[T]=P}),S&&We.postRender(()=>S(y,x)),If(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},u=(y,x)=>{this.latestPointerEvent=y,this.latestPanInfo=x;const{dragPropagation:w,dragDirectionLock:k,onDirectionLock:S,onDrag:_}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:T}=x;if(k&&this.currentDirection===null){this.currentDirection=DA(T),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",x.point,T),this.updateAxis("y",x.point,T),this.visualElement.render(),_&&_(y,x)},h=(y,x)=>{this.latestPointerEvent=y,this.latestPanInfo=x,this.stop(y,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Xt(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new lb(e,{onSessionStart:a,onStart:c,onMove:u,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:s,contextWindow:ab(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,o=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!s)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&We.postRender(()=>u(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!pl(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=PA(c,this.constraints[e],this.elastic[e])),a.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&ri(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=NA(s.layoutBox,e):this.constraints=!1,this.elastic=OA(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Xt(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=IA(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ri(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=$N(s,o.root,this.visualElement.getTransformPagePoint());let c=AA(o.layout.layoutBox,a);if(n){const u=n(MN(c));this.hasMutatedConstraints=!!u,u&&(c=Gw(u))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:a,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},p=Xt(m=>{if(!pl(m,n,this.currentDirection))return;let y=h&&h[m]||{};c&&(y={min:0,max:0});const x=o?200:1e6,w=o?40:1e7,k={type:"inertia",velocity:s?e[m]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(m,k)});return Promise.all(p).then(u)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return If(this.visualElement,e),s.start(tp(e,s,0,n,this.visualElement,!1))}stopAnimation(){Xt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xt(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Xt(n=>{const{drag:s}=this.getProps();if(!pl(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:u}=o.layout.layoutBox[n];a.set(e[n]-Ke(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ri(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Xt(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const h=u.get();o[c]=RA({min:h,max:h},this.constraints[c])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Xt(c=>{if(!pl(c,e,null))return;const u=this.getAxisMotionValue(c),{min:h,max:p}=this.constraints[c];u.set(Ke(h,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;MA.set(this.visualElement,this);const e=this.visualElement.current,n=To(e,"pointerdown",h=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();ri(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),We.read(s);const c=Uo(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Xt(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=h[m].translate,y.set(y.get()+h[m].translate))}),this.visualElement.render())}));return()=>{c(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:c=Mf,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:a,dragElastic:c,dragMomentum:u}}}function pl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function DA(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class $A extends Ir{constructor(e){super(e),this.removeGroupControls=nn,this.removeListeners=nn,this.controls=new LA(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Uv=t=>(e,n)=>{t&&We.postRender(()=>t(e,n))};class FA extends Ir{constructor(){super(...arguments),this.removePointerDownListener=nn}onPointerDown(e){this.session=new lb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ab(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Uv(e),onStart:Uv(n),onMove:s,onEnd:(a,c)=>{delete this.session,o&&We.postRender(()=>o(a,c))}}}mount(){this.removePointerDownListener=To(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const mo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ye.test(t))t=parseFloat(t);else return t;const n=zv(t,e.target.x),s=zv(t,e.target.y);return`${n}% ${s}%`}},VA={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,o=Nr.parse(t);if(o.length>5)return s;const a=Nr.createTransformer(t),c=typeof o[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;o[0+c]/=u,o[1+c]/=h;const p=Ke(u,h,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),a(o)}};let Vd=!1;class UA extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:a}=e;cN(zA),a&&(n.group&&n.group.add(a),s&&s.register&&o&&s.register(a),Vd&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Nl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:a}=this.props,{projection:c}=s;return c&&(c.isPresent=a,Vd=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==a?c.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?c.promote():c.relegate()||We.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Wh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;Vd=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ub(t){const[e,n]=Rw(),s=b.useContext(Sh);return d.jsx(UA,{...t,layoutGroup:s,switchLayoutGroup:b.useContext(Ww),isPresent:e,safeToRemove:n})}const zA={borderRadius:{...mo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mo,borderTopRightRadius:mo,borderBottomLeftRadius:mo,borderBottomRightRadius:mo,boxShadow:VA};function BA(t,e,n){const s=bt(t)?t:fi(t);return s.start(tp("",s,e,n)),s.animation}const WA=(t,e)=>t.depth-e.depth;class HA{constructor(){this.children=[],this.isDirty=!1}add(e){jh(this.children,e),this.isDirty=!0}remove(e){Ch(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(WA),this.isDirty=!1,this.children.forEach(e)}}function GA(t,e){const n=It.now(),s=({timestamp:o})=>{const a=o-n;a>=e&&(Pr(s),t(a-e))};return We.setup(s,!0),()=>Pr(s)}const db=["TopLeft","TopRight","BottomLeft","BottomRight"],KA=db.length,Bv=t=>typeof t=="string"?parseFloat(t):t,Wv=t=>typeof t=="number"||ye.test(t);function qA(t,e,n,s,o,a){o?(t.opacity=Ke(0,n.opacity??1,YA(s)),t.opacityExit=Ke(e.opacity??1,0,QA(s))):a&&(t.opacity=Ke(e.opacity??1,n.opacity??1,s));for(let c=0;c<KA;c++){const u=`border${db[c]}Radius`;let h=Hv(e,u),p=Hv(n,u);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||Wv(h)===Wv(p)?(t[u]=Math.max(Ke(Bv(h),Bv(p),s),0),(Rn.test(p)||Rn.test(h))&&(t[u]+="%")):t[u]=p}(e.rotate||n.rotate)&&(t.rotate=Ke(e.rotate||0,n.rotate||0,s))}function Hv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const YA=fb(0,.5,Jx),QA=fb(.5,.95,nn);function fb(t,e,n){return s=>s<t?0:s>e?1:n(Lo(t,e,s))}function Gv(t,e){t.min=e.min,t.max=e.max}function Yt(t,e){Gv(t.x,e.x),Gv(t.y,e.y)}function Kv(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function qv(t,e,n,s,o){return t-=e,t=Gl(t,1/n,s),o!==void 0&&(t=Gl(t,1/o,s)),t}function XA(t,e=0,n=1,s=.5,o,a=t,c=t){if(Rn.test(e)&&(e=parseFloat(e),e=Ke(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=Ke(a.min,a.max,s);t===a&&(u-=e),t.min=qv(t.min,e,n,u,o),t.max=qv(t.max,e,n,u,o)}function Yv(t,e,[n,s,o],a,c){XA(t,e[n],e[s],e[o],e.scale,a,c)}const JA=["x","scaleX","originX"],ZA=["y","scaleY","originY"];function Qv(t,e,n,s){Yv(t.x,e,JA,n?n.x:void 0,s?s.x:void 0),Yv(t.y,e,ZA,n?n.y:void 0,s?s.y:void 0)}function Xv(t){return t.translate===0&&t.scale===1}function hb(t){return Xv(t.x)&&Xv(t.y)}function Jv(t,e){return t.min===e.min&&t.max===e.max}function e2(t,e){return Jv(t.x,e.x)&&Jv(t.y,e.y)}function Zv(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function pb(t,e){return Zv(t.x,e.x)&&Zv(t.y,e.y)}function e0(t){return kt(t.x)/kt(t.y)}function t0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class t2{constructor(){this.members=[]}add(e){jh(this.members,e),e.scheduleRender()}remove(e){if(Ch(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function n2(t,e,n){let s="";const o=t.x.translate/e.x,a=t.y.translate/e.y,c=n?.z||0;if((o||a||c)&&(s=`translate3d(${o}px, ${a}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:y,rotateY:x,skewX:w,skewY:k}=n;p&&(s=`perspective(${p}px) ${s}`),m&&(s+=`rotate(${m}deg) `),y&&(s+=`rotateX(${y}deg) `),x&&(s+=`rotateY(${x}deg) `),w&&(s+=`skewX(${w}deg) `),k&&(s+=`skewY(${k}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(s+=`scale(${u}, ${h})`),s||"none"}const Ud=["","X","Y","Z"],r2=1e3;let s2=0;function zd(t,e,n,s){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function mb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=eb(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",We,!(o||a))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&mb(s)}function gb({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},u=e?.()){this.id=s2++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(a2),this.nodes.forEach(d2),this.nodes.forEach(f2),this.nodes.forEach(l2)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new HA)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ph),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const h=this.eventHandlers.get(c);h&&h.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Aw(c)&&!qP(c),this.instance=c;const{layoutId:u,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),t){let m,y=0;const x=()=>this.root.updateBlockedByResize=!1;We.read(()=>{y=window.innerWidth}),t(c,()=>{const w=window.innerWidth;w!==y&&(y=w,this.root.updateBlockedByResize=!0,m&&m(),m=GA(x,250),Nl.hasAnimatedSinceResize&&(Nl.hasAnimatedSinceResize=!1,this.nodes.forEach(s0)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:x,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||p.getDefaultTransition()||y2,{onLayoutAnimationStart:S,onLayoutAnimationComplete:_}=p.getProps(),T=!this.targetLayout||!pb(this.targetLayout,w),P=!y&&x;if(this.options.layoutRoot||this.resumeFrom||P||y&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...zh(k,"layout"),onPlay:S,onComplete:_};(p.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(m,P)}else y||s0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Pr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(h2),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(n0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(r0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(u2),this.nodes.forEach(i2),this.nodes.forEach(o2)):this.nodes.forEach(r0),this.clearAllSnapshots();const u=It.now();gt.delta=Jn(0,1e3/60,u-gt.timestamp),gt.timestamp=u,gt.isProcessing=!0,Nd.update.process(gt),Nd.preRender.process(gt),Nd.render.process(gt),gt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(c2),this.sharedNodes.forEach(p2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kt(this.snapshot.measuredBox.x)&&!kt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Je(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!hb(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;c&&this.instance&&(u||Zr(this.latestValues)||m)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return c&&(h=this.removeTransform(h)),v2(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Je();const u=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(x2))){const{scroll:p}=this.root;p&&(si(u.x,p.offset.x),si(u.y,p.offset.y))}return u}removeElementScroll(c){const u=Je();if(Yt(u,c),this.scroll?.wasRoot)return u;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:m,options:y}=p;p!==this.root&&m&&y.layoutScroll&&(m.wasRoot&&Yt(u,c),si(u.x,m.offset.x),si(u.y,m.offset.y))}return u}applyTransform(c,u=!1){const h=Je();Yt(h,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&ii(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Zr(m.latestValues)&&ii(h,m.latestValues)}return Zr(this.latestValues)&&ii(h,this.latestValues),h}removeTransform(c){const u=Je();Yt(u,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Zr(p.latestValues))continue;Pf(p.latestValues)&&p.updateSnapshot();const m=Je(),y=p.measurePageBox();Yt(m,y),Qv(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return Zr(this.latestValues)&&Qv(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=gt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Je(),this.relativeTargetOrigin=Je(),Po(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Je(),this.targetWithTransforms=Je()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yt(this.target,this.layout.layoutBox),qw(this.target,this.targetDelta)):Yt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Je(),this.relativeTargetOrigin=Je(),Po(this.relativeTargetOrigin,this.target,x.target),Yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Pf(this.parent.latestValues)||Kw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),u=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===gt.timestamp&&(h=!1),h)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Yt(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,x=this.treeScale.y;DN(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Je());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Kv(this.prevProjectionDelta.x,this.projectionDelta.x),Kv(this.prevProjectionDelta.y,this.projectionDelta.y)),Eo(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==x||!t0(this.projectionDelta.x,this.prevProjectionDelta.x)||!t0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=oi(),this.projectionDelta=oi(),this.projectionDeltaWithTransform=oi()}setAnimationOrigin(c,u=!1){const h=this.snapshot,p=h?h.latestValues:{},m={...this.latestValues},y=oi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=Je(),w=h?h.source:void 0,k=this.layout?this.layout.source:void 0,S=w!==k,_=this.getStack(),T=!_||_.members.length<=1,P=!!(S&&!T&&this.options.crossfade===!0&&!this.path.some(g2));this.animationProgress=0;let C;this.mixTargetDelta=E=>{const A=E/1e3;i0(y.x,c.x,A),i0(y.y,c.y,A),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Po(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),m2(this.relativeTarget,this.relativeTargetOrigin,x,A),C&&e2(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Je()),Yt(C,this.relativeTarget)),S&&(this.animationValues=m,qA(m,p,this.latestValues,A,P,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Pr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{Nl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=fi(0)),this.currentAnimation=BA(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(r2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:h,layout:p,latestValues:m}=c;if(!(!u||!h||!p)){if(this!==c&&this.layout&&p&&yb(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||Je();const y=kt(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+y;const x=kt(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+x}Yt(u,h),ii(u,m),Eo(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new t2),this.sharedNodes.get(c).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const p={};h.z&&zd("z",c,p,this.animationValues);for(let m=0;m<Ud.length;m++)zd(`rotate${Ud[m]}`,c,p,this.animationValues),zd(`skew${Ud[m]}`,c,p,this.animationValues);c.render();for(const m in p)c.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Pl(u?.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Pl(u?.pointerEvents)||""),this.hasProjected&&!Zr(this.latestValues)&&(c.transform=h?h({},""):"none",this.hasProjected=!1);return}c.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=n2(this.projectionDeltaWithTransform,this.treeScale,m);h&&(y=h(m,y)),c.transform=y;const{x,y:w}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${w.origin*100}% 0`,p.animationValues?c.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const k in Vo){if(m[k]===void 0)continue;const{correct:S,applyTo:_,isCSSVariable:T}=Vo[k],P=y==="none"?m[k]:S(m[k],p);if(_){const C=_.length;for(let E=0;E<C;E++)c[_[E]]=P}else T?this.options.visualElement.renderState.vars[k]=P:c[k]=P}this.options.layoutId&&(c.pointerEvents=p===this?Pl(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(n0),this.root.sharedNodes.clear()}}}function i2(t){t.updateLayout()}function o2(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:o}=t.options,a=e.source!==t.layout.source;o==="size"?Xt(m=>{const y=a?e.measuredBox[m]:e.layoutBox[m],x=kt(y);y.min=n[m].min,y.max=y.min+x}):yb(o,e.layoutBox,n)&&Xt(m=>{const y=a?e.measuredBox[m]:e.layoutBox[m],x=kt(n[m]);y.max=y.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+x)});const c=oi();Eo(c,n,e.layoutBox);const u=oi();a?Eo(u,t.applyTransform(s,!0),e.measuredBox):Eo(u,n,e.layoutBox);const h=!hb(c);let p=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:y,layout:x}=m;if(y&&x){const w=Je();Po(w,e.layoutBox,y.layoutBox);const k=Je();Po(k,n,x.layoutBox),pb(w,k)||(p=!0),m.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=w,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function a2(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function l2(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function c2(t){t.clearSnapshot()}function n0(t){t.clearMeasurements()}function r0(t){t.isLayoutDirty=!1}function u2(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function s0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function d2(t){t.resolveTargetDelta()}function f2(t){t.calcProjection()}function h2(t){t.resetSkewAndRotation()}function p2(t){t.removeLeadSnapshot()}function i0(t,e,n){t.translate=Ke(e.translate,0,n),t.scale=Ke(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function o0(t,e,n,s){t.min=Ke(e.min,n.min,s),t.max=Ke(e.max,n.max,s)}function m2(t,e,n,s){o0(t.x,e.x,n.x,s),o0(t.y,e.y,n.y,s)}function g2(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const y2={duration:.45,ease:[.4,0,.1,1]},a0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),l0=a0("applewebkit/")&&!a0("chrome/")?Math.round:nn;function c0(t){t.min=l0(t.min),t.max=l0(t.max)}function v2(t){c0(t.x),c0(t.y)}function yb(t,e,n){return t==="position"||t==="preserve-aspect"&&!kA(e0(e),e0(n),.2)}function x2(t){return t!==t.root&&t.scroll?.wasRoot}const w2=gb({attachResizeListener:(t,e)=>Uo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bd={current:void 0},vb=gb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Bd.current){const t=new w2({});t.mount(window),t.setOptions({layoutScroll:!0}),Bd.current=t}return Bd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),b2={pan:{Feature:FA},drag:{Feature:$A,ProjectionNode:vb,MeasureLayout:ub}};function u0(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=s[o];a&&We.postRender(()=>a(e,Yo(e)))}class S2 extends Ir{mount(){const{current:e}=this.node;e&&(this.unmount=BP(e,(n,s)=>(u0(this.node,s,"Start"),o=>u0(this.node,o,"End"))))}unmount(){}}class _2 extends Ir{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Go(Uo(this.node.current,"focus",()=>this.onFocus()),Uo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function d0(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=s[o];a&&We.postRender(()=>a(e,Yo(e)))}class k2 extends Ir{mount(){const{current:e}=this.node;e&&(this.unmount=KP(e,(n,s)=>(d0(this.node,s,"Start"),(o,{success:a})=>d0(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Lf=new WeakMap,Wd=new WeakMap,j2=t=>{const e=Lf.get(t.target);e&&e(t)},C2=t=>{t.forEach(j2)};function T2({root:t,...e}){const n=t||document;Wd.has(n)||Wd.set(n,{});const s=Wd.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(C2,{root:t,...e})),s[o]}function E2(t,e,n){const s=T2(e);return Lf.set(t,n),s.observe(t),()=>{Lf.delete(t),s.unobserve(t)}}const P2={some:0,all:1};class N2 extends Ir{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:a}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:P2[o]},u=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),x=p?m:y;x&&x(h)};return E2(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(A2(e,n))&&this.startObserver()}unmount(){}}function A2({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const R2={inView:{Feature:N2},tap:{Feature:k2},focus:{Feature:_2},hover:{Feature:S2}},I2={layout:{ProjectionNode:vb,MeasureLayout:ub}},O2={...vA,...R2,...b2,...I2},ve=ON(O2,KN);function M2({onSignUp:t,onSignIn:e,onDemoUser:n}){return d.jsx("div",{className:"min-h-screen bg-background flex flex-col justify-center p-4",children:d.jsx("div",{className:"max-w-4xl mx-auto w-full",children:d.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-center",children:[d.jsxs("div",{className:"space-y-8",children:[d.jsxs(ve.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center lg:text-left",children:[d.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-3 mb-6",children:[d.jsx(ve.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-16 h-16 bg-accent rounded-full flex items-center justify-center",children:d.jsx(Mo,{className:"w-8 h-8 text-accent-foreground"})}),d.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-foreground",children:"VibeTune"})]}),d.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-4",children:[d.jsx("h2",{className:"text-2xl lg:text-3xl font-semibold text-foreground",children:"Master English Prosody with AI"}),d.jsx("p",{className:"text-lg text-muted-foreground",children:"Perfect your pronunciation, rhythm, and intonation through personalized AI conversations"}),d.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-2 pt-2",children:[d.jsx(ze,{className:"bg-success text-success-foreground",children:"🤖 AI-Powered"}),d.jsx(ze,{variant:"outline",children:"No Setup Required"})]})]})]}),d.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-4 max-w-md mx-auto lg:mx-0",children:[d.jsx(ve.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(ce,{onClick:t,className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",size:"lg",children:[d.jsx(qT,{className:"w-5 h-5 mr-2"}),"Sign Up"]})}),d.jsx(ve.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(ce,{onClick:e,variant:"outline",className:"w-full",size:"lg",children:[d.jsx(cT,{className:"w-5 h-5 mr-2"}),"Log In"]})})]}),n&&d.jsx(ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"max-w-md mx-auto lg:mx-0",children:d.jsxs("div",{className:"border-2 border-success/30 bg-success/10 rounded-lg p-4 space-y-3",children:[d.jsx("p",{className:"text-sm font-medium text-success-foreground text-center",children:"🧪 Testing Mode"}),d.jsx(ce,{onClick:()=>{console.log("🧪 Creating demo user from onboarding...");const s={id:"demo-user-"+Date.now(),email:"demo@vibetune.com",username:"Demo User",level:null,placement_test_completed:!1,created_at:new Date().toISOString(),last_login:new Date().toISOString(),device_id:"demo-device-"+Date.now()};console.log("📝 Demo profile created:",s),console.log("🚀 Calling onDemoUser..."),n(s)},className:"w-full bg-success hover:bg-success/90 text-success-foreground font-semibold",children:"🎭 Skip to App with Demo User"}),d.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Test navigation without authentication"})]})}),d.jsx(ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-center lg:text-left",children:d.jsx("p",{className:"text-xs text-muted-foreground max-w-md mx-auto lg:mx-0",children:"Sign up required to access features • Placement test takes 10-15 minutes and personalizes your experience"})})]}),d.jsx(ve.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:1},className:"hidden lg:block",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-center mb-6",children:"See Your Progress"}),d.jsxs(at,{className:"bg-card/80 backdrop-blur-sm",children:[d.jsx(gn,{className:"pb-3",children:d.jsxs(Zt,{className:"flex items-center gap-2 text-lg",children:[d.jsx(Nn,{className:"w-5 h-5 text-success"}),"Your Progress"]})}),d.jsxs(lt,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm",children:"Prosody Score"}),d.jsx(ze,{className:"bg-success text-success-foreground",children:"85%"})]}),d.jsx(oc,{value:85,className:"h-2"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm",children:"Current Level"}),d.jsx(ze,{variant:"outline",children:"Intermediate"})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm",children:"Practice Sessions"}),d.jsx("span",{className:"text-sm font-medium",children:"12 completed"})]})]})]})]}),d.jsxs(at,{className:"bg-card/80 backdrop-blur-sm",children:[d.jsx(gn,{className:"pb-3",children:d.jsxs(Zt,{className:"flex items-center gap-2 text-lg",children:[d.jsx(ti,{className:"w-5 h-5 text-accent"}),"AI Feedback"]})}),d.jsxs(lt,{children:[d.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mb-3",children:d.jsxs("p",{className:"text-sm",children:['"I went to the ',d.jsx("span",{className:"bg-destructive/20 px-1 rounded",children:"store"}),' yesterday."']})}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(Qy,{className:"w-4 h-4 text-accent mt-0.5 flex-shrink-0"}),d.jsx("p",{className:"text-xs",children:'Try emphasizing "store" with rising intonation'})]}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(Qy,{className:"w-4 h-4 text-success mt-0.5 flex-shrink-0"}),d.jsx("p",{className:"text-xs",children:'Great rhythm on "yesterday"!'})]})]})]})]})]})})]})})})}function ai({className:t,type:e,...n}){return d.jsx("input",{type:e,"data-slot":"input",className:Ie("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var L2="Label",xb=b.forwardRef((t,e)=>d.jsx(Pe.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));xb.displayName=L2;var D2=xb;function mt({className:t,...e}){return d.jsx(D2,{"data-slot":"label",className:Ie("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}var $2="Separator",f0="horizontal",F2=["horizontal","vertical"],wb=b.forwardRef((t,e)=>{const{decorative:n,orientation:s=f0,...o}=t,a=V2(s)?s:f0,u=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return d.jsx(Pe.div,{"data-orientation":a,...u,...o,ref:e})});wb.displayName=$2;function V2(t){return F2.includes(t)}var U2=wb;function jn({className:t,orientation:e="horizontal",decorative:n=!0,...s}){return d.jsx(U2,{"data-slot":"separator-root",decorative:n,orientation:e,className:Ie("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...s})}const z2=ph("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function as({className:t,variant:e,...n}){return d.jsx("div",{"data-slot":"alert",role:"alert",className:Ie(z2({variant:e}),t),...n})}function ls({className:t,...e}){return d.jsx("div",{"data-slot":"alert-description",className:Ie("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}const B2="modulepreload",W2=function(t){return"/"+t},h0={},tn=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let c=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");o=c(n.map(p=>{if(p=W2(p),p in h0)return;h0[p]=!0;const m=p.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":B2,m||(x.as="script"),x.crossOrigin="",x.href=p,h&&x.setAttribute("nonce",h),document.head.appendChild(x),m)return new Promise((w,k)=>{x.addEventListener("load",w),x.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return o.then(c=>{for(const u of c||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},H2=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>tn(async()=>{const{default:s}=await Promise.resolve().then(()=>ki);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class np extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class p0 extends np{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class m0 extends np{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class g0 extends np{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Df;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Df||(Df={}));var G2=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{p(s.next(m))}catch(y){c(y)}}function h(m){try{p(s.throw(m))}catch(y){c(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,h)}p((s=s.apply(t,e||[])).next())})};class K2{constructor(e,{headers:n={},customFetch:s,region:o=Df.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=H2(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var s;return G2(this,void 0,void 0,function*(){try{const{headers:o,method:a,body:c,signal:u}=n;let h={},{region:p}=n;p||(p=this.region);const m=new URL(`${this.url}/${e}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let y;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(h["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(h["Content-Type"]="application/json",y=JSON.stringify(c)));const x=yield this.fetch(m.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:y,signal:u}).catch(_=>{throw _.name==="AbortError"?_:new p0(_)}),w=x.headers.get("x-relay-error");if(w&&w==="true")throw new m0(x);if(!x.ok)throw new g0(x);let k=((s=x.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return k==="application/json"?S=yield x.json():k==="application/octet-stream"?S=yield x.blob():k==="text/event-stream"?S=x:k==="multipart/form-data"?S=yield x.formData():S=yield x.text(),{data:S,error:null,response:x}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new p0(o)}:{data:null,error:o,response:o instanceof g0||o instanceof m0?o.context:void 0}}})}}var ft={},Vs={},Us={},zs={},Bs={},Ws={},q2=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},mi=q2();const Y2=mi.fetch,bb=mi.fetch.bind(mi),Sb=mi.Headers,Q2=mi.Request,X2=mi.Response,ki=Object.freeze(Object.defineProperty({__proto__:null,Headers:Sb,Request:Q2,Response:X2,default:bb,fetch:Y2},Symbol.toStringTag,{value:"Module"})),J2=aj(ki);var ml={},y0;function _b(){if(y0)return ml;y0=1,Object.defineProperty(ml,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ml.default=t,ml}var v0;function kb(){if(v0)return Ws;v0=1;var t=Ws&&Ws.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ws,"__esModule",{value:!0});const e=t(J2),n=t(_b());class s{constructor(a){var c,u;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(c=a.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=a.signal,this.isMaybeSingle=(u=a.isMaybeSingle)!==null&&u!==void 0?u:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,c){return this.headers=new Headers(this.headers),this.headers.set(a,c),this}then(a,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let h=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var m,y,x,w;let k=null,S=null,_=null,T=p.status,P=p.statusText;if(p.ok){if(this.method!=="HEAD"){const M=await p.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?S=M:S=JSON.parse(M))}const E=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),A=(x=p.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");E&&A&&A.length>1&&(_=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(k={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,_=null,T=406,P="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const E=await p.text();try{k=JSON.parse(E),Array.isArray(k)&&p.status===404&&(S=[],k=null,T=200,P="OK")}catch{p.status===404&&E===""?(T=204,P="No Content"):k={message:E}}if(k&&this.isMaybeSingle&&(!((w=k?.details)===null||w===void 0)&&w.includes("0 rows"))&&(k=null,T=200,P="OK"),k&&this.shouldThrowOnError)throw new n.default(k)}return{error:k,data:S,count:_,status:T,statusText:P}});return this.shouldThrowOnError||(h=h.catch(p=>{var m,y,x;return{error:{message:`${(m=p?.name)!==null&&m!==void 0?m:"FetchError"}: ${p?.message}`,details:`${(y=p?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(x=p?.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),h.then(a,c)}returns(){return this}overrideTypes(){return this}}return Ws.default=s,Ws}var x0;function jb(){if(x0)return Bs;x0=1;var t=Bs&&Bs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Bs,"__esModule",{value:!0});const e=t(kb());class n extends e.default{select(o){let a=!1;const c=(o??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:a=!0,nullsFirst:c,foreignTable:u,referencedTable:h=u}={}){const p=h?`${h}.order`:"order",m=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${m?`${m},`:""}${o}.${a?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:c=a}={}){const u=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${o}`),this}range(o,a,{foreignTable:c,referencedTable:u=c}={}){const h=typeof u>"u"?"offset":`${u}.offset`,p=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${o}`),this.url.searchParams.set(p,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:a=!1,settings:c=!1,buffers:u=!1,wal:h=!1,format:p="text"}={}){var m;const y=[o?"analyze":null,a?"verbose":null,c?"settings":null,u?"buffers":null,h?"wal":null].filter(Boolean).join("|"),x=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${x}"; options=${y};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Bs.default=n,Bs}var w0;function rp(){if(w0)return zs;w0=1;var t=zs&&zs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(zs,"__esModule",{value:!0});const e=t(jb());class n extends e.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const c=Array.from(new Set(a)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:c,type:u}={}){let h="";u==="plain"?h="pl":u==="phrase"?h="ph":u==="websearch"&&(h="w");const p=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${h}fts${p}.${a}`),this}match(o){return Object.entries(o).forEach(([a,c])=>{this.url.searchParams.append(a,`eq.${c}`)}),this}not(o,a,c){return this.url.searchParams.append(o,`not.${a}.${c}`),this}or(o,{foreignTable:a,referencedTable:c=a}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${o})`),this}filter(o,a,c){return this.url.searchParams.append(o,`${a}.${c}`),this}}return zs.default=n,zs}var b0;function Cb(){if(b0)return Us;b0=1;var t=Us&&Us.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Us,"__esModule",{value:!0});const e=t(rp());class n{constructor(o,{headers:a={},schema:c,fetch:u}){this.url=o,this.headers=new Headers(a),this.schema=c,this.fetch=u}select(o,{head:a=!1,count:c}={}){const u=a?"HEAD":"GET";let h=!1;const p=(o??"*").split("").map(m=>/\s/.test(m)&&!h?"":(m==='"'&&(h=!h),m)).join("");return this.url.searchParams.set("select",p),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:a,defaultToNull:c=!0}={}){var u;const h="POST";if(a&&this.headers.append("Prefer",`count=${a}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(p.length>0){const m=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(o,{onConflict:a,ignoreDuplicates:c=!1,count:u,defaultToNull:h=!0}={}){var p;const m="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),u&&this.headers.append("Prefer",`count=${u}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const y=o.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(y.length>0){const x=[...new Set(y)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:a}={}){var c;const u="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:o}={}){var a;const c="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Us.default=n,Us}var S0;function Z2(){if(S0)return Vs;S0=1;var t=Vs&&Vs.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Vs,"__esModule",{value:!0});const e=t(Cb()),n=t(rp());class s{constructor(a,{headers:c={},schema:u,fetch:h}={}){this.url=a,this.headers=new Headers(c),this.schemaName=u,this.fetch=h}from(a){const c=new URL(`${this.url}/${a}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new s(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,c={},{head:u=!1,get:h=!1,count:p}={}){var m;let y;const x=new URL(`${this.url}/rpc/${a}`);let w;u||h?(y=u?"HEAD":"GET",Object.entries(c).filter(([S,_])=>_!==void 0).map(([S,_])=>[S,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([S,_])=>{x.searchParams.append(S,_)})):(y="POST",w=c);const k=new Headers(this.headers);return p&&k.set("Prefer",`count=${p}`),new n.default({method:y,url:x,headers:k,schema:this.schemaName,body:w,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return Vs.default=s,Vs}var _0;function eR(){if(_0)return ft;_0=1;var t=ft&&ft.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(ft,"__esModule",{value:!0}),ft.PostgrestError=ft.PostgrestBuilder=ft.PostgrestTransformBuilder=ft.PostgrestFilterBuilder=ft.PostgrestQueryBuilder=ft.PostgrestClient=void 0;const e=t(Z2());ft.PostgrestClient=e.default;const n=t(Cb());ft.PostgrestQueryBuilder=n.default;const s=t(rp());ft.PostgrestFilterBuilder=s.default;const o=t(jb());ft.PostgrestTransformBuilder=o.default;const a=t(kb());ft.PostgrestBuilder=a.default;const c=t(_b());return ft.PostgrestError=c.default,ft.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:a.default,PostgrestError:c.default},ft}var tR=eR();const nR=fh(tR),{PostgrestClient:rR,PostgrestQueryBuilder:X4,PostgrestFilterBuilder:J4,PostgrestTransformBuilder:Z4,PostgrestBuilder:e3,PostgrestError:t3}=nR;class sR{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const iR="2.15.5",oR=`realtime-js/${iR}`,aR="1.0.0",$f=1e4,lR=1e3,cR=100;var No;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(No||(No={}));var ot;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ot||(ot={}));var pn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(pn||(pn={}));var Ff;(function(t){t.websocket="websocket"})(Ff||(Ff={}));var ts;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ts||(ts={}));class uR{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const o=n.getUint8(1),a=n.getUint8(2);let c=this.HEADER_LENGTH+2;const u=s.decode(e.slice(c,c+o));c=c+o;const h=s.decode(e.slice(c,c+a));c=c+a;const p=JSON.parse(s.decode(e.slice(c,e.byteLength)));return{ref:null,topic:u,event:h,payload:p}}}class Tb{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})($e||($e={}));const k0=(t,e,n={})=>{var s;const o=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((a,c)=>(a[c]=dR(c,t,e,o),a),{})},dR=(t,e,n,s)=>{const o=e.find(u=>u.name===t),a=o?.type,c=n[t];return a&&!s.includes(a)?Eb(a,c):Vf(c)},Eb=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return mR(e,n)}switch(t){case $e.bool:return fR(e);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return hR(e);case $e.json:case $e.jsonb:return pR(e);case $e.timestamp:return gR(e);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return Vf(e);default:return Vf(e)}},Vf=t=>t,fR=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},hR=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},pR=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},mR=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let a;const c=t.slice(1,n);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(u=>Eb(e,u))}return t},gR=t=>typeof t=="string"?t.replace(" ","T"):t,Pb=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Hd{constructor(e,n,s={},o=$f){this.channel=e,this.event=n,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var j0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(j0||(j0={}));class Ao{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:a,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ao.syncState(this.state,o,a,c),this.pendingDiffs.forEach(h=>{this.state=Ao.syncDiff(this.state,h,a,c)}),this.pendingDiffs=[],u()}),this.channel._on(s.diff,{},o=>{const{onJoin:a,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ao.syncDiff(this.state,o,a,c),u())}),this.onJoin((o,a,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:c})}),this.onLeave((o,a,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,o){const a=this.cloneDeep(e),c=this.transformState(n),u={},h={};return this.map(a,(p,m)=>{c[p]||(h[p]=m)}),this.map(c,(p,m)=>{const y=a[p];if(y){const x=m.map(_=>_.presence_ref),w=y.map(_=>_.presence_ref),k=m.filter(_=>w.indexOf(_.presence_ref)<0),S=y.filter(_=>x.indexOf(_.presence_ref)<0);k.length>0&&(u[p]=k),S.length>0&&(h[p]=S)}else u[p]=m}),this.syncDiff(a,{joins:u,leaves:h},s,o)}static syncDiff(e,n,s,o){const{joins:a,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(a,(u,h)=>{var p;const m=(p=e[u])!==null&&p!==void 0?p:[];if(e[u]=this.cloneDeep(h),m.length>0){const y=e[u].map(w=>w.presence_ref),x=m.filter(w=>y.indexOf(w.presence_ref)<0);e[u].unshift(...x)}s(u,m,h)}),this.map(c,(u,h)=>{let p=e[u];if(!p)return;const m=h.map(y=>y.presence_ref);p=p.filter(y=>m.indexOf(y.presence_ref)<0),e[u]=p,o(u,p,h),p.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const o=e[s];return"metas"in o?n[s]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var C0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(C0||(C0={}));var Ro;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ro||(Ro={}));var Qn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Qn||(Qn={}));class sp{constructor(e,n={config:{}},s){this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Hd(this,pn.join,this.params,this.timeout),this.rejoinTimer=new Tb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pn.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Ao(this),this.broadcastEndpointURL=Pb(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var s,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ot.closed){const{config:{broadcast:c,presence:u,private:h}}=this.params,p=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(w=>w.filter))!==null&&o!==void 0?o:[],m=!!this.bindings[Ro.PRESENCE]&&this.bindings[Ro.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,y={},x={broadcast:c,presence:Object.assign(Object.assign({},u),{enabled:m}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(Qn.CHANNEL_ERROR,w)),this._onClose(()=>e?.(Qn.CLOSED)),this.updateJoinPayload(Object.assign({config:x},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var k;if(this.socket.setAuth(),w===void 0){e?.(Qn.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,_=(k=S?.length)!==null&&k!==void 0?k:0,T=[];for(let P=0;P<_;P++){const C=S[P],{filter:{event:E,schema:A,table:M,filter:D}}=C,$=w&&w[P];if($&&$.event===E&&$.schema===A&&$.table===M&&$.filter===D)T.push(Object.assign(Object.assign({},C),{id:$.id}));else{this.unsubscribe(),this.state=ot.errored,e?.(Qn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(Qn.SUBSCRIBED);return}}).receive("error",w=>{this.state=ot.errored,e?.(Qn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(Qn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===ot.joined&&e===Ro.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,s)}async send(e,n={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:c}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,u,h;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ot.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new Hd(this,pn.leave,{},e),s.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ot.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const o=new AbortController,a=setTimeout(()=>o.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),c}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Hd(this,e,n,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>cR){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var o,a;const c=e.toLocaleLowerCase(),{close:u,error:h,leave:p,join:m}=pn;if(s&&[u,h,p,m].indexOf(c)>=0&&s!==this._joinRef())return;let x=this._onMessage(c,n,s);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var k,S,_;return((k=w.filter)===null||k===void 0?void 0:k.event)==="*"||((_=(S=w.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===c}).map(w=>w.callback(x,s)):(a=this.bindings[c])===null||a===void 0||a.filter(w=>{var k,S,_,T,P,C;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const E=w.id,A=(k=w.filter)===null||k===void 0?void 0:k.event;return E&&((S=n.ids)===null||S===void 0?void 0:S.includes(E))&&(A==="*"||A?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const E=(P=(T=w?.filter)===null||T===void 0?void 0:T.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return E==="*"||E===((C=n?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof x=="object"&&"ids"in x){const k=x.data,{schema:S,table:_,commit_timestamp:T,type:P,errors:C}=k;x=Object.assign(Object.assign({},{schema:S,table:_,commit_timestamp:T,eventType:P,new:{},old:{},errors:C}),this._getPayloadRecords(k))}w.callback(x,s)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const o=e.toLocaleLowerCase(),a={type:o,filter:n,callback:s};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&sp.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(pn.close,{},e)}_onError(e){this._on(pn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=k0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=k0(e.columns,e.old_record)),n}}const Gd=()=>{},gl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},yR=[1e3,2e3,5e3,1e4],vR=1e4,xR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wR{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$f,this.transport=null,this.heartbeatIntervalMs=gl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gd,this.ref=0,this.reconnectTimer=null,this.logger=Gd,this.conn=null,this.sendBuffer=[],this.serializer=new uR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...c)=>tn(async()=>{const{default:u}=await Promise.resolve().then(()=>ki);return{default:u}},void 0).then(({default:u})=>u(...c)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...c)=>a(...c)},!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Ff.websocket}`,this.httpEndpoint=Pb(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sR.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aR}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case No.connecting:return ts.Connecting;case No.open:return ts.Open;case No.closing:return ts.Closing;default:return ts.Closed}}isConnected(){return this.connectionState()===ts.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===s);if(o)return o;{const a=new sp(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:s,payload:o,ref:a}=e,c=()=>{this.encode(e,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${n} ${s} (${a})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(lR,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},gl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:a,ref:c}=n,u=c?`(${c})`:"",h=a.status||"";this.log("receive",`${h} ${s} ${o} ${u}`.trim(),a),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(o,a,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(pn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${s}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([xR],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:oR};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(pn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Tb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,o,a,c,u,h,p,m;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:$f,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:gl.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:Gd,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(y=>yR[y-1]||vR),this.encode=(p=e?.encode)!==null&&p!==void 0?p:((y,x)=>x(JSON.stringify(y))),this.decode=(m=e?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class ip extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function tt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class bR extends ip{constructor(e,n,s){super(e),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Uf extends ip{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var SR=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{p(s.next(m))}catch(y){c(y)}}function h(m){try{p(s.throw(m))}catch(y){c(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,h)}p((s=s.apply(t,e||[])).next())})};const Nb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>tn(async()=>{const{default:s}=await Promise.resolve().then(()=>ki);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},_R=()=>SR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield tn(()=>Promise.resolve().then(()=>ki),void 0)).Response:Response}),zf=t=>{if(Array.isArray(t))return t.map(n=>zf(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=zf(s)}),e},kR=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var fs=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{p(s.next(m))}catch(y){c(y)}}function h(m){try{p(s.throw(m))}catch(y){c(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,h)}p((s=s.apply(t,e||[])).next())})};const Kd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jR=(t,e,n)=>fs(void 0,void 0,void 0,function*(){const s=yield _R();t instanceof s&&!n?.noResolveJson?t.json().then(o=>{const a=t.status||500,c=o?.statusCode||a+"";e(new bR(Kd(o),a,c))}).catch(o=>{e(new Uf(Kd(o),o))}):e(new Uf(Kd(t),t))}),CR=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!s?o:(kR(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function Qo(t,e,n,s,o,a){return fs(this,void 0,void 0,function*(){return new Promise((c,u)=>{t(n,CR(e,s,o,a)).then(h=>{if(!h.ok)throw h;return s?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>jR(h,u,s))})})}function Kl(t,e,n,s){return fs(this,void 0,void 0,function*(){return Qo(t,"GET",e,n,s)})}function Tn(t,e,n,s,o){return fs(this,void 0,void 0,function*(){return Qo(t,"POST",e,s,o,n)})}function Bf(t,e,n,s,o){return fs(this,void 0,void 0,function*(){return Qo(t,"PUT",e,s,o,n)})}function TR(t,e,n,s){return fs(this,void 0,void 0,function*(){return Qo(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Ab(t,e,n,s,o){return fs(this,void 0,void 0,function*(){return Qo(t,"DELETE",e,s,o,n)})}var ER=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{p(s.next(m))}catch(y){c(y)}}function h(m){try{p(s.throw(m))}catch(y){c(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,h)}p((s=s.apply(t,e||[])).next())})};class PR{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return ER(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tt(e))return{data:null,error:e};throw e}})}}var NR=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{p(s.next(m))}catch(y){c(y)}}function h(m){try{p(s.throw(m))}catch(y){c(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,h)}p((s=s.apply(t,e||[])).next())})};class AR{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new PR(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return NR(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tt(e))return{data:null,error:e};throw e}})}}var At=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{p(s.next(m))}catch(y){c(y)}}function h(m){try{p(s.throw(m))}catch(y){c(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,h)}p((s=s.apply(t,e||[])).next())})};const RR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},T0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class IR{constructor(e,n={},s,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=s,this.fetch=Nb(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,s,o){return At(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},T0),o);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),h&&a.append("metadata",this.encodeMetadata(h)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",c.cacheControl),h&&a.append("metadata",this.encodeMetadata(h))):(a=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,h&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),o?.headers&&(u=Object.assign(Object.assign({},u),o.headers));const p=this._removeEmptyFolders(n),m=this._getFinalPath(p),y=yield(e=="PUT"?Bf:Tn)(this.fetch,`${this.url}/object/${m}`,a,Object.assign({headers:u},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:y.Id,fullPath:y.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}})}upload(e,n,s){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,o){return At(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),c=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${c}`);u.searchParams.set("token",n);try{let h;const p=Object.assign({upsert:T0.upsert},o),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.append("cacheControl",p.cacheControl)):(h=s,m["cache-control"]=`max-age=${p.cacheControl}`,m["content-type"]=p.contentType);const y=yield Bf(this.fetch,u.toString(),h,{headers:m});return{data:{path:a,fullPath:y.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(tt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,n){return At(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");const a=yield Tn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),c=new URL(this.url+a.url),u=c.searchParams.get("token");if(!u)throw new ip("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:u},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}update(e,n,s){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return At(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}})}copy(e,n,s){return At(this,void 0,void 0,function*(){try{return{data:{path:(yield Tn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,s){return At(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield Tn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,s){return At(this,void 0,void 0,function*(){try{const o=yield Tn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}})}download(e,n){const o=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),c=a?`?${a}`:"",u=this._getFinalPath(e),h=()=>Kl(this.fetch,`${this.url}/${o}/${u}${c}`,{headers:this.headers,noResolveJson:!0});return new AR(h,this.shouldThrowOnError)}info(e){return At(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield Kl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:zf(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}exists(e){return At(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield TR(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s)&&s instanceof Uf){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),o=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const u=typeof n?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(n?.transform||{});h!==""&&o.push(h);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${s}${p}`)}}}remove(e){return At(this,void 0,void 0,function*(){try{return{data:yield Ab(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}list(e,n,s){return At(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},RR),n),{prefix:e||""});return{data:yield Tn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}})}listV2(e,n){return At(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Tn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const OR="2.12.2",MR={"X-Client-Info":`storage-js/${OR}`};var Hs=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{p(s.next(m))}catch(y){c(y)}}function h(m){try{p(s.throw(m))}catch(y){c(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,h)}p((s=s.apply(t,e||[])).next())})};class LR{constructor(e,n={},s,o){this.shouldThrowOnError=!1;const a=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},MR),n),this.fetch=Nb(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Hs(this,void 0,void 0,function*(){try{return{data:yield Kl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tt(e))return{data:null,error:e};throw e}})}getBucket(e){return Hs(this,void 0,void 0,function*(){try{return{data:yield Kl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Hs(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return Hs(this,void 0,void 0,function*(){try{return{data:yield Bf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Hs(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Hs(this,void 0,void 0,function*(){try{return{data:yield Ab(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}}class DR extends LR{constructor(e,n={},s,o){super(e,n,s,o)}from(e){return new IR(this.url,this.headers,e,this.fetch)}}const $R="2.58.0";let xo="";typeof Deno<"u"?xo="deno":typeof document<"u"?xo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xo="react-native":xo="node";const FR={"X-Client-Info":`supabase-js-${xo}/${$R}`},VR={headers:FR},UR={schema:"public"},zR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},BR={};var WR=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{p(s.next(m))}catch(y){c(y)}}function h(m){try{p(s.throw(m))}catch(y){c(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,h)}p((s=s.apply(t,e||[])).next())})};const HR=t=>{let e;return t?e=t:typeof fetch>"u"?e=bb:e=fetch,(...n)=>e(...n)},GR=()=>typeof Headers>"u"?Sb:Headers,KR=(t,e,n)=>{const s=HR(n),o=GR();return(a,c)=>WR(void 0,void 0,void 0,function*(){var u;const h=(u=yield e())!==null&&u!==void 0?u:t;let p=new o(c?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),s(a,Object.assign(Object.assign({},c),{headers:p}))})};var qR=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{p(s.next(m))}catch(y){c(y)}}function h(m){try{p(s.throw(m))}catch(y){c(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,h)}p((s=s.apply(t,e||[])).next())})};function YR(t){return t.endsWith("/")?t:t+"/"}function QR(t,e){var n,s;const{db:o,auth:a,realtime:c,global:u}=t,{db:h,auth:p,realtime:m,global:y}=e,x={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},m),c),storage:{},global:Object.assign(Object.assign(Object.assign({},y),u),{headers:Object.assign(Object.assign({},(n=y?.headers)!==null&&n!==void 0?n:{}),(s=u?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>qR(this,void 0,void 0,function*(){return""})};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}function XR(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(YR(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Rb="2.72.0",Zs=30*1e3,Wf=3,qd=Wf*Zs,JR="http://localhost:9999",ZR="supabase.auth.token",eI={"X-Client-Info":`gotrue-js/${Rb}`},Hf="X-Supabase-Api-Version",Ib={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nI=600*1e3;class op extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function _e(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class rI extends op{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function sI(t){return _e(t)&&t.name==="AuthApiError"}class Ob extends op{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Or extends op{constructor(e,n,s,o){super(e,s,o),this.name=n,this.status=s}}class kr extends Or{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function iI(t){return _e(t)&&t.name==="AuthSessionMissingError"}class go extends Or{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yl extends Or{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class vl extends Or{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function oI(t){return _e(t)&&t.name==="AuthImplicitGrantRedirectError"}class E0 extends Or{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gf extends Or{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Yd(t){return _e(t)&&t.name==="AuthRetryableFetchError"}class P0 extends Or{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Kf extends Or{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ql="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),N0=` 	
\r=`.split(""),aI=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<N0.length;e+=1)t[N0[e].charCodeAt(0)]=-2;for(let e=0;e<ql.length;e+=1)t[ql[e].charCodeAt(0)]=e;return t})();function A0(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(ql[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(ql[s]),e.queuedBits-=6}}function Mb(t,e,n){const s=aI[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function R0(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=c=>{uI(c,s,n)};for(let c=0;c<t.length;c+=1)Mb(t.charCodeAt(c),o,a);return e.join("")}function lI(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function cI(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}lI(s,e)}}function uI(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function dI(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Mb(t.charCodeAt(o),n,s);return new Uint8Array(e)}function fI(t){const e=[];return cI(t,n=>e.push(n)),new Uint8Array(e)}function hI(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>A0(o,n,s)),A0(null,n,s),e.join("")}function pI(t){return Math.round(Date.now()/1e3)+t}function mI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Qt=()=>typeof window<"u"&&typeof document<"u",Qr={tested:!1,writable:!1},Lb=()=>{if(!Qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qr.tested)return Qr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Qr.tested=!0,Qr.writable=!0}catch{Qr.tested=!0,Qr.writable=!1}return Qr.writable};function gI(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return n.searchParams.forEach((s,o)=>{e[o]=s}),e}const Db=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>tn(async()=>{const{default:s}=await Promise.resolve().then(()=>ki);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},yI=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ei=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Xr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Sr=async(t,e)=>{await t.removeItem(e)};class fc{constructor(){this.promise=new fc.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}fc.promiseConstructor=Promise;function Qd(t){const e=t.split(".");if(e.length!==3)throw new Kf("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!tI.test(e[s]))throw new Kf("JWT not in base64url format");return{header:JSON.parse(R0(e[0])),payload:JSON.parse(R0(e[1])),signature:dI(e[2]),raw:{header:e[0],payload:e[1]}}}async function vI(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function xI(t,e){return new Promise((s,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await t(a);if(!e(a,null,c)){s(c);return}}catch(c){if(!e(a,c)){o(c);return}}})()})}function wI(t){return("0"+t.toString(16)).substr(-2)}function bI(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,wI).join("")}async function SI(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(s);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function _I(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await SI(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gs(t,e,n=!1){const s=bI();let o=s;n&&(o+="/PASSWORD_RECOVERY"),await ei(t,`${e}-code-verifier`,o);const a=await _I(s);return[a,s===a?"plain":"s256"]}const kI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jI(t){const e=t.headers.get(Hf);if(!e||!e.match(kI))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function CI(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function TI(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const EI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ks(t){if(!EI.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xd(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function I0(t){return JSON.parse(JSON.stringify(t))}var PI=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n};const es=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),NI=[502,503,504];async function O0(t){var e;if(!yI(t))throw new Gf(es(t),0);if(NI.includes(t.status))throw new Gf(es(t),t.status);let n;try{n=await t.json()}catch(a){throw new Ob(es(a),a)}let s;const o=jI(t);if(o&&o.getTime()>=Ib["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new P0(es(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new kr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new P0(es(n),t.status,n.weak_password.reasons);throw new rI(es(n),t.status||500,s)}const AI=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};async function Ee(t,e,n,s){var o;const a=Object.assign({},s?.headers);a[Hf]||(a[Hf]=Ib["2024-01-01"].name),s?.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const c=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(c.redirect_to=s.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await RI(t,e,n+u,{headers:a,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(h):{data:Object.assign({},h),error:null}}async function RI(t,e,n,s,o,a){const c=AI(e,s,o,a);let u;try{u=await t(n,Object.assign({},c))}catch(h){throw console.error(h),new Gf(es(h),0)}if(u.ok||await O0(u),s?.noResolveJson)return u;try{return await u.json()}catch(h){await O0(h)}}function Cn(t){var e;let n=null;LI(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=pI(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function M0(t){const e=Cn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Cr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function II(t){return{data:t,error:null}}function OI(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:a}=t,c=PI(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:a},h=Object.assign({},c);return{data:{properties:u,user:h},error:null}}function MI(t){return t}function LI(t){return t.access_token&&t.refresh_token&&t.expires_in}const Jd=["global","local","others"];var DI=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n};class $I{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=Db(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Jd[0]){if(Jd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jd.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Cr})}catch(s){if(_e(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=DI(e,["options"]),o=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:OI,redirectTo:n?.redirectTo})}catch(n){if(_e(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Cr})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,o,a,c,u,h;try{const p={nextPage:null,lastPage:0,total:0},m=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:MI});if(m.error)throw m.error;const y=await m.json(),x=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(h=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(k=>{const S=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(k.split(";")[1].split("=")[1]);p[`${_}Page`]=S}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(_e(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Ks(e);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Cr})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ks(e);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Cr})}catch(s){if(_e(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Ks(e);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Cr})}catch(s){if(_e(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Ks(e.userId);try{const{data:n,error:s}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:s}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ks(e.userId),Ks(e.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}}function L0(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function FI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const qs={debug:!!(globalThis&&Lb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $b extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class VI extends $b{}async function UI(t,e,n){qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),qs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new VI(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(qs.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Fb(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function zI(t){return parseInt(t,16)}function BI(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function WI(t){var e;const{chainId:n,domain:s,expirationTime:o,issuedAt:a=new Date,nonce:c,notBefore:u,requestId:h,resources:p,scheme:m,uri:y,version:x}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=Fb(t.address),k=m?`${m}://${s}`:s,S=t.statement?`${t.statement}
`:"",_=`${k} wants you to sign in with your Ethereum account:
${w}

${S}`;let T=`URI: ${y}
Version: ${x}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${a.toISOString()}`;if(o&&(T+=`
Expiration Time: ${o.toISOString()}`),u&&(T+=`
Not Before: ${u.toISOString()}`),h&&(T+=`
Request ID: ${h}`),p){let P=`
Resources:`;for(const C of p){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);P+=`
- ${C}`}T+=P}return`${_}
${T}`}FI();const HI={url:JR,storageKey:ZR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function D0(t,e,n){return await n()}const Ys={};class zo{constructor(e){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zo.nextInstanceID,zo.nextInstanceID+=1,this.instanceID>0&&Qt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},HI),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new $I({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Db(o.fetch),this.lock=o.lock||D0,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Qt()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=UI:this.lock=D0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Lb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=L0(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=L0(this.memoryStorage)),Qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Ys[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Ys[this.storageKey]=Object.assign(Object.assign({},Ys[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Ys[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ys[this.storageKey]=Object.assign(Object.assign({},Ys[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Rb}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=gI(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Qt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),oI(a)){const h=(e=a.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:u}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return _e(n)?{error:n}:{error:new Ob("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,o;try{const a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Cn}),{data:c,error:u}=a;if(u||!c)return{data:{user:null,session:null},error:u};const h=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,s,o;try{let a;if("email"in e){const{email:m,password:y,options:x}=e;let w=null,k=null;this.flowType==="pkce"&&([w,k]=await Gs(this.storage,this.storageKey)),a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:m,password:y,data:(n=x?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:w,code_challenge_method:k},xform:Cn})}else if("phone"in e){const{phone:m,password:y,options:x}=e;a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:y,data:(s=x?.data)!==null&&s!==void 0?s:{},channel:(o=x?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:Cn})}else throw new yl("You must provide either an email or phone number and a password");const{data:c,error:u}=a;if(u||!c)return{data:{user:null,session:null},error:u};const h=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:c,options:u}=e;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:M0})}else if("phone"in e){const{phone:a,password:c,options:u}=e;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:M0})}else throw new yl("You must provide either an email or phone number and a password");const{data:s,error:o}=n;return o?{data:{user:null,session:null},error:o}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new go}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,o,a,c,u,h,p,m,y,x;let w,k;if("message"in e)w=e.message,k=e.signature;else{const{chain:S,wallet:_,statement:T,options:P}=e;let C;if(Qt())if(typeof _=="object")C=_;else{const G=window;if("ethereum"in G&&typeof G.ethereum=="object"&&"request"in G.ethereum&&typeof G.ethereum.request=="function")C=G.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=_}const E=new URL((n=P?.url)!==null&&n!==void 0?n:window.location.href),A=await C.request({method:"eth_requestAccounts"}).then(G=>G).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=Fb(A[0]);let D=(s=P?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!D){const G=await C.request({method:"eth_chainId"});D=zI(G)}const $={domain:E.host,address:M,statement:T,uri:E.href,version:"1",chainId:D,nonce:(o=P?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(a=P?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(u=P?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(h=P?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=P?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(m=P?.signInWithEthereum)===null||m===void 0?void 0:m.resources};w=WI($),k=await C.request({method:"personal_sign",params:[BI(w),M]})}try{const{data:S,error:_}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:k},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Cn});if(_)throw _;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new go}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:_})}catch(S){if(_e(S))return{data:{user:null,session:null},error:S};throw S}}async signInWithSolana(e){var n,s,o,a,c,u,h,p,m,y,x,w;let k,S;if("message"in e)k=e.message,S=e.signature;else{const{chain:_,wallet:T,statement:P,options:C}=e;let E;if(Qt())if(typeof T=="object")E=T;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))E=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=T}const A=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const M=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),P?{statement:P}:null));let D;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")D=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)D=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)k=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),S=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${A.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(o=(s=C?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=C?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((h=C?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((p=C?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((y=(m=C?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||y===void 0)&&y.length?["Resources",...C.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const M=await E.signMessage(new TextEncoder().encode(k),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=M}}try{const{data:_,error:T}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:hI(S)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Cn});if(T)throw T;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new go}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:T})}catch(_){if(_e(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const n=await Xr(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(n??"").split("/");try{const{data:a,error:c}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Cn});if(await Sr(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new go}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:c})}catch(a){if(_e(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:s,token:o,access_token:a,nonce:c}=e,u=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Cn}),{data:h,error:p}=u;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new go}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:p})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,o,a,c;try{if("email"in e){const{email:u,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Gs(this.storage,this.storageKey));const{error:y}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(s=h?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:m},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:u,options:h}=e,{data:p,error:m}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(a=h?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:m}}throw new yl("You must provide either an email or phone number.")}catch(u){if(_e(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,s;try{let o,a;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:u}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:Cn});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,p=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(o){if(_e(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var n,s,o;try{let a=null,c=null;return this.flowType==="pkce"&&([a,c]=await Gs(this.storage,this.storageKey)),await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:II})}catch(a){if(_e(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new kr;const{error:o}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(_e(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:a}=e,{error:c}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:s,type:o,options:a}=e,{data:c,error:u}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new yl("You must provide either an email or phone number and a type")}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Xr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<qd:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await Xr(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Xd()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,p,m)=>(!c&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,p,m))})}return{data:{session:e},error:null}}const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Cr}):await this._useSession(async n=>{var s,o,a;const{data:c,error:u}=n;if(u)throw u;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new kr}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Cr})})}catch(n){if(_e(n))return iI(n)&&(await this._removeSession(),await Sr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:o,error:a}=s;if(a)throw a;if(!o.session)throw new kr;const c=o.session;let u=null,h=null;this.flowType==="pkce"&&e.email!=null&&([u,h]=await Gs(this.storage,this.storageKey));const{data:p,error:m}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:h}),jwt:c.access_token,xform:Cr});if(m)throw m;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(s){if(_e(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new kr;const n=Date.now()/1e3;let s=n,o=!0,a=null;const{payload:c}=Qd(e.access_token);if(c.exp&&(s=c.exp,o=s<=n),o){const{session:u,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:h}=await this._getUser(e.access_token);if(h)throw h;a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(_e(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:c,error:u}=n;if(u)throw u;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new kr;const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Qt())throw new vl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new vl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new E0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new E0("No code detected.");const{data:P,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:a,refresh_token:c,expires_in:u,expires_at:h,token_type:p}=e;if(!a||!u||!c||!p)throw new vl("No session defined in URL");const m=Math.round(Date.now()/1e3),y=parseInt(u);let x=m+y;h&&(x=parseInt(h));const w=x-m;w*1e3<=Zs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${y}s`);const k=x-y;m-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,x,m):m-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,x,m);const{data:S,error:_}=await this._getUser(a);if(_)throw _;const T={provider_token:s,provider_refresh_token:o,access_token:a,expires_in:y,expires_at:x,refresh_token:c,token_type:p,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:e.type},error:null}}catch(s){if(_e(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Xr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:o,error:a}=n;if(a)return{error:a};const c=(s=o.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:u}=await this.admin.signOut(c,e);if(u&&!(sI(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await Sr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=mI(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,o;try{const{data:{session:a},error:c}=n;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Gs(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(_e(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:s,error:o}=await this._useSession(async a=>{var c,u,h,p,m;const{data:y,error:x}=a;if(x)throw x;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",w,{headers:this.headers,jwt:(m=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return Qt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(_e(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,o;const{data:a,error:c}=n;if(c)throw c;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await xI(async o=>(o>0&&await vI(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Cn})),(o,a)=>{const c=200*Math.pow(2,o);return a&&Yd(a)&&Date.now()+c-s<Zs})}catch(s){if(this._debug(n,"error",s),_e(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),Qt()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Xr(this.storage,this.storageKey);if(o&&this.userStorage){let c=await Xr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await ei(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c?.user)!==null&&e!==void 0?e:Xd()}else if(o&&!o.user&&!o.user){const c=await Xr(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await Sr(this.storage,this.storageKey+"-user"),await ei(this.storage,this.storageKey,o)):o.user=Xd()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const a=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<qd;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${qd}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),Yd(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:u}=await this._getUser(o.access_token);!u&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new kr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new fc;const{data:a,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!a.session)throw new kr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={session:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(o,"error",a),_e(a)){const c={session:null,error:a};return Yd(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(h){a.push(h)}});if(await Promise.all(c),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await ei(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const a=I0(o);await ei(this.storage,this.storageKey,a)}else{const o=I0(n);await ei(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Sr(this.storage,this.storageKey),await Sr(this.storage,this.storageKey+"-code-verifier"),await Sr(this.storage,this.storageKey+"-user"),this.userStorage&&await Sr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Zs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/Zs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Zs}ms, refresh threshold is ${Wf} ticks`),o<=Wf&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof $b)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const o=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,c]=await Gs(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(u.toString())}if(s?.queryParams){const a=new URLSearchParams(s.queryParams);o.push(a.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:o,error:a}=n;return a?{data:null,error:a}:await Ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,o;const{data:a,error:c}=n;if(c)return{data:null,error:c};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:h,error:p}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:a}=n;if(a)return{data:null,error:a};const{data:c,error:u}=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})})}catch(n){if(_e(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:a}=n;return a?{data:null,error:a}:await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(_e(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=e?.factors||[],o=s.filter(c=>c.factor_type==="totp"&&c.status==="verified"),a=s.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:s,totp:o,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:o},error:a}=e;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Qd(o.access_token);let u=null;c.aal&&(u=c.aal);let h=u;((s=(n=o.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(h="aal2");const m=c.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(u=>u.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(u=>u.kid===e),s&&this.jwks_cached_at+nI>o)return s;const{data:a,error:c}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,s=a.keys.find(u=>u.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:w,error:k}=await this.getSession();if(k||!w.session)return{data:null,error:k};s=w.session.access_token}const{header:o,payload:a,signature:c,raw:{header:u,payload:h}}=Qd(s);n?.allowExpired||CI(a.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:w}=await this.getUser(s);if(w)throw w;return{data:{claims:a,header:o,signature:c},error:null}}const m=TI(o.alg),y=await crypto.subtle.importKey("jwk",p,m,!0,["verify"]);if(!await crypto.subtle.verify(m,y,c,fI(`${u}.${h}`)))throw new Kf("Invalid JWT signature");return{data:{claims:a,header:o,signature:c},error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}}}zo.nextInstanceID=0;const GI=zo;class KI extends GI{constructor(e){super(e)}}var qI=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{p(s.next(m))}catch(y){c(y)}}function h(m){try{p(s.throw(m))}catch(y){c(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,h)}p((s=s.apply(t,e||[])).next())})};class YI{constructor(e,n,s){var o,a,c;this.supabaseUrl=e,this.supabaseKey=n;const u=XR(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const h=`sb-${u.hostname.split(".")[0]}-auth-token`,p={db:UR,realtime:BR,auth:Object.assign(Object.assign({},zR),{storageKey:h}),global:VR},m=QR(s??{},p);this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=m.global.headers)!==null&&a!==void 0?a:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,m.global.fetch),this.fetch=KR(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new rR(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new DR(this.storageUrl.href,this.headers,this.fetch,s?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new K2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return qI(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:o,userStorage:a,storageKey:c,flowType:u,lock:h,debug:p},m,y){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new KI({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),m),storageKey:c,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:o,userStorage:a,flowType:u,lock:h,debug:p,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new wR(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const QI=(t,e,n)=>new YI(t,e,n);function XI(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}XI()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ap="qwvxgdrhjtgqwwksqebf",lp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF3dnhnZHJoanRncXd3a3NxZWJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgxNTA2NDIsImV4cCI6MjA3MzcyNjY0Mn0.A37IkjTB0pZCs1JQEuE65IL6OQt0gJk1Wt6YpVpGnKA",Vb=`https://${ap}.supabase.co`,Ub=typeof process<"u"&&!1,qf=Object.freeze(Object.defineProperty({__proto__:null,isDevelopment:Ub,projectId:ap,publicAnonKey:lp,supabaseUrl:Vb},Symbol.toStringTag,{value:"Module"})),Oe=QI(Vb,lp,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"vibetune-auth",flowType:"pkce",debug:Ub},realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"vibetune-web","X-App-Version":"1.0.0"}},db:{schema:"public"}});function JI(t,e,n="Operation timed out"){const s=new Promise((o,a)=>{const c=setTimeout(()=>{a(new Error(`${n} after ${e}ms`))},e);t.finally(()=>clearTimeout(c))});return Promise.race([t,s])}async function zb(t,e,n=null){try{return await JI(t(),e,"Operation timed out")}catch(s){if(s.message.includes("timed out"))return console.warn(`Operation timed out after ${e}ms, using fallback value`),n;throw s}}class Jt{static async signUp({email:e,password:n,username:s}){try{console.log("Simple signup starting for:",e);try{if((await this.serverSignUp({email:e,password:n,username:s})).success){console.log("✅ Server signup successful, now signing in...");const u=await this.signIn({email:e,password:n});if(u.data?.profile){await Oe.from("profiles").upsert({id:u.data.user.id,email:u.data.user.email||e,username:s,level:null,placement_test_completed:!1,created_at:u.data.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()},{onConflict:"id"});const{data:h}=await Oe.from("profiles").select("*").eq("id",u.data.user.id).single();return{data:{user:u.data.user,profile:h},error:null}}}}catch(c){console.warn("Server signup failed, trying client signup:",c)}const{data:o,error:a}=await Oe.auth.signUp({email:e,password:n,options:{data:{username:s,display_name:s},emailRedirectTo:window.location.origin}});if(a)throw console.error("Supabase auth signup error:",a),a;if(console.log("Auth signup result:",{hasUser:!!o.user,needsConfirmation:!o.session,userEmail:o.user?.email}),o.user&&!o.session)return console.log("📧 User created but needs email confirmation"),{data:{user:o.user,needsConfirmation:!0,message:"Please check your email and click the confirmation link, then try signing in."},error:null};if(o.user&&o.session){console.log("✅ User created and signed in immediately");const c={id:o.user.id,email:o.user.email||e,username:s,level:null,placement_test_completed:!1,created_at:o.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()};return await Oe.from("profiles").upsert({id:o.user.id,email:o.user.email||e,username:s,level:null,placement_test_completed:!1,created_at:c.created_at,last_login:c.last_login,device_id:c.device_id},{onConflict:"id"}),{data:{user:o.user,profile:c},error:null}}return{data:o,error:null}}catch(o){return console.error("Simple signup error:",o),{data:null,error:o}}}static async signIn({email:e,password:n}){try{console.log("Simple signin starting for:",e);const{data:s,error:o}=await Oe.auth.signInWithPassword({email:e,password:n});if(o)throw console.error("Supabase auth signin error:",o),o.message.includes("Invalid login credentials")?o.message="Invalid email or password. Please check your credentials and try again.":o.message.includes("Email not confirmed")?o.message="Please check your email and click the confirmation link before signing in.":o.message.includes("Too many requests")&&(o.message="Too many login attempts. Please wait a moment and try again."),o;if(console.log("Auth signin result:",{hasUser:!!s.user,hasSession:!!s.session,emailVerified:!!s.user?.email_confirmed_at}),s.user&&s.session){const{data:a,error:c}=await Oe.from("profiles").select("*").eq("id",s.user.id).single();if(c&&c.code!=="PGRST116"){console.error("Error fetching profile after signin:",c);const h={id:s.user.id,email:s.user.email||e,username:s.user.user_metadata?.username||s.user.user_metadata?.display_name||s.user.user_metadata?.name||e.split("@")[0]||"User",level:null,placement_test_completed:!1,created_at:s.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()};return await Oe.from("profiles").upsert(h,{onConflict:"id"}),{data:{user:s.user,profile:h},error:null}}const u={id:s.user.id,email:s.user.email||e,username:a?.username||s.user.user_metadata?.username||s.user.user_metadata?.display_name||s.user.user_metadata?.name||e.split("@")[0]||"User",level:a?.level||null,placement_test_completed:a?.placement_test_completed||!1,created_at:s.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()};try{await Oe.from("profiles").upsert({id:s.user.id,email:u.email,username:u.username,level:u.level,placement_test_completed:u.placement_test_completed,placement_test_score:u.placement_test_score,created_at:u.created_at,last_login:new Date().toISOString(),device_id:u.device_id},{onConflict:"id"}),console.log("✅ Last login updated successfully")}catch(h){console.warn("⚠️ Profile last_login update failed:",h)}return{data:{user:s.user,profile:u},error:null}}else if(s.user&&!s.session)return{data:{user:s.user,needsConfirmation:!0,message:"Please check your email and click the confirmation link, then try signing in again."},error:null};return{data:s,error:null}}catch(s){return console.error("Simple signin error:",s),{data:null,error:s}}}static async signOut(){try{const{error:e}=await Oe.auth.signOut();return{error:e}}catch(e){return{error:e}}}static async serverSignUp({email:e,password:n,username:s}){try{console.log("🔄 Attempting server-side signup for:",e);const{projectId:o,publicAnonKey:a}=await tn(async()=>{const{projectId:y,publicAnonKey:x}=await Promise.resolve().then(()=>qf);return{projectId:y,publicAnonKey:x}},void 0),c=`https://${o}.supabase.co/functions/v1/make-server-b2083953/signup`,u=new AbortController,h=setTimeout(()=>u.abort(),5e3),p=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({email:e,password:n,name:s}),signal:u.signal});if(clearTimeout(h),!p.ok){const y=await p.text();throw console.error("Server signup error:",p.status,y),new Error(`Server signup failed: ${y}`)}const m=await p.json();return console.log("✅ Server signup successful"),{success:!0,data:m}}catch(o){return o.name==="AbortError"?(console.error("Server signup timeout"),{success:!1,error:new Error("Server signup timed out")}):(console.error("Server signup error:",o),{success:!1,error:o})}}static async signInWithOAuth(e){try{console.log(`Starting OAuth with ${e}...`);const{data:n,error:s}=await Oe.auth.signInWithOAuth({provider:e,options:{redirectTo:window.location.origin}});if(s){console.error(`OAuth ${e} error:`,s);let o=`Failed to sign in with ${e.charAt(0).toUpperCase()+e.slice(1)}.`;return s.message.includes("provider is not enabled")?o=`${e.charAt(0).toUpperCase()+e.slice(1)} sign-in is not enabled. Please use email/password or contact support.`:s.message.includes("redirect")&&(o="OAuth redirect configuration error. Please try email/password sign-in."),{data:null,error:{...s,message:o}}}return{data:n,error:s}}catch(n){return console.error(`OAuth ${e} error:`,n),{data:null,error:n}}}static async resetPassword(e){try{const{data:n,error:s}=await Oe.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});return{data:n,error:s}}catch(n){return{data:null,error:n}}}static async updateProfile(e,n,s){try{console.log("🔄 SimpleAuthService.updateProfile called:",{userId:e,updates:n,hasExistingProfile:!!s});const{data:o}=await Oe.auth.getSession();if(o?.session?.user){console.log("✅ Real user with session - updating profile in DB");const{data:c}=await Oe.from("profiles").select("*").eq("id",e).single(),u={id:e,email:c?.email||o.session.user.email||n.email,username:n.username||c?.username||o.session.user.user_metadata?.username||"User",level:n.level!==void 0?n.level:c?.level,placement_test_completed:n.placement_test_completed!==void 0?n.placement_test_completed:c?.placement_test_completed||!1,placement_test_score:n.placement_test_score!==void 0?n.placement_test_score:c?.placement_test_score,created_at:c?.created_at||o.session.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:c?.device_id||this.getDeviceId()};console.log("📝 Upserting profile data:",u);const{data:h,error:p}=await Oe.from("profiles").upsert(u,{onConflict:"id"}).select().single();return p?(console.error("❌ Error updating profile in DB:",p),{data:null,error:p}):(console.log("✅ Profile updated successfully in DB:",h),{data:h,error:null})}if(s){console.log("✅ Demo user - merging updates with existing profile");const c={...s,email:n.email||s.email,username:n.username||s.username,level:n.level!==void 0?n.level:s.level,placement_test_completed:n.placement_test_completed!==void 0?n.placement_test_completed:s.placement_test_completed,placement_test_score:n.placement_test_score!==void 0?n.placement_test_score:s.placement_test_score,last_login:new Date().toISOString()};return console.log("✅ Demo profile updated:",c),{data:c,error:null}}console.warn("⚠️ No session or existing profile - creating basic profile");const a={id:e,email:n.email||"demo@vibetune.com",username:n.username||"Demo User",level:n.level||null,placement_test_completed:n.placement_test_completed||!1,placement_test_score:n.placement_test_score,created_at:new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()};return console.log("✅ Basic profile created:",a),{data:a,error:null}}catch(o){return console.error("❌ Error in updateProfile:",o),{data:null,error:o}}}static getDeviceId(){try{if(typeof window>"u"||!localStorage)return`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;let e=localStorage.getItem("device_id");return e||(e=`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("device_id",e)),e}catch(e){return console.warn("Failed to access localStorage for device ID:",e),`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}}static async getCurrentSession(){try{console.log("🔍 Checking session...");const e=await zb(()=>Oe.auth.getSession(),800,null);if(!e)return console.log("⚠️ No session found or timeout occurred."),{data:{session:null,user:null},error:null};const{data:{session:n,user:s},error:o}=e;if(o)return console.error("Error getting session:",o),{data:null,error:o};if(s){const{data:a,error:c}=await Oe.from("profiles").select("*").eq("id",s.id).single();if(c&&c.code!=="PGRST116"){console.error("Error fetching profile during session check:",c);const h={id:s.id,email:s.email||"",username:s.user_metadata?.username||s.user_metadata?.display_name||s.user_metadata?.name||s.email?.split("@")[0]||"User",level:null,placement_test_completed:!1,created_at:s.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()};return await Oe.from("profiles").upsert(h,{onConflict:"id"}),{data:{session:n,user:s,profile:h},error:null}}const u={id:s.id,email:s.email||"",username:a?.username||s.user_metadata?.username||s.user_metadata?.display_name||s.user_metadata?.name||s.email?.split("@")[0]||"User",level:a?.level||null,placement_test_completed:a?.placement_test_completed||!1,created_at:s.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()};return setTimeout(async()=>{try{await Oe.from("profiles").upsert({id:s.id,last_login:new Date().toISOString()},{onConflict:"id"})}catch(h){console.warn("Profile last_login update failed (non-blocking):",h)}},0),{data:{session:n,user:s,profile:u},error:null}}return{data:{session:n,user:s},error:null}}catch(e){return console.error("Error in getCurrentSession:",e),{data:null,error:e}}}}async function Yf(){try{console.log("🔍 Testing authentication system...");const{data:t,error:e}=await Oe.auth.getSession();return e?(console.error("❌ Auth test failed:",e),!1):(console.log("✅ Auth system test passed"),!0)}catch(t){return console.error("❌ Auth test error:",t),!1}}const $0=Object.freeze(Object.defineProperty({__proto__:null,SimpleAuthService:Jt,testAuth:Yf},Symbol.toStringTag,{value:"Module"})),Bb=()=>{const t=navigator.userAgent;return{isMobile:/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t),isTablet:/iPad|Android.*(?!.*Mobile)|Silk/i.test(t),isDesktop:!/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t),platform:navigator.platform,userAgent:t,language:navigator.language,onLine:navigator.onLine}},Qf=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),Wb=t=>{const e=[];return t.length<6&&e.push("Password must be at least 6 characters long"),{isValid:e.length===0,errors:e}},ZI=(t,e)=>{setTimeout(async()=>{try{if(typeof window>"u"){console.log("Analytics: No window object, skipping event:",t);return}const{AnalyticsService:n}=await tn(async()=>{const{AnalyticsService:s}=await import("./analyticsServiceSimple-BbHllHb4.js");return{AnalyticsService:s}},[]);n.track(t,{...e,deviceInfo:Bb()})}catch(n){console.warn("Analytics import failed, using direct fallback:",n);try{if(typeof localStorage>"u"){console.log("Analytics: No localStorage available");return}const s=JSON.parse(localStorage.getItem("vibetune_analytics_simple")||"[]");s.push({event_type:t,metadata:{...e,timestamp:Date.now(),created_at:new Date().toISOString()}}),s.length>100&&s.splice(0,s.length-100),localStorage.setItem("vibetune_analytics_simple",JSON.stringify(s)),console.log("Analytics: Event stored via direct fallback:",t)}catch{console.log("Analytics: All methods failed, skipping event:",t)}}},0)},eO=Object.freeze(Object.defineProperty({__proto__:null,getDeviceInfo:Bb,trackEvent:ZI,validateEmail:Qf,validatePassword:Wb},Symbol.toStringTag,{value:"Module"}));function Zd({onAuthComplete:t,onBack:e,mode:n="signin"}){const[s,o]=b.useState(n==="signin");b.useEffect(()=>{o(n==="signin")},[n]);const[a,c]=b.useState(!1),[u,h]=b.useState(!1),[p,m]=b.useState(""),[y,x]=b.useState(""),[w,k]=b.useState({email:"",password:"",username:"",confirmPassword:""}),S=async C=>{C.preventDefault(),m(""),x(""),h(!0);try{if(console.log("Starting authentication process...",{isLogin:s,email:w.email}),!Qf(w.email))throw new Error("Please enter a valid email address");if(!w.password)throw new Error("Password is required");if(!s){const A=Wb(w.password);if(!A.isValid)throw new Error(A.errors[0]);if(w.password!==w.confirmPassword)throw new Error("Passwords do not match");if(!w.username.trim())throw new Error("Username is required")}console.log("Validation passed, calling AuthService...");let E;if(s?E=await Jt.signIn({email:w.email.trim().toLowerCase(),password:w.password}):E=await Jt.signUp({email:w.email.trim().toLowerCase(),password:w.password,username:w.username.trim()}),console.log("AuthService result:",{success:!!E.data,error:!!E.error}),E.error){console.error("Auth error:",E.error);let A=E.error.message||"An error occurred during authentication";throw A.includes("Invalid login credentials")?A="Invalid email or password. Please check your credentials and try again.":A.includes("User already registered")?A="An account with this email already exists. Try signing in instead.":A.includes("Password should be at least")?A="Password must be at least 6 characters long.":A.includes("Database error saving new user")?A="There was a database issue creating your account. This is usually a temporary problem. Please try again, or use the demo user to test the app.":A.includes("Email not confirmed")?A="Please check your email and click the confirmation link before signing in.":A.includes("Too many requests")?A="Too many attempts. Please wait a moment and try again.":(A.includes("signup failed")||A.includes("500"))&&(A="Server error during account creation. Please try again or use the demo user option below."),console.error("🔍 Auth error details:",{originalMessage:E.error.message,friendlyMessage:A,errorCode:E.error.code||"unknown",errorStatus:E.error.status||"unknown",errorDetails:E.error.details||"none"}),new Error(A)}if(E.data?.profile)console.log("Authentication successful, profile created:",E.data.profile.id),x(s?"Welcome back!":"Account created successfully!"),t(E.data.profile);else if(E.data?.needsConfirmation){console.log("User needs email confirmation...");const A=E.data.message||(s?"Please check your email and click the confirmation link, then try signing in again.":"Account created! Please check your email and click the confirmation link, then try signing in.");x(A),s||setTimeout(()=>{o(!0),k(M=>({...M,password:""}))},3e3)}else if(E.data?.user&&!s)console.log("User created, waiting for email confirmation..."),x("Account created! Please check your email to verify your account, then try signing in."),setTimeout(()=>{o(!0),k(A=>({...A,password:""}))},3e3);else if(E.data?.message)x(E.data.message),s||setTimeout(()=>{o(!0),k(A=>({...A,password:""}))},3e3);else throw console.warn("Unexpected result structure:",E),new Error("Authentication completed but no user data received")}catch(E){console.error("Authentication error:",E),m(E.message||"An unexpected error occurred during authentication")}finally{h(!1)}},_=async C=>{m(""),x(""),h(!0);try{console.log(`Starting OAuth login with ${C}...`);const E=await Jt.signInWithOAuth(C);if(E.error)throw console.error(`OAuth ${C} error:`,E.error),E.error;console.log(`OAuth ${C} initiated successfully`),x(`Redirecting to ${C}...`)}catch(E){console.error(`OAuth ${C} failed:`,E),E.message.includes("provider is not enabled")?m(`${C.charAt(0).toUpperCase()+C.slice(1)} sign-in hasn't been configured yet. Please use email/password authentication instead.`):m(E.message||`Failed to sign in with ${C}. Please try email/password authentication.`)}finally{h(!1)}},T=async()=>{try{m(""),x(""),console.log("Testing authentication system..."),await Yf()?x("✓ Authentication system is working! You can now sign up or sign in."):m("✗ Authentication system test failed. Check console for details.")}catch(C){console.error("Connection test error:",C),m(`Connection test failed: ${C.message}`)}},P=async()=>{if(!w.email){m("Please enter your email address first");return}if(!Qf(w.email)){m("Please enter a valid email address");return}m(""),h(!0);try{const{error:C}=await Jt.resetPassword(w.email);if(C)throw C;x("Password reset email sent! Check your inbox.")}catch(C){m(C.message||"Failed to send password reset email")}finally{h(!1)}};return d.jsx("div",{className:"min-h-screen bg-background flex flex-col justify-center p-4",children:d.jsxs("div",{className:"max-w-sm mx-auto w-full space-y-6",children:[d.jsxs(ve.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[d.jsx(Mo,{className:"w-8 h-8 text-accent"}),d.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"VibeTune"})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:s?"Welcome back!":"Join the prosody learning community"})]}),p&&d.jsx(ve.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:d.jsxs(as,{variant:"destructive",children:[d.jsx(ss,{className:"h-4 w-4"}),d.jsx(ls,{children:p})]})}),y&&d.jsx(ve.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:d.jsxs(as,{className:"border-success/20 bg-success/10",children:[d.jsx(Xn,{className:"h-4 w-4 text-success"}),d.jsx(ls,{className:"text-success-foreground",children:y})]})}),d.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:d.jsxs(at,{children:[d.jsxs(gn,{children:[d.jsx(Zt,{children:s?"Sign In":"Create Account"}),d.jsx(_o,{children:s?"Enter your credentials to access your learning progress":"Start your English prosody learning journey"}),!s&&d.jsxs("div",{className:"text-xs text-muted-foreground bg-primary/10 p-2 rounded border-l-2 border-primary/20",children:["💡 ",d.jsx("strong",{children:"Tip:"})," Use a real email address - you'll need to confirm it before you can sign in."]}),s&&d.jsxs("div",{className:"text-xs text-muted-foreground bg-accent/10 p-2 rounded border-l-2 border-accent/20",children:["🔐 ",d.jsx("strong",{children:"Trouble signing in?"})," Check your email for a confirmation link if you just signed up."]})]}),d.jsxs(lt,{children:[d.jsxs("form",{onSubmit:S,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(mt,{htmlFor:"email",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(Dx,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(ai,{id:"email",type:"email",placeholder:"your@email.com",className:"pl-10",value:w.email,onChange:C=>k({...w,email:C.target.value}),required:!0,disabled:u})]})]}),!s&&d.jsxs(ve.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-2",children:[d.jsx(mt,{htmlFor:"username",children:"Username"}),d.jsx(ai,{id:"username",type:"text",placeholder:"Your display name",value:w.username,onChange:C=>k({...w,username:C.target.value}),required:!0,disabled:u})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(mt,{htmlFor:"password",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(ko,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(ai,{id:"password",type:a?"text":"password",placeholder:"Enter your password",className:"pl-10 pr-10",value:w.password,onChange:C=>k({...w,password:C.target.value}),required:!0,disabled:u}),d.jsx(ce,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>c(!a),disabled:u,children:a?d.jsx(qC,{className:"h-4 w-4"}):d.jsx(mf,{className:"h-4 w-4"})})]})]}),!s&&d.jsxs(ve.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-2",children:[d.jsx(mt,{htmlFor:"confirmPassword",children:"Confirm Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(ko,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(ai,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",className:"pl-10",value:w.confirmPassword,onChange:C=>k({...w,confirmPassword:C.target.value}),required:!0,disabled:u})]})]}),d.jsxs(ce,{type:"submit",className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",disabled:u,children:[u&&d.jsx(mn,{className:"w-4 h-4 mr-2 animate-spin"}),s?"Sign In":"Create Account"]})]}),d.jsx("div",{className:"my-4",children:d.jsx(jn,{})}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(ce,{type:"button",variant:"outline",className:"w-full",onClick:()=>_("google"),disabled:u,children:[u&&d.jsx(mn,{className:"w-4 h-4 mr-2 animate-spin"}),"Continue with Google"]}),d.jsxs(ce,{type:"button",variant:"outline",className:"w-full",onClick:()=>_("github"),disabled:u,children:[u&&d.jsx(mn,{className:"w-4 h-4 mr-2 animate-spin"}),"Continue with GitHub"]}),d.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"ℹ️ If OAuth doesn't work, the providers may need configuration. Use email/password instead."})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx(ce,{type:"button",variant:"link",onClick:()=>{o(!s),m(""),x("")},className:"text-sm",disabled:u,children:s?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})}),s&&d.jsx("div",{className:"text-center",children:d.jsx(ce,{variant:"link",className:"text-sm text-muted-foreground",onClick:P,disabled:u,children:"Forgot your password?"})}),d.jsxs("div",{className:"text-center space-y-3 border-t-2 border-accent/20 pt-4 bg-accent/5 rounded-lg p-4 -mx-4",children:[d.jsx("p",{className:"text-sm font-medium text-foreground",children:"🔧 Debug & Quick Access"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Skip authentication for testing purposes"}),d.jsx(ce,{variant:"default",className:"w-full bg-success hover:bg-success/90 text-success-foreground font-semibold",onClick:()=>{console.log("🧪 Creating demo user for testing..."),x("Creating demo user...");const C={id:"demo-user-"+Date.now(),email:"demo@vibetune.com",username:"Demo User",level:null,placement_test_completed:!1,created_at:new Date().toISOString(),last_login:new Date().toISOString(),device_id:"demo-device-"+Date.now()};setTimeout(()=>{console.log("📝 Demo profile created:",C),console.log("🚀 Calling onAuthComplete with demo user..."),t(C)},500)},disabled:u,children:"🎭 Continue with Demo User"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx(ce,{variant:"outline",size:"sm",onClick:T,disabled:u,children:u?d.jsx(mn,{className:"w-3 h-3 animate-spin"}):"Test Connection"}),d.jsx(ce,{variant:"outline",size:"sm",onClick:async()=>{h(!0);try{await Yf()?x("✓ Auth system working"):m("✗ Auth system failed")}catch(C){m("Auth test error: "+C.message)}finally{h(!1)}},disabled:u,children:u?d.jsx(mn,{className:"w-3 h-3 animate-spin"}):"Check Auth"})]}),d.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[d.jsx("p",{children:"💡 Having trouble? Try the demo user button above to skip authentication"}),d.jsx("p",{children:"🔄 Or check your email for confirmation if you just signed up"})]})]}),d.jsx("div",{className:"text-center",children:d.jsx(ce,{variant:"ghost",onClick:e,disabled:u,children:"Back to Welcome"})})]})})}function Ne(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t?.(o),n===!1||!o.defaultPrevented)return e?.(o)}}var On=globalThis?.document?b.useLayoutEffect:()=>{},tO=mx[" useId ".trim().toString()]||(()=>{}),nO=0;function cs(t){const[e,n]=b.useState(tO());return On(()=>{n(s=>s??String(nO++))},[t]),t||(e?`radix-${e}`:"")}var rO=mx[" useInsertionEffect ".trim().toString()]||On;function hs({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[o,a,c]=sO({defaultProp:e,onChange:n}),u=t!==void 0,h=u?t:o;{const m=b.useRef(t!==void 0);b.useEffect(()=>{const y=m.current;y!==u&&console.warn(`${s} is changing from ${y?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,s])}const p=b.useCallback(m=>{if(u){const y=iO(m)?m(t):m;y!==t&&c.current?.(y)}else a(m)},[u,t,a,c]);return[h,p]}function sO({defaultProp:t,onChange:e}){const[n,s]=b.useState(t),o=b.useRef(n),a=b.useRef(e);return rO(()=>{a.current=e},[e]),b.useEffect(()=>{o.current!==n&&(a.current?.(n),o.current=n)},[n,o]),[n,s,a]}function iO(t){return typeof t=="function"}function Rt(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>e.current?.(...n),[])}function oO(t,e=globalThis?.document){const n=Rt(t);b.useEffect(()=>{const s=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var aO="DismissableLayer",Xf="dismissableLayer.update",lO="dismissableLayer.pointerDownOutside",cO="dismissableLayer.focusOutside",F0,Hb=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cp=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:u,...h}=t,p=b.useContext(Hb),[m,y]=b.useState(null),x=m?.ownerDocument??globalThis?.document,[,w]=b.useState({}),k=Fe(e,D=>y(D)),S=Array.from(p.layers),[_]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),T=S.indexOf(_),P=m?S.indexOf(m):-1,C=p.layersWithOutsidePointerEventsDisabled.size>0,E=P>=T,A=fO(D=>{const $=D.target,G=[...p.branches].some(Z=>Z.contains($));!E||G||(o?.(D),c?.(D),D.defaultPrevented||u?.())},x),M=hO(D=>{const $=D.target;[...p.branches].some(Z=>Z.contains($))||(a?.(D),c?.(D),D.defaultPrevented||u?.())},x);return oO(D=>{P===p.layers.size-1&&(s?.(D),!D.defaultPrevented&&u&&(D.preventDefault(),u()))},x),b.useEffect(()=>{if(m)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(F0=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),V0(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=F0)}},[m,x,n,p]),b.useEffect(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),V0())},[m,p]),b.useEffect(()=>{const D=()=>w({});return document.addEventListener(Xf,D),()=>document.removeEventListener(Xf,D)},[]),d.jsx(Pe.div,{...h,ref:k,style:{pointerEvents:C?E?"auto":"none":void 0,...t.style},onFocusCapture:Ne(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Ne(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Ne(t.onPointerDownCapture,A.onPointerDownCapture)})});cp.displayName=aO;var uO="DismissableLayerBranch",dO=b.forwardRef((t,e)=>{const n=b.useContext(Hb),s=b.useRef(null),o=Fe(e,s);return b.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),d.jsx(Pe.div,{...t,ref:o})});dO.displayName=uO;function fO(t,e=globalThis?.document){const n=Rt(t),s=b.useRef(!1),o=b.useRef(()=>{});return b.useEffect(()=>{const a=u=>{if(u.target&&!s.current){let h=function(){Gb(lO,n,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=h,e.addEventListener("click",o.current,{once:!0})):h()}else e.removeEventListener("click",o.current);s.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function hO(t,e=globalThis?.document){const n=Rt(t),s=b.useRef(!1);return b.useEffect(()=>{const o=a=>{a.target&&!s.current&&Gb(cO,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function V0(){const t=new CustomEvent(Xf);document.dispatchEvent(t)}function Gb(t,e,n,{discrete:s}){const o=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),s?aC(o,a):o.dispatchEvent(a)}var ef="focusScope.autoFocusOnMount",tf="focusScope.autoFocusOnUnmount",U0={bubbles:!1,cancelable:!0},pO="FocusScope",Kb=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=t,[u,h]=b.useState(null),p=Rt(o),m=Rt(a),y=b.useRef(null),x=Fe(e,S=>h(S)),w=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(s){let S=function(C){if(w.paused||!u)return;const E=C.target;u.contains(E)?y.current=E:jr(y.current,{select:!0})},_=function(C){if(w.paused||!u)return;const E=C.relatedTarget;E!==null&&(u.contains(E)||jr(y.current,{select:!0}))},T=function(C){if(document.activeElement===document.body)for(const A of C)A.removedNodes.length>0&&jr(u)};document.addEventListener("focusin",S),document.addEventListener("focusout",_);const P=new MutationObserver(T);return u&&P.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",_),P.disconnect()}}},[s,u,w.paused]),b.useEffect(()=>{if(u){B0.add(w);const S=document.activeElement;if(!u.contains(S)){const T=new CustomEvent(ef,U0);u.addEventListener(ef,p),u.dispatchEvent(T),T.defaultPrevented||(mO(wO(qb(u)),{select:!0}),document.activeElement===S&&jr(u))}return()=>{u.removeEventListener(ef,p),setTimeout(()=>{const T=new CustomEvent(tf,U0);u.addEventListener(tf,m),u.dispatchEvent(T),T.defaultPrevented||jr(S??document.body,{select:!0}),u.removeEventListener(tf,m),B0.remove(w)},0)}}},[u,p,m,w]);const k=b.useCallback(S=>{if(!n&&!s||w.paused)return;const _=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,T=document.activeElement;if(_&&T){const P=S.currentTarget,[C,E]=gO(P);C&&E?!S.shiftKey&&T===E?(S.preventDefault(),n&&jr(C,{select:!0})):S.shiftKey&&T===C&&(S.preventDefault(),n&&jr(E,{select:!0})):T===P&&S.preventDefault()}},[n,s,w.paused]);return d.jsx(Pe.div,{tabIndex:-1,...c,ref:x,onKeyDown:k})});Kb.displayName=pO;function mO(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(jr(s,{select:e}),document.activeElement!==n)return}function gO(t){const e=qb(t),n=z0(e,t),s=z0(e.reverse(),t);return[n,s]}function qb(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function z0(t,e){for(const n of t)if(!yO(n,{upTo:e}))return n}function yO(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function vO(t){return t instanceof HTMLInputElement&&"select"in t}function jr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&vO(t)&&e&&t.select()}}var B0=xO();function xO(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=W0(t,e),t.unshift(e)},remove(e){t=W0(t,e),t[0]?.resume()}}}function W0(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function wO(t){return t.filter(e=>e.tagName!=="A")}var bO="Portal",up=b.forwardRef((t,e)=>{const{container:n,...s}=t,[o,a]=b.useState(!1);On(()=>a(!0),[]);const c=n||o&&globalThis?.document?.body;return c?iC.createPortal(d.jsx(Pe.div,{...s,ref:e}),c):null});up.displayName=bO;function SO(t,e){return b.useReducer((n,s)=>e[n][s]??n,t)}var zt=t=>{const{present:e,children:n}=t,s=_O(e),o=typeof n=="function"?n({present:s.isPresent}):b.Children.only(n),a=Fe(s.ref,kO(o));return typeof n=="function"||s.isPresent?b.cloneElement(o,{ref:a}):null};zt.displayName="Presence";function _O(t){const[e,n]=b.useState(),s=b.useRef(null),o=b.useRef(t),a=b.useRef("none"),c=t?"mounted":"unmounted",[u,h]=SO(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const p=xl(s.current);a.current=u==="mounted"?p:"none"},[u]),On(()=>{const p=s.current,m=o.current;if(m!==t){const x=a.current,w=xl(p);t?h("MOUNT"):w==="none"||p?.display==="none"?h("UNMOUNT"):h(m&&x!==w?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,h]),On(()=>{if(e){let p;const m=e.ownerDocument.defaultView??window,y=w=>{const S=xl(s.current).includes(CSS.escape(w.animationName));if(w.target===e&&S&&(h("ANIMATION_END"),!o.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",p=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},x=w=>{w.target===e&&(a.current=xl(s.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{m.clearTimeout(p),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:b.useCallback(p=>{s.current=p?getComputedStyle(p):null,n(p)},[])}}function xl(t){return t?.animationName||"none"}function kO(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var nf=0;function jO(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??H0()),document.body.insertAdjacentElement("beforeend",t[1]??H0()),nf++,()=>{nf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),nf--}},[])}function H0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var En=function(){return En=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},En.apply(this,arguments)};function Yb(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function CO(t,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,a;s<o;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))}var Al="right-scroll-bar-position",Rl="width-before-scroll-bar",TO="with-scroll-bars-hidden",EO="--removed-body-scroll-bar-size";function rf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function PO(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var o=n.value;o!==s&&(n.value=s,n.callback(s,o))}}}})[0];return n.callback=e,n.facade}var NO=typeof window<"u"?b.useLayoutEffect:b.useEffect,G0=new WeakMap;function AO(t,e){var n=PO(null,function(s){return t.forEach(function(o){return rf(o,s)})});return NO(function(){var s=G0.get(n);if(s){var o=new Set(s),a=new Set(t),c=n.current;o.forEach(function(u){a.has(u)||rf(u,null)}),a.forEach(function(u){o.has(u)||rf(u,c)})}G0.set(n,t)},[t]),n}function RO(t){return t}function IO(t,e){e===void 0&&(e=RO);var n=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var c=e(a,s);return n.push(c),function(){n=n.filter(function(u){return u!==c})}},assignSyncMedium:function(a){for(s=!0;n.length;){var c=n;n=[],c.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){s=!0;var c=[];if(n.length){var u=n;n=[],u.forEach(a),c=n}var h=function(){var m=c;c=[],m.forEach(a)},p=function(){return Promise.resolve().then(h)};p(),n={push:function(m){c.push(m),p()},filter:function(m){return c=c.filter(m),n}}}};return o}function OO(t){t===void 0&&(t={});var e=IO(null);return e.options=En({async:!0,ssr:!1},t),e}var Qb=function(t){var e=t.sideCar,n=Yb(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return b.createElement(s,En({},n))};Qb.isSideCarExport=!0;function MO(t,e){return t.useMedium(e),Qb}var Xb=OO(),sf=function(){},hc=b.forwardRef(function(t,e){var n=b.useRef(null),s=b.useState({onScrollCapture:sf,onWheelCapture:sf,onTouchMoveCapture:sf}),o=s[0],a=s[1],c=t.forwardProps,u=t.children,h=t.className,p=t.removeScrollBar,m=t.enabled,y=t.shards,x=t.sideCar,w=t.noRelative,k=t.noIsolation,S=t.inert,_=t.allowPinchZoom,T=t.as,P=T===void 0?"div":T,C=t.gapMode,E=Yb(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=x,M=AO([n,e]),D=En(En({},E),o);return b.createElement(b.Fragment,null,m&&b.createElement(A,{sideCar:Xb,removeScrollBar:p,shards:y,noRelative:w,noIsolation:k,inert:S,setCallbacks:a,allowPinchZoom:!!_,lockRef:n,gapMode:C}),c?b.cloneElement(b.Children.only(u),En(En({},D),{ref:M})):b.createElement(P,En({},D,{className:h,ref:M}),u))});hc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hc.classNames={fullWidth:Rl,zeroRight:Al};var LO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function DO(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=LO();return e&&t.setAttribute("nonce",e),t}function $O(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function FO(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var VO=function(){var t=0,e=null;return{add:function(n){t==0&&(e=DO())&&($O(e,n),FO(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},UO=function(){var t=VO();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Jb=function(){var t=UO(),e=function(n){var s=n.styles,o=n.dynamic;return t(s,o),null};return e},zO={left:0,top:0,right:0,gap:0},of=function(t){return parseInt(t||"",10)||0},BO=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[of(n),of(s),of(o)]},WO=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zO;var e=BO(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},HO=Jb(),ui="data-scroll-locked",GO=function(t,e,n,s){var o=t.left,a=t.top,c=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(TO,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(u,"px ").concat(s,`;
  }
  body[`).concat(ui,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Al,` {
    right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Rl,` {
    margin-right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Al," .").concat(Al,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Rl," .").concat(Rl,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(ui,`] {
    `).concat(EO,": ").concat(u,`px;
  }
`)},K0=function(){var t=parseInt(document.body.getAttribute(ui)||"0",10);return isFinite(t)?t:0},KO=function(){b.useEffect(function(){return document.body.setAttribute(ui,(K0()+1).toString()),function(){var t=K0()-1;t<=0?document.body.removeAttribute(ui):document.body.setAttribute(ui,t.toString())}},[])},qO=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,o=s===void 0?"margin":s;KO();var a=b.useMemo(function(){return WO(o)},[o]);return b.createElement(HO,{styles:GO(a,!e,o,n?"":"!important")})},Jf=!1;if(typeof window<"u")try{var wl=Object.defineProperty({},"passive",{get:function(){return Jf=!0,!0}});window.addEventListener("test",wl,wl),window.removeEventListener("test",wl,wl)}catch{Jf=!1}var Qs=Jf?{passive:!1}:!1,YO=function(t){return t.tagName==="TEXTAREA"},Zb=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!YO(t)&&n[e]==="visible")},QO=function(t){return Zb(t,"overflowY")},XO=function(t){return Zb(t,"overflowX")},q0=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=eS(t,s);if(o){var a=tS(t,s),c=a[1],u=a[2];if(c>u)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},JO=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},ZO=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},eS=function(t,e){return t==="v"?QO(e):XO(e)},tS=function(t,e){return t==="v"?JO(e):ZO(e)},eM=function(t,e){return t==="h"&&e==="rtl"?-1:1},tM=function(t,e,n,s,o){var a=eM(t,window.getComputedStyle(e).direction),c=a*s,u=n.target,h=e.contains(u),p=!1,m=c>0,y=0,x=0;do{if(!u)break;var w=tS(t,u),k=w[0],S=w[1],_=w[2],T=S-_-a*k;(k||T)&&eS(t,u)&&(y+=T,x+=k);var P=u.parentNode;u=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(m&&Math.abs(y)<1||!m&&Math.abs(x)<1)&&(p=!0),p},bl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Y0=function(t){return[t.deltaX,t.deltaY]},Q0=function(t){return t&&"current"in t?t.current:t},nM=function(t,e){return t[0]===e[0]&&t[1]===e[1]},rM=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},sM=0,Xs=[];function iM(t){var e=b.useRef([]),n=b.useRef([0,0]),s=b.useRef(),o=b.useState(sM++)[0],a=b.useState(Jb)[0],c=b.useRef(t);b.useEffect(function(){c.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var S=CO([t.lockRef.current],(t.shards||[]).map(Q0),!0).filter(Boolean);return S.forEach(function(_){return _.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),S.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var u=b.useCallback(function(S,_){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!c.current.allowPinchZoom;var T=bl(S),P=n.current,C="deltaX"in S?S.deltaX:P[0]-T[0],E="deltaY"in S?S.deltaY:P[1]-T[1],A,M=S.target,D=Math.abs(C)>Math.abs(E)?"h":"v";if("touches"in S&&D==="h"&&M.type==="range")return!1;var $=q0(D,M);if(!$)return!0;if($?A=D:(A=D==="v"?"h":"v",$=q0(D,M)),!$)return!1;if(!s.current&&"changedTouches"in S&&(C||E)&&(s.current=A),!A)return!0;var G=s.current||A;return tM(G,_,S,G==="h"?C:E)},[]),h=b.useCallback(function(S){var _=S;if(!(!Xs.length||Xs[Xs.length-1]!==a)){var T="deltaY"in _?Y0(_):bl(_),P=e.current.filter(function(A){return A.name===_.type&&(A.target===_.target||_.target===A.shadowParent)&&nM(A.delta,T)})[0];if(P&&P.should){_.cancelable&&_.preventDefault();return}if(!P){var C=(c.current.shards||[]).map(Q0).filter(Boolean).filter(function(A){return A.contains(_.target)}),E=C.length>0?u(_,C[0]):!c.current.noIsolation;E&&_.cancelable&&_.preventDefault()}}},[]),p=b.useCallback(function(S,_,T,P){var C={name:S,delta:_,target:T,should:P,shadowParent:oM(T)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(E){return E!==C})},1)},[]),m=b.useCallback(function(S){n.current=bl(S),s.current=void 0},[]),y=b.useCallback(function(S){p(S.type,Y0(S),S.target,u(S,t.lockRef.current))},[]),x=b.useCallback(function(S){p(S.type,bl(S),S.target,u(S,t.lockRef.current))},[]);b.useEffect(function(){return Xs.push(a),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:x}),document.addEventListener("wheel",h,Qs),document.addEventListener("touchmove",h,Qs),document.addEventListener("touchstart",m,Qs),function(){Xs=Xs.filter(function(S){return S!==a}),document.removeEventListener("wheel",h,Qs),document.removeEventListener("touchmove",h,Qs),document.removeEventListener("touchstart",m,Qs)}},[]);var w=t.removeScrollBar,k=t.inert;return b.createElement(b.Fragment,null,k?b.createElement(a,{styles:rM(o)}):null,w?b.createElement(qO,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function oM(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const aM=MO(Xb,iM);var nS=b.forwardRef(function(t,e){return b.createElement(hc,En({},t,{ref:e,sideCar:aM}))});nS.classNames=hc.classNames;var lM=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Js=new WeakMap,Sl=new WeakMap,_l={},af=0,rS=function(t){return t&&(t.host||rS(t.parentNode))},cM=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=rS(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},uM=function(t,e,n,s){var o=cM(e,Array.isArray(t)?t:[t]);_l[n]||(_l[n]=new WeakMap);var a=_l[n],c=[],u=new Set,h=new Set(o),p=function(y){!y||u.has(y)||(u.add(y),p(y.parentNode))};o.forEach(p);var m=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(x){if(u.has(x))m(x);else try{var w=x.getAttribute(s),k=w!==null&&w!=="false",S=(Js.get(x)||0)+1,_=(a.get(x)||0)+1;Js.set(x,S),a.set(x,_),c.push(x),S===1&&k&&Sl.set(x,!0),_===1&&x.setAttribute(n,"true"),k||x.setAttribute(s,"true")}catch(T){console.error("aria-hidden: cannot operate on ",x,T)}})};return m(e),u.clear(),af++,function(){c.forEach(function(y){var x=Js.get(y)-1,w=a.get(y)-1;Js.set(y,x),a.set(y,w),x||(Sl.has(y)||y.removeAttribute(s),Sl.delete(y)),w||y.removeAttribute(n)}),af--,af||(Js=new WeakMap,Js=new WeakMap,Sl=new WeakMap,_l={})}},dM=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),o=lM(t);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live], script"))),uM(s,o,n,"aria-hidden")):function(){return null}},pc="Dialog",[sS]=rn(pc),[fM,xn]=sS(pc),iS=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:o,onOpenChange:a,modal:c=!0}=t,u=b.useRef(null),h=b.useRef(null),[p,m]=hs({prop:s,defaultProp:o??!1,onChange:a,caller:pc});return d.jsx(fM,{scope:e,triggerRef:u,contentRef:h,contentId:cs(),titleId:cs(),descriptionId:cs(),open:p,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(y=>!y),[m]),modal:c,children:n})};iS.displayName=pc;var oS="DialogTrigger",aS=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=xn(oS,n),a=Fe(e,o.triggerRef);return d.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":hp(o.open),...s,ref:a,onClick:Ne(t.onClick,o.onOpenToggle)})});aS.displayName=oS;var dp="DialogPortal",[hM,lS]=sS(dp,{forceMount:void 0}),cS=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:o}=t,a=xn(dp,e);return d.jsx(hM,{scope:e,forceMount:n,children:b.Children.map(s,c=>d.jsx(zt,{present:n||a.open,children:d.jsx(up,{asChild:!0,container:o,children:c})}))})};cS.displayName=dp;var Yl="DialogOverlay",uS=b.forwardRef((t,e)=>{const n=lS(Yl,t.__scopeDialog),{forceMount:s=n.forceMount,...o}=t,a=xn(Yl,t.__scopeDialog);return a.modal?d.jsx(zt,{present:s||a.open,children:d.jsx(mM,{...o,ref:e})}):null});uS.displayName=Yl;var pM=Oo("DialogOverlay.RemoveScroll"),mM=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=xn(Yl,n);return d.jsx(nS,{as:pM,allowPinchZoom:!0,shards:[o.contentRef],children:d.jsx(Pe.div,{"data-state":hp(o.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),us="DialogContent",dS=b.forwardRef((t,e)=>{const n=lS(us,t.__scopeDialog),{forceMount:s=n.forceMount,...o}=t,a=xn(us,t.__scopeDialog);return d.jsx(zt,{present:s||a.open,children:a.modal?d.jsx(gM,{...o,ref:e}):d.jsx(yM,{...o,ref:e})})});dS.displayName=us;var gM=b.forwardRef((t,e)=>{const n=xn(us,t.__scopeDialog),s=b.useRef(null),o=Fe(e,n.contentRef,s);return b.useEffect(()=>{const a=s.current;if(a)return dM(a)},[]),d.jsx(fS,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(t.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ne(t.onPointerDownOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&a.preventDefault()}),onFocusOutside:Ne(t.onFocusOutside,a=>a.preventDefault())})}),yM=b.forwardRef((t,e)=>{const n=xn(us,t.__scopeDialog),s=b.useRef(!1),o=b.useRef(!1);return d.jsx(fS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(s.current||n.triggerRef.current?.focus(),a.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;n.triggerRef.current?.contains(c)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),fS=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,...c}=t,u=xn(us,n),h=b.useRef(null),p=Fe(e,h);return jO(),d.jsxs(d.Fragment,{children:[d.jsx(Kb,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:a,children:d.jsx(cp,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":hp(u.open),...c,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(vM,{titleId:u.titleId}),d.jsx(wM,{contentRef:h,descriptionId:u.descriptionId})]})]})}),fp="DialogTitle",hS=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=xn(fp,n);return d.jsx(Pe.h2,{id:o.titleId,...s,ref:e})});hS.displayName=fp;var pS="DialogDescription",mS=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=xn(pS,n);return d.jsx(Pe.p,{id:o.descriptionId,...s,ref:e})});mS.displayName=pS;var gS="DialogClose",yS=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=xn(gS,n);return d.jsx(Pe.button,{type:"button",...s,ref:e,onClick:Ne(t.onClick,()=>o.onOpenChange(!1))})});yS.displayName=gS;function hp(t){return t?"open":"closed"}var vS="DialogTitleWarning",[n3,xS]=rC(vS,{contentName:us,titleName:fp,docsSlug:"dialog"}),vM=({titleId:t})=>{const e=xS(vS),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},xM="DialogDescriptionWarning",wM=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xS(xM).contentName}}.`;return b.useEffect(()=>{const o=t.current?.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},wS=iS,bS=aS,SS=cS,mc=uS,pp=dS,Zf=hS,eh=mS,_S=yS;function bM({...t}){return d.jsx(wS,{"data-slot":"sheet",...t})}function SM({...t}){return d.jsx(bS,{"data-slot":"sheet-trigger",...t})}function _M({...t}){return d.jsx(SS,{"data-slot":"sheet-portal",...t})}const kS=b.forwardRef(({className:t,...e},n)=>d.jsx(mc,{ref:n,"data-slot":"sheet-overlay",className:Ie("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));kS.displayName=mc.displayName;function kM({className:t,children:e,side:n="right",...s}){return d.jsxs(_M,{children:[d.jsx(kS,{}),d.jsxs(pp,{"data-slot":"sheet-content",className:Ie("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...s,children:[e,d.jsxs(_S,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[d.jsx(bh,{className:"size-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}var jM=b.createContext(void 0);function gc(t){const e=b.useContext(jM);return t||e||"ltr"}function CM(t,[e,n]){return Math.min(n,Math.max(e,t))}function TM(t,e){return b.useReducer((n,s)=>e[n][s]??n,t)}var mp="ScrollArea",[jS]=rn(mp),[EM,sn]=jS(mp),CS=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:s="hover",dir:o,scrollHideDelay:a=600,...c}=t,[u,h]=b.useState(null),[p,m]=b.useState(null),[y,x]=b.useState(null),[w,k]=b.useState(null),[S,_]=b.useState(null),[T,P]=b.useState(0),[C,E]=b.useState(0),[A,M]=b.useState(!1),[D,$]=b.useState(!1),G=Fe(e,fe=>h(fe)),Z=gc(o);return d.jsx(EM,{scope:n,type:s,dir:Z,scrollHideDelay:a,scrollArea:u,viewport:p,onViewportChange:m,content:y,onContentChange:x,scrollbarX:w,onScrollbarXChange:k,scrollbarXEnabled:A,onScrollbarXEnabledChange:M,scrollbarY:S,onScrollbarYChange:_,scrollbarYEnabled:D,onScrollbarYEnabledChange:$,onCornerWidthChange:P,onCornerHeightChange:E,children:d.jsx(Pe.div,{dir:Z,...c,ref:G,style:{position:"relative","--radix-scroll-area-corner-width":T+"px","--radix-scroll-area-corner-height":C+"px",...t.style}})})});CS.displayName=mp;var TS="ScrollAreaViewport",ES=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:s,nonce:o,...a}=t,c=sn(TS,n),u=b.useRef(null),h=Fe(e,u,c.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),d.jsx(Pe.div,{"data-radix-scroll-area-viewport":"",...a,ref:h,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...t.style},children:d.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});ES.displayName=TS;var Ln="ScrollAreaScrollbar",gp=b.forwardRef((t,e)=>{const{forceMount:n,...s}=t,o=sn(Ln,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:c}=o,u=t.orientation==="horizontal";return b.useEffect(()=>(u?a(!0):c(!0),()=>{u?a(!1):c(!1)}),[u,a,c]),o.type==="hover"?d.jsx(PM,{...s,ref:e,forceMount:n}):o.type==="scroll"?d.jsx(NM,{...s,ref:e,forceMount:n}):o.type==="auto"?d.jsx(PS,{...s,ref:e,forceMount:n}):o.type==="always"?d.jsx(yp,{...s,ref:e}):null});gp.displayName=Ln;var PM=b.forwardRef((t,e)=>{const{forceMount:n,...s}=t,o=sn(Ln,t.__scopeScrollArea),[a,c]=b.useState(!1);return b.useEffect(()=>{const u=o.scrollArea;let h=0;if(u){const p=()=>{window.clearTimeout(h),c(!0)},m=()=>{h=window.setTimeout(()=>c(!1),o.scrollHideDelay)};return u.addEventListener("pointerenter",p),u.addEventListener("pointerleave",m),()=>{window.clearTimeout(h),u.removeEventListener("pointerenter",p),u.removeEventListener("pointerleave",m)}}},[o.scrollArea,o.scrollHideDelay]),d.jsx(zt,{present:n||a,children:d.jsx(PS,{"data-state":a?"visible":"hidden",...s,ref:e})})}),NM=b.forwardRef((t,e)=>{const{forceMount:n,...s}=t,o=sn(Ln,t.__scopeScrollArea),a=t.orientation==="horizontal",c=vc(()=>h("SCROLL_END"),100),[u,h]=TM("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(u==="idle"){const p=window.setTimeout(()=>h("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(p)}},[u,o.scrollHideDelay,h]),b.useEffect(()=>{const p=o.viewport,m=a?"scrollLeft":"scrollTop";if(p){let y=p[m];const x=()=>{const w=p[m];y!==w&&(h("SCROLL"),c()),y=w};return p.addEventListener("scroll",x),()=>p.removeEventListener("scroll",x)}},[o.viewport,a,h,c]),d.jsx(zt,{present:n||u!=="hidden",children:d.jsx(yp,{"data-state":u==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:Ne(t.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Ne(t.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),PS=b.forwardRef((t,e)=>{const n=sn(Ln,t.__scopeScrollArea),{forceMount:s,...o}=t,[a,c]=b.useState(!1),u=t.orientation==="horizontal",h=vc(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,m=n.viewport.offsetHeight<n.viewport.scrollHeight;c(u?p:m)}},10);return gi(n.viewport,h),gi(n.content,h),d.jsx(zt,{present:s||a,children:d.jsx(yp,{"data-state":a?"visible":"hidden",...o,ref:e})})}),yp=b.forwardRef((t,e)=>{const{orientation:n="vertical",...s}=t,o=sn(Ln,t.__scopeScrollArea),a=b.useRef(null),c=b.useRef(0),[u,h]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=OS(u.viewport,u.content),m={...s,sizes:u,onSizesChange:h,hasThumb:p>0&&p<1,onThumbChange:x=>a.current=x,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:x=>c.current=x};function y(x,w){return LM(x,c.current,u,w)}return n==="horizontal"?d.jsx(AM,{...m,ref:e,onThumbPositionChange:()=>{if(o.viewport&&a.current){const x=o.viewport.scrollLeft,w=X0(x,u,o.dir);a.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:x=>{o.viewport&&(o.viewport.scrollLeft=x)},onDragScroll:x=>{o.viewport&&(o.viewport.scrollLeft=y(x,o.dir))}}):n==="vertical"?d.jsx(RM,{...m,ref:e,onThumbPositionChange:()=>{if(o.viewport&&a.current){const x=o.viewport.scrollTop,w=X0(x,u);a.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:x=>{o.viewport&&(o.viewport.scrollTop=x)},onDragScroll:x=>{o.viewport&&(o.viewport.scrollTop=y(x))}}):null}),AM=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...o}=t,a=sn(Ln,t.__scopeScrollArea),[c,u]=b.useState(),h=b.useRef(null),p=Fe(e,h,a.onScrollbarXChange);return b.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),d.jsx(AS,{"data-orientation":"horizontal",...o,ref:p,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":yc(n)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.x),onDragScroll:m=>t.onDragScroll(m.x),onWheelScroll:(m,y)=>{if(a.viewport){const x=a.viewport.scrollLeft+m.deltaX;t.onWheelScroll(x),LS(x,y)&&m.preventDefault()}},onResize:()=>{h.current&&a.viewport&&c&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:Xl(c.paddingLeft),paddingEnd:Xl(c.paddingRight)}})}})}),RM=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...o}=t,a=sn(Ln,t.__scopeScrollArea),[c,u]=b.useState(),h=b.useRef(null),p=Fe(e,h,a.onScrollbarYChange);return b.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),d.jsx(AS,{"data-orientation":"vertical",...o,ref:p,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":yc(n)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.y),onDragScroll:m=>t.onDragScroll(m.y),onWheelScroll:(m,y)=>{if(a.viewport){const x=a.viewport.scrollTop+m.deltaY;t.onWheelScroll(x),LS(x,y)&&m.preventDefault()}},onResize:()=>{h.current&&a.viewport&&c&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:Xl(c.paddingTop),paddingEnd:Xl(c.paddingBottom)}})}})}),[IM,NS]=jS(Ln),AS=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:o,onThumbChange:a,onThumbPointerUp:c,onThumbPointerDown:u,onThumbPositionChange:h,onDragScroll:p,onWheelScroll:m,onResize:y,...x}=t,w=sn(Ln,n),[k,S]=b.useState(null),_=Fe(e,G=>S(G)),T=b.useRef(null),P=b.useRef(""),C=w.viewport,E=s.content-s.viewport,A=Rt(m),M=Rt(h),D=vc(y,10);function $(G){if(T.current){const Z=G.clientX-T.current.left,fe=G.clientY-T.current.top;p({x:Z,y:fe})}}return b.useEffect(()=>{const G=Z=>{const fe=Z.target;k?.contains(fe)&&A(Z,E)};return document.addEventListener("wheel",G,{passive:!1}),()=>document.removeEventListener("wheel",G,{passive:!1})},[C,k,E,A]),b.useEffect(M,[s,M]),gi(k,D),gi(w.content,D),d.jsx(IM,{scope:n,scrollbar:k,hasThumb:o,onThumbChange:Rt(a),onThumbPointerUp:Rt(c),onThumbPositionChange:M,onThumbPointerDown:Rt(u),children:d.jsx(Pe.div,{...x,ref:_,style:{position:"absolute",...x.style},onPointerDown:Ne(t.onPointerDown,G=>{G.button===0&&(G.target.setPointerCapture(G.pointerId),T.current=k.getBoundingClientRect(),P.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),$(G))}),onPointerMove:Ne(t.onPointerMove,$),onPointerUp:Ne(t.onPointerUp,G=>{const Z=G.target;Z.hasPointerCapture(G.pointerId)&&Z.releasePointerCapture(G.pointerId),document.body.style.webkitUserSelect=P.current,w.viewport&&(w.viewport.style.scrollBehavior=""),T.current=null})})})}),Ql="ScrollAreaThumb",RS=b.forwardRef((t,e)=>{const{forceMount:n,...s}=t,o=NS(Ql,t.__scopeScrollArea);return d.jsx(zt,{present:n||o.hasThumb,children:d.jsx(OM,{ref:e,...s})})}),OM=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:s,...o}=t,a=sn(Ql,n),c=NS(Ql,n),{onThumbPositionChange:u}=c,h=Fe(e,y=>c.onThumbChange(y)),p=b.useRef(void 0),m=vc(()=>{p.current&&(p.current(),p.current=void 0)},100);return b.useEffect(()=>{const y=a.viewport;if(y){const x=()=>{if(m(),!p.current){const w=DM(y,u);p.current=w,u()}};return u(),y.addEventListener("scroll",x),()=>y.removeEventListener("scroll",x)}},[a.viewport,m,u]),d.jsx(Pe.div,{"data-state":c.hasThumb?"visible":"hidden",...o,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Ne(t.onPointerDownCapture,y=>{const w=y.target.getBoundingClientRect(),k=y.clientX-w.left,S=y.clientY-w.top;c.onThumbPointerDown({x:k,y:S})}),onPointerUp:Ne(t.onPointerUp,c.onThumbPointerUp)})});RS.displayName=Ql;var vp="ScrollAreaCorner",IS=b.forwardRef((t,e)=>{const n=sn(vp,t.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?d.jsx(MM,{...t,ref:e}):null});IS.displayName=vp;var MM=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,...s}=t,o=sn(vp,n),[a,c]=b.useState(0),[u,h]=b.useState(0),p=!!(a&&u);return gi(o.scrollbarX,()=>{const m=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(m),h(m)}),gi(o.scrollbarY,()=>{const m=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(m),c(m)}),p?d.jsx(Pe.div,{...s,ref:e,style:{width:a,height:u,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Xl(t){return t?parseInt(t,10):0}function OS(t,e){const n=t/e;return isNaN(n)?0:n}function yc(t){const e=OS(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-n)*e;return Math.max(s,18)}function LM(t,e,n,s="ltr"){const o=yc(n),a=o/2,c=e||a,u=o-c,h=n.scrollbar.paddingStart+c,p=n.scrollbar.size-n.scrollbar.paddingEnd-u,m=n.content-n.viewport,y=s==="ltr"?[0,m]:[m*-1,0];return MS([h,p],y)(t)}function X0(t,e,n="ltr"){const s=yc(e),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-o,c=e.content-e.viewport,u=a-s,h=n==="ltr"?[0,c]:[c*-1,0],p=CM(t,h);return MS([0,c],[0,u])(p)}function MS(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function LS(t,e){return t>0&&t<e}var DM=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},s=0;return(function o(){const a={left:t.scrollLeft,top:t.scrollTop},c=n.left!==a.left,u=n.top!==a.top;(c||u)&&e(),n=a,s=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(s)};function vc(t,e){const n=Rt(t),s=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(s.current),[]),b.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,e)},[n,e])}function gi(t,e){const n=Rt(e);On(()=>{let s=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return o.observe(t),()=>{window.cancelAnimationFrame(s),o.unobserve(t)}}},[t,n])}var DS=CS,$M=ES,FM=IS;const xp=b.forwardRef(({className:t,children:e,...n},s)=>d.jsxs(DS,{ref:s,"data-slot":"scroll-area",className:Ie("relative",t),...n,children:[d.jsx($M,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),d.jsx($S,{}),d.jsx(FM,{})]}));xp.displayName=DS.displayName;const $S=b.forwardRef(({className:t,orientation:e="vertical",...n},s)=>d.jsx(gp,{ref:s,"data-slot":"scroll-area-scrollbar",orientation:e,className:Ie("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:d.jsx(RS,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})}));$S.displayName=gp.displayName;var xc="Collapsible",[VM]=rn(xc),[UM,wp]=VM(xc),FS=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:s,defaultOpen:o,disabled:a,onOpenChange:c,...u}=t,[h,p]=hs({prop:s,defaultProp:o??!1,onChange:c,caller:xc});return d.jsx(UM,{scope:n,disabled:a,contentId:cs(),open:h,onOpenToggle:b.useCallback(()=>p(m=>!m),[p]),children:d.jsx(Pe.div,{"data-state":Sp(h),"data-disabled":a?"":void 0,...u,ref:e})})});FS.displayName=xc;var VS="CollapsibleTrigger",US=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,...s}=t,o=wp(VS,n);return d.jsx(Pe.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":Sp(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...s,ref:e,onClick:Ne(t.onClick,o.onOpenToggle)})});US.displayName=VS;var bp="CollapsibleContent",zS=b.forwardRef((t,e)=>{const{forceMount:n,...s}=t,o=wp(bp,t.__scopeCollapsible);return d.jsx(zt,{present:n||o.open,children:({present:a})=>d.jsx(zM,{...s,ref:e,present:a})})});zS.displayName=bp;var zM=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:s,children:o,...a}=t,c=wp(bp,n),[u,h]=b.useState(s),p=b.useRef(null),m=Fe(e,p),y=b.useRef(0),x=y.current,w=b.useRef(0),k=w.current,S=c.open||u,_=b.useRef(S),T=b.useRef(void 0);return b.useEffect(()=>{const P=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(P)},[]),On(()=>{const P=p.current;if(P){T.current=T.current||{transitionDuration:P.style.transitionDuration,animationName:P.style.animationName},P.style.transitionDuration="0s",P.style.animationName="none";const C=P.getBoundingClientRect();y.current=C.height,w.current=C.width,_.current||(P.style.transitionDuration=T.current.transitionDuration,P.style.animationName=T.current.animationName),h(s)}},[c.open,s]),d.jsx(Pe.div,{"data-state":Sp(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!S,...a,ref:m,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":k?`${k}px`:void 0,...t.style},children:S&&o})});function Sp(t){return t?"open":"closed"}var BM=FS;function BS({...t}){return d.jsx(BM,{"data-slot":"collapsible",...t})}function WS({...t}){return d.jsx(US,{"data-slot":"collapsible-trigger",...t})}function HS({...t}){return d.jsx(zS,{"data-slot":"collapsible-content",...t})}function J0({user:t,conversations:e,onConversationSelect:n,onLogout:s,onSettings:o}){const[a,c]=b.useState(!0),u=_=>({"Travel & Adventures":ZC,"Daily Life & Routines":WC,"Work & Career":EC,"Hobbies & Interests":nT,"Entertainment & Gaming":XC,"Education & Learning":Dl,"Technology & Social Media":NC,"Music & Arts":ST,"Food & Cooking":XT,"General Conversation":ti})[_]||ti,h=e.reduce((_,T)=>{const P=T.topic||"General Conversation";return _[P]||(_[P]=[]),_[P].push(T),_},{}),p=Object.keys(h).sort((_,T)=>{const P=Math.max(...h[_].map(E=>new Date(E.timestamp).getTime()));return Math.max(...h[T].map(E=>new Date(E.timestamp).getTime()))-P}),m=!!t.level,y=t.placement_test_completed,x=m&&y,w=m&&!y,k=()=>x?"Set by Placement Test":w?"Self-selected":"Not set",S=()=>m?{Beginner:"New to English pronunciation and prosody. Focus on basic patterns and guided practice.",Intermediate:"Some experience with English speaking. Practice complex patterns and natural conversation.",Advanced:"Strong English skills, refining prosody. Work on subtle nuances and accent reduction."}[t.level]||"Custom learning level.":"No level has been set yet.";return d.jsxs("div",{className:"w-full h-full bg-sidebar border-r border-sidebar-border flex flex-col",children:[d.jsx("div",{className:"p-4 border-b border-sidebar-border",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 bg-sidebar-accent rounded-full flex items-center justify-center",children:d.jsx(ac,{className:"w-5 h-5 text-sidebar-accent-foreground"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-medium text-sidebar-foreground truncate",children:t.username}),d.jsx("p",{className:"text-sm text-sidebar-foreground/70 truncate",children:t.email})]}),d.jsx(ce,{variant:"ghost",size:"icon",onClick:s,children:d.jsx(dT,{className:"w-4 h-4"})})]})}),d.jsx(xp,{className:"flex-1",children:d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(at,{children:[d.jsx(gn,{className:"pb-3",children:d.jsxs(Zt,{className:"text-sm flex items-center gap-2",children:[d.jsx(Fl,{className:"w-4 h-4"}),"Current Level (",k(),")"]})}),d.jsx(lt,{className:"space-y-3",children:m?d.jsxs(d.Fragment,{children:[d.jsx(ve.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"flex items-center justify-center",children:d.jsxs("div",{className:"flex items-center gap-3 bg-sidebar-primary/10 border border-sidebar-primary/20 rounded-lg px-4 py-4 w-full",children:[d.jsx("div",{className:"w-10 h-10 bg-sidebar-primary rounded-full flex items-center justify-center flex-shrink-0",children:x?d.jsx(Lx,{className:"w-5 h-5 text-sidebar-primary-foreground"}):d.jsx(Dl,{className:"w-5 h-5 text-sidebar-primary-foreground"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-semibold text-lg text-sidebar-foreground",children:t.level}),d.jsx("div",{className:"text-xs text-sidebar-foreground/60",children:x?"Assessed level":"Self-selected level"}),t.placement_test_score&&d.jsxs("div",{className:"text-xs text-sidebar-foreground/80 mt-1",children:["Test Score: ",t.placement_test_score,"%"]})]})]})}),d.jsx("div",{className:"bg-sidebar-accent/10 border border-sidebar-accent/20 rounded-lg p-3",children:d.jsx("p",{className:"text-xs text-sidebar-foreground/80 leading-relaxed",children:S()})}),d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:x?"Your level was determined by placement test results for optimal learning.":"You selected this level manually. Consider taking the placement test for a personalized assessment."})})]}):d.jsx(d.Fragment,{children:d.jsxs("div",{className:"text-center space-y-3",children:[d.jsx("div",{className:"w-16 h-16 bg-sidebar-accent/20 rounded-full flex items-center justify-center mx-auto",children:d.jsx(Fl,{className:"w-8 h-8 text-sidebar-accent"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-sidebar-foreground",children:"No Level Set"}),d.jsx("p",{className:"text-xs text-sidebar-foreground/60 mt-1",children:"Use the placement test button in the top-right corner to get started with a personalized level assessment."})]})]})})})]}),d.jsxs(BS,{open:a,onOpenChange:c,children:[d.jsx(WS,{asChild:!0,children:d.jsxs(ce,{variant:"outline",className:"w-full justify-between",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(ti,{className:"w-4 h-4"}),"History (",e.length,")"]}),d.jsx(xh,{className:`w-4 h-4 transition-transform ${a?"rotate-180":""}`})]})}),d.jsx(HS,{children:d.jsx("div",{className:"mt-2 space-y-3 max-h-80 overflow-y-auto",children:e.length===0?d.jsx(at,{children:d.jsx(lt,{className:"p-4 text-center",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"No conversations yet. Start chatting to build your practice history!"})})}):p.map(_=>{const T=h[_],P=u(_);T.reduce((E,A)=>E+A.messagesCount,0);const C=T.filter(E=>E.prosodyScore).reduce((E,A,M,D)=>E+(A.prosodyScore||0)/D.length,0);return d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-sidebar-accent/20 rounded",children:[d.jsx(P,{className:"w-3 h-3 text-sidebar-accent"}),d.jsx("span",{className:"text-xs font-medium text-sidebar-foreground",children:_}),d.jsx("div",{className:"flex-1"}),d.jsxs(ze,{variant:"outline",className:"text-xs",children:[T.length," session",T.length!==1?"s":""]}),C>0&&d.jsxs(ze,{className:"text-xs bg-sidebar-primary/20 text-sidebar-primary",children:[Math.round(C),"% avg"]})]}),d.jsxs("div",{className:"space-y-1 ml-4",children:[T.sort((E,A)=>new Date(A.timestamp).getTime()-new Date(E.timestamp).getTime()).slice(0,3).map(E=>{const A=G=>G>=85?"bg-success text-success-foreground":G>=70?"bg-secondary text-secondary-foreground":G>=60?"bg-accent text-accent-foreground":"bg-destructive text-destructive-foreground",D=(G=>G>=20?{status:"Complete",icon:Xn,color:"text-success"}:G>=10?{status:"In Progress",icon:$l,color:"text-accent"}:{status:"Started",icon:ti,color:"text-secondary"})(E.messagesCount),$=D.icon;return d.jsx(ve.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:d.jsx(at,{className:"cursor-pointer hover:bg-sidebar-accent/30 transition-all duration-200 border-l-2 border-l-sidebar-primary/30 hover:border-l-sidebar-primary hover:shadow-sm",onClick:()=>n(E),children:d.jsx(lt,{className:"p-2",children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-start justify-between gap-2",children:[d.jsx("h4",{className:"text-xs font-medium truncate text-sidebar-foreground",children:E.title}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx($,{className:`w-3 h-3 ${D.color}`}),E.prosodyScore&&d.jsxs(ze,{className:`text-xs ${A(E.prosodyScore)}`,children:[E.prosodyScore,"%"]})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs text-sidebar-foreground/60",children:[d.jsx($l,{className:"w-2 h-2"}),d.jsx("span",{children:E.timestamp})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(ze,{variant:"outline",className:`text-xs ${D.color}`,children:D.status}),d.jsxs("span",{className:"text-xs text-sidebar-foreground/60",children:[E.messagesCount,"msg"]})]})]})]})})})},E.id)}),T.length>3&&d.jsxs("div",{className:"text-xs text-sidebar-foreground/60 text-center py-1",children:["+",T.length-3," more sessions"]})]})]},_)})})})]})]})}),d.jsx("div",{className:"p-4 border-t border-sidebar-border",children:d.jsxs(ce,{variant:"outline",className:"w-full justify-start",onClick:o,disabled:!o,children:[d.jsx(wh,{className:"w-4 h-4 mr-2"}),"Settings"]})})]})}function WM({className:t,...e}){return d.jsx("textarea",{"data-slot":"textarea",className:Ie("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}const HM=["top","right","bottom","left"],Ar=Math.min,Vt=Math.max,Jl=Math.round,kl=Math.floor,In=t=>({x:t,y:t}),GM={left:"right",right:"left",bottom:"top",top:"bottom"},KM={start:"end",end:"start"};function th(t,e,n){return Vt(t,Ar(e,n))}function er(t,e){return typeof t=="function"?t(e):t}function tr(t){return t.split("-")[0]}function ji(t){return t.split("-")[1]}function _p(t){return t==="x"?"y":"x"}function kp(t){return t==="y"?"height":"width"}const qM=new Set(["top","bottom"]);function Pn(t){return qM.has(tr(t))?"y":"x"}function jp(t){return _p(Pn(t))}function YM(t,e,n){n===void 0&&(n=!1);const s=ji(t),o=jp(t),a=kp(o);let c=o==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(c=Zl(c)),[c,Zl(c)]}function QM(t){const e=Zl(t);return[nh(t),e,nh(e)]}function nh(t){return t.replace(/start|end/g,e=>KM[e])}const Z0=["left","right"],ex=["right","left"],XM=["top","bottom"],JM=["bottom","top"];function ZM(t,e,n){switch(t){case"top":case"bottom":return n?e?ex:Z0:e?Z0:ex;case"left":case"right":return e?XM:JM;default:return[]}}function eL(t,e,n,s){const o=ji(t);let a=ZM(tr(t),n==="start",s);return o&&(a=a.map(c=>c+"-"+o),e&&(a=a.concat(a.map(nh)))),a}function Zl(t){return t.replace(/left|right|bottom|top/g,e=>GM[e])}function tL(t){return{top:0,right:0,bottom:0,left:0,...t}}function GS(t){return typeof t!="number"?tL(t):{top:t,right:t,bottom:t,left:t}}function ec(t){const{x:e,y:n,width:s,height:o}=t;return{width:s,height:o,top:n,left:e,right:e+s,bottom:n+o,x:e,y:n}}function tx(t,e,n){let{reference:s,floating:o}=t;const a=Pn(e),c=jp(e),u=kp(c),h=tr(e),p=a==="y",m=s.x+s.width/2-o.width/2,y=s.y+s.height/2-o.height/2,x=s[u]/2-o[u]/2;let w;switch(h){case"top":w={x:m,y:s.y-o.height};break;case"bottom":w={x:m,y:s.y+s.height};break;case"right":w={x:s.x+s.width,y};break;case"left":w={x:s.x-o.width,y};break;default:w={x:s.x,y:s.y}}switch(ji(e)){case"start":w[c]-=x*(n&&p?-1:1);break;case"end":w[c]+=x*(n&&p?-1:1);break}return w}const nL=async(t,e,n)=>{const{placement:s="bottom",strategy:o="absolute",middleware:a=[],platform:c}=n,u=a.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let p=await c.getElementRects({reference:t,floating:e,strategy:o}),{x:m,y}=tx(p,s,h),x=s,w={},k=0;for(let S=0;S<u.length;S++){const{name:_,fn:T}=u[S],{x:P,y:C,data:E,reset:A}=await T({x:m,y,initialPlacement:s,placement:x,strategy:o,middlewareData:w,rects:p,platform:c,elements:{reference:t,floating:e}});m=P??m,y=C??y,w={...w,[_]:{...w[_],...E}},A&&k<=50&&(k++,typeof A=="object"&&(A.placement&&(x=A.placement),A.rects&&(p=A.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:o}):A.rects),{x:m,y}=tx(p,x,h)),S=-1)}return{x:m,y,placement:x,strategy:o,middlewareData:w}};async function Bo(t,e){var n;e===void 0&&(e={});const{x:s,y:o,platform:a,rects:c,elements:u,strategy:h}=t,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:x=!1,padding:w=0}=er(e,t),k=GS(w),_=u[x?y==="floating"?"reference":"floating":y],T=ec(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(_)))==null||n?_:_.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:p,rootBoundary:m,strategy:h})),P=y==="floating"?{x:s,y:o,width:c.floating.width,height:c.floating.height}:c.reference,C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),E=await(a.isElement==null?void 0:a.isElement(C))?await(a.getScale==null?void 0:a.getScale(C))||{x:1,y:1}:{x:1,y:1},A=ec(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:P,offsetParent:C,strategy:h}):P);return{top:(T.top-A.top+k.top)/E.y,bottom:(A.bottom-T.bottom+k.bottom)/E.y,left:(T.left-A.left+k.left)/E.x,right:(A.right-T.right+k.right)/E.x}}const rL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:o,rects:a,platform:c,elements:u,middlewareData:h}=e,{element:p,padding:m=0}=er(t,e)||{};if(p==null)return{};const y=GS(m),x={x:n,y:s},w=jp(o),k=kp(w),S=await c.getDimensions(p),_=w==="y",T=_?"top":"left",P=_?"bottom":"right",C=_?"clientHeight":"clientWidth",E=a.reference[k]+a.reference[w]-x[w]-a.floating[k],A=x[w]-a.reference[w],M=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let D=M?M[C]:0;(!D||!await(c.isElement==null?void 0:c.isElement(M)))&&(D=u.floating[C]||a.floating[k]);const $=E/2-A/2,G=D/2-S[k]/2-1,Z=Ar(y[T],G),fe=Ar(y[P],G),be=Z,me=D-S[k]-fe,ge=D/2-S[k]/2+$,Q=th(be,ge,me),J=!h.arrow&&ji(o)!=null&&ge!==Q&&a.reference[k]/2-(ge<be?Z:fe)-S[k]/2<0,B=J?ge<be?ge-be:ge-me:0;return{[w]:x[w]+B,data:{[w]:Q,centerOffset:ge-Q-B,...J&&{alignmentOffset:B}},reset:J}}}),sL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:o,middlewareData:a,rects:c,initialPlacement:u,platform:h,elements:p}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:x,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:S=!0,..._}=er(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const T=tr(o),P=Pn(u),C=tr(u)===u,E=await(h.isRTL==null?void 0:h.isRTL(p.floating)),A=x||(C||!S?[Zl(u)]:QM(u)),M=k!=="none";!x&&M&&A.push(...eL(u,S,k,E));const D=[u,...A],$=await Bo(e,_),G=[];let Z=((s=a.flip)==null?void 0:s.overflows)||[];if(m&&G.push($[T]),y){const ge=YM(o,c,E);G.push($[ge[0]],$[ge[1]])}if(Z=[...Z,{placement:o,overflows:G}],!G.every(ge=>ge<=0)){var fe,be;const ge=(((fe=a.flip)==null?void 0:fe.index)||0)+1,Q=D[ge];if(Q&&(!(y==="alignment"?P!==Pn(Q):!1)||Z.every(I=>Pn(I.placement)===P?I.overflows[0]>0:!0)))return{data:{index:ge,overflows:Z},reset:{placement:Q}};let J=(be=Z.filter(B=>B.overflows[0]<=0).sort((B,I)=>B.overflows[1]-I.overflows[1])[0])==null?void 0:be.placement;if(!J)switch(w){case"bestFit":{var me;const B=(me=Z.filter(I=>{if(M){const H=Pn(I.placement);return H===P||H==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(H=>H>0).reduce((H,V)=>H+V,0)]).sort((I,H)=>I[1]-H[1])[0])==null?void 0:me[0];B&&(J=B);break}case"initialPlacement":J=u;break}if(o!==J)return{reset:{placement:J}}}return{}}}};function nx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function rx(t){return HM.some(e=>t[e]>=0)}const iL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...o}=er(t,e);switch(s){case"referenceHidden":{const a=await Bo(e,{...o,elementContext:"reference"}),c=nx(a,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:rx(c)}}}case"escaped":{const a=await Bo(e,{...o,altBoundary:!0}),c=nx(a,n.floating);return{data:{escapedOffsets:c,escaped:rx(c)}}}default:return{}}}}},KS=new Set(["left","top"]);async function oL(t,e){const{placement:n,platform:s,elements:o}=t,a=await(s.isRTL==null?void 0:s.isRTL(o.floating)),c=tr(n),u=ji(n),h=Pn(n)==="y",p=KS.has(c)?-1:1,m=a&&h?-1:1,y=er(e,t);let{mainAxis:x,crossAxis:w,alignmentAxis:k}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof k=="number"&&(w=u==="end"?k*-1:k),h?{x:w*m,y:x*p}:{x:x*p,y:w*m}}const aL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:o,y:a,placement:c,middlewareData:u}=e,h=await oL(e,t);return c===((n=u.offset)==null?void 0:n.placement)&&(s=u.arrow)!=null&&s.alignmentOffset?{}:{x:o+h.x,y:a+h.y,data:{...h,placement:c}}}}},lL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:o}=e,{mainAxis:a=!0,crossAxis:c=!1,limiter:u={fn:_=>{let{x:T,y:P}=_;return{x:T,y:P}}},...h}=er(t,e),p={x:n,y:s},m=await Bo(e,h),y=Pn(tr(o)),x=_p(y);let w=p[x],k=p[y];if(a){const _=x==="y"?"top":"left",T=x==="y"?"bottom":"right",P=w+m[_],C=w-m[T];w=th(P,w,C)}if(c){const _=y==="y"?"top":"left",T=y==="y"?"bottom":"right",P=k+m[_],C=k-m[T];k=th(P,k,C)}const S=u.fn({...e,[x]:w,[y]:k});return{...S,data:{x:S.x-n,y:S.y-s,enabled:{[x]:a,[y]:c}}}}}},cL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:o,rects:a,middlewareData:c}=e,{offset:u=0,mainAxis:h=!0,crossAxis:p=!0}=er(t,e),m={x:n,y:s},y=Pn(o),x=_p(y);let w=m[x],k=m[y];const S=er(u,e),_=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(h){const C=x==="y"?"height":"width",E=a.reference[x]-a.floating[C]+_.mainAxis,A=a.reference[x]+a.reference[C]-_.mainAxis;w<E?w=E:w>A&&(w=A)}if(p){var T,P;const C=x==="y"?"width":"height",E=KS.has(tr(o)),A=a.reference[y]-a.floating[C]+(E&&((T=c.offset)==null?void 0:T[y])||0)+(E?0:_.crossAxis),M=a.reference[y]+a.reference[C]+(E?0:((P=c.offset)==null?void 0:P[y])||0)-(E?_.crossAxis:0);k<A?k=A:k>M&&(k=M)}return{[x]:w,[y]:k}}}},uL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:o,rects:a,platform:c,elements:u}=e,{apply:h=()=>{},...p}=er(t,e),m=await Bo(e,p),y=tr(o),x=ji(o),w=Pn(o)==="y",{width:k,height:S}=a.floating;let _,T;y==="top"||y==="bottom"?(_=y,T=x===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(T=y,_=x==="end"?"top":"bottom");const P=S-m.top-m.bottom,C=k-m.left-m.right,E=Ar(S-m[_],P),A=Ar(k-m[T],C),M=!e.middlewareData.shift;let D=E,$=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&($=C),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(D=P),M&&!x){const Z=Vt(m.left,0),fe=Vt(m.right,0),be=Vt(m.top,0),me=Vt(m.bottom,0);w?$=k-2*(Z!==0||fe!==0?Z+fe:Vt(m.left,m.right)):D=S-2*(be!==0||me!==0?be+me:Vt(m.top,m.bottom))}await h({...e,availableWidth:$,availableHeight:D});const G=await c.getDimensions(u.floating);return k!==G.width||S!==G.height?{reset:{rects:!0}}:{}}}};function wc(){return typeof window<"u"}function Ci(t){return qS(t)?(t.nodeName||"").toLowerCase():"#document"}function Ut(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Dn(t){var e;return(e=(qS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function qS(t){return wc()?t instanceof Node||t instanceof Ut(t).Node:!1}function yn(t){return wc()?t instanceof Element||t instanceof Ut(t).Element:!1}function Mn(t){return wc()?t instanceof HTMLElement||t instanceof Ut(t).HTMLElement:!1}function sx(t){return!wc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ut(t).ShadowRoot}const dL=new Set(["inline","contents"]);function Xo(t){const{overflow:e,overflowX:n,overflowY:s,display:o}=vn(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!dL.has(o)}const fL=new Set(["table","td","th"]);function hL(t){return fL.has(Ci(t))}const pL=[":popover-open",":modal"];function bc(t){return pL.some(e=>{try{return t.matches(e)}catch{return!1}})}const mL=["transform","translate","scale","rotate","perspective"],gL=["transform","translate","scale","rotate","perspective","filter"],yL=["paint","layout","strict","content"];function Cp(t){const e=Tp(),n=yn(t)?vn(t):t;return mL.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||gL.some(s=>(n.willChange||"").includes(s))||yL.some(s=>(n.contain||"").includes(s))}function vL(t){let e=Rr(t);for(;Mn(e)&&!yi(e);){if(Cp(e))return e;if(bc(e))return null;e=Rr(e)}return null}function Tp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const xL=new Set(["html","body","#document"]);function yi(t){return xL.has(Ci(t))}function vn(t){return Ut(t).getComputedStyle(t)}function Sc(t){return yn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Rr(t){if(Ci(t)==="html")return t;const e=t.assignedSlot||t.parentNode||sx(t)&&t.host||Dn(t);return sx(e)?e.host:e}function YS(t){const e=Rr(t);return yi(e)?t.ownerDocument?t.ownerDocument.body:t.body:Mn(e)&&Xo(e)?e:YS(e)}function Wo(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=YS(t),a=o===((s=t.ownerDocument)==null?void 0:s.body),c=Ut(o);if(a){const u=rh(c);return e.concat(c,c.visualViewport||[],Xo(o)?o:[],u&&n?Wo(u):[])}return e.concat(o,Wo(o,[],n))}function rh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function QS(t){const e=vn(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const o=Mn(t),a=o?t.offsetWidth:n,c=o?t.offsetHeight:s,u=Jl(n)!==a||Jl(s)!==c;return u&&(n=a,s=c),{width:n,height:s,$:u}}function Ep(t){return yn(t)?t:t.contextElement}function di(t){const e=Ep(t);if(!Mn(e))return In(1);const n=e.getBoundingClientRect(),{width:s,height:o,$:a}=QS(e);let c=(a?Jl(n.width):n.width)/s,u=(a?Jl(n.height):n.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const wL=In(0);function XS(t){const e=Ut(t);return!Tp()||!e.visualViewport?wL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ut(t)?!1:e}function ds(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=Ep(t);let c=In(1);e&&(s?yn(s)&&(c=di(s)):c=di(t));const u=bL(a,n,s)?XS(a):In(0);let h=(o.left+u.x)/c.x,p=(o.top+u.y)/c.y,m=o.width/c.x,y=o.height/c.y;if(a){const x=Ut(a),w=s&&yn(s)?Ut(s):s;let k=x,S=rh(k);for(;S&&s&&w!==k;){const _=di(S),T=S.getBoundingClientRect(),P=vn(S),C=T.left+(S.clientLeft+parseFloat(P.paddingLeft))*_.x,E=T.top+(S.clientTop+parseFloat(P.paddingTop))*_.y;h*=_.x,p*=_.y,m*=_.x,y*=_.y,h+=C,p+=E,k=Ut(S),S=rh(k)}}return ec({width:m,height:y,x:h,y:p})}function _c(t,e){const n=Sc(t).scrollLeft;return e?e.left+n:ds(Dn(t)).left+n}function JS(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-_c(t,n),o=n.top+e.scrollTop;return{x:s,y:o}}function SL(t){let{elements:e,rect:n,offsetParent:s,strategy:o}=t;const a=o==="fixed",c=Dn(s),u=e?bc(e.floating):!1;if(s===c||u&&a)return n;let h={scrollLeft:0,scrollTop:0},p=In(1);const m=In(0),y=Mn(s);if((y||!y&&!a)&&((Ci(s)!=="body"||Xo(c))&&(h=Sc(s)),Mn(s))){const w=ds(s);p=di(s),m.x=w.x+s.clientLeft,m.y=w.y+s.clientTop}const x=c&&!y&&!a?JS(c,h):In(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+m.x+x.x,y:n.y*p.y-h.scrollTop*p.y+m.y+x.y}}function _L(t){return Array.from(t.getClientRects())}function kL(t){const e=Dn(t),n=Sc(t),s=t.ownerDocument.body,o=Vt(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),a=Vt(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let c=-n.scrollLeft+_c(t);const u=-n.scrollTop;return vn(s).direction==="rtl"&&(c+=Vt(e.clientWidth,s.clientWidth)-o),{width:o,height:a,x:c,y:u}}const ix=25;function jL(t,e){const n=Ut(t),s=Dn(t),o=n.visualViewport;let a=s.clientWidth,c=s.clientHeight,u=0,h=0;if(o){a=o.width,c=o.height;const m=Tp();(!m||m&&e==="fixed")&&(u=o.offsetLeft,h=o.offsetTop)}const p=_c(s);if(p<=0){const m=s.ownerDocument,y=m.body,x=getComputedStyle(y),w=m.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,k=Math.abs(s.clientWidth-y.clientWidth-w);k<=ix&&(a-=k)}else p<=ix&&(a+=p);return{width:a,height:c,x:u,y:h}}const CL=new Set(["absolute","fixed"]);function TL(t,e){const n=ds(t,!0,e==="fixed"),s=n.top+t.clientTop,o=n.left+t.clientLeft,a=Mn(t)?di(t):In(1),c=t.clientWidth*a.x,u=t.clientHeight*a.y,h=o*a.x,p=s*a.y;return{width:c,height:u,x:h,y:p}}function ox(t,e,n){let s;if(e==="viewport")s=jL(t,n);else if(e==="document")s=kL(Dn(t));else if(yn(e))s=TL(e,n);else{const o=XS(t);s={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return ec(s)}function ZS(t,e){const n=Rr(t);return n===e||!yn(n)||yi(n)?!1:vn(n).position==="fixed"||ZS(n,e)}function EL(t,e){const n=e.get(t);if(n)return n;let s=Wo(t,[],!1).filter(u=>yn(u)&&Ci(u)!=="body"),o=null;const a=vn(t).position==="fixed";let c=a?Rr(t):t;for(;yn(c)&&!yi(c);){const u=vn(c),h=Cp(c);!h&&u.position==="fixed"&&(o=null),(a?!h&&!o:!h&&u.position==="static"&&!!o&&CL.has(o.position)||Xo(c)&&!h&&ZS(t,c))?s=s.filter(m=>m!==c):o=u,c=Rr(c)}return e.set(t,s),s}function PL(t){let{element:e,boundary:n,rootBoundary:s,strategy:o}=t;const c=[...n==="clippingAncestors"?bc(e)?[]:EL(e,this._c):[].concat(n),s],u=c[0],h=c.reduce((p,m)=>{const y=ox(e,m,o);return p.top=Vt(y.top,p.top),p.right=Ar(y.right,p.right),p.bottom=Ar(y.bottom,p.bottom),p.left=Vt(y.left,p.left),p},ox(e,u,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function NL(t){const{width:e,height:n}=QS(t);return{width:e,height:n}}function AL(t,e,n){const s=Mn(e),o=Dn(e),a=n==="fixed",c=ds(t,!0,a,e);let u={scrollLeft:0,scrollTop:0};const h=In(0);function p(){h.x=_c(o)}if(s||!s&&!a)if((Ci(e)!=="body"||Xo(o))&&(u=Sc(e)),s){const w=ds(e,!0,a,e);h.x=w.x+e.clientLeft,h.y=w.y+e.clientTop}else o&&p();a&&!s&&o&&p();const m=o&&!s&&!a?JS(o,u):In(0),y=c.left+u.scrollLeft-h.x-m.x,x=c.top+u.scrollTop-h.y-m.y;return{x:y,y:x,width:c.width,height:c.height}}function lf(t){return vn(t).position==="static"}function ax(t,e){if(!Mn(t)||vn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Dn(t)===n&&(n=n.ownerDocument.body),n}function e1(t,e){const n=Ut(t);if(bc(t))return n;if(!Mn(t)){let o=Rr(t);for(;o&&!yi(o);){if(yn(o)&&!lf(o))return o;o=Rr(o)}return n}let s=ax(t,e);for(;s&&hL(s)&&lf(s);)s=ax(s,e);return s&&yi(s)&&lf(s)&&!Cp(s)?n:s||vL(t)||n}const RL=async function(t){const e=this.getOffsetParent||e1,n=this.getDimensions,s=await n(t.floating);return{reference:AL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function IL(t){return vn(t).direction==="rtl"}const OL={convertOffsetParentRelativeRectToViewportRelativeRect:SL,getDocumentElement:Dn,getClippingRect:PL,getOffsetParent:e1,getElementRects:RL,getClientRects:_L,getDimensions:NL,getScale:di,isElement:yn,isRTL:IL};function t1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ML(t,e){let n=null,s;const o=Dn(t);function a(){var u;clearTimeout(s),(u=n)==null||u.disconnect(),n=null}function c(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),a();const p=t.getBoundingClientRect(),{left:m,top:y,width:x,height:w}=p;if(u||e(),!x||!w)return;const k=kl(y),S=kl(o.clientWidth-(m+x)),_=kl(o.clientHeight-(y+w)),T=kl(m),C={rootMargin:-k+"px "+-S+"px "+-_+"px "+-T+"px",threshold:Vt(0,Ar(1,h))||1};let E=!0;function A(M){const D=M[0].intersectionRatio;if(D!==h){if(!E)return c();D?c(!1,D):s=setTimeout(()=>{c(!1,1e-7)},1e3)}D===1&&!t1(p,t.getBoundingClientRect())&&c(),E=!1}try{n=new IntersectionObserver(A,{...C,root:o.ownerDocument})}catch{n=new IntersectionObserver(A,C)}n.observe(t)}return c(!0),a}function LL(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,p=Ep(t),m=o||a?[...p?Wo(p):[],...Wo(e)]:[];m.forEach(T=>{o&&T.addEventListener("scroll",n,{passive:!0}),a&&T.addEventListener("resize",n)});const y=p&&u?ML(p,n):null;let x=-1,w=null;c&&(w=new ResizeObserver(T=>{let[P]=T;P&&P.target===p&&w&&(w.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var C;(C=w)==null||C.observe(e)})),n()}),p&&!h&&w.observe(p),w.observe(e));let k,S=h?ds(t):null;h&&_();function _(){const T=ds(t);S&&!t1(S,T)&&n(),S=T,k=requestAnimationFrame(_)}return n(),()=>{var T;m.forEach(P=>{o&&P.removeEventListener("scroll",n),a&&P.removeEventListener("resize",n)}),y?.(),(T=w)==null||T.disconnect(),w=null,h&&cancelAnimationFrame(k)}}const DL=aL,$L=lL,FL=sL,VL=uL,UL=iL,lx=rL,zL=cL,BL=(t,e,n)=>{const s=new Map,o={platform:OL,...n},a={...o.platform,_c:s};return nL(t,e,{...o,platform:a})};var WL=typeof document<"u",HL=function(){},Il=WL?b.useLayoutEffect:HL;function tc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!tc(t[s],e[s]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,o[s]))return!1;for(s=n;s--!==0;){const a=o[s];if(!(a==="_owner"&&t.$$typeof)&&!tc(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function n1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function cx(t,e){const n=n1(t);return Math.round(e*n)/n}function cf(t){const e=b.useRef(t);return Il(()=>{e.current=t}),e}function GL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:o,elements:{reference:a,floating:c}={},transform:u=!0,whileElementsMounted:h,open:p}=t,[m,y]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[x,w]=b.useState(s);tc(x,s)||w(s);const[k,S]=b.useState(null),[_,T]=b.useState(null),P=b.useCallback(I=>{I!==M.current&&(M.current=I,S(I))},[]),C=b.useCallback(I=>{I!==D.current&&(D.current=I,T(I))},[]),E=a||k,A=c||_,M=b.useRef(null),D=b.useRef(null),$=b.useRef(m),G=h!=null,Z=cf(h),fe=cf(o),be=cf(p),me=b.useCallback(()=>{if(!M.current||!D.current)return;const I={placement:e,strategy:n,middleware:x};fe.current&&(I.platform=fe.current),BL(M.current,D.current,I).then(H=>{const V={...H,isPositioned:be.current!==!1};ge.current&&!tc($.current,V)&&($.current=V,gh.flushSync(()=>{y(V)}))})},[x,e,n,fe,be]);Il(()=>{p===!1&&$.current.isPositioned&&($.current.isPositioned=!1,y(I=>({...I,isPositioned:!1})))},[p]);const ge=b.useRef(!1);Il(()=>(ge.current=!0,()=>{ge.current=!1}),[]),Il(()=>{if(E&&(M.current=E),A&&(D.current=A),E&&A){if(Z.current)return Z.current(E,A,me);me()}},[E,A,me,Z,G]);const Q=b.useMemo(()=>({reference:M,floating:D,setReference:P,setFloating:C}),[P,C]),J=b.useMemo(()=>({reference:E,floating:A}),[E,A]),B=b.useMemo(()=>{const I={position:n,left:0,top:0};if(!J.floating)return I;const H=cx(J.floating,m.x),V=cx(J.floating,m.y);return u?{...I,transform:"translate("+H+"px, "+V+"px)",...n1(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:V}},[n,u,J.floating,m.x,m.y]);return b.useMemo(()=>({...m,update:me,refs:Q,elements:J,floatingStyles:B}),[m,me,Q,J,B])}const KL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:o}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?lx({element:s.current,padding:o}).fn(n):{}:s?lx({element:s,padding:o}).fn(n):{}}}},qL=(t,e)=>({...DL(t),options:[t,e]}),YL=(t,e)=>({...$L(t),options:[t,e]}),QL=(t,e)=>({...zL(t),options:[t,e]}),XL=(t,e)=>({...FL(t),options:[t,e]}),JL=(t,e)=>({...VL(t),options:[t,e]}),ZL=(t,e)=>({...UL(t),options:[t,e]}),eD=(t,e)=>({...KL(t),options:[t,e]});var tD="Arrow",r1=b.forwardRef((t,e)=>{const{children:n,width:s=10,height:o=5,...a}=t;return d.jsx(Pe.svg,{...a,ref:e,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});r1.displayName=tD;var nD=r1;function Pp(t){const[e,n]=b.useState(void 0);return On(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,u;if("borderBoxSize"in a){const h=a.borderBoxSize,p=Array.isArray(h)?h[0]:h;c=p.inlineSize,u=p.blockSize}else c=t.offsetWidth,u=t.offsetHeight;n({width:c,height:u})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var Np="Popper",[s1,i1]=rn(Np),[rD,o1]=s1(Np),a1=t=>{const{__scopePopper:e,children:n}=t,[s,o]=b.useState(null);return d.jsx(rD,{scope:e,anchor:s,onAnchorChange:o,children:n})};a1.displayName=Np;var l1="PopperAnchor",c1=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...o}=t,a=o1(l1,n),c=b.useRef(null),u=Fe(e,c),h=b.useRef(null);return b.useEffect(()=>{const p=h.current;h.current=s?.current||c.current,p!==h.current&&a.onAnchorChange(h.current)}),s?null:d.jsx(Pe.div,{...o,ref:u})});c1.displayName=l1;var Ap="PopperContent",[sD,iD]=s1(Ap),u1=b.forwardRef((t,e)=>{const{__scopePopper:n,side:s="bottom",sideOffset:o=0,align:a="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:m=0,sticky:y="partial",hideWhenDetached:x=!1,updatePositionStrategy:w="optimized",onPlaced:k,...S}=t,_=o1(Ap,n),[T,P]=b.useState(null),C=Fe(e,ne=>P(ne)),[E,A]=b.useState(null),M=Pp(E),D=M?.width??0,$=M?.height??0,G=s+(a!=="center"?"-"+a:""),Z=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},fe=Array.isArray(p)?p:[p],be=fe.length>0,me={padding:Z,boundary:fe.filter(aD),altBoundary:be},{refs:ge,floatingStyles:Q,placement:J,isPositioned:B,middlewareData:I}=GL({strategy:"fixed",placement:G,whileElementsMounted:(...ne)=>LL(...ne,{animationFrame:w==="always"}),elements:{reference:_.anchor},middleware:[qL({mainAxis:o+$,alignmentAxis:c}),h&&YL({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?QL():void 0,...me}),h&&XL({...me}),JL({...me,apply:({elements:ne,rects:we,availableWidth:ke,availableHeight:Le})=>{const{width:Ze,height:Ot}=we.reference,$n=ne.floating.style;$n.setProperty("--radix-popper-available-width",`${ke}px`),$n.setProperty("--radix-popper-available-height",`${Le}px`),$n.setProperty("--radix-popper-anchor-width",`${Ze}px`),$n.setProperty("--radix-popper-anchor-height",`${Ot}px`)}}),E&&eD({element:E,padding:u}),lD({arrowWidth:D,arrowHeight:$}),x&&ZL({strategy:"referenceHidden",...me})]}),[H,V]=h1(J),N=Rt(k);On(()=>{B&&N?.()},[B,N]);const W=I.arrow?.x,ee=I.arrow?.y,ue=I.arrow?.centerOffset!==0,[Se,je]=b.useState();return On(()=>{T&&je(window.getComputedStyle(T).zIndex)},[T]),d.jsx("div",{ref:ge.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:B?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[I.transformOrigin?.x,I.transformOrigin?.y].join(" "),...I.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(sD,{scope:n,placedSide:H,onArrowChange:A,arrowX:W,arrowY:ee,shouldHideArrow:ue,children:d.jsx(Pe.div,{"data-side":H,"data-align":V,...S,ref:C,style:{...S.style,animation:B?void 0:"none"}})})})});u1.displayName=Ap;var d1="PopperArrow",oD={top:"bottom",right:"left",bottom:"top",left:"right"},f1=b.forwardRef(function(e,n){const{__scopePopper:s,...o}=e,a=iD(d1,s),c=oD[a.placedSide];return d.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:d.jsx(nD,{...o,ref:n,style:{...o.style,display:"block"}})})});f1.displayName=d1;function aD(t){return t!==null}var lD=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:s,middlewareData:o}=e,c=o.arrow?.centerOffset!==0,u=c?0:t.arrowWidth,h=c?0:t.arrowHeight,[p,m]=h1(n),y={start:"0%",center:"50%",end:"100%"}[m],x=(o.arrow?.x??0)+u/2,w=(o.arrow?.y??0)+h/2;let k="",S="";return p==="bottom"?(k=c?y:`${x}px`,S=`${-h}px`):p==="top"?(k=c?y:`${x}px`,S=`${s.floating.height+h}px`):p==="right"?(k=`${-h}px`,S=c?y:`${w}px`):p==="left"&&(k=`${s.floating.width+h}px`,S=c?y:`${w}px`),{data:{x:k,y:S}}}});function h1(t){const[e,n="center"]=t.split("-");return[e,n]}var cD=a1,uD=c1,dD=u1,fD=f1,hD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),pD="VisuallyHidden",p1=b.forwardRef((t,e)=>d.jsx(Pe.span,{...t,ref:e,style:{...hD,...t.style}}));p1.displayName=pD;var m1=p1,[kc]=rn("Tooltip",[i1]),jc=i1(),g1="TooltipProvider",mD=700,sh="tooltip.open",[gD,Rp]=kc(g1),y1=t=>{const{__scopeTooltip:e,delayDuration:n=mD,skipDelayDuration:s=300,disableHoverableContent:o=!1,children:a}=t,c=b.useRef(!0),u=b.useRef(!1),h=b.useRef(0);return b.useEffect(()=>{const p=h.current;return()=>window.clearTimeout(p)},[]),d.jsx(gD,{scope:e,isOpenDelayedRef:c,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(h.current),c.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>c.current=!0,s)},[s]),isPointerInTransitRef:u,onPointerInTransitChange:b.useCallback(p=>{u.current=p},[]),disableHoverableContent:o,children:a})};y1.displayName=g1;var Ho="Tooltip",[yD,Jo]=kc(Ho),v1=t=>{const{__scopeTooltip:e,children:n,open:s,defaultOpen:o,onOpenChange:a,disableHoverableContent:c,delayDuration:u}=t,h=Rp(Ho,t.__scopeTooltip),p=jc(e),[m,y]=b.useState(null),x=cs(),w=b.useRef(0),k=c??h.disableHoverableContent,S=u??h.delayDuration,_=b.useRef(!1),[T,P]=hs({prop:s,defaultProp:o??!1,onChange:D=>{D?(h.onOpen(),document.dispatchEvent(new CustomEvent(sh))):h.onClose(),a?.(D)},caller:Ho}),C=b.useMemo(()=>T?_.current?"delayed-open":"instant-open":"closed",[T]),E=b.useCallback(()=>{window.clearTimeout(w.current),w.current=0,_.current=!1,P(!0)},[P]),A=b.useCallback(()=>{window.clearTimeout(w.current),w.current=0,P(!1)},[P]),M=b.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{_.current=!0,P(!0),w.current=0},S)},[S,P]);return b.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),d.jsx(cD,{...p,children:d.jsx(yD,{scope:e,contentId:x,open:T,stateAttribute:C,trigger:m,onTriggerChange:y,onTriggerEnter:b.useCallback(()=>{h.isOpenDelayedRef.current?M():E()},[h.isOpenDelayedRef,M,E]),onTriggerLeave:b.useCallback(()=>{k?A():(window.clearTimeout(w.current),w.current=0)},[A,k]),onOpen:E,onClose:A,disableHoverableContent:k,children:n})})};v1.displayName=Ho;var ih="TooltipTrigger",x1=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,o=Jo(ih,n),a=Rp(ih,n),c=jc(n),u=b.useRef(null),h=Fe(e,u,o.onTriggerChange),p=b.useRef(!1),m=b.useRef(!1),y=b.useCallback(()=>p.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),d.jsx(uD,{asChild:!0,...c,children:d.jsx(Pe.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...s,ref:h,onPointerMove:Ne(t.onPointerMove,x=>{x.pointerType!=="touch"&&!m.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),m.current=!0)}),onPointerLeave:Ne(t.onPointerLeave,()=>{o.onTriggerLeave(),m.current=!1}),onPointerDown:Ne(t.onPointerDown,()=>{o.open&&o.onClose(),p.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:Ne(t.onFocus,()=>{p.current||o.onOpen()}),onBlur:Ne(t.onBlur,o.onClose),onClick:Ne(t.onClick,o.onClose)})})});x1.displayName=ih;var Ip="TooltipPortal",[vD,xD]=kc(Ip,{forceMount:void 0}),w1=t=>{const{__scopeTooltip:e,forceMount:n,children:s,container:o}=t,a=Jo(Ip,e);return d.jsx(vD,{scope:e,forceMount:n,children:d.jsx(zt,{present:n||a.open,children:d.jsx(up,{asChild:!0,container:o,children:s})})})};w1.displayName=Ip;var vi="TooltipContent",b1=b.forwardRef((t,e)=>{const n=xD(vi,t.__scopeTooltip),{forceMount:s=n.forceMount,side:o="top",...a}=t,c=Jo(vi,t.__scopeTooltip);return d.jsx(zt,{present:s||c.open,children:c.disableHoverableContent?d.jsx(S1,{side:o,...a,ref:e}):d.jsx(wD,{side:o,...a,ref:e})})}),wD=b.forwardRef((t,e)=>{const n=Jo(vi,t.__scopeTooltip),s=Rp(vi,t.__scopeTooltip),o=b.useRef(null),a=Fe(e,o),[c,u]=b.useState(null),{trigger:h,onClose:p}=n,m=o.current,{onPointerInTransitChange:y}=s,x=b.useCallback(()=>{u(null),y(!1)},[y]),w=b.useCallback((k,S)=>{const _=k.currentTarget,T={x:k.clientX,y:k.clientY},P=kD(T,_.getBoundingClientRect()),C=jD(T,P),E=CD(S.getBoundingClientRect()),A=ED([...C,...E]);u(A),y(!0)},[y]);return b.useEffect(()=>()=>x(),[x]),b.useEffect(()=>{if(h&&m){const k=_=>w(_,m),S=_=>w(_,h);return h.addEventListener("pointerleave",k),m.addEventListener("pointerleave",S),()=>{h.removeEventListener("pointerleave",k),m.removeEventListener("pointerleave",S)}}},[h,m,w,x]),b.useEffect(()=>{if(c){const k=S=>{const _=S.target,T={x:S.clientX,y:S.clientY},P=h?.contains(_)||m?.contains(_),C=!TD(T,c);P?x():C&&(x(),p())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[h,m,c,p,x]),d.jsx(S1,{...t,ref:a})}),[bD,SD]=kc(Ho,{isInside:!1}),_D=yj("TooltipContent"),S1=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:c,...u}=t,h=Jo(vi,n),p=jc(n),{onClose:m}=h;return b.useEffect(()=>(document.addEventListener(sh,m),()=>document.removeEventListener(sh,m)),[m]),b.useEffect(()=>{if(h.trigger){const y=x=>{x.target?.contains(h.trigger)&&m()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[h.trigger,m]),d.jsx(cp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:y=>y.preventDefault(),onDismiss:m,children:d.jsxs(dD,{"data-state":h.stateAttribute,...p,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(_D,{children:s}),d.jsx(bD,{scope:n,isInside:!0,children:d.jsx(m1,{id:h.contentId,role:"tooltip",children:o||s})})]})})});b1.displayName=vi;var _1="TooltipArrow",k1=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,o=jc(n);return SD(_1,n).isInside?null:d.jsx(fD,{...o,...s,ref:e})});k1.displayName=_1;function kD(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),o=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,s,o,a)){case a:return"left";case o:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function jD(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function CD(t){const{top:e,right:n,bottom:s,left:o}=t;return[{x:o,y:e},{x:n,y:e},{x:n,y:s},{x:o,y:s}]}function TD(t,e){const{x:n,y:s}=t;let o=!1;for(let a=0,c=e.length-1;a<e.length;c=a++){const u=e[a],h=e[c],p=u.x,m=u.y,y=h.x,x=h.y;m>s!=x>s&&n<(y-p)*(s-m)/(x-m)+p&&(o=!o)}return o}function ED(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),PD(e)}function PD(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const o=t[s];for(;e.length>=2;){const a=e[e.length-1],c=e[e.length-2];if((a.x-c.x)*(o.y-c.y)>=(a.y-c.y)*(o.x-c.x))e.pop();else break}e.push(o)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const o=t[s];for(;n.length>=2;){const a=n[n.length-1],c=n[n.length-2];if((a.x-c.x)*(o.y-c.y)>=(a.y-c.y)*(o.x-c.x))n.pop();else break}n.push(o)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var ND=y1,AD=v1,RD=x1,ID=w1,OD=b1,MD=k1;function li({delayDuration:t=0,...e}){return d.jsx(ND,{"data-slot":"tooltip-provider",delayDuration:t,...e})}function wo({...t}){return d.jsx(li,{children:d.jsx(AD,{"data-slot":"tooltip",...t})})}function bo({...t}){return d.jsx(RD,{"data-slot":"tooltip-trigger",...t})}function So({className:t,sideOffset:e=0,children:n,...s}){return d.jsx(ID,{children:d.jsxs(OD,{"data-slot":"tooltip-content",sideOffset:e,className:Ie("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...s,children:[n,d.jsx(MD,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function LD({message:t,isUser:e,isAudio:n=!1,audioBlob:s,prosodyFeedback:o,timestamp:a,isProcessing:c=!1,onAnalysisView:u,onRetry:h,onPlayback:p}){const[m,y]=b.useState(!1),[x,w]=b.useState(!1),k=()=>{if(s&&!m){const E=URL.createObjectURL(s),A=new Audio(E);A.onended=()=>{y(!1),URL.revokeObjectURL(E)},A.onpause=()=>{y(!1)},A.play(),y(!0)}else p?p():(y(!0),setTimeout(()=>y(!1),2e3))},S=()=>{if(s){const E=URL.createObjectURL(s),A=document.createElement("a");A.href=E,A.download=`recording-${Date.now()}.wav`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(E)}},_=E=>E>=85?"text-success":E>=70?"text-accent":E>=55?"text-secondary":"text-destructive",T=E=>E>=85?"bg-success/10 border-success/20":E>=70?"bg-accent/10 border-accent/20":E>=55?"bg-secondary/10 border-secondary/20":"bg-destructive/10 border-destructive/20",P=E=>{switch(E){case"error":return"bg-destructive/10 text-destructive border-destructive/20";case"good":return"bg-success/10 text-success border-success/20";case"suggestion":return"bg-accent/10 text-accent border-accent/20";default:return"bg-muted/50 text-muted-foreground border-muted/20"}},C=(E,A)=>{if(!A||A.length===0)return E;let M=E;return A.forEach(({text:D,type:$})=>{const G=$==="error"?"bg-destructive/20 text-destructive px-1 rounded":$==="good"?"bg-success/20 text-success-foreground px-1 rounded":"bg-accent/20 text-accent-foreground px-1 rounded";M=M.replace(D,`<span class="${G}">${D}</span>`)}),d.jsx("span",{dangerouslySetInnerHTML:{__html:M}})};return d.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${e?"justify-end":"justify-start"} mb-4`,children:d.jsx("div",{className:`max-w-[85%] ${e?"order-2":"order-1"}`,children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("div",{className:`flex-shrink-0 ${e?"order-2":"order-1"}`,children:d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${e?"bg-secondary":"bg-accent"}`,children:e?d.jsx(ac,{className:"w-4 h-4"}):d.jsx(Er,{className:"w-4 h-4"})})}),d.jsx("div",{className:`flex-1 ${e?"order-1":"order-2"}`,children:d.jsx(at,{className:`${e?"bg-secondary border-secondary/20":"bg-card border-border"}`,children:d.jsxs(lt,{className:"p-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[n&&d.jsx(Ul,{className:"w-4 h-4 text-muted-foreground"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:a})]}),c&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(mn,{className:"w-3 h-3 animate-spin text-accent"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:"Analyzing..."})]})]}),d.jsx("p",{className:"text-sm",children:o?.highlights?C(t,o.highlights):t})]}),n&&d.jsxs("div",{className:"flex items-center justify-between mt-3 pt-2 border-t border-border/50",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(li,{children:d.jsxs(wo,{children:[d.jsx(bo,{asChild:!0,children:d.jsxs(ce,{variant:"ghost",size:"sm",onClick:k,className:"h-7 px-2 text-xs",disabled:c,children:[m?d.jsx($x,{className:"w-3 h-3 mr-1"}):d.jsx(Ul,{className:"w-3 h-3 mr-1"}),m?"Pause":"Play"]})}),d.jsx(So,{children:"Play your recorded audio"})]})}),s&&d.jsx(li,{children:d.jsxs(wo,{children:[d.jsx(bo,{asChild:!0,children:d.jsx(ce,{variant:"ghost",size:"sm",onClick:S,className:"h-7 px-2 text-xs",children:d.jsx(GC,{className:"w-3 h-3"})})}),d.jsx(So,{children:"Download audio file"})]})})]}),!c&&o&&d.jsxs(ze,{className:`text-xs cursor-pointer transition-all hover:scale-105 ${T(o.score)}`,onClick:()=>w(!x),children:[d.jsx(Nn,{className:"w-3 h-3 mr-1"}),Math.round(o.score),"%"]})]}),d.jsx(hi,{children:e&&o&&x&&d.jsx(ve.div,{initial:{opacity:0,height:0,y:-10},animate:{opacity:1,height:"auto",y:0},exit:{opacity:0,height:0,y:-10},transition:{duration:.2},className:"mt-3",children:d.jsx(at,{className:`${T(o.score)} shadow-sm`,children:d.jsxs(lt,{className:"p-3 space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-xs font-semibold",children:"AI Prosody Analysis"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:`text-sm font-bold ${_(o.score)}`,children:[Math.round(o.score),"%"]}),u&&d.jsx(li,{children:d.jsxs(wo,{children:[d.jsx(bo,{asChild:!0,children:d.jsx(ce,{variant:"ghost",size:"sm",onClick:u,className:"h-6 w-6 p-0",children:d.jsx(mf,{className:"w-3 h-3"})})}),d.jsx(So,{children:"View detailed analysis"})]})})]})]}),o.highlights.length>0&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Key areas:"}),d.jsx("div",{className:"flex flex-wrap gap-1",children:o.highlights.slice(0,3).map((E,A)=>d.jsx(li,{children:d.jsxs(wo,{children:[d.jsx(bo,{asChild:!0,children:d.jsx(ze,{variant:"outline",className:`text-xs px-2 py-0.5 cursor-help ${P(E.type)}`,children:E.text})}),d.jsx(So,{className:"max-w-xs",children:d.jsx("p",{className:"text-xs",children:E.feedback})})]})},A))})]}),o.suggestions.length>0&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Quick tips:"}),d.jsx("ul",{className:"text-xs space-y-0.5",children:o.suggestions.slice(0,2).map((E,A)=>d.jsxs("li",{className:"flex items-start gap-1",children:[d.jsx("span",{className:"text-accent mt-0.5 flex-shrink-0",children:"•"}),d.jsx("span",{className:"leading-tight",children:E})]},A))})]}),d.jsxs("div",{className:"flex gap-1 pt-1",children:[h&&d.jsxs(ce,{variant:"ghost",size:"sm",onClick:h,className:"h-6 px-2 text-xs flex-1",children:[d.jsx(Vl,{className:"w-3 h-3 mr-1"}),"Try Again"]}),d.jsxs(ce,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",children:[d.jsx(VT,{className:"w-3 h-3 mr-1"}),"Helpful"]}),u&&d.jsxs(ce,{variant:"ghost",size:"sm",onClick:u,className:"h-6 px-2 text-xs",children:[d.jsx(mf,{className:"w-3 h-3 mr-1"}),"Details"]})]})]})})})}),e&&o&&!x&&!c&&d.jsx(ve.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-2",children:d.jsxs(ce,{variant:"ghost",size:"sm",onClick:()=>w(!0),className:"h-6 px-2 text-xs text-muted-foreground hover:text-foreground w-full justify-start",children:[d.jsx(Nn,{className:"w-3 h-3 mr-1"}),"View AI feedback (",Math.round(o.score),"%)"]})})]})})})]})})})}class DD{apiKey=null;baseUrl="";isConfigured=!1;connectionStatus="disconnected";constructor(){this.loadConfiguration()}loadConfiguration(){try{console.log("🤖 VibeTune AI: Initializing built-in AI prosody analysis"),this.apiKey="BUILT_IN_AI",this.baseUrl="https://api.openai.com/v1",this.isConfigured=!0,this.connectionStatus="connected",console.log("✅ VibeTune AI: Ready for advanced prosody analysis")}catch(e){console.error("VibeTune AI initialization failed:",e),this.isConfigured=!1,this.connectionStatus="disconnected"}}configure(e,n){return console.log("🤖 VibeTune AI: Already configured with built-in AI"),!0}isReady(){return this.isConfigured}getConnectionStatus(){return this.connectionStatus}async testConnection(){if(!this.isConfigured)return{success:!1,error:"AI service not configured"};this.connectionStatus="checking";try{if(console.log("🤖 VibeTune AI: Testing built-in AI connection"),this.generateMockAnalysis("Hello world",{user_level:"Intermediate",topic:"Test",conversation_history:[],focus_areas:[],learning_objectives:[]}).overall_score>0)return this.connectionStatus="connected",console.log("✅ VibeTune AI: Connection test successful"),{success:!0};throw new Error("Mock analysis failed")}catch(e){return this.connectionStatus="disconnected",{success:!1,error:e instanceof Error?e.message:"Connection test failed"}}}async analyzeAudio(e,n,s){if(!this.isConfigured)throw new Error("AI service not configured");console.log("🤖 VibeTune AI: Analyzing speech with advanced built-in prosody engine");const o=await this.generateAdvancedAnalysis(n,s);return console.log("✅ VibeTune AI: Advanced prosody analysis complete"),o}async generateResponse(e,n,s){if(!this.isConfigured)throw new Error("AI service not configured");console.log("🤖 VibeTune AI: Generating contextual response with advanced AI");const o=await this.generateAdvancedResponse(e,n,s);return console.log("✅ VibeTune AI: Contextual response generated"),o}async getIncrementalFeedback(e,n){if(!this.isConfigured)return{suggestions:[],encouragement:"Keep going!"};const s=["Try emphasizing the main verb","Consider rising intonation at the end","Slow down slightly for clarity"].slice(0,Math.floor(Math.random()*3)+1),o=["Great rhythm so far!","Good pronunciation!","Nice intonation pattern!","Keep up the good work!"];return{suggestions:s,encouragement:o[Math.floor(Math.random()*o.length)]}}generateWordLevelAnalysis(e){return e.toLowerCase().split(" ").filter(s=>s.length>0).map((s,o)=>({word:s,start_time:o*.6,end_time:(o+1)*.6,confidence:.8+Math.random()*.2,stress_correct:Math.random()>.2,pronunciation_score:75+Math.random()*20,issues:Math.random()>.8?["stress placement"]:[]}))}async generateAdvancedAnalysis(e,n){const s=e.toLowerCase().split(" ").filter(k=>k.length>0),o={Beginner:{base:65,variance:15},Intermediate:{base:75,variance:15},Advanced:{base:85,variance:10}}[n.user_level],a=this.analyzeTextComplexity(e),c=n.topic.toLowerCase().includes("general")?5:0,u=o.base+Math.random()*o.variance-o.variance/2,h=a>.7?-5:a<.3?5:0,p=Math.max(0,Math.min(100,u+h+c)),m=this.generateContextualStrengths(n,p),y=this.generateContextualImprovements(n,p),x=this.generateContextualSuggestions(n,e),w=this.generateNextFocusAreas(n,p);return{overall_score:p,pronunciation_score:p+(Math.random()*6-3),rhythm_score:p+(Math.random()*6-3),intonation_score:p+(Math.random()*6-3),fluency_score:p+(Math.random()*6-3),detailed_feedback:{strengths:m,improvements:y,specific_issues:this.generateSpecificIssues(s,n)},word_level_analysis:this.generateWordLevelAnalysis(e),suggestions:x,next_focus_areas:w}}async generateAdvancedResponse(e,n,s){const o=e.includes("?"),a=this.analyzeSentiment(e);this.analyzeTextComplexity(e);const c=this.getAdvancedResponseTemplates(n.user_level,n.topic),u=c[Math.floor(Math.random()*c.length)];let h="";s&&(s.overall_score>=85?h=" Your pronunciation is excellent! ":s.overall_score>=70?h=" Great progress on your pronunciation! ":h=" Keep practicing - your pronunciation is improving! ");const p=u+h+this.generateFollowUpQuestion(n.topic,o),m=s?s.overall_score>90?"increase":s.overall_score<60?"decrease":"maintain":"maintain";return{text_response:p,prosody_analysis:s,conversation_flow:{next_topic_suggestions:this.generateTopicSuggestions(n.topic,n.user_level),difficulty_adjustment:m,engagement_level:.8+a*.2},practice_suggestions:{immediate:this.generateImmediatePractice(n,s),session_goals:this.generateSessionGoals(n.user_level,n.focus_areas),homework:this.generateHomework(n.user_level,n.topic)}}}analyzeTextComplexity(e){const n=e.split(" "),s=n.reduce((a,c)=>a+c.length,0)/n.length,o=n.filter(a=>a.length>6).length/n.length;return Math.min(1,(s/6+o)/2)}analyzeSentiment(e){const n=["good","great","excellent","wonderful","amazing","love","like","enjoy","happy"],s=["bad","terrible","awful","hate","dislike","sad","difficult","hard","problem"],o=e.toLowerCase().split(" "),a=o.filter(u=>n.includes(u)).length,c=o.filter(u=>s.includes(u)).length;return Math.max(-1,Math.min(1,(a-c)/o.length*10))}generateContextualStrengths(e,n){const s=[];return n>=80?(s.push("Excellent overall pronunciation control"),s.push("Natural rhythm and flow")):n>=65?(s.push("Good basic pronunciation foundation"),s.push("Clear articulation of most sounds")):(s.push("Making steady progress"),s.push("Good effort and engagement")),e.user_level==="Advanced"?s.push("Sophisticated intonation patterns"):e.user_level==="Intermediate"?s.push("Developing fluency and confidence"):s.push("Building strong pronunciation fundamentals"),s.slice(0,3)}generateContextualImprovements(e,n){const s=[];return n<70&&(s.push("Focus on vowel clarity and consistency"),s.push("Practice sentence stress patterns")),e.user_level==="Beginner"?s.push("Work on basic word stress rules"):e.user_level==="Intermediate"?s.push("Refine question intonation patterns"):s.push("Polish subtle accent features"),s.slice(0,2)}generateContextualSuggestions(e,n){const s=[`Practice reading aloud content about ${e.topic.toLowerCase()}`,"Record yourself and compare with native speakers","Focus on linking sounds between words"];return e.focus_areas.includes("intonation")&&s.push("Practice rising and falling intonation patterns"),s.slice(0,3)}generateNextFocusAreas(e,n){const s=[];return n<75&&s.push("Basic stress patterns"),e.user_level==="Advanced"?s.push("Accent reduction","Complex rhythm patterns"):s.push("Question intonation","Connected speech"),s.slice(0,3)}generateSpecificIssues(e,n){return e.slice(0,2).map(s=>({type:["pronunciation","rhythm","stress"][Math.floor(Math.random()*3)],word:s,severity:Math.random()>.7?"medium":"low",feedback:`Pay attention to the "${s}" pronunciation`,suggestion:`Try emphasizing the main syllable in "${s}"`}))}getAdvancedResponseTemplates(e,n){const s={Beginner:["That's wonderful! I can hear you're working really hard on your pronunciation.","Great job! Your speaking is getting clearer each time.","Excellent effort! Let's continue practicing together."],Intermediate:["Fantastic progress! Your rhythm and intonation are really developing well.","I'm impressed with your pronunciation control! Let's explore this topic further.","Your speaking fluency is improving noticeably! Great work."],Advanced:["Your prosody demonstrates sophisticated control! The nuances in your speech are excellent.","Outstanding fluency and natural rhythm! Your pronunciation skills are really advanced.","Impressive mastery of intonation patterns! Let's dive deeper into this subject."]};return s[e]||s.Beginner}generateFollowUpQuestion(e,n){const s={travel:"What's the most interesting place you'd like to visit?",food:"What's your favorite dish to cook at home?",work:"What aspect of your job do you find most rewarding?",hobby:"How did you first get interested in that hobby?",general:"What's something interesting that happened to you recently?"},o=Object.keys(s).find(a=>e.toLowerCase().includes(a))||"general";return s[o]}generateTopicSuggestions(e,n){return["Travel experiences","Cultural differences","Technology trends","Future plans"].filter(o=>!o.toLowerCase().includes(e.toLowerCase())).slice(0,3)}generateImmediatePractice(e,n){return["Try the sentence again with more word stress","Practice this phrase with rising intonation","Focus on linking the final consonant to the next vowel"].slice(0,2)}generateSessionGoals(e,n){return[`Master ${n[0]||"pronunciation"} patterns`,"Improve natural speaking rhythm","Build confidence in conversation"].slice(0,2)}generateHomework(e,n){return[`Record yourself discussing ${n.toLowerCase()} for 2 minutes`,"Practice reading news headlines with proper stress","Listen to podcasts and shadow-speak for 10 minutes daily"].slice(0,2)}generateMockAnalysis(e,n){const s=e.toLowerCase().split(" "),o=n.user_level==="Advanced"?80:n.user_level==="Intermediate"?70:60,a=Math.random()*20-10,c=Math.max(0,Math.min(100,o+a));return{overall_score:c,pronunciation_score:c+(Math.random()*10-5),rhythm_score:c+(Math.random()*10-5),intonation_score:c+(Math.random()*10-5),fluency_score:c+(Math.random()*10-5),detailed_feedback:{strengths:["Clear articulation of consonants","Good sentence stress pattern","Natural speaking pace"].slice(0,Math.floor(Math.random()*3)+1),improvements:["Work on vowel pronunciation","Practice word stress in multi-syllable words","Focus on question intonation"].slice(0,Math.floor(Math.random()*2)+1),specific_issues:s.slice(0,2).map((u,h)=>({type:["pronunciation","rhythm","intonation","stress"][Math.floor(Math.random()*4)],word:u,severity:["low","medium"][Math.floor(Math.random()*2)],feedback:`The word "${u}" could be improved`,suggestion:`Try emphasizing the first syllable of "${u}"`}))},word_level_analysis:this.generateWordLevelAnalysis(e),suggestions:["Practice with word stress exercises","Record yourself and compare with native speakers","Focus on sentence-level intonation patterns"],next_focus_areas:["Compound word stress","Question intonation","Rhythm in connected speech"]}}generateMockResponse(e,n,s){const a={Beginner:["That's great! I can hear you're working hard on your pronunciation. Let's practice some more basic patterns.","Nice try! Your rhythm is improving. Can you tell me about your favorite food?","Good effort! I noticed your word stress is getting better. What do you like to do on weekends?"],Intermediate:["Excellent work on your intonation! Your question patterns are much clearer now. Let's discuss something more complex.","I can hear improvement in your connected speech. How do you feel about technology in education?","Your pronunciation has really developed! Let's practice with some more challenging vocabulary."],Advanced:["Your prosody shows sophisticated control! Let's explore some nuanced expressions and idioms.","Impressive fluency! Your stress patterns are very natural. What are your thoughts on current events?","Your accent work is excellent! Let's discuss some abstract concepts to challenge your advanced skills."]}[n.user_level];return{text_response:a[Math.floor(Math.random()*a.length)],prosody_analysis:s,conversation_flow:{next_topic_suggestions:["Travel experiences","Career goals","Cultural differences","Technology trends"],difficulty_adjustment:s?s.overall_score>85?"increase":s.overall_score<60?"decrease":"maintain":"maintain",engagement_level:.8+Math.random()*.2},practice_suggestions:{immediate:["Try the sentence again with more emphasis on key words","Focus on rising intonation for questions"],session_goals:["Master question intonation patterns","Improve word stress accuracy"],homework:["Record yourself reading news headlines","Practice conversation starters with friends"]}}}}const Io=new DD;function j1({onSendMessage:t,conversationContext:e,disabled:n,showAIFeedback:s=!0}){const[o,a]=b.useState("idle"),[c,u]=b.useState(0),[h,p]=b.useState(""),[m,y]=b.useState(null),[x,w]=b.useState(!1),[k,S]=b.useState(null),[_,T]=b.useState(0),[P,C]=b.useState(!1),E=b.useRef(null),A=b.useRef(null);b.useRef();const M=b.useRef();b.useEffect(()=>{C(Io.isReady())},[]),b.useEffect(()=>{let B;return o==="recording"?B=setInterval(()=>{u(I=>I+1),P&&e&&c>0&&c%3===0&&$()},1e3):(u(0),S(null)),()=>{B&&clearInterval(B)}},[o,c,P,e]);const D=B=>{const I=Math.floor(B/60),H=B%60;return`${I}:${H.toString().padStart(2,"0")}`},$=async()=>{if(!(!P||!e))try{const B=await Io.getIncrementalFeedback("Recording in progress...",e);S(B),M.current&&clearTimeout(M.current),M.current=setTimeout(()=>{S(null)},3e3)}catch(B){console.error("Failed to get incremental feedback:",B)}},G=async()=>{if(!n)try{const B=await navigator.mediaDevices.getUserMedia({audio:!0}),I=new MediaRecorder(B);E.current=I;const H=[];I.ondataavailable=V=>{V.data.size>0&&H.push(V.data)},I.onstop=()=>{const V=new Blob(H,{type:"audio/wav"});y(V),B.getTracks().forEach(N=>N.stop())},I.start(),a("recording"),u(0)}catch(B){console.error("Failed to start recording:",B),a("recording"),u(0)}},Z=()=>{E.current&&E.current.state==="recording"&&E.current.stop(),a("processing"),T(0);const B=setInterval(()=>{T(I=>I>=100?(clearInterval(B),100):I+Math.random()*15)},200);setTimeout(()=>{clearInterval(B),T(100),P&&s?(a("analyzing"),p("I think learning English prosody is really important for effective communication."),setTimeout(()=>{a("ready")},1500)):(p("I think learning English prosody is really important for effective communication."),a("ready"))},2e3)},fe=()=>{if(m&&!x){const B=URL.createObjectURL(m),I=new Audio(B);A.current=I,I.onended=()=>{w(!1),URL.revokeObjectURL(B)},I.play(),w(!0)}else A.current&&x&&(A.current.pause(),w(!1))},be=()=>{p(""),y(null),a("idle"),T(0),S(null),A.current&&(A.current.pause(),w(!1))},me=()=>{h&&(t(h,!0,m||void 0),p(""),y(null),a("idle"),T(0))},ge=()=>{switch(o){case"recording":return d.jsx(yT,{className:"w-6 h-6"});case"processing":case"analyzing":return d.jsx(mn,{className:"w-6 h-6 animate-spin"});default:return d.jsx(Mo,{className:"w-6 h-6"})}},Q=()=>{const B="h-16 w-16 rounded-full flex items-center justify-center transition-all duration-300 relative overflow-hidden";switch(o){case"recording":return`${B} bg-destructive hover:bg-destructive/90 text-destructive-foreground`;case"processing":case"analyzing":return`${B} bg-muted text-muted-foreground cursor-not-allowed`;default:return`${B} bg-accent hover:bg-accent/90 text-accent-foreground shadow-lg hover:shadow-xl ${n?"opacity-50 cursor-not-allowed":""}`}},J=()=>{switch(o){case"recording":return P?"Speak clearly - AI is listening":"Recording your speech";case"processing":return"Processing audio...";case"analyzing":return"AI analyzing your pronunciation";case"ready":return"Ready to send!";default:return P?"Tap to record with AI analysis":"Tap to record your response"}};return d.jsxs("div",{className:"bg-card border-t border-border p-4 space-y-4",children:[s&&d.jsxs("div",{className:"flex items-center justify-between text-xs",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${P?"bg-success animate-pulse":"bg-muted"}`}),d.jsxs("span",{className:"text-muted-foreground",children:["AI Analysis: ",P?"Active":"Not configured"]})]}),!P&&d.jsxs(ce,{variant:"ghost",size:"sm",className:"h-6 px-2",children:[d.jsx(wh,{className:"w-3 h-3 mr-1"}),"Setup"]})]}),d.jsx(hi,{mode:"wait",children:o!=="idle"&&d.jsxs(ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-3",children:[o==="recording"&&d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx("div",{className:"w-3 h-3 bg-destructive rounded-full animate-pulse"}),d.jsx("span",{className:"text-sm font-medium",children:"Recording"}),d.jsx(ze,{variant:"outline",className:"bg-destructive/10 text-destructive",children:D(c)})]}),(o==="processing"||o==="analyzing")&&d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx(mn,{className:"w-4 h-4 animate-spin text-accent"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:o==="processing"?"Processing audio...":"AI analyzing pronunciation..."})]}),d.jsx(oc,{value:_,className:"h-1"})]}),k&&o==="recording"&&d.jsxs(ve.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-accent/10 border border-accent/20 rounded-lg p-3 text-center",children:[d.jsx("p",{className:"text-sm font-medium text-accent mb-1",children:k.encouragement}),k.suggestions.length>0&&d.jsxs("p",{className:"text-xs text-muted-foreground",children:["💡 ",k.suggestions[0]]})]})]})}),d.jsx(hi,{children:h&&d.jsxs(ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-primary/10 border border-primary/20 rounded-lg p-4 space-y-3",children:[d.jsxs("p",{className:"text-sm",children:['"',h,'"']}),d.jsxs("div",{className:"flex items-center gap-2",children:[m&&d.jsx(ce,{onClick:fe,variant:"ghost",size:"sm",className:"flex-shrink-0",children:x?d.jsx($x,{className:"w-4 h-4"}):d.jsx(Fx,{className:"w-4 h-4"})}),d.jsxs("div",{className:"flex gap-2 flex-1",children:[d.jsxs(ce,{onClick:be,variant:"outline",size:"sm",className:"flex-1",children:[d.jsx(Vl,{className:"w-4 h-4 mr-2"}),"Retry"]}),d.jsxs(ce,{onClick:me,size:"sm",className:"flex-1 bg-accent hover:bg-accent/90 text-accent-foreground",disabled:o==="analyzing",children:[o==="analyzing"?d.jsx(mn,{className:"w-4 h-4 mr-2 animate-spin"}):d.jsx(Vx,{className:"w-4 h-4 mr-2"}),o==="analyzing"?"Analyzing...":"Send"]})]})]})]})}),d.jsx("div",{className:"flex items-center justify-center",children:d.jsx(ve.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:d.jsxs(ce,{onClick:o==="recording"?Z:G,className:Q(),disabled:n||o==="processing"||o==="analyzing",children:[o==="recording"&&d.jsx(ve.div,{className:"absolute inset-0 rounded-full bg-destructive",animate:{scale:[1,1.2,1],opacity:[.5,.2,.5]},transition:{duration:1,repeat:1/0,ease:"easeInOut"}}),ge()]})})}),d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-xs text-muted-foreground",children:J()})})]})}function $D(t){const e=t+"CollectionProvider",[n,s]=rn(e),[o,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=S=>{const{scope:_,children:T}=S,P=Ft.useRef(null),C=Ft.useRef(new Map).current;return d.jsx(o,{scope:_,itemMap:C,collectionRef:P,children:T})};c.displayName=e;const u=t+"CollectionSlot",h=Oo(u),p=Ft.forwardRef((S,_)=>{const{scope:T,children:P}=S,C=a(u,T),E=Fe(_,C.collectionRef);return d.jsx(h,{ref:E,children:P})});p.displayName=u;const m=t+"CollectionItemSlot",y="data-radix-collection-item",x=Oo(m),w=Ft.forwardRef((S,_)=>{const{scope:T,children:P,...C}=S,E=Ft.useRef(null),A=Fe(_,E),M=a(m,T);return Ft.useEffect(()=>(M.itemMap.set(E,{ref:E,...C}),()=>void M.itemMap.delete(E))),d.jsx(x,{[y]:"",ref:A,children:P})});w.displayName=m;function k(S){const _=a(t+"CollectionConsumer",S);return Ft.useCallback(()=>{const P=_.collectionRef.current;if(!P)return[];const C=Array.from(P.querySelectorAll(`[${y}]`));return Array.from(_.itemMap.values()).sort((M,D)=>C.indexOf(M.ref.current)-C.indexOf(D.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:c,Slot:p,ItemSlot:w},k,s]}var uf="rovingFocusGroup.onEntryFocus",FD={bubbles:!1,cancelable:!0},Zo="RovingFocusGroup",[oh,C1,VD]=$D(Zo),[UD,Cc]=rn(Zo,[VD]),[zD,BD]=UD(Zo),T1=b.forwardRef((t,e)=>d.jsx(oh.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(oh.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(WD,{...t,ref:e})})}));T1.displayName=Zo;var WD=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:o=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:m=!1,...y}=t,x=b.useRef(null),w=Fe(e,x),k=gc(a),[S,_]=hs({prop:c,defaultProp:u??null,onChange:h,caller:Zo}),[T,P]=b.useState(!1),C=Rt(p),E=C1(n),A=b.useRef(!1),[M,D]=b.useState(0);return b.useEffect(()=>{const $=x.current;if($)return $.addEventListener(uf,C),()=>$.removeEventListener(uf,C)},[C]),d.jsx(zD,{scope:n,orientation:s,dir:k,loop:o,currentTabStopId:S,onItemFocus:b.useCallback($=>_($),[_]),onItemShiftTab:b.useCallback(()=>P(!0),[]),onFocusableItemAdd:b.useCallback(()=>D($=>$+1),[]),onFocusableItemRemove:b.useCallback(()=>D($=>$-1),[]),children:d.jsx(Pe.div,{tabIndex:T||M===0?-1:0,"data-orientation":s,...y,ref:w,style:{outline:"none",...t.style},onMouseDown:Ne(t.onMouseDown,()=>{A.current=!0}),onFocus:Ne(t.onFocus,$=>{const G=!A.current;if($.target===$.currentTarget&&G&&!T){const Z=new CustomEvent(uf,FD);if($.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const fe=E().filter(J=>J.focusable),be=fe.find(J=>J.active),me=fe.find(J=>J.id===S),Q=[be,me,...fe].filter(Boolean).map(J=>J.ref.current);N1(Q,m)}}A.current=!1}),onBlur:Ne(t.onBlur,()=>P(!1))})})}),E1="RovingFocusGroupItem",P1=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:o=!1,tabStopId:a,children:c,...u}=t,h=cs(),p=a||h,m=BD(E1,n),y=m.currentTabStopId===p,x=C1(n),{onFocusableItemAdd:w,onFocusableItemRemove:k,currentTabStopId:S}=m;return b.useEffect(()=>{if(s)return w(),()=>k()},[s,w,k]),d.jsx(oh.ItemSlot,{scope:n,id:p,focusable:s,active:o,children:d.jsx(Pe.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...u,ref:e,onMouseDown:Ne(t.onMouseDown,_=>{s?m.onItemFocus(p):_.preventDefault()}),onFocus:Ne(t.onFocus,()=>m.onItemFocus(p)),onKeyDown:Ne(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){m.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const T=KD(_,m.orientation,m.dir);if(T!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let C=x().filter(E=>E.focusable).map(E=>E.ref.current);if(T==="last")C.reverse();else if(T==="prev"||T==="next"){T==="prev"&&C.reverse();const E=C.indexOf(_.currentTarget);C=m.loop?qD(C,E+1):C.slice(E+1)}setTimeout(()=>N1(C))}}),children:typeof c=="function"?c({isCurrentTabStop:y,hasTabStop:S!=null}):c})})});P1.displayName=E1;var HD={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function GD(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function KD(t,e,n){const s=GD(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return HD[s]}function N1(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function qD(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var A1=T1,R1=P1,Tc="Tabs",[YD]=rn(Tc,[Cc]),I1=Cc(),[QD,Op]=YD(Tc),O1=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,onValueChange:o,defaultValue:a,orientation:c="horizontal",dir:u,activationMode:h="automatic",...p}=t,m=gc(u),[y,x]=hs({prop:s,onChange:o,defaultProp:a??"",caller:Tc});return d.jsx(QD,{scope:n,baseId:cs(),value:y,onValueChange:x,orientation:c,dir:m,activationMode:h,children:d.jsx(Pe.div,{dir:m,"data-orientation":c,...p,ref:e})})});O1.displayName=Tc;var M1="TabsList",L1=b.forwardRef((t,e)=>{const{__scopeTabs:n,loop:s=!0,...o}=t,a=Op(M1,n),c=I1(n);return d.jsx(A1,{asChild:!0,...c,orientation:a.orientation,dir:a.dir,loop:s,children:d.jsx(Pe.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:e})})});L1.displayName=M1;var D1="TabsTrigger",$1=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,disabled:o=!1,...a}=t,c=Op(D1,n),u=I1(n),h=U1(c.baseId,s),p=z1(c.baseId,s),m=s===c.value;return d.jsx(R1,{asChild:!0,...u,focusable:!o,active:m,children:d.jsx(Pe.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":p,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:h,...a,ref:e,onMouseDown:Ne(t.onMouseDown,y=>{!o&&y.button===0&&y.ctrlKey===!1?c.onValueChange(s):y.preventDefault()}),onKeyDown:Ne(t.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&c.onValueChange(s)}),onFocus:Ne(t.onFocus,()=>{const y=c.activationMode!=="manual";!m&&!o&&y&&c.onValueChange(s)})})})});$1.displayName=D1;var F1="TabsContent",V1=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,forceMount:o,children:a,...c}=t,u=Op(F1,n),h=U1(u.baseId,s),p=z1(u.baseId,s),m=s===u.value,y=b.useRef(m);return b.useEffect(()=>{const x=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(x)},[]),d.jsx(zt,{present:o||m,children:({present:x})=>d.jsx(Pe.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!x,id:p,tabIndex:0,...c,ref:e,style:{...t.style,animationDuration:y.current?"0s":void 0},children:x&&a})})});V1.displayName=F1;function U1(t,e){return`${t}-trigger-${e}`}function z1(t,e){return`${t}-content-${e}`}var XD=O1,JD=L1,ZD=$1,e4=V1;function t4({className:t,...e}){return d.jsx(XD,{"data-slot":"tabs",className:Ie("flex flex-col gap-2",t),...e})}function n4({className:t,...e}){return d.jsx(JD,{"data-slot":"tabs-list",className:Ie("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function jl({className:t,...e}){return d.jsx(ZD,{"data-slot":"tabs-trigger",className:Ie("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Cl({className:t,...e}){return d.jsx(e4,{"data-slot":"tabs-content",className:Ie("flex-1 outline-none",t),...e})}function r4({analysis:t,originalText:e,onRetry:n,onPlayback:s,className:o=""}){const[a,c]=b.useState(!1),[u,h]=b.useState("overview"),p=w=>w>=85?"text-success":w>=70?"text-accent":w>=60?"text-secondary":"text-destructive",m=w=>w>=85?d.jsx(Nn,{className:"w-4 h-4"}):w>=60?d.jsx(wT,{className:"w-4 h-4"}):d.jsx(BT,{className:"w-4 h-4"}),y=w=>{switch(w){case"pronunciation":return"🗣️";case"rhythm":return"🎵";case"intonation":return"📈";case"stress":return"💪";case"pace":return"⏱️";default:return"🎯"}},x=w=>{switch(w){case"high":return"border-destructive/20 bg-destructive/5";case"medium":return"border-secondary/20 bg-secondary/5";case"low":return"border-accent/20 bg-accent/5";default:return"border-muted/20 bg-muted/5"}};return d.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`space-y-4 ${o}`,children:d.jsxs(at,{className:"bg-gradient-to-r from-accent/5 to-primary/5 border-accent/20",children:[d.jsx(gn,{className:"pb-3",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(Zt,{className:"text-lg flex items-center gap-2",children:[d.jsx(Lx,{className:"w-5 h-5 text-accent"}),"Prosody Analysis"]}),d.jsxs("div",{className:"flex gap-2",children:[s&&d.jsx(ce,{variant:"ghost",size:"sm",onClick:s,children:d.jsx(Ul,{className:"w-4 h-4"})}),n&&d.jsx(ce,{variant:"ghost",size:"sm",onClick:n,children:d.jsx(Vl,{className:"w-4 h-4"})})]})]})}),d.jsxs(lt,{className:"space-y-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:`text-3xl font-bold ${p(t.overall_score)}`,children:[Math.round(t.overall_score),"%"]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Overall Score"}),d.jsx(oc,{value:t.overall_score,className:"mt-2 h-2"})]}),d.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{label:"Pronunciation",score:t.pronunciation_score},{label:"Rhythm",score:t.rhythm_score},{label:"Intonation",score:t.intonation_score},{label:"Fluency",score:t.fluency_score}].map((w,k)=>d.jsxs("div",{className:"flex items-center justify-between p-2 bg-background/50 rounded-lg",children:[d.jsx("span",{className:"text-sm font-medium",children:w.label}),d.jsxs("div",{className:`flex items-center gap-1 ${p(w.score)}`,children:[m(w.score),d.jsxs("span",{className:"text-sm font-semibold",children:[Math.round(w.score),"%"]})]})]},k))}),d.jsxs(BS,{open:a,onOpenChange:c,children:[d.jsx(WS,{asChild:!0,children:d.jsxs(ce,{variant:"ghost",className:"w-full mt-2",children:[d.jsx("span",{children:"Detailed Analysis"}),d.jsx(xh,{className:`w-4 h-4 ml-2 transition-transform ${a?"rotate-180":""}`})]})}),d.jsx(HS,{className:"mt-4",children:d.jsxs(t4,{value:u,onValueChange:h,children:[d.jsxs(n4,{className:"grid w-full grid-cols-4",children:[d.jsx(jl,{value:"overview",children:"Overview"}),d.jsx(jl,{value:"issues",children:"Issues"}),d.jsx(jl,{value:"words",children:"Words"}),d.jsx(jl,{value:"practice",children:"Practice"})]}),d.jsxs(Cl,{value:"overview",className:"space-y-4 mt-4",children:[d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold text-success mb-2 flex items-center gap-2",children:[d.jsx(Nn,{className:"w-4 h-4"}),"Strengths"]}),d.jsx("div",{className:"space-y-1",children:t.detailed_feedback.strengths.map((w,k)=>d.jsx(ze,{variant:"secondary",className:"bg-success/10 text-success-foreground",children:w},k))})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold text-accent mb-2 flex items-center gap-2",children:[d.jsx(Xy,{className:"w-4 h-4"}),"Areas for Improvement"]}),d.jsx("div",{className:"space-y-1",children:t.detailed_feedback.improvements.map((w,k)=>d.jsx(ze,{variant:"outline",className:"bg-accent/10",children:w},k))})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[d.jsx(iT,{className:"w-4 h-4"}),"Suggestions"]}),d.jsx("ul",{className:"space-y-2",children:t.suggestions.map((w,k)=>d.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[d.jsx("span",{className:"text-accent mt-1",children:"•"}),w]},k))})]})]}),d.jsx(Cl,{value:"issues",className:"space-y-3 mt-4",children:t.detailed_feedback.specific_issues.length>0?t.detailed_feedback.specific_issues.map((w,k)=>d.jsx(ve.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:k*.1},className:`p-3 rounded-lg border ${x(w.severity)}`,children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("span",{className:"text-lg",children:y(w.type)}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"font-medium",children:w.word}),d.jsx(ze,{variant:"outline",size:"sm",children:w.type}),d.jsx(ze,{variant:w.severity==="high"?"destructive":"secondary",size:"sm",children:w.severity})]}),d.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:w.feedback}),d.jsx("p",{className:"text-sm font-medium text-accent",children:w.suggestion})]})]})},k)):d.jsxs("div",{className:"text-center py-8",children:[d.jsx(Nn,{className:"w-12 h-12 text-success mx-auto mb-2"}),d.jsx("p",{className:"text-success font-medium",children:"No issues detected!"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Your pronunciation was excellent."})]})}),d.jsx(Cl,{value:"words",className:"space-y-3 mt-4",children:d.jsx("div",{className:"grid gap-2",children:t.word_level_analysis.map((w,k)=>d.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-medium",children:w.word}),!w.stress_correct&&d.jsx(GT,{className:"w-3 h-3 text-destructive"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:`text-sm ${p(w.pronunciation_score)}`,children:[Math.round(w.pronunciation_score),"%"]}),d.jsx("div",{className:"w-12 h-1 bg-muted rounded",children:d.jsx("div",{className:`h-full rounded transition-all duration-500 ${w.pronunciation_score>=85?"bg-success":w.pronunciation_score>=70?"bg-accent":w.pronunciation_score>=60?"bg-secondary":"bg-destructive"}`,style:{width:`${w.pronunciation_score}%`}})})]})]},k))})}),d.jsxs(Cl,{value:"practice",className:"space-y-4 mt-4",children:[d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[d.jsx(Xy,{className:"w-4 h-4"}),"Next Focus Areas"]}),d.jsx("div",{className:"space-y-2",children:t.next_focus_areas.map((w,k)=>d.jsxs("div",{className:"flex items-center gap-2 p-2 bg-primary/10 rounded-lg",children:[d.jsx(Dl,{className:"w-4 h-4 text-primary"}),d.jsx("span",{className:"text-sm",children:w})]},k))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(ce,{variant:"outline",className:"w-full justify-start",onClick:n,children:[d.jsx(Vl,{className:"w-4 h-4 mr-2"}),"Try Again"]}),d.jsxs(ce,{variant:"outline",className:"w-full justify-start",children:[d.jsx(Fx,{className:"w-4 h-4 mr-2"}),"Practice Similar Phrases"]}),d.jsxs(ce,{variant:"outline",className:"w-full justify-start",children:[d.jsx(Dl,{className:"w-4 h-4 mr-2"}),"View Learning Resources"]})]})]})]})})]})]})]})})}function ah({className:t="",showLabel:e=!0,size:n="md"}){const[s,o]=b.useState("connected"),[a,c]=b.useState(!0),[u,h]=b.useState(new Date);b.useEffect(()=>{p();const _=setInterval(()=>{a&&p()},3e4);return()=>clearInterval(_)},[a]);const p=async()=>{c(!0),o("connected"),h(new Date)},y=(()=>{switch(s){case"connected":return{color:"bg-success text-success-foreground",icon:Xn,label:"AI Ready",description:"🎉 VibeTune AI is ready! Advanced prosody analysis powered by OpenAI GPT-4."};case"checking":return{color:"bg-accent text-accent-foreground",icon:mn,label:"Starting AI",description:"Initializing VibeTune AI...",animate:!0};case"disconnected":default:return{color:"bg-accent text-accent-foreground",icon:Er,label:"AI Built-in",description:"VibeTune includes advanced AI prosody analysis. Ready to help improve your English!"}}})(),x=y.icon,w={sm:"text-xs px-2 py-1",md:"text-sm px-2 py-1",lg:"text-sm px-3 py-2"},k={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-4 h-4"},S=_=>{const P=new Date().getTime()-_.getTime(),C=Math.floor(P/6e4);if(C<1)return"Just now";if(C<60)return`${C}m ago`;const E=Math.floor(C/60);return E<24?`${E}h ago`:_.toLocaleDateString()};return d.jsx("div",{className:`flex items-center gap-2 ${t}`,children:d.jsx(li,{children:d.jsxs(wo,{children:[d.jsx(bo,{asChild:!0,children:d.jsx(ve.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(ze,{className:`${y.color} ${w[n]} transition-all duration-200`,children:[d.jsx(x,{className:`${k[n]} mr-1 ${y.animate?"animate-spin":""}`}),e&&d.jsxs(d.Fragment,{children:[d.jsx(Er,{className:`${k[n]} mr-1`}),y.label]})]})})}),d.jsx(So,{side:"bottom",className:"max-w-xs",children:d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"font-medium",children:y.description}),u&&s==="connected"&&d.jsxs("p",{className:"text-xs opacity-75",children:["Last checked: ",S(u)]})]})})]})})})}function s4({topic:t="New Conversation",level:e,onTopicChange:n}){const s=e||"Beginner",[o,a]=b.useState([]),[c,u]=b.useState(""),[h,p]=b.useState(!1),[m,y]=b.useState([]),[x,w]=b.useState(["basic pronunciation","sentence stress"]),[k,S]=b.useState(null),[_,T]=b.useState(!1),[P,C]=b.useState(!1),[E,A]=b.useState(!1),[M,D]=b.useState(!0),[$,G]=b.useState(t),Z=b.useRef(null);b.useEffect(()=>{const V=()=>{C(Io.isReady())};V();const N=setInterval(V,5e3);return()=>clearInterval(N)},[]),b.useEffect(()=>{const V={id:"1",text:`🎉 Hi! I'm your VibeTune AI conversation partner. Let's practice English at a ${s.toLowerCase()} level with AI-powered pronunciation feedback!`,isUser:!1,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},N={id:"2",text:"What would you like to talk about today? Feel free to tell me about anything that interests you - your hobbies, work, travel experiences, or any topic you'd like to practice discussing in English!",isUser:!1,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};a([V,N]),y([]),w(fe(s)),D(!0),G("New Conversation")},[s]),b.useEffect(()=>{if(Z.current){const V=Z.current.querySelector("[data-radix-scroll-area-viewport]");V&&setTimeout(()=>{V.scrollTop=V.scrollHeight},100)}},[o]);const fe=V=>{switch(V){case"Advanced":return["accent reduction","complex intonation","natural rhythm","connected speech"];case"Intermediate":return["word stress","question intonation","sentence rhythm","linking sounds"];default:return["basic pronunciation","sentence stress","clear articulation","simple intonation"]}},be=V=>{const N=V.toLowerCase();if(N.includes("travel")||N.includes("trip")||N.includes("vacation")||N.includes("country")||N.includes("visit"))return"Travel & Adventures";if(N.includes("work")||N.includes("job")||N.includes("career")||N.includes("office")||N.includes("business"))return"Work & Career";if(N.includes("food")||N.includes("cook")||N.includes("eat")||N.includes("restaurant")||N.includes("recipe"))return"Food & Cooking";if(N.includes("music")||N.includes("art")||N.includes("paint")||N.includes("draw")||N.includes("sing"))return"Music & Arts";if(N.includes("hobby")||N.includes("interest")||N.includes("free time")||N.includes("enjoy")||N.includes("love"))return"Hobbies & Interests";if(N.includes("daily")||N.includes("routine")||N.includes("morning")||N.includes("evening")||N.includes("weekend"))return"Daily Life & Routines";if(N.includes("game")||N.includes("movie")||N.includes("tv")||N.includes("entertainment")||N.includes("fun"))return"Entertainment & Gaming";if(N.includes("learn")||N.includes("study")||N.includes("school")||N.includes("education")||N.includes("book"))return"Education & Learning";if(N.includes("technology")||N.includes("computer")||N.includes("phone")||N.includes("internet")||N.includes("social media"))return"Technology & Social Media";{const W=V.split(" ").filter(ee=>ee.length>3);return W.length>0?W[0].charAt(0).toUpperCase()+W[0].slice(1).toLowerCase():"General Conversation"}},me=()=>({user_level:s,topic:$,conversation_history:m,focus_areas:x,learning_objectives:["Improve pronunciation accuracy","Master natural rhythm patterns","Develop confident speaking skills"]}),ge=async(V,N=!1,W)=>{if(!V.trim())return;const ee=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),ue=Date.now().toString();if(M){const ne=be(V.trim());G(ne),D(!1),n&&n(ne)}const Se={id:ue,text:V.trim(),isUser:!0,isAudio:N,audioBlob:W,timestamp:ee,isProcessing:N&&P};a(ne=>[...ne,Se]),u(""),p(!0);const je={role:"user",content:V.trim(),timestamp:new Date().toISOString()};try{let ne,we;if(N&&W&&P){const ke=me();try{ne=await Io.analyzeAudio(W,V.trim(),ke),a(Le=>Le.map(Ze=>Ze.id===ue?{...Ze,prosodyAnalysis:ne,isProcessing:!1}:Ze)),je.audio_analysis=ne}catch(Le){console.error("Audio analysis failed:",Le),a(Ze=>Ze.map(Ot=>Ot.id===ue?{...Ot,isProcessing:!1}:Ot))}}if(P)try{const ke=me();we=await Io.generateResponse(V.trim(),ke,ne),ne&&ne.next_focus_areas.length>0&&w(ne.next_focus_areas)}catch(ke){console.error("AI response generation failed:",ke),we={text_response:Q(V,s),conversation_flow:{next_topic_suggestions:[],difficulty_adjustment:"maintain",engagement_level:.7},practice_suggestions:{immediate:[],session_goals:[],homework:[]}}}else we={text_response:Q(V,s),conversation_flow:{next_topic_suggestions:[],difficulty_adjustment:"maintain",engagement_level:.7},practice_suggestions:{immediate:[],session_goals:[],homework:[]}};setTimeout(()=>{const ke={id:(Date.now()+1).toString(),text:we.text_response,isUser:!1,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),aiResponse:we};a(Ze=>[...Ze,ke]),p(!1);const Le={role:"assistant",content:we.text_response,timestamp:new Date().toISOString()};y(Ze=>[...Ze,je,Le])},P?1500:800)}catch(ne){console.error("Message processing failed:",ne),p(!1);const we={id:(Date.now()+1).toString(),text:"I'm having trouble processing your message right now. Let's try again!",isUser:!1,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};a(ke=>[...ke,we])}},Q=(V,N)=>{const W={Beginner:["That's great! I can hear you're working hard on your pronunciation. Let's practice some more basic patterns.","Nice try! Your rhythm is improving. Can you tell me about your favorite food?","Good effort! I noticed your word stress is getting better. What do you like to do on weekends?"],Intermediate:["Excellent work on your intonation! Your question patterns are much clearer now. Let's discuss something more complex.","I can hear improvement in your connected speech. How do you feel about technology in education?","Your pronunciation has really developed! Let's practice with some more challenging vocabulary."],Advanced:["Your prosody shows sophisticated control! Let's explore some nuanced expressions and idioms.","Impressive fluency! Your stress patterns are very natural. What are your thoughts on current events?","Your accent work is excellent! Let's discuss some abstract concepts to challenge your advanced skills."]},ee=W[N]||W.Beginner;return ee[Math.floor(Math.random()*ee.length)]},J=V=>{V.preventDefault(),ge(c,!1)},B=V=>{S(V),T(!0)},I=V=>{o.find(W=>W.id===V)&&a(W=>W.filter(ee=>ee.id!==V))},H=()=>{A(!E)};return d.jsxs("div",{className:"flex flex-col h-full bg-background",children:[d.jsxs("div",{className:"bg-card border-b border-border p-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h2",{className:"font-medium",children:$}),d.jsxs("div",{className:"flex items-center justify-center gap-2 mt-1",children:[d.jsxs(ze,{variant:"outline",className:"text-xs",children:[s," Level"]}),d.jsx("span",{className:"text-xs text-muted-foreground",children:"•"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:"AI Prosody Practice"})]})]}),d.jsx(ah,{size:"sm",showLabel:!1})]}),x.length>0&&d.jsxs("div",{className:"mt-3 flex flex-wrap gap-1 justify-center",children:[d.jsx("span",{className:"text-xs text-muted-foreground mr-2",children:"Focus areas:"}),x.slice(0,3).map((V,N)=>d.jsx(ze,{variant:"secondary",className:"text-xs",children:V},N))]})]}),d.jsx(xp,{ref:Z,className:"flex-1 p-4",children:d.jsxs("div",{className:"space-y-4",children:[o.map((V,N)=>d.jsx("div",{children:d.jsx(LD,{message:V.text,isUser:V.isUser,isAudio:V.isAudio,audioBlob:V.audioBlob,prosodyFeedback:V.prosodyAnalysis?{score:V.prosodyAnalysis.overall_score,highlights:V.prosodyAnalysis.detailed_feedback.specific_issues.map(W=>({text:W.word,type:W.severity==="high"?"error":"suggestion",feedback:W.feedback})),suggestions:V.prosodyAnalysis.suggestions}:void 0,timestamp:V.timestamp,isProcessing:V.isProcessing,onAnalysisView:V.prosodyAnalysis?()=>B(V.prosodyAnalysis):void 0,onRetry:()=>I(V.id)})},V.id)),h&&d.jsx(ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex justify-start",children:d.jsx("div",{className:"max-w-[85%]",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-accent rounded-full flex items-center justify-center",children:d.jsx(mn,{className:"w-4 h-4 animate-spin"})}),d.jsx("div",{className:"bg-card border border-border rounded-lg p-3",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"VibeTune AI is analyzing your speech and crafting a response..."})})]})})})]})}),d.jsx("div",{className:"bg-card border-t border-border p-4 space-y-3",children:d.jsxs("form",{onSubmit:J,className:"space-y-2",children:[d.jsxs("div",{className:"flex gap-2",children:[E?d.jsx(WM,{value:c,onChange:V=>u(V.target.value),placeholder:M?"Tell me what you'd like to discuss...":"Continue the conversation...",disabled:h,className:"flex-1 min-h-[80px] resize-y",maxLength:500}):d.jsx(ai,{value:c,onChange:V=>u(V.target.value),placeholder:M?"Tell me what you'd like to discuss...":"Continue the conversation...",disabled:h,className:"flex-1"}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx(ce,{type:"submit",disabled:!c.trim()||h,size:"icon",className:"bg-accent hover:bg-accent/90 text-accent-foreground",children:d.jsx(Vx,{className:"w-4 h-4"})}),d.jsx(ce,{type:"button",variant:"outline",size:"icon",onClick:H,className:"h-8 w-8",title:E?"Switch to single line":"Switch to multi-line",children:E?d.jsx(IC,{className:"w-3 h-3"}):d.jsx(xh,{className:"w-3 h-3"})})]})]}),E&&d.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground",children:[d.jsx("span",{children:"Multi-line mode for longer messages"}),d.jsxs("span",{children:[c.length,"/500"]})]})]})}),d.jsx(j1,{onSendMessage:ge,conversationContext:me(),disabled:h,showAIFeedback:P}),d.jsx(hi,{children:_&&k&&d.jsx(ve.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>T(!1),children:d.jsx(ve.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",onClick:V=>V.stopPropagation(),children:d.jsx(r4,{analysis:k,originalText:"Your recorded message",onRetry:()=>T(!1),className:"p-6"})})})})]})}const ux=t=>{let e;const n=new Set,s=(p,m)=>{const y=typeof p=="function"?p(e):p;if(!Object.is(y,e)){const x=e;e=m??(typeof y!="object"||y===null)?y:Object.assign({},e,y),n.forEach(w=>w(e,x))}},o=()=>e,u={setState:s,getState:o,getInitialState:()=>h,subscribe:p=>(n.add(p),()=>n.delete(p))},h=e=t(s,o,u);return u},i4=(t=>t?ux(t):ux),o4=t=>t;function a4(t,e=o4){const n=Ft.useSyncExternalStore(t.subscribe,Ft.useCallback(()=>e(t.getState()),[t,e]),Ft.useCallback(()=>e(t.getInitialState()),[t,e]));return Ft.useDebugValue(n),n}const l4=t=>{const e=i4(t),n=s=>a4(e,s);return Object.assign(n,e),n},c4=(t=>l4),u4=t=>(e,n,s)=>{const o=s.subscribe;return s.subscribe=((c,u,h)=>{let p=c;if(u){const m=h?.equalityFn||Object.is;let y=c(s.getState());p=x=>{const w=c(x);if(!m(y,w)){const k=y;u(y=w,k)}},h?.fireImmediately&&u(y,y)}return o(p)}),t(e,n,s)},d4=u4;function Ol(t,e){let n;try{n=t()}catch{return}return{getItem:o=>{var a;const c=h=>h===null?null:JSON.parse(h,void 0),u=(a=n.getItem(o))!=null?a:null;return u instanceof Promise?u.then(c):c(u)},setItem:(o,a)=>n.setItem(o,JSON.stringify(a,void 0)),removeItem:o=>n.removeItem(o)}}const lh=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(s){return lh(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return lh(s)(n)}}}},f4=(t,e)=>(n,s,o)=>{let a={storage:Ol(()=>localStorage),partialize:S=>S,version:0,merge:(S,_)=>({..._,...S}),...e},c=!1;const u=new Set,h=new Set;let p=a.storage;if(!p)return t((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...S)},s,o);const m=()=>{const S=a.partialize({...s()});return p.setItem(a.name,{state:S,version:a.version})},y=o.setState;o.setState=(S,_)=>(y(S,_),m());const x=t((...S)=>(n(...S),m()),s,o);o.getInitialState=()=>x;let w;const k=()=>{var S,_;if(!p)return;c=!1,u.forEach(P=>{var C;return P((C=s())!=null?C:x)});const T=((_=a.onRehydrateStorage)==null?void 0:_.call(a,(S=s())!=null?S:x))||void 0;return lh(p.getItem.bind(p))(a.name).then(P=>{if(P)if(typeof P.version=="number"&&P.version!==a.version){if(a.migrate){const C=a.migrate(P.state,P.version);return C instanceof Promise?C.then(E=>[!0,E]):[!0,C]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,P.state];return[!1,void 0]}).then(P=>{var C;const[E,A]=P;if(w=a.merge(A,(C=s())!=null?C:x),n(w,!0),E)return m()}).then(()=>{T?.(w,void 0),w=s(),c=!0,h.forEach(P=>P(w))}).catch(P=>{T?.(void 0,P)})};return o.persist={setOptions:S=>{a={...a,...S},S.storage&&(p=S.storage)},clearStorage:()=>{p?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>k(),hasHydrated:()=>c,onHydrate:S=>(u.add(S),()=>{u.delete(S)}),onFinishHydration:S=>(h.add(S),()=>{h.delete(S)})},a.skipHydration||k(),w||x},h4=f4,df={currentQuestion:0,totalQuestions:10,answers:[],topic_scores:{},overall_progress:0},dx={online:typeof navigator<"u"?navigator.onLine:!0,lastSync:null,syncing:!1,hasOfflineChanges:!1},p4=()=>{if(typeof window<"u")return Ol(()=>localStorage);try{const t=require("@react-native-async-storage/async-storage").default;return Ol(()=>t)}catch{return Ol(()=>sessionStorage)}},Tr=c4()(d4(h4((t,e)=>({user:null,setUser:n=>t({user:n}),conversations:[],activeConversationId:null,messages:[],currentTopic:"General Conversation",setConversations:n=>t({conversations:n}),setActiveConversation:n=>t({activeConversationId:n}),addMessage:n=>{t(s=>({messages:[...s.messages,n]})),e().sync.online||t(s=>({sync:{...s.sync,hasOfflineChanges:!0}}))},updateMessage:(n,s)=>{t(o=>({messages:o.messages.map(a=>a.id===n?{...a,...s}:a)}))},deleteMessage:n=>{t(s=>({messages:s.messages.filter(o=>o.id!==n)}))},setCurrentTopic:n=>t({currentTopic:n}),clearMessages:()=>t({messages:[]}),placementTestProgress:df,setPlacementTestProgress:n=>t({placementTestProgress:n}),updatePlacementTestProgress:n=>{t(s=>({placementTestProgress:{...s.placementTestProgress,...n}}))},resetPlacementTest:()=>t({placementTestProgress:df}),sync:dx,setSyncOnline:n=>{t(s=>({sync:{...s.sync,online:n}}))},setSyncStatus:n=>{t(s=>({sync:{...s.sync,syncing:n}}))},setLastSync:n=>{t(s=>({sync:{...s.sync,lastSync:n}}))},setHasOfflineChanges:n=>{t(s=>({sync:{...s.sync,hasOfflineChanges:n}}))},retryQueue:[],addToRetryQueue:n=>{t(s=>({retryQueue:[...s.retryQueue,n]}))},removeFromRetryQueue:n=>{t(s=>({retryQueue:s.retryQueue.filter(o=>o.id!==n)}))},clearRetryQueue:()=>t({retryQueue:[]}),trackEvent:async(n,s={})=>{const{user:o}=e();if(o)try{const a={event_type:n,metadata:{...s,timestamp:new Date().toISOString(),user_level:o.level,app_version:"1.0.0"}};if(e().sync.online)try{const{SimpleAuthService:c}=await tn(async()=>{const{SimpleAuthService:h}=await Promise.resolve().then(()=>$0);return{SimpleAuthService:h}},void 0),u=await c.getCurrentSession();if(u?.access_token){const{projectId:h}=await tn(async()=>{const{projectId:y}=await Promise.resolve().then(()=>qf);return{projectId:y}},void 0),p=fetch(`https://${h}.supabase.co/functions/v1/make-server-b2083953/api/analytics`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(a)}),m=new Promise((y,x)=>setTimeout(()=>x(new Error("Analytics timeout")),3e3));await Promise.race([p,m])}}catch(c){console.warn("Analytics tracking failed:",c)}else console.log("Offline: queued analytics event",n)}catch(a){console.warn("Failed to track event:",a)}},initializeApp:async()=>{const{user:n}=e();if(n)try{await e().syncData()}catch(s){console.warn("Failed to sync data on app init:",s)}},syncData:async()=>{const{user:n,sync:s}=e();if(!(!n||!s.online)){t(o=>({sync:{...o.sync,syncing:!0}}));try{const{SimpleAuthService:o}=await tn(async()=>{const{SimpleAuthService:m}=await Promise.resolve().then(()=>$0);return{SimpleAuthService:m}},void 0),a=await o.getCurrentSession();if(!a?.access_token)throw new Error("No valid session for sync");const{projectId:c}=await tn(async()=>{const{projectId:m}=await Promise.resolve().then(()=>qf);return{projectId:m}},void 0),u=fetch(`https://${c}.supabase.co/functions/v1/make-server-b2083953/api/get-history`,{headers:{Authorization:`Bearer ${a.access_token}`}}),h=new Promise((m,y)=>setTimeout(()=>y(new Error("Sync timeout")),5e3)),p=await Promise.race([u,h]);if(p.ok){const m=await p.json();if(m.conversations&&t({conversations:m.conversations}),m.messages&&e().activeConversationId){const x=m.messages.filter(w=>w.conversation_id===e().activeConversationId);t({messages:x})}t(x=>({sync:{...x.sync,lastSync:new Date,hasOfflineChanges:!1,syncing:!1}}));const y=e().retryQueue;if(y.length>0)for(const x of y)try{await fetch(`https://${c}.supabase.co/functions/v1/make-server-b2083953/api/save-message`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.access_token}`},body:JSON.stringify(x)}),e().removeFromRetryQueue(x.id)}catch(w){console.warn("Failed to sync retry message:",x.id,w)}}}catch(o){console.error("Sync failed:",o)}finally{t(o=>({sync:{...o.sync,syncing:!1}}))}}},resetStore:()=>{t({user:null,conversations:[],activeConversationId:null,messages:[],currentTopic:"General Conversation",placementTestProgress:df,sync:dx,retryQueue:[]})}}),{name:"vibetune-app-store",storage:p4(),partialize:t=>({user:t.user,conversations:t.conversations,placementTestProgress:t.placementTestProgress,retryQueue:t.retryQueue,currentTopic:t.currentTopic,sync:{...t.sync,syncing:!1}}),onRehydrateStorage:()=>t=>{t&&typeof navigator<"u"&&t.setSyncOnline(navigator.onLine)}}))),m4=()=>Tr(t=>t.conversations),B1=()=>Tr(t=>t.sync);typeof window<"u"&&(window.addEventListener("online",()=>{Tr.getState().setSyncOnline(!0),Tr.getState().syncData()}),window.addEventListener("offline",()=>{Tr.getState().setSyncOnline(!1)}));function fx({compact:t=!1,showLabel:e=!0,className:n=""}){const[s,o]=b.useState(!1),a=B1(),c=Tr(k=>k.syncData),{online:u,syncing:h,lastSync:p,hasOfflineChanges:m}=a,x=u?h?{icon:Yy,text:"Syncing...",color:"default",description:"Syncing your data with VibeTune cloud.",bgColor:"bg-accent/10",textColor:"text-accent"}:m?{icon:ss,text:"Pending",color:"secondary",description:"You have changes waiting to sync.",bgColor:"bg-secondary/10",textColor:"text-secondary-foreground"}:{icon:zC,text:"Synced",color:"success",description:p?`Last synced ${p.toLocaleTimeString()}`:"All changes are saved to VibeTune cloud.",bgColor:"bg-success/10",textColor:"text-success-foreground"}:{icon:VC,text:"Offline",color:"destructive",description:"Working offline. Changes will sync when connected.",bgColor:"bg-destructive/10",textColor:"text-destructive"},w=x.icon;return b.useEffect(()=>{if(s){const k=setTimeout(()=>o(!1),5e3);return()=>clearTimeout(k)}},[s]),t?d.jsxs(ve.div,{className:`flex items-center gap-1 ${n}`,whileHover:{scale:1.05},title:x.description,children:[d.jsx("div",{className:`p-1.5 rounded-full ${x.bgColor}`,children:d.jsx(w,{className:`w-3 h-3 ${x.textColor} ${h?"animate-spin":""}`})}),e&&d.jsx("span",{className:"text-xs font-medium",children:x.text})]}):d.jsxs("div",{className:`relative ${n}`,children:[d.jsx(ve.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(ze,{variant:x.color,className:"cursor-pointer flex items-center gap-2 text-xs px-3 py-1.5 transition-all duration-200 hover:shadow-md",onClick:()=>o(!s),children:[d.jsx(w,{className:`w-3 h-3 ${h?"animate-spin":""}`}),e&&x.text]})}),d.jsx(hi,{children:s&&d.jsxs(d.Fragment,{children:[d.jsx(ve.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>o(!1)}),d.jsx(ve.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute top-full right-0 mt-2 p-4 bg-card border border-border rounded-lg shadow-xl z-50 min-w-72 max-w-sm",children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-full ${x.bgColor}`,children:d.jsx(w,{className:`w-4 h-4 ${x.textColor} ${h?"animate-spin":""}`})}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-sm",children:x.text}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"VibeTune Cloud Sync"})]})]}),d.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:x.description}),d.jsxs("div",{className:"space-y-2 pt-2 border-t border-border",children:[p&&d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-muted-foreground",children:"Last sync:"}),d.jsx("span",{className:"font-medium",children:p.toLocaleString()})]}),d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-muted-foreground",children:"Status:"}),d.jsx("span",{className:`font-medium ${x.textColor}`,children:u?"Connected":"Offline"})]}),m&&d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-muted-foreground",children:"Pending changes:"}),d.jsx("span",{className:"font-medium text-secondary-foreground",children:"Yes"})]})]}),d.jsxs("div",{className:"flex gap-2 pt-2",children:[m&&u&&d.jsxs(ce,{size:"sm",variant:"outline",onClick:()=>{c(),o(!1)},disabled:h,className:"flex-1",children:[d.jsx(Yy,{className:`w-3 h-3 mr-1 ${h?"animate-spin":""}`}),"Sync Now"]}),d.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>o(!1),className:"text-xs",children:"Close"})]})]})})]})})]})}function W1(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Ec="Switch",[g4]=rn(Ec),[y4,v4]=g4(Ec),H1=b.forwardRef((t,e)=>{const{__scopeSwitch:n,name:s,checked:o,defaultChecked:a,required:c,disabled:u,value:h="on",onCheckedChange:p,form:m,...y}=t,[x,w]=b.useState(null),k=Fe(e,C=>w(C)),S=b.useRef(!1),_=x?m||!!x.closest("form"):!0,[T,P]=hs({prop:o,defaultProp:a??!1,onChange:p,caller:Ec});return d.jsxs(y4,{scope:n,checked:T,disabled:u,children:[d.jsx(Pe.button,{type:"button",role:"switch","aria-checked":T,"aria-required":c,"data-state":Y1(T),"data-disabled":u?"":void 0,disabled:u,value:h,...y,ref:k,onClick:Ne(t.onClick,C=>{P(E=>!E),_&&(S.current=C.isPropagationStopped(),S.current||C.stopPropagation())})}),_&&d.jsx(q1,{control:x,bubbles:!S.current,name:s,value:h,checked:T,required:c,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});H1.displayName=Ec;var G1="SwitchThumb",K1=b.forwardRef((t,e)=>{const{__scopeSwitch:n,...s}=t,o=v4(G1,n);return d.jsx(Pe.span,{"data-state":Y1(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e})});K1.displayName=G1;var x4="SwitchBubbleInput",q1=b.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:s=!0,...o},a)=>{const c=b.useRef(null),u=Fe(c,a),h=W1(n),p=Pp(e);return b.useEffect(()=>{const m=c.current;if(!m)return;const y=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(y,"checked").set;if(h!==n&&w){const k=new Event("click",{bubbles:s});w.call(m,n),m.dispatchEvent(k)}},[h,n,s]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:u,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});q1.displayName=x4;function Y1(t){return t?"checked":"unchecked"}var w4=H1,b4=K1;function yo({className:t,...e}){return d.jsx(w4,{"data-slot":"switch",className:Ie("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:d.jsx(b4,{"data-slot":"switch-thumb",className:Ie("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const ch=b.forwardRef(({...t},e)=>d.jsx(m1,{ref:e,...t}));ch.displayName="VisuallyHidden";function uh({...t}){return d.jsx(wS,{"data-slot":"dialog",...t})}function nc({...t}){return d.jsx(bS,{"data-slot":"dialog-trigger",...t})}function S4({...t}){return d.jsx(SS,{"data-slot":"dialog-portal",...t})}const Q1=b.forwardRef(({className:t,...e},n)=>d.jsx(mc,{ref:n,"data-slot":"dialog-overlay",className:Ie("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));Q1.displayName=mc.displayName;const rc=b.forwardRef(({className:t,children:e,hideTitle:n,hideDescription:s,...o},a)=>{const c=b.Children.toArray(e).some(h=>b.isValidElement(h)&&(h.type===sc||typeof h.type=="object"&&h.type?.displayName===Zf.displayName)),u=b.Children.toArray(e).some(h=>b.isValidElement(h)&&(h.type===ic||typeof h.type=="object"&&h.type?.displayName===eh.displayName));return d.jsxs(S4,{"data-slot":"dialog-portal",children:[d.jsx(Q1,{}),d.jsxs(pp,{ref:a,"data-slot":"dialog-content",className:Ie("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),"aria-describedby":u?void 0:"dialog-description-fallback",...o,children:[!c&&d.jsx(ch,{children:d.jsx(Zf,{children:"Dialog"})}),!u&&d.jsx(ch,{children:d.jsx(eh,{id:"dialog-description-fallback",children:"Dialog content"})}),e,d.jsxs(_S,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[d.jsx(bh,{}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]})});rc.displayName=pp.displayName;function dh({className:t,...e}){return d.jsx("div",{"data-slot":"dialog-header",className:Ie("flex flex-col gap-2 text-center sm:text-left",t),...e})}function sc({className:t,...e}){return d.jsx(Zf,{"data-slot":"dialog-title",className:Ie("text-lg leading-none font-semibold",t),...e})}function ic({className:t,...e}){return d.jsx(eh,{"data-slot":"dialog-description",className:Ie("text-muted-foreground text-sm",t),...e})}function _4({user:t,onUserUpdate:e,onBack:n,onStartPlacementTest:s}){const[o,a]=b.useState(!1),[c,u]=b.useState(t.username),[h,p]=b.useState(!1),[m,y]=b.useState(null),[x,w]=b.useState(null),[k,S]=b.useState({notifications:!0,soundEffects:!0,autoSync:!0,darkMode:!1,prosodyFeedback:!0,voiceRecording:!0}),_=async()=>{if(!c.trim()||c===t.username){a(!1),u(t.username);return}p(!0),y(null),w(null);try{const{data:M,error:D}=await Jt.updateProfile(t.id,{username:c.trim()},t);if(D)throw D;M&&(e(M),w("Username updated successfully!"),a(!1))}catch(M){console.error("Username update error:",M),y(M.message||"Failed to update username"),u(t.username)}finally{p(!1)}},T=(M,D)=>{S($=>({...$,[M]:D})),console.log(`Setting ${M} changed to:`,D)},P=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),C=M=>{switch(M){case"Beginner":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"Intermediate":return"bg-blue-100 text-blue-800 border-blue-200";case"Advanced":return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},A=t.placement_test_completed?{text:"Completed",color:"text-success",icon:Xn,action:"Retake Test",actionIcon:Nn}:{text:"Not taken",color:"text-muted-foreground",icon:ss,action:"Take Test",actionIcon:Er};return d.jsx("div",{className:"min-h-screen bg-background",children:d.jsxs("div",{className:"max-w-2xl mx-auto p-4 space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n&&d.jsx(ce,{variant:"ghost",size:"icon",onClick:n,children:d.jsx(Ll,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(wh,{className:"w-6 h-6 text-accent"}),d.jsx("h1",{className:"text-2xl font-bold",children:"Settings"})]})]}),m&&d.jsx(ve.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:d.jsxs(as,{variant:"destructive",children:[d.jsx(ss,{className:"h-4 w-4"}),d.jsx(ls,{children:m})]})}),x&&d.jsx(ve.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:d.jsxs(as,{className:"border-success/20 bg-success/10",children:[d.jsx(Xn,{className:"h-4 w-4 text-success"}),d.jsx(ls,{className:"text-success-foreground",children:x})]})}),d.jsxs(at,{children:[d.jsxs(gn,{children:[d.jsxs(Zt,{className:"flex items-center gap-2",children:[d.jsx(ac,{className:"w-5 h-5"}),"Profile Information"]}),d.jsx(_o,{children:"Your account details and learning progress"})]}),d.jsxs(lt,{className:"space-y-4",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"space-y-1",children:[d.jsx(mt,{className:"text-sm font-medium",children:"Username"}),o?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ai,{value:c,onChange:M=>u(M.target.value),className:"max-w-xs",disabled:h}),d.jsx(ce,{size:"sm",onClick:_,disabled:h,children:h?d.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):d.jsx(RT,{className:"w-4 h-4"})}),d.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>{a(!1),u(t.username),y(null)},disabled:h,children:d.jsx(bh,{className:"w-4 h-4"})})]}):d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:t.username}),d.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>a(!0),children:d.jsx(TT,{className:"w-4 h-4"})})]})]})}),d.jsx(jn,{}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"space-y-1",children:[d.jsxs(mt,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(Dx,{className:"w-4 h-4"}),"Email"]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:t.email})]})}),d.jsx(jn,{}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"space-y-1",children:[d.jsxs(mt,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(Fl,{className:"w-4 h-4"}),"Learning Level"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ze,{className:C(t.level),children:t.level||"Not set"}),t.level&&d.jsx("span",{className:"text-xs text-muted-foreground",children:t.placement_test_completed?"(From placement test)":"(Self-selected)"})]})]})}),d.jsx(jn,{}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(mt,{className:"text-sm font-medium",children:"Placement Test"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(A.icon,{className:`w-4 h-4 ${A.color}`}),d.jsx("span",{className:`text-sm ${A.color}`,children:A.text}),t.placement_test_score&&d.jsxs(ze,{variant:"outline",className:"text-xs",children:["Score: ",t.placement_test_score,"%"]})]})]}),s&&d.jsxs(ce,{size:"sm",onClick:s,className:"bg-accent hover:bg-accent/90",children:[d.jsx(A.actionIcon,{className:"w-4 h-4 mr-2"}),A.action]})]}),d.jsx(jn,{}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs(mt,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx($l,{className:"w-4 h-4"}),"Member Since"]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:P(t.created_at)})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(mt,{className:"text-sm font-medium",children:"Last Login"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:P(t.last_login)})]})]})]}),d.jsxs(at,{children:[d.jsxs(gn,{children:[d.jsxs(Zt,{className:"flex items-center gap-2",children:[d.jsx(kT,{className:"w-5 h-5"}),"App Preferences"]}),d.jsx(_o,{children:"Customize your learning experience"})]}),d.jsxs(lt,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs(mt,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(_C,{className:"w-4 h-4"}),"Notifications"]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive reminders and progress updates"})]}),d.jsx(yo,{checked:k.notifications,onCheckedChange:M=>T("notifications",M)})]}),d.jsx(jn,{}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs(mt,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(Ul,{className:"w-4 h-4"}),"Sound Effects"]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Play sounds for interactions and feedback"})]}),d.jsx(yo,{checked:k.soundEffects,onCheckedChange:M=>T("soundEffects",M)})]}),d.jsx(jn,{}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(mt,{className:"text-sm font-medium",children:"Auto Sync"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically sync your progress across devices"})]}),d.jsx(yo,{checked:k.autoSync,onCheckedChange:M=>T("autoSync",M)})]}),d.jsx(jn,{}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(mt,{className:"text-sm font-medium",children:"Detailed Prosody Feedback"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Show detailed pronunciation and rhythm analysis"})]}),d.jsx(yo,{checked:k.prosodyFeedback,onCheckedChange:M=>T("prosodyFeedback",M)})]}),d.jsx(jn,{}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(mt,{className:"text-sm font-medium",children:"Voice Recording"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable microphone for pronunciation practice"})]}),d.jsx(yo,{checked:k.voiceRecording,onCheckedChange:M=>T("voiceRecording",M)})]})]})]}),d.jsxs(at,{children:[d.jsxs(gn,{children:[d.jsxs(Zt,{className:"flex items-center gap-2",children:[d.jsx(LT,{className:"w-5 h-5"}),"Privacy & Security"]}),d.jsx(_o,{children:"Manage your data and account security"})]}),d.jsxs(lt,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(mt,{className:"text-sm font-medium",children:"Device ID"}),d.jsx("p",{className:"text-xs text-muted-foreground font-mono bg-muted p-2 rounded",children:t.device_id})]}),d.jsx(jn,{}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(mt,{className:"text-sm font-medium text-destructive",children:"Danger Zone"}),d.jsxs(uh,{children:[d.jsx(nc,{asChild:!0,children:d.jsxs(ce,{variant:"destructive",size:"sm",className:"w-full",children:[d.jsx(Jy,{className:"w-4 h-4 mr-2"}),"Delete Account"]})}),d.jsxs(rc,{children:[d.jsxs(dh,{children:[d.jsxs(sc,{className:"flex items-center gap-2 text-destructive",children:[d.jsx(Jy,{className:"w-5 h-5"}),"Delete Account"]}),d.jsx(ic,{children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs(as,{variant:"destructive",children:[d.jsx(ss,{className:"h-4 w-4"}),d.jsxs(ls,{children:[d.jsx("strong",{children:"Warning:"})," All your learning progress, conversations, and settings will be permanently lost."]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ce,{variant:"destructive",className:"flex-1",children:"Yes, Delete My Account"}),d.jsx(nc,{asChild:!0,children:d.jsx(ce,{variant:"outline",className:"flex-1",children:"Cancel"})})]})]})]})]})]})]})]}),d.jsxs(at,{children:[d.jsx(gn,{children:d.jsx(Zt,{children:"App Information"})}),d.jsxs(lt,{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Version"}),d.jsx("span",{children:"1.0.0"})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Build"}),d.jsx("span",{children:"2024.10.10"})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Platform"}),d.jsx("span",{children:"Web"})]})]})]})]})})}function k4({user:t,onLogout:e,onStartPlacementTest:n,onUserUpdate:s}){const o=t.level||"Beginner",[a,c]=b.useState(!1),[u,h]=b.useState(!1),p=m4(),m=B1(),{currentTopic:y,setCurrentTopic:x,setActiveConversation:w,initializeApp:k,syncData:S,trackEvent:_}=Tr();b.useEffect(()=>{k(),_("main_app_viewed",{user_level:o})},[k,_,o]),b.useEffect(()=>{m.online&&!m.syncing&&m.hasOfflineChanges&&S()},[m.online,m.syncing,m.hasOfflineChanges,S]);const T=E=>{const A=E.topic||E.title;x(A),w(E.id),c(!1),_("conversation_selected",{conversation_id:E.id,topic:A})},P=()=>t.placement_test_completed?"Retake Placement Test":"Take Placement Test",C=()=>t.placement_test_completed?Nn:Er;return d.jsxs("div",{className:"h-screen bg-background flex",children:[d.jsx("div",{className:"hidden md:block w-80 h-full",children:d.jsx(J0,{user:t,conversations:p,onConversationSelect:T,onLogout:e,onSettings:()=>h(!0)})}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsxs("div",{className:"bg-card border-b border-border p-4",children:[d.jsxs("div",{className:"md:hidden flex items-center justify-between",children:[d.jsxs(bM,{open:a,onOpenChange:c,children:[d.jsx(SM,{asChild:!0,children:d.jsx(ce,{variant:"outline",size:"icon",children:d.jsx(pT,{className:"w-4 h-4"})})}),d.jsx(kM,{side:"left",className:"w-80 p-0",children:d.jsx(J0,{user:t,conversations:p,onConversationSelect:T,onLogout:e,onSettings:()=>{h(!0),c(!1)}})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Mo,{className:"w-5 h-5 text-accent"}),d.jsx("h1",{className:"font-semibold",children:"VibeTune"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(fx,{compact:!0,showLabel:!1}),d.jsx(ah,{size:"sm",showLabel:!1}),d.jsx(ve.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:d.jsxs(ce,{onClick:n,className:"bg-accent hover:bg-accent/90 text-accent-foreground shadow-md",size:"sm",children:[React.createElement(C(),{className:"w-4 h-4 mr-1"}),d.jsx("span",{className:"hidden xs:inline",children:t.placement_test_completed?"Retake Test":"Take Test"}),d.jsx("span",{className:"xs:hidden",children:t.placement_test_completed?"Retake":"Test"})]})})]})]}),d.jsxs("div",{className:"hidden md:flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Mo,{className:"w-5 h-5 text-accent"}),d.jsx("h1",{className:"text-lg font-semibold",children:"VibeTune"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(fx,{compact:!1,showLabel:!0}),d.jsx(ah,{size:"md",showLabel:!0}),d.jsx(ve.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(ce,{onClick:n,className:"bg-accent hover:bg-accent/90 text-accent-foreground shadow-lg px-4 py-2",size:"default",children:[React.createElement(C(),{className:"w-4 h-4 mr-2"}),P()]})})]})]})]}),d.jsx("div",{className:"flex-1",children:d.jsx(s4,{topic:y,level:o,onTopicChange:x})})]}),u&&d.jsx("div",{className:"fixed inset-0 z-50 bg-background",children:d.jsx(_4,{user:t,onUserUpdate:E=>{s&&s(E)},onBack:()=>h(!1),onStartPlacementTest:()=>{h(!1),n()}})})]})}const qn=[{id:"greetings",name:"Basic Greetings",difficulty:"beginner",questions:["Hi there! How are you doing today?","What's your name and where are you from?","Tell me a bit about yourself."]},{id:"daily_life",name:"Daily Routines",difficulty:"beginner",questions:["What does a typical day look like for you?","What time do you usually wake up and go to bed?","What's your favorite meal of the day and why?"]},{id:"hobbies",name:"Hobbies & Interests",difficulty:"intermediate",questions:["What do you like to do in your free time?","Have you picked up any new hobbies recently?","If you could learn any new skill, what would it be?"]},{id:"travel",name:"Travel & Culture",difficulty:"intermediate",questions:["What's the most interesting place you've ever visited?","How do you think travel changes a person?","What cultural differences have you noticed between countries?"]},{id:"future_plans",name:"Goals & Aspirations",difficulty:"advanced",questions:["Where do you see yourself in five years?","What's the biggest challenge you're facing right now?","How do you think technology will change our lives in the future?"]}];function j4({user:t,onComplete:e,onSkip:n,onBack:s}){const[o,a]=b.useState([]),[c,u]=b.useState(0),[h,p]=b.useState(0),[m,y]=b.useState(!1),[x,w]=b.useState(!1),[k,S]=b.useState(null),[_,T]=b.useState(900),[P,C]=b.useState(null),E=b.useRef(null);b.useEffect(()=>{if(_>0&&!x){const Q=setTimeout(()=>{T(J=>J-1)},1e3);return()=>clearTimeout(Q)}else _===0&&!x&&be()},[_,x]),b.useEffect(()=>{E.current?.scrollIntoView({behavior:"smooth"})},[o]),b.useEffect(()=>{(()=>{a([{id:"initial",role:"ai",content:"Hello! I'm your AI conversation partner for this placement test. We'll have a natural conversation covering different topics to assess your English prosody skills. This will help us determine the best learning level for you. Ready to begin?",timestamp:new Date,topic:"introduction"}]),setTimeout(()=>{A()},2e3)})()},[]);const A=()=>{const Q=qn[c],J=Q.questions[h];if(!J)if(c<qn.length-1){u(I=>I+1),p(0);return}else{G();return}const B={id:`question-${c}-${h}`,role:"ai",content:J,timestamp:new Date,topic:Q.id};a(I=>[...I,B])},M=async(Q,J=!1)=>{y(!0),C(null);try{const B={id:`user-${Date.now()}`,role:"user",content:Q,timestamp:new Date,topic:qn[c].id,isAudioResponse:J};a(V=>[...V,B]);const I=await D(Q,qn[c]);B.score=I;const H=$(Q,I);if(H){const V={id:`followup-${Date.now()}`,role:"ai",content:H,timestamp:new Date,topic:qn[c].id};setTimeout(()=>{a(N=>[...N,V]),setTimeout(()=>{p(N=>N+1),A()},1500)},1e3)}else setTimeout(()=>{p(V=>V+1),A()},1e3)}catch(B){console.error("Error processing response:",B),C("Failed to process your response. Please try again.")}finally{y(!1)}},D=async(Q,J)=>{const B=Q.length,I=Q.split(" ").length;let H=50;return I>=10&&(H+=20),I>=20&&(H+=10),B>100&&(H+=10),J.difficulty==="advanced"&&(H=Math.min(H*.9,100)),J.difficulty==="beginner"&&(H=Math.min(H*1.1,100)),H+=Math.random()*20-10,Math.max(0,Math.min(100,Math.round(H)))},$=(Q,J)=>{if(J>=80){const B=["Great answer! I can hear the confidence in your response.","Excellent! Your pronunciation is very clear.","That's a thoughtful response with good intonation.","Perfect! You're expressing yourself very naturally."];return B[Math.floor(Math.random()*B.length)]}else if(J>=60){const B=["Good! Let's continue with the next topic.","Nice! I can understand you clearly.","That's helpful information, thank you."];return B[Math.floor(Math.random()*B.length)]}else{const B=["Thank you for sharing. Let's try another topic.","I appreciate your response. Let's continue.","Thanks! Let's move on to something different."];return B[Math.floor(Math.random()*B.length)]}},G=async()=>{y(!0);try{const Q=o.filter(N=>N.role==="user"&&N.score!==void 0),J=Q.reduce((N,W)=>N+(W.score||0),0),B=Q.length>0?J/Q.length:0;let I="Beginner";B>=75?I="Advanced":B>=55&&(I="Intermediate");const H={};qn.forEach(N=>{const W=Q.filter(ee=>ee.topic===N.id);if(W.length>0){const ee=W.reduce((ue,Se)=>ue+(Se.score||0),0);H[N.name]=ee/W.length}});const V={overallScore:Math.round(B),level:I,topicScores:H,strengths:Z(B,H),improvements:fe(B,H),totalQuestions:qn.reduce((N,W)=>N+W.questions.length,0),completedQuestions:Q.length};S(V),w(!0),await Jt.updateProfile(t.id,{level:I,placement_test_completed:!0,placement_test_score:V.overallScore},t)}catch(Q){console.error("Error completing test:",Q),C("Failed to complete the test. Please try again.")}finally{y(!1)}},Z=(Q,J)=>{const B=[];Q>=70&&B.push("Clear pronunciation"),Q>=60&&B.push("Good conversational flow");const I=Object.entries(J).reduce((H,[V,N])=>N>H.score?{topic:V,score:N}:H,{topic:"",score:0});return I.score>=70&&B.push(`Strong performance in ${I.topic.toLowerCase()}`),B.length>0?B:["Willingness to communicate"]},fe=(Q,J)=>{const B=[];Q<60&&B.push("Focus on pronunciation clarity"),Q<70&&B.push("Practice natural intonation patterns");const I=Object.entries(J).reduce((H,[V,N])=>N<H.score?{topic:V,score:N}:H,{topic:"",score:100});return I.score<60&&B.push(`More practice with ${I.topic.toLowerCase()}`),B.length>0?B:["Continue practicing regularly"]},be=()=>{C("Time's up! Completing test with current responses..."),setTimeout(()=>{G()},2e3)},me=Q=>{const J=Math.floor(Q/60),B=Q%60;return`${J}:${B.toString().padStart(2,"0")}`},ge=()=>{const Q=qn.reduce((B,I)=>B+I.questions.length,0),J=c*3+h;return Math.min(J/Q*100,100)};return x&&k?d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:d.jsx(ve.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-2xl",children:d.jsx(at,{children:d.jsxs(lt,{className:"p-8 text-center space-y-6",children:[d.jsx(Xn,{className:"w-16 h-16 text-success mx-auto"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-3xl font-bold",children:"Placement Test Complete!"}),d.jsxs("div",{className:"bg-accent/10 p-6 rounded-lg space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-center gap-4",children:[d.jsxs(ze,{className:"text-lg px-4 py-2 bg-accent text-accent-foreground",children:[k.level," Level"]}),d.jsxs(ze,{variant:"outline",className:"text-lg px-4 py-2",children:[k.overallScore,"% Score"]})]}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-left",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"font-semibold text-success",children:"Your Strengths:"}),d.jsx("ul",{className:"text-sm space-y-1",children:k.strengths.map((Q,J)=>d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx(Xn,{className:"w-4 h-4 text-success"}),Q]},J))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"font-semibold text-primary",children:"Areas to Improve:"}),d.jsx("ul",{className:"text-sm space-y-1",children:k.improvements.map((Q,J)=>d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx(Nn,{className:"w-4 h-4 text-primary"}),Q]},J))})]})]})]}),d.jsxs(ce,{onClick:()=>e({level:k.level,score:k.overallScore}),className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground text-lg py-6",size:"lg",children:[d.jsx(Er,{className:"w-5 h-5 mr-2"}),"Start Learning at ",k.level," Level"]})]})]})})})}):d.jsx("div",{className:"min-h-screen bg-background p-4",children:d.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[s&&d.jsx(ce,{variant:"ghost",size:"icon",onClick:s,children:d.jsx(Ll,{className:"w-4 h-4"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"AI Conversation Placement Test"}),d.jsxs("p",{className:"text-muted-foreground",children:["Topic: ",qn[c]?.name]})]}),d.jsx("div",{className:"w-10"})]}),d.jsx(at,{children:d.jsxs(lt,{className:"p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm",children:"Progress"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx($l,{className:"w-4 h-4 text-muted-foreground"}),d.jsx("span",{className:"text-sm",children:me(_)})]})]}),d.jsx(oc,{value:ge(),className:"w-full"})]})}),P&&d.jsxs(as,{variant:"destructive",children:[d.jsx(ss,{className:"h-4 w-4"}),d.jsx(ls,{children:P})]}),d.jsxs(at,{className:"h-96",children:[d.jsxs(gn,{children:[d.jsxs(Zt,{className:"flex items-center gap-2",children:[d.jsx(ti,{className:"w-5 h-5"}),"Conversation"]}),d.jsx(_o,{children:"Have a natural conversation with the AI to assess your English prosody skills"})]}),d.jsxs(lt,{className:"h-64 overflow-y-auto space-y-4",children:[d.jsx(hi,{children:o.map(Q=>d.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`flex gap-3 ${Q.role==="user"?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`flex gap-3 max-w-[80%] ${Q.role==="user"?"flex-row-reverse":"flex-row"}`,children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${Q.role==="ai"?"bg-accent text-accent-foreground":"bg-primary text-primary-foreground"}`,children:Q.role==="ai"?d.jsx(CC,{className:"w-4 h-4"}):d.jsx(ac,{className:"w-4 h-4"})}),d.jsxs("div",{className:`p-3 rounded-lg ${Q.role==="ai"?"bg-muted text-muted-foreground":"bg-primary text-primary-foreground"}`,children:[d.jsx("p",{className:"text-sm",children:Q.content}),Q.score&&d.jsxs(ze,{variant:"outline",className:"mt-2 text-xs",children:["Score: ",Q.score,"%"]})]})]})},Q.id))}),d.jsx("div",{ref:E})]})]}),d.jsx(at,{children:d.jsx(lt,{className:"p-4",children:d.jsx(j1,{onSendMessage:Q=>M(Q,!0),disabled:m||x,placeholder:"Speak your response or type it here..."})})}),d.jsx("div",{className:"text-center",children:d.jsx(ce,{variant:"link",onClick:n,disabled:m,children:"Skip placement test and start with Beginner level"})})]})})}var Mp="Radio",[C4,X1]=rn(Mp),[T4,E4]=C4(Mp),J1=b.forwardRef((t,e)=>{const{__scopeRadio:n,name:s,checked:o=!1,required:a,disabled:c,value:u="on",onCheck:h,form:p,...m}=t,[y,x]=b.useState(null),w=Fe(e,_=>x(_)),k=b.useRef(!1),S=y?p||!!y.closest("form"):!0;return d.jsxs(T4,{scope:n,checked:o,disabled:c,children:[d.jsx(Pe.button,{type:"button",role:"radio","aria-checked":o,"data-state":n_(o),"data-disabled":c?"":void 0,disabled:c,value:u,...m,ref:w,onClick:Ne(t.onClick,_=>{o||h?.(),S&&(k.current=_.isPropagationStopped(),k.current||_.stopPropagation())})}),S&&d.jsx(t_,{control:y,bubbles:!k.current,name:s,value:u,checked:o,required:a,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});J1.displayName=Mp;var Z1="RadioIndicator",e_=b.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:s,...o}=t,a=E4(Z1,n);return d.jsx(zt,{present:s||a.checked,children:d.jsx(Pe.span,{"data-state":n_(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:e})})});e_.displayName=Z1;var P4="RadioBubbleInput",t_=b.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:s=!0,...o},a)=>{const c=b.useRef(null),u=Fe(c,a),h=W1(n),p=Pp(e);return b.useEffect(()=>{const m=c.current;if(!m)return;const y=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(y,"checked").set;if(h!==n&&w){const k=new Event("click",{bubbles:s});w.call(m,n),m.dispatchEvent(k)}},[h,n,s]),d.jsx(Pe.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:u,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});t_.displayName=P4;function n_(t){return t?"checked":"unchecked"}var N4=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Pc="RadioGroup",[A4]=rn(Pc,[Cc,X1]),r_=Cc(),s_=X1(),[R4,I4]=A4(Pc),i_=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:s,defaultValue:o,value:a,required:c=!1,disabled:u=!1,orientation:h,dir:p,loop:m=!0,onValueChange:y,...x}=t,w=r_(n),k=gc(p),[S,_]=hs({prop:a,defaultProp:o??null,onChange:y,caller:Pc});return d.jsx(R4,{scope:n,name:s,required:c,disabled:u,value:S,onValueChange:_,children:d.jsx(A1,{asChild:!0,...w,orientation:h,dir:k,loop:m,children:d.jsx(Pe.div,{role:"radiogroup","aria-required":c,"aria-orientation":h,"data-disabled":u?"":void 0,dir:k,...x,ref:e})})})});i_.displayName=Pc;var o_="RadioGroupItem",a_=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:s,...o}=t,a=I4(o_,n),c=a.disabled||s,u=r_(n),h=s_(n),p=b.useRef(null),m=Fe(e,p),y=a.value===o.value,x=b.useRef(!1);return b.useEffect(()=>{const w=S=>{N4.includes(S.key)&&(x.current=!0)},k=()=>x.current=!1;return document.addEventListener("keydown",w),document.addEventListener("keyup",k),()=>{document.removeEventListener("keydown",w),document.removeEventListener("keyup",k)}},[]),d.jsx(R1,{asChild:!0,...u,focusable:!c,active:y,children:d.jsx(J1,{disabled:c,required:a.required,checked:y,...h,...o,name:a.name,ref:m,onCheck:()=>a.onValueChange(o.value),onKeyDown:Ne(w=>{w.key==="Enter"&&w.preventDefault()}),onFocus:Ne(o.onFocus,()=>{x.current&&p.current?.click()})})})});a_.displayName=o_;var O4="RadioGroupIndicator",l_=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...s}=t,o=s_(n);return d.jsx(e_,{...o,...s,ref:e})});l_.displayName=O4;var M4=i_,L4=a_,D4=l_;function $4({className:t,...e}){return d.jsx(M4,{"data-slot":"radio-group",className:Ie("grid gap-3",t),...e})}function F4({className:t,...e}){return d.jsx(L4,{"data-slot":"radio-group-item",className:Ie("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:d.jsx(D4,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:d.jsx(DC,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const V4=[{value:"Beginner",title:"Beginner",emoji:"🌱",color:"bg-emerald-50 border-emerald-200 text-emerald-800",selectedColor:"bg-emerald-100 border-emerald-300 ring-emerald-500",badges:["Basic","Simple","Guided"],description:"Perfect for those new to English pronunciation and prosody",detailedFeatures:["Basic stress patterns","Simple intonation practice","Common vocabulary focus","Step-by-step guided practice","Fundamental rhythm training"],recommended:"Choose if you're just starting with English pronunciation or want to build strong foundations"},{value:"Intermediate",title:"Intermediate",emoji:"🎯",color:"bg-blue-50 border-blue-200 text-blue-800",selectedColor:"bg-blue-100 border-blue-300 ring-blue-500",badges:["Complex","Varied","Natural"],description:"Ideal for learners with some English speaking experience",detailedFeatures:["Complex stress patterns","Varied intonation training","Advanced vocabulary practice","Natural conversation flow","Contextual pronunciation"],recommended:"Choose if you can speak English conversationally but want to improve pronunciation and sound more natural"},{value:"Advanced",title:"Advanced",emoji:"🏆",color:"bg-purple-50 border-purple-200 text-purple-800",selectedColor:"bg-purple-100 border-purple-300 ring-purple-500",badges:["Nuanced","Native","Pro"],description:"Designed for proficient speakers refining their prosody",detailedFeatures:["Subtle pronunciation nuances","Native-like intonation patterns","Professional vocabulary mastery","Accent reduction techniques","Advanced prosody refinement"],recommended:"Choose if you speak English fluently but want to perfect your prosody and achieve native-like pronunciation"}];function U4({onLevelSelect:t,onTakePlacementTest:e,onBack:n,user:s}){const[o,a]=b.useState(""),[c,u]=b.useState(!1),h=s?.level,p=s?.placement_test_completed,m=h&&p,y=h&&!p,x=()=>m?"Redo Placement Test":"Take Placement Test",w=_=>{if(h){u(!0);return}a(_)},k=()=>{o&&!h&&t(o)},S=()=>{u(!1),e()};return h?d.jsx("div",{className:"min-h-screen bg-background",children:d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx("div",{className:"flex-none px-4 py-6 md:px-6 md:py-8",children:d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n&&d.jsx(ce,{variant:"ghost",size:"icon",onClick:n,className:"flex-shrink-0",children:d.jsx(Ll,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Your Learning Level"}),d.jsx("p",{className:"text-sm md:text-base text-muted-foreground",children:"Level locked for consistent progress"})]})]})})}),d.jsx("div",{className:"flex-1 px-4 md:px-6 flex items-center",children:d.jsx("div",{className:"w-full max-w-md mx-auto",children:d.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:d.jsxs(at,{className:"bg-accent/10 border-accent/20 shadow-lg",children:[d.jsx(gn,{className:"text-center pb-4",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx("div",{className:"w-16 h-16 bg-accent rounded-full flex items-center justify-center shadow-lg",children:d.jsx(Fl,{className:"w-8 h-8 text-accent-foreground"})}),d.jsxs("div",{children:[d.jsxs(Zt,{className:"text-2xl md:text-3xl font-bold",children:[s.level," Level"]}),d.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[d.jsx(ko,{className:"w-4 h-4 text-muted-foreground"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:m?"Set by placement test":"Self-selected"})]})]})]})}),d.jsxs(lt,{className:"text-center space-y-6 pb-6",children:[d.jsx("p",{className:"text-base text-muted-foreground",children:m?"Your level was determined by placement test results for optimal learning progress.":"You selected this level manually. Take the placement test for a personalized assessment."}),d.jsx(ve.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(ce,{onClick:S,className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground shadow-lg",size:"lg",children:[d.jsx(Er,{className:"w-5 h-5 mr-2"}),x()]})}),d.jsxs(uh,{children:[d.jsx(nc,{asChild:!0,children:d.jsxs(ce,{variant:"ghost",size:"sm",className:"w-full text-muted-foreground hover:text-foreground",children:[d.jsx(qy,{className:"w-4 h-4 mr-2"}),"Why can't I change my level directly?"]})}),d.jsxs(rc,{className:"max-w-md mx-auto",children:[d.jsxs(dh,{children:[d.jsxs(sc,{className:"flex items-center gap-3",children:[d.jsx(ko,{className:"w-5 h-5 text-accent"}),"Level Locking System"]}),d.jsx(ic,{className:"text-left",children:"VibeTune locks your level to ensure consistent, progressive learning. This prevents switching between difficulty levels that could disrupt your learning path."})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-accent/10 p-4 rounded-lg border border-accent/20",children:[d.jsx("h4",{className:"font-semibold mb-2 text-accent-foreground",children:"Benefits of Level Locking:"}),d.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[d.jsx("li",{children:"• Consistent difficulty progression"}),d.jsx("li",{children:"• Personalized content at the right level"}),d.jsx("li",{children:"• Prevents skill gaps from level jumping"}),d.jsx("li",{children:"• Accurate progress tracking"})]})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"The placement test provides the most accurate assessment of your current abilities and ensures you get content that matches your skill level."})]})]})]})]})]})})})}),d.jsx("div",{className:"flex-none px-4 py-6 md:px-6 md:py-8",children:d.jsx("div",{className:"max-w-md mx-auto",children:c&&d.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:d.jsxs(as,{className:"border-accent/30 bg-accent/10 shadow-lg",children:[d.jsx(ss,{className:"h-5 w-5 text-accent"}),d.jsxs(ls,{className:"text-base",children:[d.jsx("strong",{className:"text-accent-foreground",children:"Level is locked."}),d.jsx("br",{}),"Take the placement test to change your level and get a personalized assessment of your abilities."]})]})})})})]})}):d.jsx("div",{className:"min-h-screen bg-background",children:d.jsx("div",{className:"min-h-screen flex items-center justify-center px-3 py-2",children:d.jsxs("div",{className:"w-full max-w-md mx-auto",children:[n&&d.jsx("div",{className:"flex justify-start mb-3",children:d.jsx(ce,{variant:"ghost",size:"icon",onClick:n,className:"w-8 h-8",children:d.jsx(Ll,{className:"w-4 h-4"})})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Choose Your Level"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Level locks after selection. Change by retaking placement test."}),d.jsx(ve.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:d.jsxs(ce,{onClick:S,className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",size:"default",children:[d.jsx(Nn,{className:"w-4 h-4 mr-2"}),"Take Placement Test (Recommended)"]})}),d.jsxs("div",{className:"flex items-center gap-3 py-1",children:[d.jsx("div",{className:"h-px bg-border flex-1"}),d.jsx("span",{className:"text-xs text-muted-foreground px-2",children:"OR SELF-SELECT"}),d.jsx("div",{className:"h-px bg-border flex-1"})]})]}),d.jsx("div",{children:d.jsx($4,{value:o,onValueChange:a,children:d.jsx("div",{className:"grid grid-cols-3 gap-2",children:V4.map((_,T)=>d.jsx(ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:T*.05},className:"relative",children:d.jsxs(at,{className:`cursor-pointer transition-all duration-300 h-full min-h-[180px] text-center relative overflow-hidden ${o===_.value?`${_.selectedColor} shadow-xl scale-[1.03] ring-2 ring-offset-1`:`${_.color} hover:shadow-lg hover:scale-[1.01] shadow-md`}`,onClick:()=>w(_.value),children:[o===_.value&&d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent pointer-events-none"}),d.jsxs(uh,{children:[d.jsx(nc,{asChild:!0,children:d.jsx(ce,{variant:"ghost",size:"icon",className:"absolute top-1 right-1 w-6 h-6 rounded-full bg-white/90 hover:bg-white shadow-md z-20",onClick:P=>P.stopPropagation(),children:d.jsx(qy,{className:"w-3 h-3"})})}),d.jsxs(rc,{className:"max-w-sm mx-auto",children:[d.jsxs(dh,{children:[d.jsxs(sc,{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-2xl",children:_.emoji}),d.jsxs("div",{className:"text-lg",children:[_.title," Level"]})]}),d.jsx(ic,{children:_.description})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-2",children:"What you'll practice:"}),d.jsx("ul",{className:"space-y-1",children:_.detailedFeatures.map((P,C)=>d.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[d.jsx(Xn,{className:"w-4 h-4 text-success mt-0.5 flex-shrink-0"}),P]},C))})]}),d.jsx("div",{className:"bg-accent/10 p-3 rounded-lg border border-accent/20",children:d.jsxs("p",{className:"text-sm",children:[d.jsx("strong",{className:"text-accent-foreground",children:"Choose this level if:"}),d.jsx("br",{}),_.recommended]})})]})]})]}),d.jsx("div",{className:"absolute top-1 left-1 z-20",children:d.jsx(F4,{value:_.value,id:_.value,className:"w-4 h-4 border-2 bg-white/90"})}),d.jsxs(lt,{className:"p-2 h-full flex flex-col justify-center pt-6",children:[d.jsxs("div",{className:"space-y-2 mb-3",children:[d.jsx("div",{className:"text-3xl",children:_.emoji}),d.jsx(Zt,{className:"text-sm leading-tight font-bold",children:_.title})]}),d.jsx("div",{className:"space-y-1",children:_.badges.map((P,C)=>d.jsx(ze,{variant:"secondary",className:"text-xs px-1 py-0 h-4 rounded-sm block w-full bg-white/80 text-gray-800 border border-gray-300 font-medium",children:P},C))})]})]})},_.value))})})}),o&&d.jsx(ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-3",children:d.jsxs("div",{className:"bg-success/10 rounded-lg p-4 border border-success/20 space-y-3",children:[d.jsx("div",{className:"text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[d.jsx(Xn,{className:"w-5 h-5 text-success"}),d.jsxs("span",{className:"text-base font-bold text-success-foreground",children:[o," Level Selected"]})]})}),d.jsxs("div",{className:"flex items-start gap-2 p-2 bg-primary/15 rounded border border-primary/25",children:[d.jsx(ko,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),d.jsxs("p",{className:"text-sm text-primary-foreground",children:[d.jsx("strong",{children:"Level will be locked after confirmation."})," You can only change it by taking the placement test later."]})]}),d.jsx(ve.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:d.jsxs(ce,{onClick:k,className:"w-full bg-success hover:bg-success/90 text-success-foreground h-11 text-base font-bold shadow-lg",size:"lg",children:[d.jsx(Er,{className:"w-5 h-5 mr-2"}),"Start Learning at ",o," Level"]})})]})}),!o&&d.jsx("div",{className:"text-center py-2",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"👆 Tap a level card above to continue"})})]})]})})})}class z4 extends Ft.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("VibeTune Error Boundary caught an error:",e,n),this.setState({error:e,errorInfo:n}),setTimeout(()=>{try{tn(async()=>{const{trackEvent:s}=await Promise.resolve().then(()=>eO);return{trackEvent:s}},void 0).then(({trackEvent:s})=>{s("app_error_boundary",{error:e.message,stack:e.stack,componentStack:n.componentStack})})}catch(s){console.warn("Failed to track error boundary event:",s)}},0)}handleReset=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full text-center space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[d.jsx("div",{className:"w-12 h-12 bg-accent rounded-full flex items-center justify-center",children:d.jsx("svg",{className:"w-6 h-6 text-accent-foreground",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"})})}),d.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"VibeTune"})]}),d.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-6",children:[d.jsx("h2",{className:"text-lg font-semibold text-destructive mb-2",children:"Oops! Something went wrong"}),d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"We encountered an unexpected error. Don't worry, your data is safe."}),!1]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("button",{onClick:this.handleReset,className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground px-4 py-2 rounded-lg font-medium transition-colors",children:"Try Again"}),d.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-secondary hover:bg-secondary/90 text-secondary-foreground px-4 py-2 rounded-lg font-medium transition-colors",children:"Refresh Page"}),d.jsx("button",{onClick:()=>{try{localStorage.clear(),sessionStorage.clear()}catch(e){console.warn("Failed to clear storage:",e)}window.location.reload()},className:"w-full border border-border hover:bg-muted px-4 py-2 rounded-lg font-medium transition-colors text-sm",children:"Reset App Data"})]}),d.jsxs("div",{className:"text-xs text-muted-foreground",children:[d.jsx("p",{children:"If this problem persists, please contact support."}),d.jsxs("p",{className:"mt-1",children:["Error ID: ",Date.now().toString(36)]})]})]})}):this.props.children}}const B4={user:null,currentConversation:[],placementTestProgress:0,isLoading:!1,error:null,isOffline:!1,syncStatus:"synced"};function W4(t,e){switch(e.type){case"SET_USER":return{...t,user:e.payload};case"SET_CONVERSATION":return{...t,currentConversation:e.payload};case"ADD_MESSAGE":return{...t,currentConversation:[...t.currentConversation,e.payload]};case"UPDATE_MESSAGE":return{...t,currentConversation:t.currentConversation.map(n=>n.id===e.payload.id?{...n,...e.payload.message}:n)};case"SET_PLACEMENT_TEST_PROGRESS":return{...t,placementTestProgress:e.payload};case"SET_LOADING":return{...t,isLoading:e.payload};case"SET_ERROR":return{...t,error:e.payload};case"SET_OFFLINE":return{...t,isOffline:e.payload};case"SET_SYNC_STATUS":return{...t,syncStatus:e.payload};case"CLEAR_CONVERSATION":return{...t,currentConversation:[]};default:return t}}const c_=b.createContext(null);function H4({children:t}){const[e,n]=b.useReducer(W4,B4);return d.jsx(c_.Provider,{value:{state:e,dispatch:n},children:t})}function G4(){const t=b.useContext(c_);if(!t)throw new Error("useAppContext must be used within an AppProvider");return t}const Jr={setUser:t=>({type:"SET_USER",payload:t}),setConversation:t=>({type:"SET_CONVERSATION",payload:t}),addMessage:t=>({type:"ADD_MESSAGE",payload:t}),updateMessage:(t,e)=>({type:"UPDATE_MESSAGE",payload:{id:t,message:e}}),setPlacementTestProgress:t=>({type:"SET_PLACEMENT_TEST_PROGRESS",payload:t}),setLoading:t=>({type:"SET_LOADING",payload:t}),setError:t=>({type:"SET_ERROR",payload:t}),setOffline:t=>({type:"SET_OFFLINE",payload:t}),setSyncStatus:t=>({type:"SET_SYNC_STATUS",payload:t}),clearConversation:()=>({type:"CLEAR_CONVERSATION"})};class Yn{static STORAGE_KEYS={MESSAGES:"speakpro_offline_messages",CONVERSATIONS:"speakpro_offline_conversations",SYNC_QUEUE:"speakpro_sync_queue",LAST_SYNC:"speakpro_last_sync"};static getStorage(){return typeof window<"u"?{getItem:e=>localStorage.getItem(e),setItem:(e,n)=>localStorage.setItem(e,n),removeItem:e=>localStorage.removeItem(e)}:{getItem:async e=>null,setItem:async(e,n)=>{},removeItem:async e=>{}}}static saveMessageOffline(e){try{const n=this.getStorage(),s=n.getItem(this.STORAGE_KEYS.MESSAGES),o=s?JSON.parse(s):[],a={...e,device_id:this.getDeviceId(),synced:!1};o.push(a),n.setItem(this.STORAGE_KEYS.MESSAGES,JSON.stringify(o)),this.addToSyncQueue("message",a.id)}catch(n){console.error("Failed to save message offline:",n)}}static saveConversationOffline(e){try{const n=this.getStorage(),s=n.getItem(this.STORAGE_KEYS.CONVERSATIONS),o=s?JSON.parse(s):[],a={...e,device_id:this.getDeviceId(),synced:!1};o.push(a),n.setItem(this.STORAGE_KEYS.CONVERSATIONS,JSON.stringify(o)),this.addToSyncQueue("conversation",a.id)}catch(n){console.error("Failed to save conversation offline:",n)}}static getOfflineMessages(e){try{const s=this.getStorage().getItem(this.STORAGE_KEYS.MESSAGES);return(s?JSON.parse(s):[]).filter(a=>a.conversation_id===e)}catch(n){return console.error("Failed to get offline messages:",n),[]}}static getOfflineConversations(){try{const n=this.getStorage().getItem(this.STORAGE_KEYS.CONVERSATIONS);return n?JSON.parse(n):[]}catch(e){return console.error("Failed to get offline conversations:",e),[]}}static getUnsyncedItems(){const e=this.getAllOfflineMessages(),n=this.getOfflineConversations();return{messages:e.filter(s=>!s.synced),conversations:n.filter(s=>!s.synced)}}static markAsSynced(e,n){try{const s=this.getStorage(),o=e==="message"?this.STORAGE_KEYS.MESSAGES:this.STORAGE_KEYS.CONVERSATIONS,a=s.getItem(o);if(!a)return;const u=JSON.parse(a).map(h=>h.id===n?{...h,synced:!0}:h);s.setItem(o,JSON.stringify(u)),this.removeFromSyncQueue(e,n)}catch(s){console.error("Failed to mark item as synced:",s)}}static addToSyncQueue(e,n){try{const s=this.getStorage(),o=s.getItem(this.STORAGE_KEYS.SYNC_QUEUE),a=o?JSON.parse(o):[];a.push({type:e,id:n,timestamp:Date.now()}),s.setItem(this.STORAGE_KEYS.SYNC_QUEUE,JSON.stringify(a))}catch(s){console.error("Failed to add to sync queue:",s)}}static removeFromSyncQueue(e,n){try{const s=this.getStorage(),o=s.getItem(this.STORAGE_KEYS.SYNC_QUEUE);if(!o)return;const c=JSON.parse(o).filter(u=>!(u.type===e&&u.id===n));s.setItem(this.STORAGE_KEYS.SYNC_QUEUE,JSON.stringify(c))}catch(s){console.error("Failed to remove from sync queue:",s)}}static getSyncQueue(){try{const n=this.getStorage().getItem(this.STORAGE_KEYS.SYNC_QUEUE);return n?JSON.parse(n):[]}catch(e){return console.error("Failed to get sync queue:",e),[]}}static clearSyncedItems(){try{const e=this.getStorage(),n=e.getItem(this.STORAGE_KEYS.MESSAGES);if(n){const o=JSON.parse(n),a=Date.now()-10080*60*1e3,c=o.filter(u=>!u.synced||new Date(u.created_at).getTime()>a);e.setItem(this.STORAGE_KEYS.MESSAGES,JSON.stringify(c))}const s=e.getItem(this.STORAGE_KEYS.CONVERSATIONS);if(s){const o=JSON.parse(s),a=Date.now()-720*60*60*1e3,c=o.filter(u=>!u.synced||new Date(u.started_at).getTime()>a);e.setItem(this.STORAGE_KEYS.CONVERSATIONS,JSON.stringify(c))}}catch(e){console.error("Failed to clear synced items:",e)}}static getDeviceId(){try{const e=this.getStorage();let n=e.getItem("device_id");return n||(n="web_"+Date.now().toString(36)+Math.random().toString(36).substr(2),e.setItem("device_id",n)),n}catch(e){return console.error("Failed to get device ID:",e),"unknown_device"}}static getAllOfflineMessages(){try{const n=this.getStorage().getItem(this.STORAGE_KEYS.MESSAGES);return n?JSON.parse(n):[]}catch(e){return console.error("Failed to get all offline messages:",e),[]}}static updateLastSync(){try{this.getStorage().setItem(this.STORAGE_KEYS.LAST_SYNC,Date.now().toString())}catch(e){console.error("Failed to update last sync:",e)}}static getLastSync(){try{const n=this.getStorage().getItem(this.STORAGE_KEYS.LAST_SYNC);return n?parseInt(n):0}catch(e){return console.error("Failed to get last sync:",e),0}}static isOffline(){return typeof navigator<"u"&&!navigator.onLine}static getStorageStats(){const e=this.getAllOfflineMessages(),n=this.getOfflineConversations(),s=this.getUnsyncedItems();return{messageCount:e.length,conversationCount:n.length,unsyncedMessages:s.messages.length,unsyncedConversations:s.conversations.length,lastSync:this.getLastSync()}}}class K4{static API_ENDPOINT=`https://${ap}.supabase.co/functions/v1/make-server-b2083953/analyze-audio`;static RATE_LIMIT_KEY="audio_analysis_rate_limit";static MAX_REQUESTS_PER_MINUTE=20;static async analyzeAudio({audioBlob:e,text:n,level:s,context:o}){try{if(!this.checkRateLimit())throw new Error("Rate limit exceeded. Please wait before making another request.");const a=new FormData;e&&a.append("audio",e,"recording.wav"),n&&a.append("text",n),a.append("level",s),a.append("context",o||"general");const c=await fetch(this.API_ENDPOINT,{method:"POST",body:a,headers:{Authorization:`Bearer ${await this.getAuthToken()}`}});if(!c.ok)throw c.status===429?new Error("API rate limit exceeded. Please try again later."):new Error(`API request failed: ${c.statusText}`);const u=await c.json();return this.updateRateLimit(),{data:u,error:null}}catch(a){return console.error("Audio analysis error:",a),{data:this.generateMockAnalysis(n||"",s),error:a}}}static async streamTranscription(e,n,s){try{let o="";const a=["I","think","learning","English","pronunciation","is","very","important"];for(let c=0;c<a.length;c++)await new Promise(u=>setTimeout(u,500)),o+=(c>0?" ":"")+a[c],n({text:o,isFinal:c===a.length-1,confidence:.85+Math.random()*.15})}catch(o){s(o)}}static checkRateLimit(){const e=Date.now(),n=localStorage.getItem(this.RATE_LIMIT_KEY);if(!n)return!0;const{count:s,windowStart:o}=JSON.parse(n),a=60*1e3;return e-o>a?!0:s<this.MAX_REQUESTS_PER_MINUTE}static updateRateLimit(){const e=Date.now(),n=localStorage.getItem(this.RATE_LIMIT_KEY);if(!n){localStorage.setItem(this.RATE_LIMIT_KEY,JSON.stringify({count:1,windowStart:e}));return}const{count:s,windowStart:o}=JSON.parse(n),a=60*1e3;e-o>a?localStorage.setItem(this.RATE_LIMIT_KEY,JSON.stringify({count:1,windowStart:e})):localStorage.setItem(this.RATE_LIMIT_KEY,JSON.stringify({count:s+1,windowStart:o}))}static async getAuthToken(){const{data:{session:e}}=await Oe.auth.getSession();return e?.access_token||lp}static generateMockAnalysis(e,n){const s=e.toLowerCase().split(" "),o=Math.floor(Math.random()*30)+70,a=[],c=[];return n==="Beginner"?(s.includes("really")||s.includes("very"))&&a.push({type:"stress",score:.6,location:"really",suggestion:"Emphasize this word with rising stress"}):n==="Intermediate"&&a.push({type:"intonation",score:.75,suggestion:"Try varying your pitch more throughout the sentence"}),s.forEach(u=>{u.length>8&&c.push(u)}),{prosodyErrors:a,vocabSuggestions:c.slice(0,3),guidance:this.generateGuidance(o,n),overallScore:o,transcript:e}}static generateGuidance(e,n){const s={high:["Excellent prosody! Your rhythm and intonation are very natural.","Great job with word stress patterns. Keep practicing!","Your speech sounds very confident and clear."],medium:["Good effort! Try to focus more on sentence-level intonation.","Your pronunciation is clear. Work on varying your pitch more.","Nice rhythm! Pay attention to stressed syllables in longer words."],low:["Keep practicing! Focus on one aspect at a time - start with word stress.","Take your time with pronunciation. Slow, clear speech is better than fast, unclear speech.","Listen to native speakers and try to mimic their intonation patterns."]},o=e>=85?"high":e>=70?"medium":"low",a=s[o];return a[Math.floor(Math.random()*a.length)]}}class hx{static syncInProgress=!1;static autoSyncEnabled=!1;static syncListeners=[];static lastAuthCheck=0;static isAuthenticated=!1;static addSyncListener(e){this.syncListeners.push(e)}static removeSyncListener(e){this.syncListeners=this.syncListeners.filter(n=>n!==e)}static notifyListeners(e){this.syncListeners.forEach(n=>n(e))}static async sync(){if(this.syncInProgress)return{success:!1,syncedMessages:0,syncedConversations:0,errors:["Sync already in progress"]};this.syncInProgress=!0,this.notifyListeners("syncing");const e=new Promise((n,s)=>setTimeout(()=>s(new Error("Sync operation timed out")),1e4));try{return await Promise.race([this._performSync(),e])}catch(n){return this.syncInProgress=!1,this.notifyListeners("error"),console.error("Sync failed:",n?.message||n),{success:!1,syncedMessages:0,syncedConversations:0,errors:[n?.message||"Sync failed"]}}}static async _performSync(){const e={success:!1,syncedMessages:0,syncedConversations:0,errors:[]};try{if(Yn.isOffline())return this.syncInProgress=!1,this.notifyListeners("synced"),{success:!0,syncedMessages:0,syncedConversations:0,errors:["Device is offline - sync will resume when online"]};const n=await this.checkAuthentication();if(!n.isAuthenticated)return this.syncInProgress=!1,this.notifyListeners("synced"),{success:!0,syncedMessages:0,syncedConversations:0,errors:[n.reason||"No authenticated user - sync skipped"]};const{messages:s,conversations:o}=Yn.getUnsyncedItems();for(const a of o)try{await this.syncConversation(a),e.syncedConversations++}catch(c){console.error("Failed to sync conversation:",c),e.errors.push(`Failed to sync conversation ${a.id}: ${c}`)}for(const a of s)try{await this.syncMessage(a),e.syncedMessages++}catch(c){console.error("Failed to sync message:",c),e.errors.push(`Failed to sync message ${a.id}: ${c}`)}await this.downloadServerUpdates(),Yn.updateLastSync(),e.success=e.errors.length===0,this.notifyListeners(e.success?"synced":"error"),Yn.clearSyncedItems()}catch(n){console.error("Sync failed:",n);const s=n instanceof Error?n.message:String(n);e.errors.push(`Sync failed: ${s}`),!s.includes("not authenticated")&&!s.includes("offline")?this.notifyListeners("error"):this.notifyListeners("synced")}finally{this.syncInProgress=!1}return e}static async syncConversation(e){try{const{data:n}=await Oe.from("conversations").select("id, device_id").eq("id",e.id).single();if(n)await this.resolveConversationConflict(e,n);else{const{error:s}=await Oe.from("conversations").insert([{id:e.id,profile_id:e.profile_id,topic:e.topic,is_placement_test:e.is_placement_test,started_at:e.started_at,ended_at:e.ended_at,device_id:e.device_id}]);if(s)throw s}Yn.markAsSynced("conversation",e.id)}catch(n){throw console.error("Failed to sync conversation:",n),n}}static async syncMessage(e){try{const{data:n}=await Oe.from("messages").select("id, device_id, version").eq("id",e.id).single();if(n)await this.resolveMessageConflict(e,n);else{let s=null;if(e.type==="audio"&&e.sender==="user")try{const{data:a}=await K4.analyzeAudio({text:e.content,level:"Intermediate"});s=a}catch(a){console.warn("Failed to analyze audio during sync:",a)}const{error:o}=await Oe.from("messages").insert([{id:e.id,conversation_id:e.conversation_id,sender:e.sender,type:e.type,content:e.content,audio_url:e.audio_url,prosody_feedback:s,created_at:e.created_at,device_id:e.device_id,version:1}]);if(o)throw o}Yn.markAsSynced("message",e.id)}catch(n){throw console.error("Failed to sync message:",n),n}}static async resolveConversationConflict(e,n){const s=new Date(e.started_at).getTime(),o=new Date(n.started_at).getTime();if(s>o||e.device_id===n.device_id){const{error:a}=await Oe.from("conversations").update({topic:e.topic,ended_at:e.ended_at,device_id:e.device_id}).eq("id",e.id);if(a)throw a}}static async resolveMessageConflict(e,n){if(e.sender==="ai"&&e.prosody_feedback){const{error:s}=await Oe.from("messages").update({prosody_feedback:e.prosody_feedback,version:(n.version||1)+1,device_id:e.device_id}).eq("id",e.id);if(s)throw s}}static async downloadServerUpdates(){try{const e=await this.checkAuthentication();if(!e.isAuthenticated){console.log("Skipping server updates download:",e.reason);return}const{data:{session:n}}=await Oe.auth.getSession();if(!n?.user){console.log("No session available for server updates");return}const s=Yn.getLastSync(),o=new Date(s).toISOString(),{data:a}=await Oe.from("conversations").select("*").eq("profile_id",n.user.id).gt("started_at",o).order("started_at",{ascending:!1});if(a&&a.length>0){const c=a.map(h=>h.id),{data:u}=await Oe.from("messages").select("*").in("conversation_id",c).gt("created_at",o).order("created_at",{ascending:!0});u&&u.forEach(h=>{const p={...h,synced:!0}})}}catch(e){throw console.error("Failed to download server updates:",e),e}}static enableAutoSync(){return new Promise((e,n)=>{if(this.autoSyncEnabled||typeof window>"u"){console.log("✅ Auto-sync already enabled"),e();return}try{this.autoSyncEnabled=!0,console.log("🔄 Auto-sync enabled");const s=()=>{console.log("📡 Online - will sync soon"),setTimeout(()=>{this.sync().catch(a=>{console.warn("⚠️ Auto-sync failed:",a?.message||a)})},3e3)};window.addEventListener("online",s);const o=setInterval(async()=>{if(!Yn.isOffline()&&!this.syncInProgress)try{const a=this.checkAuthentication(),c=new Promise((h,p)=>setTimeout(()=>p(new Error("Auth check timeout")),2e3)),u=await Promise.race([a,c]);u.isAuthenticated?(console.log("Starting periodic sync"),this.sync().catch(h=>{console.warn("⚠️ Periodic sync failed:",h?.message||h)})):console.log("Periodic sync skipped:",u.reason)}catch(a){console.warn("⚠️ Auth check failed for periodic sync:",a?.message||a)}},300*1e3);window.__vibeTuneSyncCleanup||(window.__vibeTuneSyncCleanup=()=>{console.log("Cleaning up auto-sync"),window.removeEventListener("online",s),clearInterval(o),this.autoSyncEnabled=!1,this.resetAuthCache()}),e()}catch(s){console.warn("⚠️ Auto-sync setup failed:",s),n(s)}})}static async forceSync(){return this.sync()}static isSyncing(){return this.syncInProgress}static getPendingSyncCount(){const{messages:e,conversations:n}=Yn.getUnsyncedItems();return e.length+n.length}static async checkAuthentication(){const e=Date.now();if(e-this.lastAuthCheck<3e4&&this.isAuthenticated)return{isAuthenticated:!0};try{const{data:{session:n},error:s}=await Oe.auth.getSession();if(s)return console.log("Auth check failed:",s.message),this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:`Authentication error: ${s.message}`};if(!n?.user)return this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:"No active session"};if(n.expires_at&&new Date(n.expires_at*1e3)<=new Date)return console.log("Session expired"),this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:"Session expired"};if(n.expires_at&&new Date(n.expires_at*1e3).getTime()-e<300*1e3){console.log("Session close to expiry, attempting refresh...");const{data:o,error:a}=await Oe.auth.refreshSession();if(a)return console.log("Session refresh failed:",a.message),this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:`Session refresh failed: ${a.message}`};if(!o.session?.user)return this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:"Session refresh returned no user"}}return this.isAuthenticated=!0,this.lastAuthCheck=e,{isAuthenticated:!0}}catch(n){return console.log("Auth check exception:",n),this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:`Auth check failed: ${n}`}}}static resetAuthCache(){this.isAuthenticated=!1,this.lastAuthCheck=0}}function q4(){const{state:t,dispatch:e}=G4(),{trackEvent:n}=Tr(),[s,o]=b.useState("onboarding"),[a,c]=b.useState(!1),{user:u}=t;b.useEffect(()=>{if(a)return;c(!0),console.log("🚀 Starting VibeTune - immediate launch"),o("onboarding");const _=async()=>{try{try{typeof navigator<"u"&&e(Jr.setOffline(!navigator.onLine))}catch(P){console.warn("Navigator check failed:",P)}const T=await zb(()=>Jt.getCurrentSession(),800,null);if(T?.user){console.log("✅ Found existing session - auto-updating UI");const P={id:T.user.id,email:T.user.email||"",username:T.user.user_metadata?.username||"User",level:T.user.user_metadata?.level||null,placement_test_completed:T.user.user_metadata?.placement_test_completed||!1,created_at:T.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:Jt.getDeviceId()};e(Jr.setUser(P)),P.level?o("main-app"):o("level-selection")}else console.log("❌ No valid session - staying on onboarding")}catch(T){console.log("⚠️ Background session check failed:",T.message)}};setTimeout(()=>{_().catch(T=>{console.warn("Background session check rejected:",T)})},50)},[e,a]);const h=()=>{o("signup"),n("onboarding_signup_clicked")},p=()=>{o("signin"),n("onboarding_signin_clicked")},m=b.useCallback(_=>{console.log("🚀 Auth completed for user:",_.id),e(Jr.setUser(_)),_.level?(console.log("🎯 Navigating to main app"),o("main-app")):(console.log("🎯 Navigating to level selection"),o("level-selection")),setTimeout(()=>{try{const T=hx.enableAutoSync(),P=new Promise((A,M)=>setTimeout(()=>M(new Error("Sync timeout")),2e3));Promise.race([T,P]).then(()=>console.log("✅ Auto sync enabled")).catch(A=>console.warn("⚠️ Sync setup failed:",A));const C=n("auth_completed",{userId:_.id,level:_.level,isNewUser:!_.level}),E=new Promise((A,M)=>setTimeout(()=>M(new Error("Tracking timeout")),1e3));Promise.race([C,E]).catch(A=>console.warn("Event tracking failed:",A))}catch(T){console.warn("Background tasks failed:",T)}},50)},[e,n]),y=async _=>{o("main-app"),u&&setTimeout(async()=>{try{const T=Jt.updateProfile(u.id,{level:_.level,placement_test_completed:!0,placement_test_score:_.score},u),P=new Promise((M,D)=>setTimeout(()=>D(new Error("Profile update timeout")),3e3)),{data:C}=await Promise.race([T,P]);C&&e(Jr.setUser(C));const E=n("placement_test_completed",{userId:u.id,score:_.score,level:_.level,previousLevel:u.level,selectionMethod:"placement_test"}),A=new Promise((M,D)=>setTimeout(()=>D(new Error("Track timeout")),1e3));Promise.race([E,A]).catch(M=>console.warn("Tracking failed:",M))}catch(T){console.error("Background update failed:",T)}},100)},x=()=>{o("main-app"),n("placement_test_skipped",{userId:u?.id})},w=async _=>{console.log("🎯 handleLevelSelection called:",{level:_,userId:u?.id,currentUserLevel:u?.level}),console.log("🏁 Setting state to main-app"),o("main-app"),u?setTimeout(async()=>{try{console.log("🔄 Updating user profile with level:",_);const T=Jt.updateProfile(u.id,{level:_,placement_test_completed:!1},u),P=new Promise((D,$)=>setTimeout(()=>$(new Error("Level update timeout")),2e3)),{data:C,error:E}=await Promise.race([T,P]);console.log("📋 Profile update result:",{updatedProfile:C,updateError:E}),C?(console.log("✅ Dispatching updated user profile:",C),e(Jr.setUser(C))):console.warn("❌ No updated profile returned from updateProfile"),E&&console.warn("❌ Error from updateProfile:",E);const A=n("level_selected",{userId:u.id,level:_,previousLevel:u.level,selectionMethod:"manual"}),M=new Promise((D,$)=>setTimeout(()=>$(new Error("Track timeout")),1e3));Promise.race([A,M]).catch(D=>console.warn("Tracking failed:",D))}catch(T){console.warn("❌ Background level update failed:",T)}},50):console.error("❌ No user found in handleLevelSelection")},k=b.useCallback(async()=>{console.log("🚪 Starting logout..."),e(Jr.setUser(null)),o("onboarding"),setTimeout(async()=>{try{const _=n("user_logout_initiated",{userId:u?.id}),T=new Promise((M,D)=>setTimeout(()=>D(new Error("Logout track timeout")),500));Promise.race([_,T]).catch(M=>console.warn("Logout tracking failed:",M));const P=hx.resetAuthCache(),C=new Promise((M,D)=>setTimeout(()=>D(new Error("Sync reset timeout")),1e3));Promise.race([P,C]).catch(M=>console.warn("Sync reset failed:",M));const E=Jt.signOut(),A=new Promise((M,D)=>setTimeout(()=>D(new Error("Sign out timeout")),2e3));await Promise.race([E,A]),console.log("✅ Logout cleanup completed")}catch(_){console.warn("⚠️ Logout cleanup failed:",_)}},50)},[e,n,u?.id]),S=()=>{o("onboarding"),n("auth_back_to_onboarding")};switch(console.log("🖼️ Rendering screen:",s,"User:",!!u,"User level:",u?.level),s){case"onboarding":return console.log("📄 Rendering: Onboarding"),d.jsx(M2,{onSignUp:h,onSignIn:p,onDemoUser:m});case"signup":return console.log("📄 Rendering: Signup"),d.jsx(Zd,{mode:"signup",onAuthComplete:m,onBack:S});case"signin":return console.log("📄 Rendering: Signin"),d.jsx(Zd,{mode:"signin",onAuthComplete:m,onBack:S});case"level-selection":return console.log("📄 Rendering: Level Selection"),d.jsx(U4,{onLevelSelect:w,onTakePlacementTest:()=>o("placement-test"),onBack:S,user:u});case"placement-test":return console.log("📄 Rendering: AI Placement Test"),u?d.jsx(j4,{user:u,onComplete:y,onSkip:x,onBack:()=>o("level-selection")}):(console.log("⚠️ No user for placement test, redirecting to signin"),o("signin"),null);case"main-app":return console.log("📄 Rendering: Main App"),u?d.jsx(k4,{user:u,onLogout:k,onStartPlacementTest:()=>o("placement-test"),onUserUpdate:_=>{e(Jr.setUser(_))}}):(console.log("⚠️ User is null in main-app, redirecting to signin"),o("signin"),d.jsx(Zd,{mode:"signin",onAuthComplete:m,onBack:S}));default:return d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("p",{className:"text-destructive",children:"Unexpected app state"}),d.jsx("button",{onClick:()=>o("onboarding"),className:"text-accent underline",children:"Return to start"})]})})}}function Y4(){return d.jsx(z4,{children:d.jsx(H4,{children:d.jsx(q4,{})})})}mj.createRoot(document.getElementById("root")).render(d.jsx(Y4,{}));

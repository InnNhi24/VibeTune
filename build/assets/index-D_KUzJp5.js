var gj=Object.defineProperty;var yj=(t,e,n)=>e in t?gj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var jt=(t,e,n)=>yj(t,typeof e!="symbol"?e+"":e,n);function vj(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function _h(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wj(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var o=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:function(){return t[s]}})}),n}var Id={exports:{}},_o={},Md={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function xj(){if(Dy)return Te;Dy=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(P){return P===null||typeof P!="object"?null:(P=y&&P[y]||P["@@iterator"],typeof P=="function"?P:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function j(P,W,Q){this.props=P,this.context=W,this.refs=S,this.updater=Q||x}j.prototype.isReactComponent={},j.prototype.setState=function(P,W){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,W,"setState")},j.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function T(){}T.prototype=j.prototype;function E(P,W,Q){this.props=P,this.context=W,this.refs=S,this.updater=Q||x}var C=E.prototype=new T;C.constructor=E,_(C,j.prototype),C.isPureReactComponent=!0;var N=Array.isArray,R=Object.prototype.hasOwnProperty,M={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function $(P,W,Q){var ie,xe={},je=null,te=null;if(W!=null)for(ie in W.ref!==void 0&&(te=W.ref),W.key!==void 0&&(je=""+W.key),W)R.call(W,ie)&&!D.hasOwnProperty(ie)&&(xe[ie]=W[ie]);var Se=arguments.length-2;if(Se===1)xe.children=Q;else if(1<Se){for(var Ee=Array(Se),Me=0;Me<Se;Me++)Ee[Me]=arguments[Me+2];xe.children=Ee}if(P&&P.defaultProps)for(ie in Se=P.defaultProps,Se)xe[ie]===void 0&&(xe[ie]=Se[ie]);return{$$typeof:t,type:P,key:je,ref:te,props:xe,_owner:M.current}}function G(P,W){return{$$typeof:t,type:P.type,key:W,ref:P.ref,props:P.props,_owner:P._owner}}function X(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function de(P){var W={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Q){return W[Q]})}var ke=/\/+/g;function ge(P,W){return typeof P=="object"&&P!==null&&P.key!=null?de(""+P.key):W.toString(36)}function ye(P,W,Q,ie,xe){var je=typeof P;(je==="undefined"||je==="boolean")&&(P=null);var te=!1;if(P===null)te=!0;else switch(je){case"string":case"number":te=!0;break;case"object":switch(P.$$typeof){case t:case e:te=!0}}if(te)return te=P,xe=xe(te),P=ie===""?"."+ge(te,0):ie,N(xe)?(Q="",P!=null&&(Q=P.replace(ke,"$&/")+"/"),ye(xe,W,Q,"",function(Me){return Me})):xe!=null&&(X(xe)&&(xe=G(xe,Q+(!xe.key||te&&te.key===xe.key?"":(""+xe.key).replace(ke,"$&/")+"/")+P)),W.push(xe)),1;if(te=0,ie=ie===""?".":ie+":",N(P))for(var Se=0;Se<P.length;Se++){je=P[Se];var Ee=ie+ge(je,Se);te+=ye(je,W,Q,Ee,xe)}else if(Ee=v(P),typeof Ee=="function")for(P=Ee.call(P),Se=0;!(je=P.next()).done;)je=je.value,Ee=ie+ge(je,Se++),te+=ye(je,W,Q,Ee,xe);else if(je==="object")throw W=String(P),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return te}function be(P,W,Q){if(P==null)return P;var ie=[],xe=0;return ye(P,ie,"","",function(je){return W.call(Q,je,xe++)}),ie}function le(P){if(P._status===-1){var W=P._result;W=W(),W.then(function(Q){(P._status===0||P._status===-1)&&(P._status=1,P._result=Q)},function(Q){(P._status===0||P._status===-1)&&(P._status=2,P._result=Q)}),P._status===-1&&(P._status=0,P._result=W)}if(P._status===1)return P._result.default;throw P._result}var z={current:null},O={transition:null},H={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:O,ReactCurrentOwner:M};function F(){throw Error("act(...) is not supported in production builds of React.")}return Te.Children={map:be,forEach:function(P,W,Q){be(P,function(){W.apply(this,arguments)},Q)},count:function(P){var W=0;return be(P,function(){W++}),W},toArray:function(P){return be(P,function(W){return W})||[]},only:function(P){if(!X(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Te.Component=j,Te.Fragment=n,Te.Profiler=o,Te.PureComponent=E,Te.StrictMode=s,Te.Suspense=f,Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,Te.act=F,Te.cloneElement=function(P,W,Q){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var ie=_({},P.props),xe=P.key,je=P.ref,te=P._owner;if(W!=null){if(W.ref!==void 0&&(je=W.ref,te=M.current),W.key!==void 0&&(xe=""+W.key),P.type&&P.type.defaultProps)var Se=P.type.defaultProps;for(Ee in W)R.call(W,Ee)&&!D.hasOwnProperty(Ee)&&(ie[Ee]=W[Ee]===void 0&&Se!==void 0?Se[Ee]:W[Ee])}var Ee=arguments.length-2;if(Ee===1)ie.children=Q;else if(1<Ee){Se=Array(Ee);for(var Me=0;Me<Ee;Me++)Se[Me]=arguments[Me+2];ie.children=Se}return{$$typeof:t,type:P.type,key:xe,ref:je,props:ie,_owner:te}},Te.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:a,_context:P},P.Consumer=P},Te.createElement=$,Te.createFactory=function(P){var W=$.bind(null,P);return W.type=P,W},Te.createRef=function(){return{current:null}},Te.forwardRef=function(P){return{$$typeof:u,render:P}},Te.isValidElement=X,Te.lazy=function(P){return{$$typeof:m,_payload:{_status:-1,_result:P},_init:le}},Te.memo=function(P,W){return{$$typeof:p,type:P,compare:W===void 0?null:W}},Te.startTransition=function(P){var W=O.transition;O.transition={};try{P()}finally{O.transition=W}},Te.unstable_act=F,Te.useCallback=function(P,W){return z.current.useCallback(P,W)},Te.useContext=function(P){return z.current.useContext(P)},Te.useDebugValue=function(){},Te.useDeferredValue=function(P){return z.current.useDeferredValue(P)},Te.useEffect=function(P,W){return z.current.useEffect(P,W)},Te.useId=function(){return z.current.useId()},Te.useImperativeHandle=function(P,W,Q){return z.current.useImperativeHandle(P,W,Q)},Te.useInsertionEffect=function(P,W){return z.current.useInsertionEffect(P,W)},Te.useLayoutEffect=function(P,W){return z.current.useLayoutEffect(P,W)},Te.useMemo=function(P,W){return z.current.useMemo(P,W)},Te.useReducer=function(P,W,Q){return z.current.useReducer(P,W,Q)},Te.useRef=function(P){return z.current.useRef(P)},Te.useState=function(P){return z.current.useState(P)},Te.useSyncExternalStore=function(P,W,Q){return z.current.useSyncExternalStore(P,W,Q)},Te.useTransition=function(){return z.current.useTransition()},Te.version="18.3.1",Te}var $y;function kh(){return $y||($y=1,Md.exports=xj()),Md.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function bj(){if(Fy)return _o;Fy=1;var t=kh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,f,p){var m,y={},v=null,x=null;p!==void 0&&(v=""+p),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(x=f.ref);for(m in f)s.call(f,m)&&!a.hasOwnProperty(m)&&(y[m]=f[m]);if(u&&u.defaultProps)for(m in f=u.defaultProps,f)y[m]===void 0&&(y[m]=f[m]);return{$$typeof:e,type:u,key:v,ref:x,props:y,_owner:o.current}}return _o.Fragment=n,_o.jsx=l,_o.jsxs=l,_o}var Vy;function Sj(){return Vy||(Vy=1,Id.exports=bj()),Id.exports}var d=Sj(),bl={},Ld={exports:{}},It={},Dd={exports:{}},$d={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function _j(){return Uy||(Uy=1,(function(t){function e(O,H){var F=O.length;O.push(H);e:for(;0<F;){var P=F-1>>>1,W=O[P];if(0<o(W,H))O[P]=H,O[F]=W,F=P;else break e}}function n(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var H=O[0],F=O.pop();if(F!==H){O[0]=F;e:for(var P=0,W=O.length,Q=W>>>1;P<Q;){var ie=2*(P+1)-1,xe=O[ie],je=ie+1,te=O[je];if(0>o(xe,F))je<W&&0>o(te,xe)?(O[P]=te,O[je]=F,P=je):(O[P]=xe,O[ie]=F,P=ie);else if(je<W&&0>o(te,F))O[P]=te,O[je]=F,P=je;else break e}}return H}function o(O,H){var F=O.sortIndex-H.sortIndex;return F!==0?F:O.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],p=[],m=1,y=null,v=3,x=!1,_=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(O){for(var H=n(p);H!==null;){if(H.callback===null)s(p);else if(H.startTime<=O)s(p),H.sortIndex=H.expirationTime,e(f,H);else break;H=n(p)}}function N(O){if(S=!1,C(O),!_)if(n(f)!==null)_=!0,le(R);else{var H=n(p);H!==null&&z(N,H.startTime-O)}}function R(O,H){_=!1,S&&(S=!1,T($),$=-1),x=!0;var F=v;try{for(C(H),y=n(f);y!==null&&(!(y.expirationTime>H)||O&&!de());){var P=y.callback;if(typeof P=="function"){y.callback=null,v=y.priorityLevel;var W=P(y.expirationTime<=H);H=t.unstable_now(),typeof W=="function"?y.callback=W:y===n(f)&&s(f),C(H)}else s(f);y=n(f)}if(y!==null)var Q=!0;else{var ie=n(p);ie!==null&&z(N,ie.startTime-H),Q=!1}return Q}finally{y=null,v=F,x=!1}}var M=!1,D=null,$=-1,G=5,X=-1;function de(){return!(t.unstable_now()-X<G)}function ke(){if(D!==null){var O=t.unstable_now();X=O;var H=!0;try{H=D(!0,O)}finally{H?ge():(M=!1,D=null)}}else M=!1}var ge;if(typeof E=="function")ge=function(){E(ke)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,be=ye.port2;ye.port1.onmessage=ke,ge=function(){be.postMessage(null)}}else ge=function(){j(ke,0)};function le(O){D=O,M||(M=!0,ge())}function z(O,H){$=j(function(){O(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){_||x||(_=!0,le(R))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(O){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var F=v;v=H;try{return O()}finally{v=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var F=v;v=O;try{return H()}finally{v=F}},t.unstable_scheduleCallback=function(O,H,F){var P=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?P+F:P):F=P,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=F+W,O={id:m++,callback:H,priorityLevel:O,startTime:F,expirationTime:W,sortIndex:-1},F>P?(O.sortIndex=F,e(p,O),n(f)===null&&O===n(p)&&(S?(T($),$=-1):S=!0,z(N,F-P))):(O.sortIndex=W,e(f,O),_||x||(_=!0,le(R))),O},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(O){var H=v;return function(){var F=v;v=H;try{return O.apply(this,arguments)}finally{v=F}}}})($d)),$d}var zy;function kj(){return zy||(zy=1,Dd.exports=_j()),Dd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function jj(){if(By)return It;By=1;var t=kh(),e=kj();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(r,i){l(r,i),l(r+"Capture",i)}function l(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function v(r){return f.call(y,r)?!0:f.call(m,r)?!1:p.test(r)?y[r]=!0:(m[r]=!0,!1)}function x(r,i,c,h){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function _(r,i,c,h){if(i===null||typeof i>"u"||x(r,i,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function S(r,i,c,h,g,w,k){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=r,this.type=i,this.sanitizeURL=w,this.removeEmptyString=k}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){j[r]=new S(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];j[i]=new S(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){j[r]=new S(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){j[r]=new S(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){j[r]=new S(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){j[r]=new S(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){j[r]=new S(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){j[r]=new S(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){j[r]=new S(r,5,!1,r.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function E(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(T,E);j[i]=new S(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(T,E);j[i]=new S(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(T,E);j[i]=new S(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){j[r]=new S(r,1,!1,r.toLowerCase(),null,!1,!1)}),j.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){j[r]=new S(r,1,!1,r.toLowerCase(),null,!0,!0)});function C(r,i,c,h){var g=j.hasOwnProperty(i)?j[i]:null;(g!==null?g.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(_(i,c,g,h)&&(c=null),h||g===null?v(i)&&(c===null?r.removeAttribute(i):r.setAttribute(i,""+c)):g.mustUseProperty?r[g.propertyName]=c===null?g.type===3?!1:"":c:(i=g.attributeName,h=g.attributeNamespace,c===null?r.removeAttribute(i):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,h?r.setAttributeNS(h,i,c):r.setAttribute(i,c))))}var N=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),M=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),de=Symbol.for("react.context"),ke=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),O=Symbol.iterator;function H(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var F=Object.assign,P;function W(r){if(P===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);P=i&&i[1]||""}return`
`+P+r}var Q=!1;function ie(r,i){if(!r||Q)return"";Q=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(B){var h=B}Reflect.construct(r,[],i)}else{try{i.call()}catch(B){h=B}r.call(i.prototype)}else{try{throw Error()}catch(B){h=B}r()}}catch(B){if(B&&h&&typeof B.stack=="string"){for(var g=B.stack.split(`
`),w=h.stack.split(`
`),k=g.length-1,A=w.length-1;1<=k&&0<=A&&g[k]!==w[A];)A--;for(;1<=k&&0<=A;k--,A--)if(g[k]!==w[A]){if(k!==1||A!==1)do if(k--,A--,0>A||g[k]!==w[A]){var I=`
`+g[k].replace(" at new "," at ");return r.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",r.displayName)),I}while(1<=k&&0<=A);break}}}finally{Q=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?W(r):""}function xe(r){switch(r.tag){case 5:return W(r.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return r=ie(r.type,!1),r;case 11:return r=ie(r.type.render,!1),r;case 1:return r=ie(r.type,!0),r;default:return""}}function je(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case M:return"Portal";case G:return"Profiler";case $:return"StrictMode";case ge:return"Suspense";case ye:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case de:return(r.displayName||"Context")+".Consumer";case X:return(r._context.displayName||"Context")+".Provider";case ke:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case be:return i=r.displayName||null,i!==null?i:je(r.type)||"Memo";case le:i=r._payload,r=r._init;try{return je(r(i))}catch{}}return null}function te(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(i);case 8:return i===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Se(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ee(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Me(r){var i=Ee(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),h=""+r[i];if(!r.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,w=c.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return g.call(this)},set:function(k){h=""+k,w.call(this,k)}}),Object.defineProperty(r,i,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(k){h=""+k},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Je(r){r._valueTracker||(r._valueTracker=Me(r))}function Tt(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var c=i.getValue(),h="";return r&&(h=Ee(r)?r.checked?"true":"false":r.value),r=h,r!==c?(i.setValue(r),!0):!1}function _n(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function bs(r,i){var c=i.checked;return F({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??r._wrapperState.initialChecked})}function ua(r,i){var c=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;c=Se(i.value!=null?i.value:c),r._wrapperState={initialChecked:h,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function da(r,i){i=i.checked,i!=null&&C(r,"checked",i,!1)}function Li(r,i){da(r,i);var c=Se(i.value),h=i.type;if(c!=null)h==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+c):r.value!==""+c&&(r.value=""+c);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?sr(r,i.type,c):i.hasOwnProperty("defaultValue")&&sr(r,i.type,Se(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function fa(r,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,c||i===r.value||(r.value=i),r.defaultValue=i}c=r.name,c!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,c!==""&&(r.name=c)}function sr(r,i,c){(i!=="number"||_n(r.ownerDocument)!==r)&&(c==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+c&&(r.defaultValue=""+c))}var Di=Array.isArray;function Ss(r,i,c,h){if(r=r.options,i){i={};for(var g=0;g<c.length;g++)i["$"+c[g]]=!0;for(c=0;c<r.length;c++)g=i.hasOwnProperty("$"+r[c].value),r[c].selected!==g&&(r[c].selected=g),g&&h&&(r[c].defaultSelected=!0)}else{for(c=""+Se(c),i=null,g=0;g<r.length;g++){if(r[g].value===c){r[g].selected=!0,h&&(r[g].defaultSelected=!0);return}i!==null||r[g].disabled||(i=r[g])}i!==null&&(i.selected=!0)}}function Wc(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return F({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Kp(r,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(n(92));if(Di(c)){if(1<c.length)throw Error(n(93));c=c[0]}i=c}i==null&&(i=""),c=i}r._wrapperState={initialValue:Se(c)}}function qp(r,i){var c=Se(i.value),h=Se(i.defaultValue);c!=null&&(c=""+c,c!==r.value&&(r.value=c),i.defaultValue==null&&r.defaultValue!==c&&(r.defaultValue=c)),h!=null&&(r.defaultValue=""+h)}function Yp(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function Jp(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hc(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?Jp(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ha,Qp=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,h,g){MSApp.execUnsafeLocalFunction(function(){return r(i,c,h,g)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(ha=ha||document.createElement("div"),ha.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ha.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function $i(r,i){if(i){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=i;return}}r.textContent=i}var Fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x_=["Webkit","ms","Moz","O"];Object.keys(Fi).forEach(function(r){x_.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Fi[i]=Fi[r]})});function Xp(r,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||Fi.hasOwnProperty(r)&&Fi[r]?(""+i).trim():i+"px"}function Zp(r,i){r=r.style;for(var c in i)if(i.hasOwnProperty(c)){var h=c.indexOf("--")===0,g=Xp(c,i[c],h);c==="float"&&(c="cssFloat"),h?r.setProperty(c,g):r[c]=g}}var b_=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gc(r,i){if(i){if(b_[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Kc(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qc=null;function Yc(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Jc=null,_s=null,ks=null;function em(r){if(r=ao(r)){if(typeof Jc!="function")throw Error(n(280));var i=r.stateNode;i&&(i=La(i),Jc(r.stateNode,r.type,i))}}function tm(r){_s?ks?ks.push(r):ks=[r]:_s=r}function nm(){if(_s){var r=_s,i=ks;if(ks=_s=null,em(r),i)for(r=0;r<i.length;r++)em(i[r])}}function rm(r,i){return r(i)}function sm(){}var Qc=!1;function im(r,i,c){if(Qc)return r(i,c);Qc=!0;try{return rm(r,i,c)}finally{Qc=!1,(_s!==null||ks!==null)&&(sm(),nm())}}function Vi(r,i){var c=r.stateNode;if(c===null)return null;var h=La(c);if(h===null)return null;c=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(n(231,i,typeof c));return c}var Xc=!1;if(u)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){Xc=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{Xc=!1}function S_(r,i,c,h,g,w,k,A,I){var B=Array.prototype.slice.call(arguments,3);try{i.apply(c,B)}catch(q){this.onError(q)}}var zi=!1,pa=null,ma=!1,Zc=null,__={onError:function(r){zi=!0,pa=r}};function k_(r,i,c,h,g,w,k,A,I){zi=!1,pa=null,S_.apply(__,arguments)}function j_(r,i,c,h,g,w,k,A,I){if(k_.apply(this,arguments),zi){if(zi){var B=pa;zi=!1,pa=null}else throw Error(n(198));ma||(ma=!0,Zc=B)}}function $r(r){var i=r,c=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(c=i.return),r=i.return;while(r)}return i.tag===3?c:null}function om(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function am(r){if($r(r)!==r)throw Error(n(188))}function E_(r){var i=r.alternate;if(!i){if(i=$r(r),i===null)throw Error(n(188));return i!==r?null:r}for(var c=r,h=i;;){var g=c.return;if(g===null)break;var w=g.alternate;if(w===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===c)return am(g),r;if(w===h)return am(g),i;w=w.sibling}throw Error(n(188))}if(c.return!==h.return)c=g,h=w;else{for(var k=!1,A=g.child;A;){if(A===c){k=!0,c=g,h=w;break}if(A===h){k=!0,h=g,c=w;break}A=A.sibling}if(!k){for(A=w.child;A;){if(A===c){k=!0,c=w,h=g;break}if(A===h){k=!0,h=w,c=g;break}A=A.sibling}if(!k)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?r:i}function lm(r){return r=E_(r),r!==null?cm(r):null}function cm(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=cm(r);if(i!==null)return i;r=r.sibling}return null}var um=e.unstable_scheduleCallback,dm=e.unstable_cancelCallback,C_=e.unstable_shouldYield,T_=e.unstable_requestPaint,Qe=e.unstable_now,N_=e.unstable_getCurrentPriorityLevel,eu=e.unstable_ImmediatePriority,fm=e.unstable_UserBlockingPriority,ga=e.unstable_NormalPriority,P_=e.unstable_LowPriority,hm=e.unstable_IdlePriority,ya=null,kn=null;function A_(r){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(ya,r,void 0,(r.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:I_,R_=Math.log,O_=Math.LN2;function I_(r){return r>>>=0,r===0?32:31-(R_(r)/O_|0)|0}var va=64,wa=4194304;function Bi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function xa(r,i){var c=r.pendingLanes;if(c===0)return 0;var h=0,g=r.suspendedLanes,w=r.pingedLanes,k=c&268435455;if(k!==0){var A=k&~g;A!==0?h=Bi(A):(w&=k,w!==0&&(h=Bi(w)))}else k=c&~g,k!==0?h=Bi(k):w!==0&&(h=Bi(w));if(h===0)return 0;if(i!==0&&i!==h&&(i&g)===0&&(g=h&-h,w=i&-i,g>=w||g===16&&(w&4194240)!==0))return i;if((h&4)!==0&&(h|=c&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=h;0<i;)c=31-an(i),g=1<<c,h|=r[c],i&=~g;return h}function M_(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L_(r,i){for(var c=r.suspendedLanes,h=r.pingedLanes,g=r.expirationTimes,w=r.pendingLanes;0<w;){var k=31-an(w),A=1<<k,I=g[k];I===-1?((A&c)===0||(A&h)!==0)&&(g[k]=M_(A,i)):I<=i&&(r.expiredLanes|=A),w&=~A}}function tu(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function pm(){var r=va;return va<<=1,(va&4194240)===0&&(va=64),r}function nu(r){for(var i=[],c=0;31>c;c++)i.push(r);return i}function Wi(r,i,c){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-an(i),r[i]=c}function D_(r,i){var c=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<c;){var g=31-an(c),w=1<<g;i[g]=0,h[g]=-1,r[g]=-1,c&=~w}}function ru(r,i){var c=r.entangledLanes|=i;for(r=r.entanglements;c;){var h=31-an(c),g=1<<h;g&i|r[h]&i&&(r[h]|=i),c&=~g}}var Ie=0;function mm(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var gm,su,ym,vm,wm,iu=!1,ba=[],ir=null,or=null,ar=null,Hi=new Map,Gi=new Map,lr=[],$_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xm(r,i){switch(r){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":Hi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gi.delete(i.pointerId)}}function Ki(r,i,c,h,g,w){return r===null||r.nativeEvent!==w?(r={blockedOn:i,domEventName:c,eventSystemFlags:h,nativeEvent:w,targetContainers:[g]},i!==null&&(i=ao(i),i!==null&&su(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),r)}function F_(r,i,c,h,g){switch(i){case"focusin":return ir=Ki(ir,r,i,c,h,g),!0;case"dragenter":return or=Ki(or,r,i,c,h,g),!0;case"mouseover":return ar=Ki(ar,r,i,c,h,g),!0;case"pointerover":var w=g.pointerId;return Hi.set(w,Ki(Hi.get(w)||null,r,i,c,h,g)),!0;case"gotpointercapture":return w=g.pointerId,Gi.set(w,Ki(Gi.get(w)||null,r,i,c,h,g)),!0}return!1}function bm(r){var i=Fr(r.target);if(i!==null){var c=$r(i);if(c!==null){if(i=c.tag,i===13){if(i=om(c),i!==null){r.blockedOn=i,wm(r.priority,function(){ym(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Sa(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var c=au(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(c===null){c=r.nativeEvent;var h=new c.constructor(c.type,c);qc=h,c.target.dispatchEvent(h),qc=null}else return i=ao(c),i!==null&&su(i),r.blockedOn=c,!1;i.shift()}return!0}function Sm(r,i,c){Sa(r)&&c.delete(i)}function V_(){iu=!1,ir!==null&&Sa(ir)&&(ir=null),or!==null&&Sa(or)&&(or=null),ar!==null&&Sa(ar)&&(ar=null),Hi.forEach(Sm),Gi.forEach(Sm)}function qi(r,i){r.blockedOn===i&&(r.blockedOn=null,iu||(iu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,V_)))}function Yi(r){function i(g){return qi(g,r)}if(0<ba.length){qi(ba[0],r);for(var c=1;c<ba.length;c++){var h=ba[c];h.blockedOn===r&&(h.blockedOn=null)}}for(ir!==null&&qi(ir,r),or!==null&&qi(or,r),ar!==null&&qi(ar,r),Hi.forEach(i),Gi.forEach(i),c=0;c<lr.length;c++)h=lr[c],h.blockedOn===r&&(h.blockedOn=null);for(;0<lr.length&&(c=lr[0],c.blockedOn===null);)bm(c),c.blockedOn===null&&lr.shift()}var js=N.ReactCurrentBatchConfig,_a=!0;function U_(r,i,c,h){var g=Ie,w=js.transition;js.transition=null;try{Ie=1,ou(r,i,c,h)}finally{Ie=g,js.transition=w}}function z_(r,i,c,h){var g=Ie,w=js.transition;js.transition=null;try{Ie=4,ou(r,i,c,h)}finally{Ie=g,js.transition=w}}function ou(r,i,c,h){if(_a){var g=au(r,i,c,h);if(g===null)ku(r,i,h,ka,c),xm(r,h);else if(F_(g,r,i,c,h))h.stopPropagation();else if(xm(r,h),i&4&&-1<$_.indexOf(r)){for(;g!==null;){var w=ao(g);if(w!==null&&gm(w),w=au(r,i,c,h),w===null&&ku(r,i,h,ka,c),w===g)break;g=w}g!==null&&h.stopPropagation()}else ku(r,i,h,null,c)}}var ka=null;function au(r,i,c,h){if(ka=null,r=Yc(h),r=Fr(r),r!==null)if(i=$r(r),i===null)r=null;else if(c=i.tag,c===13){if(r=om(i),r!==null)return r;r=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return ka=r,null}function _m(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N_()){case eu:return 1;case fm:return 4;case ga:case P_:return 16;case hm:return 536870912;default:return 16}default:return 16}}var cr=null,lu=null,ja=null;function km(){if(ja)return ja;var r,i=lu,c=i.length,h,g="value"in cr?cr.value:cr.textContent,w=g.length;for(r=0;r<c&&i[r]===g[r];r++);var k=c-r;for(h=1;h<=k&&i[c-h]===g[w-h];h++);return ja=g.slice(r,1<h?1-h:void 0)}function Ea(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Ca(){return!0}function jm(){return!1}function $t(r){function i(c,h,g,w,k){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=w,this.target=k,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(c=r[A],this[A]=c?c(w):w[A]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ca:jm,this.isPropagationStopped=jm,this}return F(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ca)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ca)},persist:function(){},isPersistent:Ca}),i}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cu=$t(Es),Ji=F({},Es,{view:0,detail:0}),B_=$t(Ji),uu,du,Qi,Ta=F({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Qi&&(Qi&&r.type==="mousemove"?(uu=r.screenX-Qi.screenX,du=r.screenY-Qi.screenY):du=uu=0,Qi=r),uu)},movementY:function(r){return"movementY"in r?r.movementY:du}}),Em=$t(Ta),W_=F({},Ta,{dataTransfer:0}),H_=$t(W_),G_=F({},Ji,{relatedTarget:0}),fu=$t(G_),K_=F({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),q_=$t(K_),Y_=F({},Es,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),J_=$t(Y_),Q_=F({},Es,{data:0}),Cm=$t(Q_),X_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ek={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tk(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=ek[r])?!!i[r]:!1}function hu(){return tk}var nk=F({},Ji,{key:function(r){if(r.key){var i=X_[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Ea(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Z_[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hu,charCode:function(r){return r.type==="keypress"?Ea(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ea(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),rk=$t(nk),sk=F({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tm=$t(sk),ik=F({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hu}),ok=$t(ik),ak=F({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),lk=$t(ak),ck=F({},Ta,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),uk=$t(ck),dk=[9,13,27,32],pu=u&&"CompositionEvent"in window,Xi=null;u&&"documentMode"in document&&(Xi=document.documentMode);var fk=u&&"TextEvent"in window&&!Xi,Nm=u&&(!pu||Xi&&8<Xi&&11>=Xi),Pm=" ",Am=!1;function Rm(r,i){switch(r){case"keyup":return dk.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Om(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Cs=!1;function hk(r,i){switch(r){case"compositionend":return Om(i);case"keypress":return i.which!==32?null:(Am=!0,Pm);case"textInput":return r=i.data,r===Pm&&Am?null:r;default:return null}}function pk(r,i){if(Cs)return r==="compositionend"||!pu&&Rm(r,i)?(r=km(),ja=lu=cr=null,Cs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Nm&&i.locale!=="ko"?null:i.data;default:return null}}var mk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Im(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!mk[r.type]:i==="textarea"}function Mm(r,i,c,h){tm(h),i=Oa(i,"onChange"),0<i.length&&(c=new cu("onChange","change",null,c,h),r.push({event:c,listeners:i}))}var Zi=null,eo=null;function gk(r){Zm(r,0)}function Na(r){var i=Rs(r);if(Tt(i))return r}function yk(r,i){if(r==="change")return i}var Lm=!1;if(u){var mu;if(u){var gu="oninput"in document;if(!gu){var Dm=document.createElement("div");Dm.setAttribute("oninput","return;"),gu=typeof Dm.oninput=="function"}mu=gu}else mu=!1;Lm=mu&&(!document.documentMode||9<document.documentMode)}function $m(){Zi&&(Zi.detachEvent("onpropertychange",Fm),eo=Zi=null)}function Fm(r){if(r.propertyName==="value"&&Na(eo)){var i=[];Mm(i,eo,r,Yc(r)),im(gk,i)}}function vk(r,i,c){r==="focusin"?($m(),Zi=i,eo=c,Zi.attachEvent("onpropertychange",Fm)):r==="focusout"&&$m()}function wk(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Na(eo)}function xk(r,i){if(r==="click")return Na(i)}function bk(r,i){if(r==="input"||r==="change")return Na(i)}function Sk(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var ln=typeof Object.is=="function"?Object.is:Sk;function to(r,i){if(ln(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var c=Object.keys(r),h=Object.keys(i);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!f.call(i,g)||!ln(r[g],i[g]))return!1}return!0}function Vm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Um(r,i){var c=Vm(r);r=0;for(var h;c;){if(c.nodeType===3){if(h=r+c.textContent.length,r<=i&&h>=i)return{node:c,offset:i-r};r=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Vm(c)}}function zm(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?zm(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Bm(){for(var r=window,i=_n();i instanceof r.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)r=i.contentWindow;else break;i=_n(r.document)}return i}function yu(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function _k(r){var i=Bm(),c=r.focusedElem,h=r.selectionRange;if(i!==c&&c&&c.ownerDocument&&zm(c.ownerDocument.documentElement,c)){if(h!==null&&yu(c)){if(i=h.start,r=h.end,r===void 0&&(r=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(r,c.value.length);else if(r=(i=c.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var g=c.textContent.length,w=Math.min(h.start,g);h=h.end===void 0?w:Math.min(h.end,g),!r.extend&&w>h&&(g=h,h=w,w=g),g=Um(c,w);var k=Um(c,h);g&&k&&(r.rangeCount!==1||r.anchorNode!==g.node||r.anchorOffset!==g.offset||r.focusNode!==k.node||r.focusOffset!==k.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),r.removeAllRanges(),w>h?(r.addRange(i),r.extend(k.node,k.offset)):(i.setEnd(k.node,k.offset),r.addRange(i)))}}for(i=[],r=c;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)r=i[c],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var kk=u&&"documentMode"in document&&11>=document.documentMode,Ts=null,vu=null,no=null,wu=!1;function Wm(r,i,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;wu||Ts==null||Ts!==_n(h)||(h=Ts,"selectionStart"in h&&yu(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),no&&to(no,h)||(no=h,h=Oa(vu,"onSelect"),0<h.length&&(i=new cu("onSelect","select",null,i,c),r.push({event:i,listeners:h}),i.target=Ts)))}function Pa(r,i){var c={};return c[r.toLowerCase()]=i.toLowerCase(),c["Webkit"+r]="webkit"+i,c["Moz"+r]="moz"+i,c}var Ns={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionend:Pa("Transition","TransitionEnd")},xu={},Hm={};u&&(Hm=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function Aa(r){if(xu[r])return xu[r];if(!Ns[r])return r;var i=Ns[r],c;for(c in i)if(i.hasOwnProperty(c)&&c in Hm)return xu[r]=i[c];return r}var Gm=Aa("animationend"),Km=Aa("animationiteration"),qm=Aa("animationstart"),Ym=Aa("transitionend"),Jm=new Map,Qm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ur(r,i){Jm.set(r,i),a(i,[r])}for(var bu=0;bu<Qm.length;bu++){var Su=Qm[bu],jk=Su.toLowerCase(),Ek=Su[0].toUpperCase()+Su.slice(1);ur(jk,"on"+Ek)}ur(Gm,"onAnimationEnd"),ur(Km,"onAnimationIteration"),ur(qm,"onAnimationStart"),ur("dblclick","onDoubleClick"),ur("focusin","onFocus"),ur("focusout","onBlur"),ur(Ym,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ck=new Set("cancel close invalid load scroll toggle".split(" ").concat(ro));function Xm(r,i,c){var h=r.type||"unknown-event";r.currentTarget=c,j_(h,i,void 0,r),r.currentTarget=null}function Zm(r,i){i=(i&4)!==0;for(var c=0;c<r.length;c++){var h=r[c],g=h.event;h=h.listeners;e:{var w=void 0;if(i)for(var k=h.length-1;0<=k;k--){var A=h[k],I=A.instance,B=A.currentTarget;if(A=A.listener,I!==w&&g.isPropagationStopped())break e;Xm(g,A,B),w=I}else for(k=0;k<h.length;k++){if(A=h[k],I=A.instance,B=A.currentTarget,A=A.listener,I!==w&&g.isPropagationStopped())break e;Xm(g,A,B),w=I}}}if(ma)throw r=Zc,ma=!1,Zc=null,r}function Ve(r,i){var c=i[Pu];c===void 0&&(c=i[Pu]=new Set);var h=r+"__bubble";c.has(h)||(eg(i,r,2,!1),c.add(h))}function _u(r,i,c){var h=0;i&&(h|=4),eg(c,r,h,i)}var Ra="_reactListening"+Math.random().toString(36).slice(2);function so(r){if(!r[Ra]){r[Ra]=!0,s.forEach(function(c){c!=="selectionchange"&&(Ck.has(c)||_u(c,!1,r),_u(c,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Ra]||(i[Ra]=!0,_u("selectionchange",!1,i))}}function eg(r,i,c,h){switch(_m(i)){case 1:var g=U_;break;case 4:g=z_;break;default:g=ou}c=g.bind(null,i,c,r),g=void 0,!Xc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),h?g!==void 0?r.addEventListener(i,c,{capture:!0,passive:g}):r.addEventListener(i,c,!0):g!==void 0?r.addEventListener(i,c,{passive:g}):r.addEventListener(i,c,!1)}function ku(r,i,c,h,g){var w=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var k=h.tag;if(k===3||k===4){var A=h.stateNode.containerInfo;if(A===g||A.nodeType===8&&A.parentNode===g)break;if(k===4)for(k=h.return;k!==null;){var I=k.tag;if((I===3||I===4)&&(I=k.stateNode.containerInfo,I===g||I.nodeType===8&&I.parentNode===g))return;k=k.return}for(;A!==null;){if(k=Fr(A),k===null)return;if(I=k.tag,I===5||I===6){h=w=k;continue e}A=A.parentNode}}h=h.return}im(function(){var B=w,q=Yc(c),Y=[];e:{var K=Jm.get(r);if(K!==void 0){var Z=cu,ne=r;switch(r){case"keypress":if(Ea(c)===0)break e;case"keydown":case"keyup":Z=rk;break;case"focusin":ne="focus",Z=fu;break;case"focusout":ne="blur",Z=fu;break;case"beforeblur":case"afterblur":Z=fu;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=H_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=ok;break;case Gm:case Km:case qm:Z=q_;break;case Ym:Z=lk;break;case"scroll":Z=B_;break;case"wheel":Z=uk;break;case"copy":case"cut":case"paste":Z=J_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Tm}var oe=(i&4)!==0,Xe=!oe&&r==="scroll",V=oe?K!==null?K+"Capture":null:K;oe=[];for(var L=B,U;L!==null;){U=L;var J=U.stateNode;if(U.tag===5&&J!==null&&(U=J,V!==null&&(J=Vi(L,V),J!=null&&oe.push(io(L,J,U)))),Xe)break;L=L.return}0<oe.length&&(K=new Z(K,ne,null,c,q),Y.push({event:K,listeners:oe}))}}if((i&7)===0){e:{if(K=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",K&&c!==qc&&(ne=c.relatedTarget||c.fromElement)&&(Fr(ne)||ne[zn]))break e;if((Z||K)&&(K=q.window===q?q:(K=q.ownerDocument)?K.defaultView||K.parentWindow:window,Z?(ne=c.relatedTarget||c.toElement,Z=B,ne=ne?Fr(ne):null,ne!==null&&(Xe=$r(ne),ne!==Xe||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(Z=null,ne=B),Z!==ne)){if(oe=Em,J="onMouseLeave",V="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(oe=Tm,J="onPointerLeave",V="onPointerEnter",L="pointer"),Xe=Z==null?K:Rs(Z),U=ne==null?K:Rs(ne),K=new oe(J,L+"leave",Z,c,q),K.target=Xe,K.relatedTarget=U,J=null,Fr(q)===B&&(oe=new oe(V,L+"enter",ne,c,q),oe.target=U,oe.relatedTarget=Xe,J=oe),Xe=J,Z&&ne)t:{for(oe=Z,V=ne,L=0,U=oe;U;U=Ps(U))L++;for(U=0,J=V;J;J=Ps(J))U++;for(;0<L-U;)oe=Ps(oe),L--;for(;0<U-L;)V=Ps(V),U--;for(;L--;){if(oe===V||V!==null&&oe===V.alternate)break t;oe=Ps(oe),V=Ps(V)}oe=null}else oe=null;Z!==null&&tg(Y,K,Z,oe,!1),ne!==null&&Xe!==null&&tg(Y,Xe,ne,oe,!0)}}e:{if(K=B?Rs(B):window,Z=K.nodeName&&K.nodeName.toLowerCase(),Z==="select"||Z==="input"&&K.type==="file")var ae=yk;else if(Im(K))if(Lm)ae=bk;else{ae=wk;var fe=vk}else(Z=K.nodeName)&&Z.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(ae=xk);if(ae&&(ae=ae(r,B))){Mm(Y,ae,c,q);break e}fe&&fe(r,K,B),r==="focusout"&&(fe=K._wrapperState)&&fe.controlled&&K.type==="number"&&sr(K,"number",K.value)}switch(fe=B?Rs(B):window,r){case"focusin":(Im(fe)||fe.contentEditable==="true")&&(Ts=fe,vu=B,no=null);break;case"focusout":no=vu=Ts=null;break;case"mousedown":wu=!0;break;case"contextmenu":case"mouseup":case"dragend":wu=!1,Wm(Y,c,q);break;case"selectionchange":if(kk)break;case"keydown":case"keyup":Wm(Y,c,q)}var he;if(pu)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Cs?Rm(r,c)&&(we="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(we="onCompositionStart");we&&(Nm&&c.locale!=="ko"&&(Cs||we!=="onCompositionStart"?we==="onCompositionEnd"&&Cs&&(he=km()):(cr=q,lu="value"in cr?cr.value:cr.textContent,Cs=!0)),fe=Oa(B,we),0<fe.length&&(we=new Cm(we,r,null,c,q),Y.push({event:we,listeners:fe}),he?we.data=he:(he=Om(c),he!==null&&(we.data=he)))),(he=fk?hk(r,c):pk(r,c))&&(B=Oa(B,"onBeforeInput"),0<B.length&&(q=new Cm("onBeforeInput","beforeinput",null,c,q),Y.push({event:q,listeners:B}),q.data=he))}Zm(Y,i)})}function io(r,i,c){return{instance:r,listener:i,currentTarget:c}}function Oa(r,i){for(var c=i+"Capture",h=[];r!==null;){var g=r,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=Vi(r,c),w!=null&&h.unshift(io(r,w,g)),w=Vi(r,i),w!=null&&h.push(io(r,w,g))),r=r.return}return h}function Ps(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function tg(r,i,c,h,g){for(var w=i._reactName,k=[];c!==null&&c!==h;){var A=c,I=A.alternate,B=A.stateNode;if(I!==null&&I===h)break;A.tag===5&&B!==null&&(A=B,g?(I=Vi(c,w),I!=null&&k.unshift(io(c,I,A))):g||(I=Vi(c,w),I!=null&&k.push(io(c,I,A)))),c=c.return}k.length!==0&&r.push({event:i,listeners:k})}var Tk=/\r\n?/g,Nk=/\u0000|\uFFFD/g;function ng(r){return(typeof r=="string"?r:""+r).replace(Tk,`
`).replace(Nk,"")}function Ia(r,i,c){if(i=ng(i),ng(r)!==i&&c)throw Error(n(425))}function Ma(){}var ju=null,Eu=null;function Cu(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Tu=typeof setTimeout=="function"?setTimeout:void 0,Pk=typeof clearTimeout=="function"?clearTimeout:void 0,rg=typeof Promise=="function"?Promise:void 0,Ak=typeof queueMicrotask=="function"?queueMicrotask:typeof rg<"u"?function(r){return rg.resolve(null).then(r).catch(Rk)}:Tu;function Rk(r){setTimeout(function(){throw r})}function Nu(r,i){var c=i,h=0;do{var g=c.nextSibling;if(r.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(h===0){r.removeChild(g),Yi(i);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=g}while(c);Yi(i)}function dr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function sg(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return r;i--}else c==="/$"&&i++}r=r.previousSibling}return null}var As=Math.random().toString(36).slice(2),jn="__reactFiber$"+As,oo="__reactProps$"+As,zn="__reactContainer$"+As,Pu="__reactEvents$"+As,Ok="__reactListeners$"+As,Ik="__reactHandles$"+As;function Fr(r){var i=r[jn];if(i)return i;for(var c=r.parentNode;c;){if(i=c[zn]||c[jn]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(r=sg(r);r!==null;){if(c=r[jn])return c;r=sg(r)}return i}r=c,c=r.parentNode}return null}function ao(r){return r=r[jn]||r[zn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Rs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function La(r){return r[oo]||null}var Au=[],Os=-1;function fr(r){return{current:r}}function Ue(r){0>Os||(r.current=Au[Os],Au[Os]=null,Os--)}function De(r,i){Os++,Au[Os]=r.current,r.current=i}var hr={},vt=fr(hr),Nt=fr(!1),Vr=hr;function Is(r,i){var c=r.type.contextTypes;if(!c)return hr;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in c)g[w]=i[w];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=g),g}function Pt(r){return r=r.childContextTypes,r!=null}function Da(){Ue(Nt),Ue(vt)}function ig(r,i,c){if(vt.current!==hr)throw Error(n(168));De(vt,i),De(Nt,c)}function og(r,i,c){var h=r.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var g in h)if(!(g in i))throw Error(n(108,te(r)||"Unknown",g));return F({},c,h)}function $a(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||hr,Vr=vt.current,De(vt,r),De(Nt,Nt.current),!0}function ag(r,i,c){var h=r.stateNode;if(!h)throw Error(n(169));c?(r=og(r,i,Vr),h.__reactInternalMemoizedMergedChildContext=r,Ue(Nt),Ue(vt),De(vt,r)):Ue(Nt),De(Nt,c)}var Bn=null,Fa=!1,Ru=!1;function lg(r){Bn===null?Bn=[r]:Bn.push(r)}function Mk(r){Fa=!0,lg(r)}function pr(){if(!Ru&&Bn!==null){Ru=!0;var r=0,i=Ie;try{var c=Bn;for(Ie=1;r<c.length;r++){var h=c[r];do h=h(!0);while(h!==null)}Bn=null,Fa=!1}catch(g){throw Bn!==null&&(Bn=Bn.slice(r+1)),um(eu,pr),g}finally{Ie=i,Ru=!1}}return null}var Ms=[],Ls=0,Va=null,Ua=0,Gt=[],Kt=0,Ur=null,Wn=1,Hn="";function zr(r,i){Ms[Ls++]=Ua,Ms[Ls++]=Va,Va=r,Ua=i}function cg(r,i,c){Gt[Kt++]=Wn,Gt[Kt++]=Hn,Gt[Kt++]=Ur,Ur=r;var h=Wn;r=Hn;var g=32-an(h)-1;h&=~(1<<g),c+=1;var w=32-an(i)+g;if(30<w){var k=g-g%5;w=(h&(1<<k)-1).toString(32),h>>=k,g-=k,Wn=1<<32-an(i)+g|c<<g|h,Hn=w+r}else Wn=1<<w|c<<g|h,Hn=r}function Ou(r){r.return!==null&&(zr(r,1),cg(r,1,0))}function Iu(r){for(;r===Va;)Va=Ms[--Ls],Ms[Ls]=null,Ua=Ms[--Ls],Ms[Ls]=null;for(;r===Ur;)Ur=Gt[--Kt],Gt[Kt]=null,Hn=Gt[--Kt],Gt[Kt]=null,Wn=Gt[--Kt],Gt[Kt]=null}var Ft=null,Vt=null,ze=!1,cn=null;function ug(r,i){var c=Qt(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=r,i=r.deletions,i===null?(r.deletions=[c],r.flags|=16):i.push(c)}function dg(r,i){switch(r.tag){case 5:var c=r.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Ft=r,Vt=dr(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Ft=r,Vt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=Ur!==null?{id:Wn,overflow:Hn}:null,r.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=Qt(18,null,null,0),c.stateNode=i,c.return=r,r.child=c,Ft=r,Vt=null,!0):!1;default:return!1}}function Mu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Lu(r){if(ze){var i=Vt;if(i){var c=i;if(!dg(r,i)){if(Mu(r))throw Error(n(418));i=dr(c.nextSibling);var h=Ft;i&&dg(r,i)?ug(h,c):(r.flags=r.flags&-4097|2,ze=!1,Ft=r)}}else{if(Mu(r))throw Error(n(418));r.flags=r.flags&-4097|2,ze=!1,Ft=r}}}function fg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Ft=r}function za(r){if(r!==Ft)return!1;if(!ze)return fg(r),ze=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Cu(r.type,r.memoizedProps)),i&&(i=Vt)){if(Mu(r))throw hg(),Error(n(418));for(;i;)ug(r,i),i=dr(i.nextSibling)}if(fg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"){if(i===0){Vt=dr(r.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}r=r.nextSibling}Vt=null}}else Vt=Ft?dr(r.stateNode.nextSibling):null;return!0}function hg(){for(var r=Vt;r;)r=dr(r.nextSibling)}function Ds(){Vt=Ft=null,ze=!1}function Du(r){cn===null?cn=[r]:cn.push(r)}var Lk=N.ReactCurrentBatchConfig;function lo(r,i,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var h=c.stateNode}if(!h)throw Error(n(147,r));var g=h,w=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===w?i.ref:(i=function(k){var A=g.refs;k===null?delete A[w]:A[w]=k},i._stringRef=w,i)}if(typeof r!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,r))}return r}function Ba(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function pg(r){var i=r._init;return i(r._payload)}function mg(r){function i(V,L){if(r){var U=V.deletions;U===null?(V.deletions=[L],V.flags|=16):U.push(L)}}function c(V,L){if(!r)return null;for(;L!==null;)i(V,L),L=L.sibling;return null}function h(V,L){for(V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function g(V,L){return V=Sr(V,L),V.index=0,V.sibling=null,V}function w(V,L,U){return V.index=U,r?(U=V.alternate,U!==null?(U=U.index,U<L?(V.flags|=2,L):U):(V.flags|=2,L)):(V.flags|=1048576,L)}function k(V){return r&&V.alternate===null&&(V.flags|=2),V}function A(V,L,U,J){return L===null||L.tag!==6?(L=Td(U,V.mode,J),L.return=V,L):(L=g(L,U),L.return=V,L)}function I(V,L,U,J){var ae=U.type;return ae===D?q(V,L,U.props.children,J,U.key):L!==null&&(L.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===le&&pg(ae)===L.type)?(J=g(L,U.props),J.ref=lo(V,L,U),J.return=V,J):(J=hl(U.type,U.key,U.props,null,V.mode,J),J.ref=lo(V,L,U),J.return=V,J)}function B(V,L,U,J){return L===null||L.tag!==4||L.stateNode.containerInfo!==U.containerInfo||L.stateNode.implementation!==U.implementation?(L=Nd(U,V.mode,J),L.return=V,L):(L=g(L,U.children||[]),L.return=V,L)}function q(V,L,U,J,ae){return L===null||L.tag!==7?(L=Jr(U,V.mode,J,ae),L.return=V,L):(L=g(L,U),L.return=V,L)}function Y(V,L,U){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Td(""+L,V.mode,U),L.return=V,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case R:return U=hl(L.type,L.key,L.props,null,V.mode,U),U.ref=lo(V,null,L),U.return=V,U;case M:return L=Nd(L,V.mode,U),L.return=V,L;case le:var J=L._init;return Y(V,J(L._payload),U)}if(Di(L)||H(L))return L=Jr(L,V.mode,U,null),L.return=V,L;Ba(V,L)}return null}function K(V,L,U,J){var ae=L!==null?L.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return ae!==null?null:A(V,L,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case R:return U.key===ae?I(V,L,U,J):null;case M:return U.key===ae?B(V,L,U,J):null;case le:return ae=U._init,K(V,L,ae(U._payload),J)}if(Di(U)||H(U))return ae!==null?null:q(V,L,U,J,null);Ba(V,U)}return null}function Z(V,L,U,J,ae){if(typeof J=="string"&&J!==""||typeof J=="number")return V=V.get(U)||null,A(L,V,""+J,ae);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case R:return V=V.get(J.key===null?U:J.key)||null,I(L,V,J,ae);case M:return V=V.get(J.key===null?U:J.key)||null,B(L,V,J,ae);case le:var fe=J._init;return Z(V,L,U,fe(J._payload),ae)}if(Di(J)||H(J))return V=V.get(U)||null,q(L,V,J,ae,null);Ba(L,J)}return null}function ne(V,L,U,J){for(var ae=null,fe=null,he=L,we=L=0,ut=null;he!==null&&we<U.length;we++){he.index>we?(ut=he,he=null):ut=he.sibling;var Re=K(V,he,U[we],J);if(Re===null){he===null&&(he=ut);break}r&&he&&Re.alternate===null&&i(V,he),L=w(Re,L,we),fe===null?ae=Re:fe.sibling=Re,fe=Re,he=ut}if(we===U.length)return c(V,he),ze&&zr(V,we),ae;if(he===null){for(;we<U.length;we++)he=Y(V,U[we],J),he!==null&&(L=w(he,L,we),fe===null?ae=he:fe.sibling=he,fe=he);return ze&&zr(V,we),ae}for(he=h(V,he);we<U.length;we++)ut=Z(he,V,we,U[we],J),ut!==null&&(r&&ut.alternate!==null&&he.delete(ut.key===null?we:ut.key),L=w(ut,L,we),fe===null?ae=ut:fe.sibling=ut,fe=ut);return r&&he.forEach(function(_r){return i(V,_r)}),ze&&zr(V,we),ae}function oe(V,L,U,J){var ae=H(U);if(typeof ae!="function")throw Error(n(150));if(U=ae.call(U),U==null)throw Error(n(151));for(var fe=ae=null,he=L,we=L=0,ut=null,Re=U.next();he!==null&&!Re.done;we++,Re=U.next()){he.index>we?(ut=he,he=null):ut=he.sibling;var _r=K(V,he,Re.value,J);if(_r===null){he===null&&(he=ut);break}r&&he&&_r.alternate===null&&i(V,he),L=w(_r,L,we),fe===null?ae=_r:fe.sibling=_r,fe=_r,he=ut}if(Re.done)return c(V,he),ze&&zr(V,we),ae;if(he===null){for(;!Re.done;we++,Re=U.next())Re=Y(V,Re.value,J),Re!==null&&(L=w(Re,L,we),fe===null?ae=Re:fe.sibling=Re,fe=Re);return ze&&zr(V,we),ae}for(he=h(V,he);!Re.done;we++,Re=U.next())Re=Z(he,V,we,Re.value,J),Re!==null&&(r&&Re.alternate!==null&&he.delete(Re.key===null?we:Re.key),L=w(Re,L,we),fe===null?ae=Re:fe.sibling=Re,fe=Re);return r&&he.forEach(function(mj){return i(V,mj)}),ze&&zr(V,we),ae}function Xe(V,L,U,J){if(typeof U=="object"&&U!==null&&U.type===D&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case R:e:{for(var ae=U.key,fe=L;fe!==null;){if(fe.key===ae){if(ae=U.type,ae===D){if(fe.tag===7){c(V,fe.sibling),L=g(fe,U.props.children),L.return=V,V=L;break e}}else if(fe.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===le&&pg(ae)===fe.type){c(V,fe.sibling),L=g(fe,U.props),L.ref=lo(V,fe,U),L.return=V,V=L;break e}c(V,fe);break}else i(V,fe);fe=fe.sibling}U.type===D?(L=Jr(U.props.children,V.mode,J,U.key),L.return=V,V=L):(J=hl(U.type,U.key,U.props,null,V.mode,J),J.ref=lo(V,L,U),J.return=V,V=J)}return k(V);case M:e:{for(fe=U.key;L!==null;){if(L.key===fe)if(L.tag===4&&L.stateNode.containerInfo===U.containerInfo&&L.stateNode.implementation===U.implementation){c(V,L.sibling),L=g(L,U.children||[]),L.return=V,V=L;break e}else{c(V,L);break}else i(V,L);L=L.sibling}L=Nd(U,V.mode,J),L.return=V,V=L}return k(V);case le:return fe=U._init,Xe(V,L,fe(U._payload),J)}if(Di(U))return ne(V,L,U,J);if(H(U))return oe(V,L,U,J);Ba(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,L!==null&&L.tag===6?(c(V,L.sibling),L=g(L,U),L.return=V,V=L):(c(V,L),L=Td(U,V.mode,J),L.return=V,V=L),k(V)):c(V,L)}return Xe}var $s=mg(!0),gg=mg(!1),Wa=fr(null),Ha=null,Fs=null,$u=null;function Fu(){$u=Fs=Ha=null}function Vu(r){var i=Wa.current;Ue(Wa),r._currentValue=i}function Uu(r,i,c){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===c)break;r=r.return}}function Vs(r,i){Ha=r,$u=Fs=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(At=!0),r.firstContext=null)}function qt(r){var i=r._currentValue;if($u!==r)if(r={context:r,memoizedValue:i,next:null},Fs===null){if(Ha===null)throw Error(n(308));Fs=r,Ha.dependencies={lanes:0,firstContext:r}}else Fs=Fs.next=r;return i}var Br=null;function zu(r){Br===null?Br=[r]:Br.push(r)}function yg(r,i,c,h){var g=i.interleaved;return g===null?(c.next=c,zu(i)):(c.next=g.next,g.next=c),i.interleaved=c,Gn(r,h)}function Gn(r,i){r.lanes|=i;var c=r.alternate;for(c!==null&&(c.lanes|=i),c=r,r=r.return;r!==null;)r.childLanes|=i,c=r.alternate,c!==null&&(c.childLanes|=i),c=r,r=r.return;return c.tag===3?c.stateNode:null}var mr=!1;function Bu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vg(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Kn(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function gr(r,i,c){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Ae&2)!==0){var g=h.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),h.pending=i,Gn(r,c)}return g=h.interleaved,g===null?(i.next=i,zu(h)):(i.next=g.next,g.next=i),h.interleaved=i,Gn(r,c)}function Ga(r,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var h=i.lanes;h&=r.pendingLanes,c|=h,i.lanes=c,ru(r,c)}}function wg(r,i){var c=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var k={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?g=w=k:w=w.next=k,c=c.next}while(c!==null);w===null?g=w=i:w=w.next=i}else g=w=i;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:h.shared,effects:h.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=i:r.next=i,c.lastBaseUpdate=i}function Ka(r,i,c,h){var g=r.updateQueue;mr=!1;var w=g.firstBaseUpdate,k=g.lastBaseUpdate,A=g.shared.pending;if(A!==null){g.shared.pending=null;var I=A,B=I.next;I.next=null,k===null?w=B:k.next=B,k=I;var q=r.alternate;q!==null&&(q=q.updateQueue,A=q.lastBaseUpdate,A!==k&&(A===null?q.firstBaseUpdate=B:A.next=B,q.lastBaseUpdate=I))}if(w!==null){var Y=g.baseState;k=0,q=B=I=null,A=w;do{var K=A.lane,Z=A.eventTime;if((h&K)===K){q!==null&&(q=q.next={eventTime:Z,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ne=r,oe=A;switch(K=i,Z=c,oe.tag){case 1:if(ne=oe.payload,typeof ne=="function"){Y=ne.call(Z,Y,K);break e}Y=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=oe.payload,K=typeof ne=="function"?ne.call(Z,Y,K):ne,K==null)break e;Y=F({},Y,K);break e;case 2:mr=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,K=g.effects,K===null?g.effects=[A]:K.push(A))}else Z={eventTime:Z,lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},q===null?(B=q=Z,I=Y):q=q.next=Z,k|=K;if(A=A.next,A===null){if(A=g.shared.pending,A===null)break;K=A,A=K.next,K.next=null,g.lastBaseUpdate=K,g.shared.pending=null}}while(!0);if(q===null&&(I=Y),g.baseState=I,g.firstBaseUpdate=B,g.lastBaseUpdate=q,i=g.shared.interleaved,i!==null){g=i;do k|=g.lane,g=g.next;while(g!==i)}else w===null&&(g.shared.lanes=0);Gr|=k,r.lanes=k,r.memoizedState=Y}}function xg(r,i,c){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var h=r[i],g=h.callback;if(g!==null){if(h.callback=null,h=c,typeof g!="function")throw Error(n(191,g));g.call(h)}}}var co={},En=fr(co),uo=fr(co),fo=fr(co);function Wr(r){if(r===co)throw Error(n(174));return r}function Wu(r,i){switch(De(fo,i),De(uo,r),De(En,co),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Hc(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Hc(i,r)}Ue(En),De(En,i)}function Us(){Ue(En),Ue(uo),Ue(fo)}function bg(r){Wr(fo.current);var i=Wr(En.current),c=Hc(i,r.type);i!==c&&(De(uo,r),De(En,c))}function Hu(r){uo.current===r&&(Ue(En),Ue(uo))}var He=fr(0);function qa(r){for(var i=r;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Gu=[];function Ku(){for(var r=0;r<Gu.length;r++)Gu[r]._workInProgressVersionPrimary=null;Gu.length=0}var Ya=N.ReactCurrentDispatcher,qu=N.ReactCurrentBatchConfig,Hr=0,Ge=null,st=null,lt=null,Ja=!1,ho=!1,po=0,Dk=0;function wt(){throw Error(n(321))}function Yu(r,i){if(i===null)return!1;for(var c=0;c<i.length&&c<r.length;c++)if(!ln(r[c],i[c]))return!1;return!0}function Ju(r,i,c,h,g,w){if(Hr=w,Ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ya.current=r===null||r.memoizedState===null?Uk:zk,r=c(h,g),ho){w=0;do{if(ho=!1,po=0,25<=w)throw Error(n(301));w+=1,lt=st=null,i.updateQueue=null,Ya.current=Bk,r=c(h,g)}while(ho)}if(Ya.current=Za,i=st!==null&&st.next!==null,Hr=0,lt=st=Ge=null,Ja=!1,i)throw Error(n(300));return r}function Qu(){var r=po!==0;return po=0,r}function Cn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Ge.memoizedState=lt=r:lt=lt.next=r,lt}function Yt(){if(st===null){var r=Ge.alternate;r=r!==null?r.memoizedState:null}else r=st.next;var i=lt===null?Ge.memoizedState:lt.next;if(i!==null)lt=i,st=r;else{if(r===null)throw Error(n(310));st=r,r={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},lt===null?Ge.memoizedState=lt=r:lt=lt.next=r}return lt}function mo(r,i){return typeof i=="function"?i(r):i}function Xu(r){var i=Yt(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var h=st,g=h.baseQueue,w=c.pending;if(w!==null){if(g!==null){var k=g.next;g.next=w.next,w.next=k}h.baseQueue=g=w,c.pending=null}if(g!==null){w=g.next,h=h.baseState;var A=k=null,I=null,B=w;do{var q=B.lane;if((Hr&q)===q)I!==null&&(I=I.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),h=B.hasEagerState?B.eagerState:r(h,B.action);else{var Y={lane:q,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};I===null?(A=I=Y,k=h):I=I.next=Y,Ge.lanes|=q,Gr|=q}B=B.next}while(B!==null&&B!==w);I===null?k=h:I.next=A,ln(h,i.memoizedState)||(At=!0),i.memoizedState=h,i.baseState=k,i.baseQueue=I,c.lastRenderedState=h}if(r=c.interleaved,r!==null){g=r;do w=g.lane,Ge.lanes|=w,Gr|=w,g=g.next;while(g!==r)}else g===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function Zu(r){var i=Yt(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var h=c.dispatch,g=c.pending,w=i.memoizedState;if(g!==null){c.pending=null;var k=g=g.next;do w=r(w,k.action),k=k.next;while(k!==g);ln(w,i.memoizedState)||(At=!0),i.memoizedState=w,i.baseQueue===null&&(i.baseState=w),c.lastRenderedState=w}return[w,h]}function Sg(){}function _g(r,i){var c=Ge,h=Yt(),g=i(),w=!ln(h.memoizedState,g);if(w&&(h.memoizedState=g,At=!0),h=h.queue,ed(Eg.bind(null,c,h,r),[r]),h.getSnapshot!==i||w||lt!==null&&lt.memoizedState.tag&1){if(c.flags|=2048,go(9,jg.bind(null,c,h,g,i),void 0,null),ct===null)throw Error(n(349));(Hr&30)!==0||kg(c,i,g)}return g}function kg(r,i,c){r.flags|=16384,r={getSnapshot:i,value:c},i=Ge.updateQueue,i===null?(i={lastEffect:null,stores:null},Ge.updateQueue=i,i.stores=[r]):(c=i.stores,c===null?i.stores=[r]:c.push(r))}function jg(r,i,c,h){i.value=c,i.getSnapshot=h,Cg(i)&&Tg(r)}function Eg(r,i,c){return c(function(){Cg(i)&&Tg(r)})}function Cg(r){var i=r.getSnapshot;r=r.value;try{var c=i();return!ln(r,c)}catch{return!0}}function Tg(r){var i=Gn(r,1);i!==null&&hn(i,r,1,-1)}function Ng(r){var i=Cn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:r},i.queue=r,r=r.dispatch=Vk.bind(null,Ge,r),[i.memoizedState,r]}function go(r,i,c,h){return r={tag:r,create:i,destroy:c,deps:h,next:null},i=Ge.updateQueue,i===null?(i={lastEffect:null,stores:null},Ge.updateQueue=i,i.lastEffect=r.next=r):(c=i.lastEffect,c===null?i.lastEffect=r.next=r:(h=c.next,c.next=r,r.next=h,i.lastEffect=r)),r}function Pg(){return Yt().memoizedState}function Qa(r,i,c,h){var g=Cn();Ge.flags|=r,g.memoizedState=go(1|i,c,void 0,h===void 0?null:h)}function Xa(r,i,c,h){var g=Yt();h=h===void 0?null:h;var w=void 0;if(st!==null){var k=st.memoizedState;if(w=k.destroy,h!==null&&Yu(h,k.deps)){g.memoizedState=go(i,c,w,h);return}}Ge.flags|=r,g.memoizedState=go(1|i,c,w,h)}function Ag(r,i){return Qa(8390656,8,r,i)}function ed(r,i){return Xa(2048,8,r,i)}function Rg(r,i){return Xa(4,2,r,i)}function Og(r,i){return Xa(4,4,r,i)}function Ig(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Mg(r,i,c){return c=c!=null?c.concat([r]):null,Xa(4,4,Ig.bind(null,i,r),c)}function td(){}function Lg(r,i){var c=Yt();i=i===void 0?null:i;var h=c.memoizedState;return h!==null&&i!==null&&Yu(i,h[1])?h[0]:(c.memoizedState=[r,i],r)}function Dg(r,i){var c=Yt();i=i===void 0?null:i;var h=c.memoizedState;return h!==null&&i!==null&&Yu(i,h[1])?h[0]:(r=r(),c.memoizedState=[r,i],r)}function $g(r,i,c){return(Hr&21)===0?(r.baseState&&(r.baseState=!1,At=!0),r.memoizedState=c):(ln(c,i)||(c=pm(),Ge.lanes|=c,Gr|=c,r.baseState=!0),i)}function $k(r,i){var c=Ie;Ie=c!==0&&4>c?c:4,r(!0);var h=qu.transition;qu.transition={};try{r(!1),i()}finally{Ie=c,qu.transition=h}}function Fg(){return Yt().memoizedState}function Fk(r,i,c){var h=xr(r);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},Vg(r))Ug(i,c);else if(c=yg(r,i,c,h),c!==null){var g=kt();hn(c,r,h,g),zg(c,i,h)}}function Vk(r,i,c){var h=xr(r),g={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(Vg(r))Ug(i,g);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=i.lastRenderedReducer,w!==null))try{var k=i.lastRenderedState,A=w(k,c);if(g.hasEagerState=!0,g.eagerState=A,ln(A,k)){var I=i.interleaved;I===null?(g.next=g,zu(i)):(g.next=I.next,I.next=g),i.interleaved=g;return}}catch{}finally{}c=yg(r,i,g,h),c!==null&&(g=kt(),hn(c,r,h,g),zg(c,i,h))}}function Vg(r){var i=r.alternate;return r===Ge||i!==null&&i===Ge}function Ug(r,i){ho=Ja=!0;var c=r.pending;c===null?i.next=i:(i.next=c.next,c.next=i),r.pending=i}function zg(r,i,c){if((c&4194240)!==0){var h=i.lanes;h&=r.pendingLanes,c|=h,i.lanes=c,ru(r,c)}}var Za={readContext:qt,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},Uk={readContext:qt,useCallback:function(r,i){return Cn().memoizedState=[r,i===void 0?null:i],r},useContext:qt,useEffect:Ag,useImperativeHandle:function(r,i,c){return c=c!=null?c.concat([r]):null,Qa(4194308,4,Ig.bind(null,i,r),c)},useLayoutEffect:function(r,i){return Qa(4194308,4,r,i)},useInsertionEffect:function(r,i){return Qa(4,2,r,i)},useMemo:function(r,i){var c=Cn();return i=i===void 0?null:i,r=r(),c.memoizedState=[r,i],r},useReducer:function(r,i,c){var h=Cn();return i=c!==void 0?c(i):i,h.memoizedState=h.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},h.queue=r,r=r.dispatch=Fk.bind(null,Ge,r),[h.memoizedState,r]},useRef:function(r){var i=Cn();return r={current:r},i.memoizedState=r},useState:Ng,useDebugValue:td,useDeferredValue:function(r){return Cn().memoizedState=r},useTransition:function(){var r=Ng(!1),i=r[0];return r=$k.bind(null,r[1]),Cn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,c){var h=Ge,g=Cn();if(ze){if(c===void 0)throw Error(n(407));c=c()}else{if(c=i(),ct===null)throw Error(n(349));(Hr&30)!==0||kg(h,i,c)}g.memoizedState=c;var w={value:c,getSnapshot:i};return g.queue=w,Ag(Eg.bind(null,h,w,r),[r]),h.flags|=2048,go(9,jg.bind(null,h,w,c,i),void 0,null),c},useId:function(){var r=Cn(),i=ct.identifierPrefix;if(ze){var c=Hn,h=Wn;c=(h&~(1<<32-an(h)-1)).toString(32)+c,i=":"+i+"R"+c,c=po++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=Dk++,i=":"+i+"r"+c.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},zk={readContext:qt,useCallback:Lg,useContext:qt,useEffect:ed,useImperativeHandle:Mg,useInsertionEffect:Rg,useLayoutEffect:Og,useMemo:Dg,useReducer:Xu,useRef:Pg,useState:function(){return Xu(mo)},useDebugValue:td,useDeferredValue:function(r){var i=Yt();return $g(i,st.memoizedState,r)},useTransition:function(){var r=Xu(mo)[0],i=Yt().memoizedState;return[r,i]},useMutableSource:Sg,useSyncExternalStore:_g,useId:Fg,unstable_isNewReconciler:!1},Bk={readContext:qt,useCallback:Lg,useContext:qt,useEffect:ed,useImperativeHandle:Mg,useInsertionEffect:Rg,useLayoutEffect:Og,useMemo:Dg,useReducer:Zu,useRef:Pg,useState:function(){return Zu(mo)},useDebugValue:td,useDeferredValue:function(r){var i=Yt();return st===null?i.memoizedState=r:$g(i,st.memoizedState,r)},useTransition:function(){var r=Zu(mo)[0],i=Yt().memoizedState;return[r,i]},useMutableSource:Sg,useSyncExternalStore:_g,useId:Fg,unstable_isNewReconciler:!1};function un(r,i){if(r&&r.defaultProps){i=F({},i),r=r.defaultProps;for(var c in r)i[c]===void 0&&(i[c]=r[c]);return i}return i}function nd(r,i,c,h){i=r.memoizedState,c=c(h,i),c=c==null?i:F({},i,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var el={isMounted:function(r){return(r=r._reactInternals)?$r(r)===r:!1},enqueueSetState:function(r,i,c){r=r._reactInternals;var h=kt(),g=xr(r),w=Kn(h,g);w.payload=i,c!=null&&(w.callback=c),i=gr(r,w,g),i!==null&&(hn(i,r,g,h),Ga(i,r,g))},enqueueReplaceState:function(r,i,c){r=r._reactInternals;var h=kt(),g=xr(r),w=Kn(h,g);w.tag=1,w.payload=i,c!=null&&(w.callback=c),i=gr(r,w,g),i!==null&&(hn(i,r,g,h),Ga(i,r,g))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var c=kt(),h=xr(r),g=Kn(c,h);g.tag=2,i!=null&&(g.callback=i),i=gr(r,g,h),i!==null&&(hn(i,r,h,c),Ga(i,r,h))}};function Bg(r,i,c,h,g,w,k){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,w,k):i.prototype&&i.prototype.isPureReactComponent?!to(c,h)||!to(g,w):!0}function Wg(r,i,c){var h=!1,g=hr,w=i.contextType;return typeof w=="object"&&w!==null?w=qt(w):(g=Pt(i)?Vr:vt.current,h=i.contextTypes,w=(h=h!=null)?Is(r,g):hr),i=new i(c,w),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=el,r.stateNode=i,i._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=g,r.__reactInternalMemoizedMaskedChildContext=w),i}function Hg(r,i,c,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,h),i.state!==r&&el.enqueueReplaceState(i,i.state,null)}function rd(r,i,c,h){var g=r.stateNode;g.props=c,g.state=r.memoizedState,g.refs={},Bu(r);var w=i.contextType;typeof w=="object"&&w!==null?g.context=qt(w):(w=Pt(i)?Vr:vt.current,g.context=Is(r,w)),g.state=r.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(nd(r,i,w,c),g.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(i=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),i!==g.state&&el.enqueueReplaceState(g,g.state,null),Ka(r,c,g,h),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308)}function zs(r,i){try{var c="",h=i;do c+=xe(h),h=h.return;while(h);var g=c}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:r,source:i,stack:g,digest:null}}function sd(r,i,c){return{value:r,source:null,stack:c??null,digest:i??null}}function id(r,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var Wk=typeof WeakMap=="function"?WeakMap:Map;function Gg(r,i,c){c=Kn(-1,c),c.tag=3,c.payload={element:null};var h=i.value;return c.callback=function(){al||(al=!0,xd=h),id(r,i)},c}function Kg(r,i,c){c=Kn(-1,c),c.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var g=i.value;c.payload=function(){return h(g)},c.callback=function(){id(r,i)}}var w=r.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){id(r,i),typeof h!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var k=i.stack;this.componentDidCatch(i.value,{componentStack:k!==null?k:""})}),c}function qg(r,i,c){var h=r.pingCache;if(h===null){h=r.pingCache=new Wk;var g=new Set;h.set(i,g)}else g=h.get(i),g===void 0&&(g=new Set,h.set(i,g));g.has(c)||(g.add(c),r=sj.bind(null,r,i,c),i.then(r,r))}function Yg(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Jg(r,i,c,h,g){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=Kn(-1,1),i.tag=2,gr(c,i,1))),c.lanes|=1),r):(r.flags|=65536,r.lanes=g,r)}var Hk=N.ReactCurrentOwner,At=!1;function _t(r,i,c,h){i.child=r===null?gg(i,null,c,h):$s(i,r.child,c,h)}function Qg(r,i,c,h,g){c=c.render;var w=i.ref;return Vs(i,g),h=Ju(r,i,c,h,w,g),c=Qu(),r!==null&&!At?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~g,qn(r,i,g)):(ze&&c&&Ou(i),i.flags|=1,_t(r,i,h,g),i.child)}function Xg(r,i,c,h,g){if(r===null){var w=c.type;return typeof w=="function"&&!Cd(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=w,Zg(r,i,w,h,g)):(r=hl(c.type,null,h,i,i.mode,g),r.ref=i.ref,r.return=i,i.child=r)}if(w=r.child,(r.lanes&g)===0){var k=w.memoizedProps;if(c=c.compare,c=c!==null?c:to,c(k,h)&&r.ref===i.ref)return qn(r,i,g)}return i.flags|=1,r=Sr(w,h),r.ref=i.ref,r.return=i,i.child=r}function Zg(r,i,c,h,g){if(r!==null){var w=r.memoizedProps;if(to(w,h)&&r.ref===i.ref)if(At=!1,i.pendingProps=h=w,(r.lanes&g)!==0)(r.flags&131072)!==0&&(At=!0);else return i.lanes=r.lanes,qn(r,i,g)}return od(r,i,c,h,g)}function ey(r,i,c){var h=i.pendingProps,g=h.children,w=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Ws,Ut),Ut|=c;else{if((c&1073741824)===0)return r=w!==null?w.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,De(Ws,Ut),Ut|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=w!==null?w.baseLanes:c,De(Ws,Ut),Ut|=h}else w!==null?(h=w.baseLanes|c,i.memoizedState=null):h=c,De(Ws,Ut),Ut|=h;return _t(r,i,g,c),i.child}function ty(r,i){var c=i.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function od(r,i,c,h,g){var w=Pt(c)?Vr:vt.current;return w=Is(i,w),Vs(i,g),c=Ju(r,i,c,h,w,g),h=Qu(),r!==null&&!At?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~g,qn(r,i,g)):(ze&&h&&Ou(i),i.flags|=1,_t(r,i,c,g),i.child)}function ny(r,i,c,h,g){if(Pt(c)){var w=!0;$a(i)}else w=!1;if(Vs(i,g),i.stateNode===null)nl(r,i),Wg(i,c,h),rd(i,c,h,g),h=!0;else if(r===null){var k=i.stateNode,A=i.memoizedProps;k.props=A;var I=k.context,B=c.contextType;typeof B=="object"&&B!==null?B=qt(B):(B=Pt(c)?Vr:vt.current,B=Is(i,B));var q=c.getDerivedStateFromProps,Y=typeof q=="function"||typeof k.getSnapshotBeforeUpdate=="function";Y||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(A!==h||I!==B)&&Hg(i,k,h,B),mr=!1;var K=i.memoizedState;k.state=K,Ka(i,h,k,g),I=i.memoizedState,A!==h||K!==I||Nt.current||mr?(typeof q=="function"&&(nd(i,c,q,h),I=i.memoizedState),(A=mr||Bg(i,c,A,h,K,I,B))?(Y||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(i.flags|=4194308)):(typeof k.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=I),k.props=h,k.state=I,k.context=B,h=A):(typeof k.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{k=i.stateNode,vg(r,i),A=i.memoizedProps,B=i.type===i.elementType?A:un(i.type,A),k.props=B,Y=i.pendingProps,K=k.context,I=c.contextType,typeof I=="object"&&I!==null?I=qt(I):(I=Pt(c)?Vr:vt.current,I=Is(i,I));var Z=c.getDerivedStateFromProps;(q=typeof Z=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(A!==Y||K!==I)&&Hg(i,k,h,I),mr=!1,K=i.memoizedState,k.state=K,Ka(i,h,k,g);var ne=i.memoizedState;A!==Y||K!==ne||Nt.current||mr?(typeof Z=="function"&&(nd(i,c,Z,h),ne=i.memoizedState),(B=mr||Bg(i,c,B,h,K,ne,I)||!1)?(q||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(h,ne,I),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(h,ne,I)),typeof k.componentDidUpdate=="function"&&(i.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof k.componentDidUpdate!="function"||A===r.memoizedProps&&K===r.memoizedState||(i.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&K===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=ne),k.props=h,k.state=ne,k.context=I,h=B):(typeof k.componentDidUpdate!="function"||A===r.memoizedProps&&K===r.memoizedState||(i.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&K===r.memoizedState||(i.flags|=1024),h=!1)}return ad(r,i,c,h,w,g)}function ad(r,i,c,h,g,w){ty(r,i);var k=(i.flags&128)!==0;if(!h&&!k)return g&&ag(i,c,!1),qn(r,i,w);h=i.stateNode,Hk.current=i;var A=k&&typeof c.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,r!==null&&k?(i.child=$s(i,r.child,null,w),i.child=$s(i,null,A,w)):_t(r,i,A,w),i.memoizedState=h.state,g&&ag(i,c,!0),i.child}function ry(r){var i=r.stateNode;i.pendingContext?ig(r,i.pendingContext,i.pendingContext!==i.context):i.context&&ig(r,i.context,!1),Wu(r,i.containerInfo)}function sy(r,i,c,h,g){return Ds(),Du(g),i.flags|=256,_t(r,i,c,h),i.child}var ld={dehydrated:null,treeContext:null,retryLane:0};function cd(r){return{baseLanes:r,cachePool:null,transitions:null}}function iy(r,i,c){var h=i.pendingProps,g=He.current,w=!1,k=(i.flags&128)!==0,A;if((A=k)||(A=r!==null&&r.memoizedState===null?!1:(g&2)!==0),A?(w=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(g|=1),De(He,g&1),r===null)return Lu(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(k=h.children,r=h.fallback,w?(h=i.mode,w=i.child,k={mode:"hidden",children:k},(h&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=k):w=pl(k,h,0,null),r=Jr(r,h,c,null),w.return=i,r.return=i,w.sibling=r,i.child=w,i.child.memoizedState=cd(c),i.memoizedState=ld,r):ud(i,k));if(g=r.memoizedState,g!==null&&(A=g.dehydrated,A!==null))return Gk(r,i,k,h,A,g,c);if(w){w=h.fallback,k=i.mode,g=r.child,A=g.sibling;var I={mode:"hidden",children:h.children};return(k&1)===0&&i.child!==g?(h=i.child,h.childLanes=0,h.pendingProps=I,i.deletions=null):(h=Sr(g,I),h.subtreeFlags=g.subtreeFlags&14680064),A!==null?w=Sr(A,w):(w=Jr(w,k,c,null),w.flags|=2),w.return=i,h.return=i,h.sibling=w,i.child=h,h=w,w=i.child,k=r.child.memoizedState,k=k===null?cd(c):{baseLanes:k.baseLanes|c,cachePool:null,transitions:k.transitions},w.memoizedState=k,w.childLanes=r.childLanes&~c,i.memoizedState=ld,h}return w=r.child,r=w.sibling,h=Sr(w,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=c),h.return=i,h.sibling=null,r!==null&&(c=i.deletions,c===null?(i.deletions=[r],i.flags|=16):c.push(r)),i.child=h,i.memoizedState=null,h}function ud(r,i){return i=pl({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function tl(r,i,c,h){return h!==null&&Du(h),$s(i,r.child,null,c),r=ud(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Gk(r,i,c,h,g,w,k){if(c)return i.flags&256?(i.flags&=-257,h=sd(Error(n(422))),tl(r,i,k,h)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(w=h.fallback,g=i.mode,h=pl({mode:"visible",children:h.children},g,0,null),w=Jr(w,g,k,null),w.flags|=2,h.return=i,w.return=i,h.sibling=w,i.child=h,(i.mode&1)!==0&&$s(i,r.child,null,k),i.child.memoizedState=cd(k),i.memoizedState=ld,w);if((i.mode&1)===0)return tl(r,i,k,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var A=h.dgst;return h=A,w=Error(n(419)),h=sd(w,h,void 0),tl(r,i,k,h)}if(A=(k&r.childLanes)!==0,At||A){if(h=ct,h!==null){switch(k&-k){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|k))!==0?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,Gn(r,g),hn(h,r,g,-1))}return Ed(),h=sd(Error(n(421))),tl(r,i,k,h)}return g.data==="$?"?(i.flags|=128,i.child=r.child,i=ij.bind(null,r),g._reactRetry=i,null):(r=w.treeContext,Vt=dr(g.nextSibling),Ft=i,ze=!0,cn=null,r!==null&&(Gt[Kt++]=Wn,Gt[Kt++]=Hn,Gt[Kt++]=Ur,Wn=r.id,Hn=r.overflow,Ur=i),i=ud(i,h.children),i.flags|=4096,i)}function oy(r,i,c){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),Uu(r.return,i,c)}function dd(r,i,c,h,g){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=c,w.tailMode=g)}function ay(r,i,c){var h=i.pendingProps,g=h.revealOrder,w=h.tail;if(_t(r,i,h.children,c),h=He.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&oy(r,c,i);else if(r.tag===19)oy(r,c,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(De(He,h),(i.mode&1)===0)i.memoizedState=null;else switch(g){case"forwards":for(c=i.child,g=null;c!==null;)r=c.alternate,r!==null&&qa(r)===null&&(g=c),c=c.sibling;c=g,c===null?(g=i.child,i.child=null):(g=c.sibling,c.sibling=null),dd(i,!1,g,c,w);break;case"backwards":for(c=null,g=i.child,i.child=null;g!==null;){if(r=g.alternate,r!==null&&qa(r)===null){i.child=g;break}r=g.sibling,g.sibling=c,c=g,g=r}dd(i,!0,c,null,w);break;case"together":dd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function nl(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function qn(r,i,c){if(r!==null&&(i.dependencies=r.dependencies),Gr|=i.lanes,(c&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,c=Sr(r,r.pendingProps),i.child=c,c.return=i;r.sibling!==null;)r=r.sibling,c=c.sibling=Sr(r,r.pendingProps),c.return=i;c.sibling=null}return i.child}function Kk(r,i,c){switch(i.tag){case 3:ry(i),Ds();break;case 5:bg(i);break;case 1:Pt(i.type)&&$a(i);break;case 4:Wu(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,g=i.memoizedProps.value;De(Wa,h._currentValue),h._currentValue=g;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(De(He,He.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?iy(r,i,c):(De(He,He.current&1),r=qn(r,i,c),r!==null?r.sibling:null);De(He,He.current&1);break;case 19:if(h=(c&i.childLanes)!==0,(r.flags&128)!==0){if(h)return ay(r,i,c);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),De(He,He.current),h)break;return null;case 22:case 23:return i.lanes=0,ey(r,i,c)}return qn(r,i,c)}var ly,fd,cy,uy;ly=function(r,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},fd=function(){},cy=function(r,i,c,h){var g=r.memoizedProps;if(g!==h){r=i.stateNode,Wr(En.current);var w=null;switch(c){case"input":g=bs(r,g),h=bs(r,h),w=[];break;case"select":g=F({},g,{value:void 0}),h=F({},h,{value:void 0}),w=[];break;case"textarea":g=Wc(r,g),h=Wc(r,h),w=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Ma)}Gc(c,h);var k;c=null;for(B in g)if(!h.hasOwnProperty(B)&&g.hasOwnProperty(B)&&g[B]!=null)if(B==="style"){var A=g[B];for(k in A)A.hasOwnProperty(k)&&(c||(c={}),c[k]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?w||(w=[]):(w=w||[]).push(B,null));for(B in h){var I=h[B];if(A=g!=null?g[B]:void 0,h.hasOwnProperty(B)&&I!==A&&(I!=null||A!=null))if(B==="style")if(A){for(k in A)!A.hasOwnProperty(k)||I&&I.hasOwnProperty(k)||(c||(c={}),c[k]="");for(k in I)I.hasOwnProperty(k)&&A[k]!==I[k]&&(c||(c={}),c[k]=I[k])}else c||(w||(w=[]),w.push(B,c)),c=I;else B==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,A=A?A.__html:void 0,I!=null&&A!==I&&(w=w||[]).push(B,I)):B==="children"?typeof I!="string"&&typeof I!="number"||(w=w||[]).push(B,""+I):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(I!=null&&B==="onScroll"&&Ve("scroll",r),w||A===I||(w=[])):(w=w||[]).push(B,I))}c&&(w=w||[]).push("style",c);var B=w;(i.updateQueue=B)&&(i.flags|=4)}},uy=function(r,i,c,h){c!==h&&(i.flags|=4)};function yo(r,i){if(!ze)switch(r.tailMode){case"hidden":i=r.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function xt(r){var i=r.alternate!==null&&r.alternate.child===r.child,c=0,h=0;if(i)for(var g=r.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=h,r.childLanes=c,i}function qk(r,i,c){var h=i.pendingProps;switch(Iu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(i),null;case 1:return Pt(i.type)&&Da(),xt(i),null;case 3:return h=i.stateNode,Us(),Ue(Nt),Ue(vt),Ku(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(za(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,cn!==null&&(_d(cn),cn=null))),fd(r,i),xt(i),null;case 5:Hu(i);var g=Wr(fo.current);if(c=i.type,r!==null&&i.stateNode!=null)cy(r,i,c,h,g),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(n(166));return xt(i),null}if(r=Wr(En.current),za(i)){h=i.stateNode,c=i.type;var w=i.memoizedProps;switch(h[jn]=i,h[oo]=w,r=(i.mode&1)!==0,c){case"dialog":Ve("cancel",h),Ve("close",h);break;case"iframe":case"object":case"embed":Ve("load",h);break;case"video":case"audio":for(g=0;g<ro.length;g++)Ve(ro[g],h);break;case"source":Ve("error",h);break;case"img":case"image":case"link":Ve("error",h),Ve("load",h);break;case"details":Ve("toggle",h);break;case"input":ua(h,w),Ve("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!w.multiple},Ve("invalid",h);break;case"textarea":Kp(h,w),Ve("invalid",h)}Gc(c,w),g=null;for(var k in w)if(w.hasOwnProperty(k)){var A=w[k];k==="children"?typeof A=="string"?h.textContent!==A&&(w.suppressHydrationWarning!==!0&&Ia(h.textContent,A,r),g=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(w.suppressHydrationWarning!==!0&&Ia(h.textContent,A,r),g=["children",""+A]):o.hasOwnProperty(k)&&A!=null&&k==="onScroll"&&Ve("scroll",h)}switch(c){case"input":Je(h),fa(h,w,!0);break;case"textarea":Je(h),Yp(h);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(h.onclick=Ma)}h=g,i.updateQueue=h,h!==null&&(i.flags|=4)}else{k=g.nodeType===9?g:g.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Jp(c)),r==="http://www.w3.org/1999/xhtml"?c==="script"?(r=k.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=k.createElement(c,{is:h.is}):(r=k.createElement(c),c==="select"&&(k=r,h.multiple?k.multiple=!0:h.size&&(k.size=h.size))):r=k.createElementNS(r,c),r[jn]=i,r[oo]=h,ly(r,i,!1,!1),i.stateNode=r;e:{switch(k=Kc(c,h),c){case"dialog":Ve("cancel",r),Ve("close",r),g=h;break;case"iframe":case"object":case"embed":Ve("load",r),g=h;break;case"video":case"audio":for(g=0;g<ro.length;g++)Ve(ro[g],r);g=h;break;case"source":Ve("error",r),g=h;break;case"img":case"image":case"link":Ve("error",r),Ve("load",r),g=h;break;case"details":Ve("toggle",r),g=h;break;case"input":ua(r,h),g=bs(r,h),Ve("invalid",r);break;case"option":g=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},g=F({},h,{value:void 0}),Ve("invalid",r);break;case"textarea":Kp(r,h),g=Wc(r,h),Ve("invalid",r);break;default:g=h}Gc(c,g),A=g;for(w in A)if(A.hasOwnProperty(w)){var I=A[w];w==="style"?Zp(r,I):w==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&Qp(r,I)):w==="children"?typeof I=="string"?(c!=="textarea"||I!=="")&&$i(r,I):typeof I=="number"&&$i(r,""+I):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(o.hasOwnProperty(w)?I!=null&&w==="onScroll"&&Ve("scroll",r):I!=null&&C(r,w,I,k))}switch(c){case"input":Je(r),fa(r,h,!1);break;case"textarea":Je(r),Yp(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Se(h.value));break;case"select":r.multiple=!!h.multiple,w=h.value,w!=null?Ss(r,!!h.multiple,w,!1):h.defaultValue!=null&&Ss(r,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(r.onclick=Ma)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return xt(i),null;case 6:if(r&&i.stateNode!=null)uy(r,i,r.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(n(166));if(c=Wr(fo.current),Wr(En.current),za(i)){if(h=i.stateNode,c=i.memoizedProps,h[jn]=i,(w=h.nodeValue!==c)&&(r=Ft,r!==null))switch(r.tag){case 3:Ia(h.nodeValue,c,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ia(h.nodeValue,c,(r.mode&1)!==0)}w&&(i.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[jn]=i,i.stateNode=h}return xt(i),null;case 13:if(Ue(He),h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ze&&Vt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)hg(),Ds(),i.flags|=98560,w=!1;else if(w=za(i),h!==null&&h.dehydrated!==null){if(r===null){if(!w)throw Error(n(318));if(w=i.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[jn]=i}else Ds(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;xt(i),w=!1}else cn!==null&&(_d(cn),cn=null),w=!0;if(!w)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(He.current&1)!==0?it===0&&(it=3):Ed())),i.updateQueue!==null&&(i.flags|=4),xt(i),null);case 4:return Us(),fd(r,i),r===null&&so(i.stateNode.containerInfo),xt(i),null;case 10:return Vu(i.type._context),xt(i),null;case 17:return Pt(i.type)&&Da(),xt(i),null;case 19:if(Ue(He),w=i.memoizedState,w===null)return xt(i),null;if(h=(i.flags&128)!==0,k=w.rendering,k===null)if(h)yo(w,!1);else{if(it!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(k=qa(r),k!==null){for(i.flags|=128,yo(w,!1),h=k.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=c,c=i.child;c!==null;)w=c,r=h,w.flags&=14680066,k=w.alternate,k===null?(w.childLanes=0,w.lanes=r,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=k.childLanes,w.lanes=k.lanes,w.child=k.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=k.memoizedProps,w.memoizedState=k.memoizedState,w.updateQueue=k.updateQueue,w.type=k.type,r=k.dependencies,w.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),c=c.sibling;return De(He,He.current&1|2),i.child}r=r.sibling}w.tail!==null&&Qe()>Hs&&(i.flags|=128,h=!0,yo(w,!1),i.lanes=4194304)}else{if(!h)if(r=qa(k),r!==null){if(i.flags|=128,h=!0,c=r.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),yo(w,!0),w.tail===null&&w.tailMode==="hidden"&&!k.alternate&&!ze)return xt(i),null}else 2*Qe()-w.renderingStartTime>Hs&&c!==1073741824&&(i.flags|=128,h=!0,yo(w,!1),i.lanes=4194304);w.isBackwards?(k.sibling=i.child,i.child=k):(c=w.last,c!==null?c.sibling=k:i.child=k,w.last=k)}return w.tail!==null?(i=w.tail,w.rendering=i,w.tail=i.sibling,w.renderingStartTime=Qe(),i.sibling=null,c=He.current,De(He,h?c&1|2:c&1),i):(xt(i),null);case 22:case 23:return jd(),h=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(Ut&1073741824)!==0&&(xt(i),i.subtreeFlags&6&&(i.flags|=8192)):xt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function Yk(r,i){switch(Iu(i),i.tag){case 1:return Pt(i.type)&&Da(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Us(),Ue(Nt),Ue(vt),Ku(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Hu(i),null;case 13:if(Ue(He),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Ds()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Ue(He),null;case 4:return Us(),null;case 10:return Vu(i.type._context),null;case 22:case 23:return jd(),null;case 24:return null;default:return null}}var rl=!1,bt=!1,Jk=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Bs(r,i){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){qe(r,i,h)}else c.current=null}function hd(r,i,c){try{c()}catch(h){qe(r,i,h)}}var dy=!1;function Qk(r,i){if(ju=_a,r=Bm(),yu(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var k=0,A=-1,I=-1,B=0,q=0,Y=r,K=null;t:for(;;){for(var Z;Y!==c||g!==0&&Y.nodeType!==3||(A=k+g),Y!==w||h!==0&&Y.nodeType!==3||(I=k+h),Y.nodeType===3&&(k+=Y.nodeValue.length),(Z=Y.firstChild)!==null;)K=Y,Y=Z;for(;;){if(Y===r)break t;if(K===c&&++B===g&&(A=k),K===w&&++q===h&&(I=k),(Z=Y.nextSibling)!==null)break;Y=K,K=Y.parentNode}Y=Z}c=A===-1||I===-1?null:{start:A,end:I}}else c=null}c=c||{start:0,end:0}}else c=null;for(Eu={focusedElem:r,selectionRange:c},_a=!1,ee=i;ee!==null;)if(i=ee,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ee=r;else for(;ee!==null;){i=ee;try{var ne=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var oe=ne.memoizedProps,Xe=ne.memoizedState,V=i.stateNode,L=V.getSnapshotBeforeUpdate(i.elementType===i.type?oe:un(i.type,oe),Xe);V.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var U=i.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(J){qe(i,i.return,J)}if(r=i.sibling,r!==null){r.return=i.return,ee=r;break}ee=i.return}return ne=dy,dy=!1,ne}function vo(r,i,c){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&r)===r){var w=g.destroy;g.destroy=void 0,w!==void 0&&hd(i,c,w)}g=g.next}while(g!==h)}}function sl(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&r)===r){var h=c.create;c.destroy=h()}c=c.next}while(c!==i)}}function pd(r){var i=r.ref;if(i!==null){var c=r.stateNode;switch(r.tag){case 5:r=c;break;default:r=c}typeof i=="function"?i(r):i.current=r}}function fy(r){var i=r.alternate;i!==null&&(r.alternate=null,fy(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[jn],delete i[oo],delete i[Pu],delete i[Ok],delete i[Ik])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function hy(r){return r.tag===5||r.tag===3||r.tag===4}function py(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||hy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function md(r,i,c){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(r,i):c.insertBefore(r,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(r,c)):(i=c,i.appendChild(r)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Ma));else if(h!==4&&(r=r.child,r!==null))for(md(r,i,c),r=r.sibling;r!==null;)md(r,i,c),r=r.sibling}function gd(r,i,c){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?c.insertBefore(r,i):c.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(gd(r,i,c),r=r.sibling;r!==null;)gd(r,i,c),r=r.sibling}var ft=null,dn=!1;function yr(r,i,c){for(c=c.child;c!==null;)my(r,i,c),c=c.sibling}function my(r,i,c){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(ya,c)}catch{}switch(c.tag){case 5:bt||Bs(c,i);case 6:var h=ft,g=dn;ft=null,yr(r,i,c),ft=h,dn=g,ft!==null&&(dn?(r=ft,c=c.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)):ft.removeChild(c.stateNode));break;case 18:ft!==null&&(dn?(r=ft,c=c.stateNode,r.nodeType===8?Nu(r.parentNode,c):r.nodeType===1&&Nu(r,c),Yi(r)):Nu(ft,c.stateNode));break;case 4:h=ft,g=dn,ft=c.stateNode.containerInfo,dn=!0,yr(r,i,c),ft=h,dn=g;break;case 0:case 11:case 14:case 15:if(!bt&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var w=g,k=w.destroy;w=w.tag,k!==void 0&&((w&2)!==0||(w&4)!==0)&&hd(c,i,k),g=g.next}while(g!==h)}yr(r,i,c);break;case 1:if(!bt&&(Bs(c,i),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(A){qe(c,i,A)}yr(r,i,c);break;case 21:yr(r,i,c);break;case 22:c.mode&1?(bt=(h=bt)||c.memoizedState!==null,yr(r,i,c),bt=h):yr(r,i,c);break;default:yr(r,i,c)}}function gy(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new Jk),i.forEach(function(h){var g=oj.bind(null,r,h);c.has(h)||(c.add(h),h.then(g,g))})}}function fn(r,i){var c=i.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];try{var w=r,k=i,A=k;e:for(;A!==null;){switch(A.tag){case 5:ft=A.stateNode,dn=!1;break e;case 3:ft=A.stateNode.containerInfo,dn=!0;break e;case 4:ft=A.stateNode.containerInfo,dn=!0;break e}A=A.return}if(ft===null)throw Error(n(160));my(w,k,g),ft=null,dn=!1;var I=g.alternate;I!==null&&(I.return=null),g.return=null}catch(B){qe(g,i,B)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)yy(i,r),i=i.sibling}function yy(r,i){var c=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(fn(i,r),Tn(r),h&4){try{vo(3,r,r.return),sl(3,r)}catch(oe){qe(r,r.return,oe)}try{vo(5,r,r.return)}catch(oe){qe(r,r.return,oe)}}break;case 1:fn(i,r),Tn(r),h&512&&c!==null&&Bs(c,c.return);break;case 5:if(fn(i,r),Tn(r),h&512&&c!==null&&Bs(c,c.return),r.flags&32){var g=r.stateNode;try{$i(g,"")}catch(oe){qe(r,r.return,oe)}}if(h&4&&(g=r.stateNode,g!=null)){var w=r.memoizedProps,k=c!==null?c.memoizedProps:w,A=r.type,I=r.updateQueue;if(r.updateQueue=null,I!==null)try{A==="input"&&w.type==="radio"&&w.name!=null&&da(g,w),Kc(A,k);var B=Kc(A,w);for(k=0;k<I.length;k+=2){var q=I[k],Y=I[k+1];q==="style"?Zp(g,Y):q==="dangerouslySetInnerHTML"?Qp(g,Y):q==="children"?$i(g,Y):C(g,q,Y,B)}switch(A){case"input":Li(g,w);break;case"textarea":qp(g,w);break;case"select":var K=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var Z=w.value;Z!=null?Ss(g,!!w.multiple,Z,!1):K!==!!w.multiple&&(w.defaultValue!=null?Ss(g,!!w.multiple,w.defaultValue,!0):Ss(g,!!w.multiple,w.multiple?[]:"",!1))}g[oo]=w}catch(oe){qe(r,r.return,oe)}}break;case 6:if(fn(i,r),Tn(r),h&4){if(r.stateNode===null)throw Error(n(162));g=r.stateNode,w=r.memoizedProps;try{g.nodeValue=w}catch(oe){qe(r,r.return,oe)}}break;case 3:if(fn(i,r),Tn(r),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Yi(i.containerInfo)}catch(oe){qe(r,r.return,oe)}break;case 4:fn(i,r),Tn(r);break;case 13:fn(i,r),Tn(r),g=r.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(wd=Qe())),h&4&&gy(r);break;case 22:if(q=c!==null&&c.memoizedState!==null,r.mode&1?(bt=(B=bt)||q,fn(i,r),bt=B):fn(i,r),Tn(r),h&8192){if(B=r.memoizedState!==null,(r.stateNode.isHidden=B)&&!q&&(r.mode&1)!==0)for(ee=r,q=r.child;q!==null;){for(Y=ee=q;ee!==null;){switch(K=ee,Z=K.child,K.tag){case 0:case 11:case 14:case 15:vo(4,K,K.return);break;case 1:Bs(K,K.return);var ne=K.stateNode;if(typeof ne.componentWillUnmount=="function"){h=K,c=K.return;try{i=h,ne.props=i.memoizedProps,ne.state=i.memoizedState,ne.componentWillUnmount()}catch(oe){qe(h,c,oe)}}break;case 5:Bs(K,K.return);break;case 22:if(K.memoizedState!==null){xy(Y);continue}}Z!==null?(Z.return=K,ee=Z):xy(Y)}q=q.sibling}e:for(q=null,Y=r;;){if(Y.tag===5){if(q===null){q=Y;try{g=Y.stateNode,B?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(A=Y.stateNode,I=Y.memoizedProps.style,k=I!=null&&I.hasOwnProperty("display")?I.display:null,A.style.display=Xp("display",k))}catch(oe){qe(r,r.return,oe)}}}else if(Y.tag===6){if(q===null)try{Y.stateNode.nodeValue=B?"":Y.memoizedProps}catch(oe){qe(r,r.return,oe)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===r)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===r)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===r)break e;q===Y&&(q=null),Y=Y.return}q===Y&&(q=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:fn(i,r),Tn(r),h&4&&gy(r);break;case 21:break;default:fn(i,r),Tn(r)}}function Tn(r){var i=r.flags;if(i&2){try{e:{for(var c=r.return;c!==null;){if(hy(c)){var h=c;break e}c=c.return}throw Error(n(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&($i(g,""),h.flags&=-33);var w=py(r);gd(r,w,g);break;case 3:case 4:var k=h.stateNode.containerInfo,A=py(r);md(r,A,k);break;default:throw Error(n(161))}}catch(I){qe(r,r.return,I)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Xk(r,i,c){ee=r,vy(r)}function vy(r,i,c){for(var h=(r.mode&1)!==0;ee!==null;){var g=ee,w=g.child;if(g.tag===22&&h){var k=g.memoizedState!==null||rl;if(!k){var A=g.alternate,I=A!==null&&A.memoizedState!==null||bt;A=rl;var B=bt;if(rl=k,(bt=I)&&!B)for(ee=g;ee!==null;)k=ee,I=k.child,k.tag===22&&k.memoizedState!==null?by(g):I!==null?(I.return=k,ee=I):by(g);for(;w!==null;)ee=w,vy(w),w=w.sibling;ee=g,rl=A,bt=B}wy(r)}else(g.subtreeFlags&8772)!==0&&w!==null?(w.return=g,ee=w):wy(r)}}function wy(r){for(;ee!==null;){var i=ee;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:bt||sl(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!bt)if(c===null)h.componentDidMount();else{var g=i.elementType===i.type?c.memoizedProps:un(i.type,c.memoizedProps);h.componentDidUpdate(g,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var w=i.updateQueue;w!==null&&xg(i,w,h);break;case 3:var k=i.updateQueue;if(k!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}xg(i,k,c)}break;case 5:var A=i.stateNode;if(c===null&&i.flags&4){c=A;var I=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&c.focus();break;case"img":I.src&&(c.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var B=i.alternate;if(B!==null){var q=B.memoizedState;if(q!==null){var Y=q.dehydrated;Y!==null&&Yi(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}bt||i.flags&512&&pd(i)}catch(K){qe(i,i.return,K)}}if(i===r){ee=null;break}if(c=i.sibling,c!==null){c.return=i.return,ee=c;break}ee=i.return}}function xy(r){for(;ee!==null;){var i=ee;if(i===r){ee=null;break}var c=i.sibling;if(c!==null){c.return=i.return,ee=c;break}ee=i.return}}function by(r){for(;ee!==null;){var i=ee;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{sl(4,i)}catch(I){qe(i,c,I)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var g=i.return;try{h.componentDidMount()}catch(I){qe(i,g,I)}}var w=i.return;try{pd(i)}catch(I){qe(i,w,I)}break;case 5:var k=i.return;try{pd(i)}catch(I){qe(i,k,I)}}}catch(I){qe(i,i.return,I)}if(i===r){ee=null;break}var A=i.sibling;if(A!==null){A.return=i.return,ee=A;break}ee=i.return}}var Zk=Math.ceil,il=N.ReactCurrentDispatcher,yd=N.ReactCurrentOwner,Jt=N.ReactCurrentBatchConfig,Ae=0,ct=null,et=null,ht=0,Ut=0,Ws=fr(0),it=0,wo=null,Gr=0,ol=0,vd=0,xo=null,Rt=null,wd=0,Hs=1/0,Yn=null,al=!1,xd=null,vr=null,ll=!1,wr=null,cl=0,bo=0,bd=null,ul=-1,dl=0;function kt(){return(Ae&6)!==0?Qe():ul!==-1?ul:ul=Qe()}function xr(r){return(r.mode&1)===0?1:(Ae&2)!==0&&ht!==0?ht&-ht:Lk.transition!==null?(dl===0&&(dl=pm()),dl):(r=Ie,r!==0||(r=window.event,r=r===void 0?16:_m(r.type)),r)}function hn(r,i,c,h){if(50<bo)throw bo=0,bd=null,Error(n(185));Wi(r,c,h),((Ae&2)===0||r!==ct)&&(r===ct&&((Ae&2)===0&&(ol|=c),it===4&&br(r,ht)),Ot(r,h),c===1&&Ae===0&&(i.mode&1)===0&&(Hs=Qe()+500,Fa&&pr()))}function Ot(r,i){var c=r.callbackNode;L_(r,i);var h=xa(r,r===ct?ht:0);if(h===0)c!==null&&dm(c),r.callbackNode=null,r.callbackPriority=0;else if(i=h&-h,r.callbackPriority!==i){if(c!=null&&dm(c),i===1)r.tag===0?Mk(_y.bind(null,r)):lg(_y.bind(null,r)),Ak(function(){(Ae&6)===0&&pr()}),c=null;else{switch(mm(h)){case 1:c=eu;break;case 4:c=fm;break;case 16:c=ga;break;case 536870912:c=hm;break;default:c=ga}c=Ay(c,Sy.bind(null,r))}r.callbackPriority=i,r.callbackNode=c}}function Sy(r,i){if(ul=-1,dl=0,(Ae&6)!==0)throw Error(n(327));var c=r.callbackNode;if(Gs()&&r.callbackNode!==c)return null;var h=xa(r,r===ct?ht:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||i)i=fl(r,h);else{i=h;var g=Ae;Ae|=2;var w=jy();(ct!==r||ht!==i)&&(Yn=null,Hs=Qe()+500,qr(r,i));do try{nj();break}catch(A){ky(r,A)}while(!0);Fu(),il.current=w,Ae=g,et!==null?i=0:(ct=null,ht=0,i=it)}if(i!==0){if(i===2&&(g=tu(r),g!==0&&(h=g,i=Sd(r,g))),i===1)throw c=wo,qr(r,0),br(r,h),Ot(r,Qe()),c;if(i===6)br(r,h);else{if(g=r.current.alternate,(h&30)===0&&!ej(g)&&(i=fl(r,h),i===2&&(w=tu(r),w!==0&&(h=w,i=Sd(r,w))),i===1))throw c=wo,qr(r,0),br(r,h),Ot(r,Qe()),c;switch(r.finishedWork=g,r.finishedLanes=h,i){case 0:case 1:throw Error(n(345));case 2:Yr(r,Rt,Yn);break;case 3:if(br(r,h),(h&130023424)===h&&(i=wd+500-Qe(),10<i)){if(xa(r,0)!==0)break;if(g=r.suspendedLanes,(g&h)!==h){kt(),r.pingedLanes|=r.suspendedLanes&g;break}r.timeoutHandle=Tu(Yr.bind(null,r,Rt,Yn),i);break}Yr(r,Rt,Yn);break;case 4:if(br(r,h),(h&4194240)===h)break;for(i=r.eventTimes,g=-1;0<h;){var k=31-an(h);w=1<<k,k=i[k],k>g&&(g=k),h&=~w}if(h=g,h=Qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Zk(h/1960))-h,10<h){r.timeoutHandle=Tu(Yr.bind(null,r,Rt,Yn),h);break}Yr(r,Rt,Yn);break;case 5:Yr(r,Rt,Yn);break;default:throw Error(n(329))}}}return Ot(r,Qe()),r.callbackNode===c?Sy.bind(null,r):null}function Sd(r,i){var c=xo;return r.current.memoizedState.isDehydrated&&(qr(r,i).flags|=256),r=fl(r,i),r!==2&&(i=Rt,Rt=c,i!==null&&_d(i)),r}function _d(r){Rt===null?Rt=r:Rt.push.apply(Rt,r)}function ej(r){for(var i=r;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var g=c[h],w=g.getSnapshot;g=g.value;try{if(!ln(w(),g))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function br(r,i){for(i&=~vd,i&=~ol,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var c=31-an(i),h=1<<c;r[c]=-1,i&=~h}}function _y(r){if((Ae&6)!==0)throw Error(n(327));Gs();var i=xa(r,0);if((i&1)===0)return Ot(r,Qe()),null;var c=fl(r,i);if(r.tag!==0&&c===2){var h=tu(r);h!==0&&(i=h,c=Sd(r,h))}if(c===1)throw c=wo,qr(r,0),br(r,i),Ot(r,Qe()),c;if(c===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Yr(r,Rt,Yn),Ot(r,Qe()),null}function kd(r,i){var c=Ae;Ae|=1;try{return r(i)}finally{Ae=c,Ae===0&&(Hs=Qe()+500,Fa&&pr())}}function Kr(r){wr!==null&&wr.tag===0&&(Ae&6)===0&&Gs();var i=Ae;Ae|=1;var c=Jt.transition,h=Ie;try{if(Jt.transition=null,Ie=1,r)return r()}finally{Ie=h,Jt.transition=c,Ae=i,(Ae&6)===0&&pr()}}function jd(){Ut=Ws.current,Ue(Ws)}function qr(r,i){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==-1&&(r.timeoutHandle=-1,Pk(c)),et!==null)for(c=et.return;c!==null;){var h=c;switch(Iu(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Da();break;case 3:Us(),Ue(Nt),Ue(vt),Ku();break;case 5:Hu(h);break;case 4:Us();break;case 13:Ue(He);break;case 19:Ue(He);break;case 10:Vu(h.type._context);break;case 22:case 23:jd()}c=c.return}if(ct=r,et=r=Sr(r.current,null),ht=Ut=i,it=0,wo=null,vd=ol=Gr=0,Rt=xo=null,Br!==null){for(i=0;i<Br.length;i++)if(c=Br[i],h=c.interleaved,h!==null){c.interleaved=null;var g=h.next,w=c.pending;if(w!==null){var k=w.next;w.next=g,h.next=k}c.pending=h}Br=null}return r}function ky(r,i){do{var c=et;try{if(Fu(),Ya.current=Za,Ja){for(var h=Ge.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Ja=!1}if(Hr=0,lt=st=Ge=null,ho=!1,po=0,yd.current=null,c===null||c.return===null){it=1,wo=i,et=null;break}e:{var w=r,k=c.return,A=c,I=i;if(i=ht,A.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var B=I,q=A,Y=q.tag;if((q.mode&1)===0&&(Y===0||Y===11||Y===15)){var K=q.alternate;K?(q.updateQueue=K.updateQueue,q.memoizedState=K.memoizedState,q.lanes=K.lanes):(q.updateQueue=null,q.memoizedState=null)}var Z=Yg(k);if(Z!==null){Z.flags&=-257,Jg(Z,k,A,w,i),Z.mode&1&&qg(w,B,i),i=Z,I=B;var ne=i.updateQueue;if(ne===null){var oe=new Set;oe.add(I),i.updateQueue=oe}else ne.add(I);break e}else{if((i&1)===0){qg(w,B,i),Ed();break e}I=Error(n(426))}}else if(ze&&A.mode&1){var Xe=Yg(k);if(Xe!==null){(Xe.flags&65536)===0&&(Xe.flags|=256),Jg(Xe,k,A,w,i),Du(zs(I,A));break e}}w=I=zs(I,A),it!==4&&(it=2),xo===null?xo=[w]:xo.push(w),w=k;do{switch(w.tag){case 3:w.flags|=65536,i&=-i,w.lanes|=i;var V=Gg(w,I,i);wg(w,V);break e;case 1:A=I;var L=w.type,U=w.stateNode;if((w.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(vr===null||!vr.has(U)))){w.flags|=65536,i&=-i,w.lanes|=i;var J=Kg(w,A,i);wg(w,J);break e}}w=w.return}while(w!==null)}Cy(c)}catch(ae){i=ae,et===c&&c!==null&&(et=c=c.return);continue}break}while(!0)}function jy(){var r=il.current;return il.current=Za,r===null?Za:r}function Ed(){(it===0||it===3||it===2)&&(it=4),ct===null||(Gr&268435455)===0&&(ol&268435455)===0||br(ct,ht)}function fl(r,i){var c=Ae;Ae|=2;var h=jy();(ct!==r||ht!==i)&&(Yn=null,qr(r,i));do try{tj();break}catch(g){ky(r,g)}while(!0);if(Fu(),Ae=c,il.current=h,et!==null)throw Error(n(261));return ct=null,ht=0,it}function tj(){for(;et!==null;)Ey(et)}function nj(){for(;et!==null&&!C_();)Ey(et)}function Ey(r){var i=Py(r.alternate,r,Ut);r.memoizedProps=r.pendingProps,i===null?Cy(r):et=i,yd.current=null}function Cy(r){var i=r;do{var c=i.alternate;if(r=i.return,(i.flags&32768)===0){if(c=qk(c,i,Ut),c!==null){et=c;return}}else{if(c=Yk(c,i),c!==null){c.flags&=32767,et=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{it=6,et=null;return}}if(i=i.sibling,i!==null){et=i;return}et=i=r}while(i!==null);it===0&&(it=5)}function Yr(r,i,c){var h=Ie,g=Jt.transition;try{Jt.transition=null,Ie=1,rj(r,i,c,h)}finally{Jt.transition=g,Ie=h}return null}function rj(r,i,c,h){do Gs();while(wr!==null);if((Ae&6)!==0)throw Error(n(327));c=r.finishedWork;var g=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var w=c.lanes|c.childLanes;if(D_(r,w),r===ct&&(et=ct=null,ht=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||ll||(ll=!0,Ay(ga,function(){return Gs(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=Jt.transition,Jt.transition=null;var k=Ie;Ie=1;var A=Ae;Ae|=4,yd.current=null,Qk(r,c),yy(c,r),_k(Eu),_a=!!ju,Eu=ju=null,r.current=c,Xk(c),T_(),Ae=A,Ie=k,Jt.transition=w}else r.current=c;if(ll&&(ll=!1,wr=r,cl=g),w=r.pendingLanes,w===0&&(vr=null),A_(c.stateNode),Ot(r,Qe()),i!==null)for(h=r.onRecoverableError,c=0;c<i.length;c++)g=i[c],h(g.value,{componentStack:g.stack,digest:g.digest});if(al)throw al=!1,r=xd,xd=null,r;return(cl&1)!==0&&r.tag!==0&&Gs(),w=r.pendingLanes,(w&1)!==0?r===bd?bo++:(bo=0,bd=r):bo=0,pr(),null}function Gs(){if(wr!==null){var r=mm(cl),i=Jt.transition,c=Ie;try{if(Jt.transition=null,Ie=16>r?16:r,wr===null)var h=!1;else{if(r=wr,wr=null,cl=0,(Ae&6)!==0)throw Error(n(331));var g=Ae;for(Ae|=4,ee=r.current;ee!==null;){var w=ee,k=w.child;if((ee.flags&16)!==0){var A=w.deletions;if(A!==null){for(var I=0;I<A.length;I++){var B=A[I];for(ee=B;ee!==null;){var q=ee;switch(q.tag){case 0:case 11:case 15:vo(8,q,w)}var Y=q.child;if(Y!==null)Y.return=q,ee=Y;else for(;ee!==null;){q=ee;var K=q.sibling,Z=q.return;if(fy(q),q===B){ee=null;break}if(K!==null){K.return=Z,ee=K;break}ee=Z}}}var ne=w.alternate;if(ne!==null){var oe=ne.child;if(oe!==null){ne.child=null;do{var Xe=oe.sibling;oe.sibling=null,oe=Xe}while(oe!==null)}}ee=w}}if((w.subtreeFlags&2064)!==0&&k!==null)k.return=w,ee=k;else e:for(;ee!==null;){if(w=ee,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:vo(9,w,w.return)}var V=w.sibling;if(V!==null){V.return=w.return,ee=V;break e}ee=w.return}}var L=r.current;for(ee=L;ee!==null;){k=ee;var U=k.child;if((k.subtreeFlags&2064)!==0&&U!==null)U.return=k,ee=U;else e:for(k=L;ee!==null;){if(A=ee,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:sl(9,A)}}catch(ae){qe(A,A.return,ae)}if(A===k){ee=null;break e}var J=A.sibling;if(J!==null){J.return=A.return,ee=J;break e}ee=A.return}}if(Ae=g,pr(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(ya,r)}catch{}h=!0}return h}finally{Ie=c,Jt.transition=i}}return!1}function Ty(r,i,c){i=zs(c,i),i=Gg(r,i,1),r=gr(r,i,1),i=kt(),r!==null&&(Wi(r,1,i),Ot(r,i))}function qe(r,i,c){if(r.tag===3)Ty(r,r,c);else for(;i!==null;){if(i.tag===3){Ty(i,r,c);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(vr===null||!vr.has(h))){r=zs(c,r),r=Kg(i,r,1),i=gr(i,r,1),r=kt(),i!==null&&(Wi(i,1,r),Ot(i,r));break}}i=i.return}}function sj(r,i,c){var h=r.pingCache;h!==null&&h.delete(i),i=kt(),r.pingedLanes|=r.suspendedLanes&c,ct===r&&(ht&c)===c&&(it===4||it===3&&(ht&130023424)===ht&&500>Qe()-wd?qr(r,0):vd|=c),Ot(r,i)}function Ny(r,i){i===0&&((r.mode&1)===0?i=1:(i=wa,wa<<=1,(wa&130023424)===0&&(wa=4194304)));var c=kt();r=Gn(r,i),r!==null&&(Wi(r,i,c),Ot(r,c))}function ij(r){var i=r.memoizedState,c=0;i!==null&&(c=i.retryLane),Ny(r,c)}function oj(r,i){var c=0;switch(r.tag){case 13:var h=r.stateNode,g=r.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(i),Ny(r,c)}var Py;Py=function(r,i,c){if(r!==null)if(r.memoizedProps!==i.pendingProps||Nt.current)At=!0;else{if((r.lanes&c)===0&&(i.flags&128)===0)return At=!1,Kk(r,i,c);At=(r.flags&131072)!==0}else At=!1,ze&&(i.flags&1048576)!==0&&cg(i,Ua,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;nl(r,i),r=i.pendingProps;var g=Is(i,vt.current);Vs(i,c),g=Ju(null,i,h,r,g,c);var w=Qu();return i.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Pt(h)?(w=!0,$a(i)):w=!1,i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Bu(i),g.updater=el,i.stateNode=g,g._reactInternals=i,rd(i,h,r,c),i=ad(null,i,h,!0,w,c)):(i.tag=0,ze&&w&&Ou(i),_t(null,i,g,c),i=i.child),i;case 16:h=i.elementType;e:{switch(nl(r,i),r=i.pendingProps,g=h._init,h=g(h._payload),i.type=h,g=i.tag=lj(h),r=un(h,r),g){case 0:i=od(null,i,h,r,c);break e;case 1:i=ny(null,i,h,r,c);break e;case 11:i=Qg(null,i,h,r,c);break e;case 14:i=Xg(null,i,h,un(h.type,r),c);break e}throw Error(n(306,h,""))}return i;case 0:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:un(h,g),od(r,i,h,g,c);case 1:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:un(h,g),ny(r,i,h,g,c);case 3:e:{if(ry(i),r===null)throw Error(n(387));h=i.pendingProps,w=i.memoizedState,g=w.element,vg(r,i),Ka(i,h,null,c);var k=i.memoizedState;if(h=k.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},i.updateQueue.baseState=w,i.memoizedState=w,i.flags&256){g=zs(Error(n(423)),i),i=sy(r,i,h,c,g);break e}else if(h!==g){g=zs(Error(n(424)),i),i=sy(r,i,h,c,g);break e}else for(Vt=dr(i.stateNode.containerInfo.firstChild),Ft=i,ze=!0,cn=null,c=gg(i,null,h,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ds(),h===g){i=qn(r,i,c);break e}_t(r,i,h,c)}i=i.child}return i;case 5:return bg(i),r===null&&Lu(i),h=i.type,g=i.pendingProps,w=r!==null?r.memoizedProps:null,k=g.children,Cu(h,g)?k=null:w!==null&&Cu(h,w)&&(i.flags|=32),ty(r,i),_t(r,i,k,c),i.child;case 6:return r===null&&Lu(i),null;case 13:return iy(r,i,c);case 4:return Wu(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=$s(i,null,h,c):_t(r,i,h,c),i.child;case 11:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:un(h,g),Qg(r,i,h,g,c);case 7:return _t(r,i,i.pendingProps,c),i.child;case 8:return _t(r,i,i.pendingProps.children,c),i.child;case 12:return _t(r,i,i.pendingProps.children,c),i.child;case 10:e:{if(h=i.type._context,g=i.pendingProps,w=i.memoizedProps,k=g.value,De(Wa,h._currentValue),h._currentValue=k,w!==null)if(ln(w.value,k)){if(w.children===g.children&&!Nt.current){i=qn(r,i,c);break e}}else for(w=i.child,w!==null&&(w.return=i);w!==null;){var A=w.dependencies;if(A!==null){k=w.child;for(var I=A.firstContext;I!==null;){if(I.context===h){if(w.tag===1){I=Kn(-1,c&-c),I.tag=2;var B=w.updateQueue;if(B!==null){B=B.shared;var q=B.pending;q===null?I.next=I:(I.next=q.next,q.next=I),B.pending=I}}w.lanes|=c,I=w.alternate,I!==null&&(I.lanes|=c),Uu(w.return,c,i),A.lanes|=c;break}I=I.next}}else if(w.tag===10)k=w.type===i.type?null:w.child;else if(w.tag===18){if(k=w.return,k===null)throw Error(n(341));k.lanes|=c,A=k.alternate,A!==null&&(A.lanes|=c),Uu(k,c,i),k=w.sibling}else k=w.child;if(k!==null)k.return=w;else for(k=w;k!==null;){if(k===i){k=null;break}if(w=k.sibling,w!==null){w.return=k.return,k=w;break}k=k.return}w=k}_t(r,i,g.children,c),i=i.child}return i;case 9:return g=i.type,h=i.pendingProps.children,Vs(i,c),g=qt(g),h=h(g),i.flags|=1,_t(r,i,h,c),i.child;case 14:return h=i.type,g=un(h,i.pendingProps),g=un(h.type,g),Xg(r,i,h,g,c);case 15:return Zg(r,i,i.type,i.pendingProps,c);case 17:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:un(h,g),nl(r,i),i.tag=1,Pt(h)?(r=!0,$a(i)):r=!1,Vs(i,c),Wg(i,h,g),rd(i,h,g,c),ad(null,i,h,!0,r,c);case 19:return ay(r,i,c);case 22:return ey(r,i,c)}throw Error(n(156,i.tag))};function Ay(r,i){return um(r,i)}function aj(r,i,c,h){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(r,i,c,h){return new aj(r,i,c,h)}function Cd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function lj(r){if(typeof r=="function")return Cd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ke)return 11;if(r===be)return 14}return 2}function Sr(r,i){var c=r.alternate;return c===null?(c=Qt(r.tag,i,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=i,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,i=r.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function hl(r,i,c,h,g,w){var k=2;if(h=r,typeof r=="function")Cd(r)&&(k=1);else if(typeof r=="string")k=5;else e:switch(r){case D:return Jr(c.children,g,w,i);case $:k=8,g|=8;break;case G:return r=Qt(12,c,i,g|2),r.elementType=G,r.lanes=w,r;case ge:return r=Qt(13,c,i,g),r.elementType=ge,r.lanes=w,r;case ye:return r=Qt(19,c,i,g),r.elementType=ye,r.lanes=w,r;case z:return pl(c,g,w,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case X:k=10;break e;case de:k=9;break e;case ke:k=11;break e;case be:k=14;break e;case le:k=16,h=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=Qt(k,c,i,g),i.elementType=r,i.type=h,i.lanes=w,i}function Jr(r,i,c,h){return r=Qt(7,r,h,i),r.lanes=c,r}function pl(r,i,c,h){return r=Qt(22,r,h,i),r.elementType=z,r.lanes=c,r.stateNode={isHidden:!1},r}function Td(r,i,c){return r=Qt(6,r,null,i),r.lanes=c,r}function Nd(r,i,c){return i=Qt(4,r.children!==null?r.children:[],r.key,i),i.lanes=c,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function cj(r,i,c,h,g){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nu(0),this.expirationTimes=nu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nu(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Pd(r,i,c,h,g,w,k,A,I){return r=new cj(r,i,c,A,I),i===1?(i=1,w===!0&&(i|=8)):i=0,w=Qt(3,null,null,i),r.current=w,w.stateNode=r,w.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bu(w),r}function uj(r,i,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:h==null?null:""+h,children:r,containerInfo:i,implementation:c}}function Ry(r){if(!r)return hr;r=r._reactInternals;e:{if($r(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Pt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var c=r.type;if(Pt(c))return og(r,c,i)}return i}function Oy(r,i,c,h,g,w,k,A,I){return r=Pd(c,h,!0,r,g,w,k,A,I),r.context=Ry(null),c=r.current,h=kt(),g=xr(c),w=Kn(h,g),w.callback=i??null,gr(c,w,g),r.current.lanes=g,Wi(r,g,h),Ot(r,h),r}function ml(r,i,c,h){var g=i.current,w=kt(),k=xr(g);return c=Ry(c),i.context===null?i.context=c:i.pendingContext=c,i=Kn(w,k),i.payload={element:r},h=h===void 0?null:h,h!==null&&(i.callback=h),r=gr(g,i,k),r!==null&&(hn(r,g,k,w),Ga(r,g,k)),k}function gl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Iy(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<i?c:i}}function Ad(r,i){Iy(r,i),(r=r.alternate)&&Iy(r,i)}function dj(){return null}var My=typeof reportError=="function"?reportError:function(r){console.error(r)};function Rd(r){this._internalRoot=r}yl.prototype.render=Rd.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));ml(r,i,null,null)},yl.prototype.unmount=Rd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Kr(function(){ml(null,r,null,null)}),i[zn]=null}};function yl(r){this._internalRoot=r}yl.prototype.unstable_scheduleHydration=function(r){if(r){var i=vm();r={blockedOn:null,target:r,priority:i};for(var c=0;c<lr.length&&i!==0&&i<lr[c].priority;c++);lr.splice(c,0,r),c===0&&bm(r)}};function Od(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function vl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Ly(){}function fj(r,i,c,h,g){if(g){if(typeof h=="function"){var w=h;h=function(){var B=gl(k);w.call(B)}}var k=Oy(i,h,r,0,null,!1,!1,"",Ly);return r._reactRootContainer=k,r[zn]=k.current,so(r.nodeType===8?r.parentNode:r),Kr(),k}for(;g=r.lastChild;)r.removeChild(g);if(typeof h=="function"){var A=h;h=function(){var B=gl(I);A.call(B)}}var I=Pd(r,0,!1,null,null,!1,!1,"",Ly);return r._reactRootContainer=I,r[zn]=I.current,so(r.nodeType===8?r.parentNode:r),Kr(function(){ml(i,I,c,h)}),I}function wl(r,i,c,h,g){var w=c._reactRootContainer;if(w){var k=w;if(typeof g=="function"){var A=g;g=function(){var I=gl(k);A.call(I)}}ml(i,k,r,g)}else k=fj(c,i,r,g,h);return gl(k)}gm=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var c=Bi(i.pendingLanes);c!==0&&(ru(i,c|1),Ot(i,Qe()),(Ae&6)===0&&(Hs=Qe()+500,pr()))}break;case 13:Kr(function(){var h=Gn(r,1);if(h!==null){var g=kt();hn(h,r,1,g)}}),Ad(r,1)}},su=function(r){if(r.tag===13){var i=Gn(r,134217728);if(i!==null){var c=kt();hn(i,r,134217728,c)}Ad(r,134217728)}},ym=function(r){if(r.tag===13){var i=xr(r),c=Gn(r,i);if(c!==null){var h=kt();hn(c,r,i,h)}Ad(r,i)}},vm=function(){return Ie},wm=function(r,i){var c=Ie;try{return Ie=r,i()}finally{Ie=c}},Jc=function(r,i,c){switch(i){case"input":if(Li(r,c),i=c.name,c.type==="radio"&&i!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var h=c[i];if(h!==r&&h.form===r.form){var g=La(h);if(!g)throw Error(n(90));Tt(h),Li(h,g)}}}break;case"textarea":qp(r,c);break;case"select":i=c.value,i!=null&&Ss(r,!!c.multiple,i,!1)}},rm=kd,sm=Kr;var hj={usingClientEntryPoint:!1,Events:[ao,Rs,La,tm,nm,kd]},So={findFiberByHostInstance:Fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pj={bundleType:So.bundleType,version:So.version,rendererPackageName:So.rendererPackageName,rendererConfig:So.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=lm(r),r===null?null:r.stateNode},findFiberByHostInstance:So.findFiberByHostInstance||dj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{ya=xl.inject(pj),kn=xl}catch{}}return It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hj,It.createPortal=function(r,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Od(i))throw Error(n(200));return uj(r,i,null,c)},It.createRoot=function(r,i){if(!Od(r))throw Error(n(299));var c=!1,h="",g=My;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=Pd(r,1,!1,null,null,c,!1,h,g),r[zn]=i.current,so(r.nodeType===8?r.parentNode:r),new Rd(i)},It.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=lm(i),r=r===null?null:r.stateNode,r},It.flushSync=function(r){return Kr(r)},It.hydrate=function(r,i,c){if(!vl(i))throw Error(n(200));return wl(null,r,i,!0,c)},It.hydrateRoot=function(r,i,c){if(!Od(r))throw Error(n(405));var h=c!=null&&c.hydratedSources||null,g=!1,w="",k=My;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),i=Oy(i,null,r,1,c??null,g,!1,w,k),r[zn]=i.current,so(r),h)for(r=0;r<h.length;r++)c=h[r],g=c._getVersion,g=g(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,g]:i.mutableSourceEagerHydrationData.push(c,g);return new yl(i)},It.render=function(r,i,c){if(!vl(i))throw Error(n(200));return wl(null,r,i,!1,c)},It.unmountComponentAtNode=function(r){if(!vl(r))throw Error(n(40));return r._reactRootContainer?(Kr(function(){wl(null,null,r,!1,function(){r._reactRootContainer=null,r[zn]=null})}),!0):!1},It.unstable_batchedUpdates=kd,It.unstable_renderSubtreeIntoContainer=function(r,i,c,h){if(!vl(c))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return wl(r,i,c,!1,h)},It.version="18.3.1-next-f1338f8080-20240426",It}var Wy;function Ew(){if(Wy)return Ld.exports;Wy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ld.exports=jj(),Ld.exports}var Hy;function Ej(){if(Hy)return bl;Hy=1;var t=Ew();return bl.createRoot=t.createRoot,bl.hydrateRoot=t.hydrateRoot,bl}var Cj=Ej(),b=kh();const Et=_h(b),Cw=vj({__proto__:null,default:Et},[b]);function Gy(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Tw(...t){return e=>{let n=!1;const s=t.map(o=>{const a=Gy(o,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<s.length;o++){const a=s[o];typeof a=="function"?a():Gy(t[o],null)}}}}function Fe(...t){return b.useCallback(Tw(...t),t)}function Bo(t){const e=Tj(t),n=b.forwardRef((s,o)=>{const{children:a,...l}=s,u=b.Children.toArray(a),f=u.find(Pj);if(f){const p=f.props.children,m=u.map(y=>y===f?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:y);return d.jsx(e,{...l,ref:o,children:b.isValidElement(p)?b.cloneElement(p,void 0,m):null})}return d.jsx(e,{...l,ref:o,children:a})});return n.displayName=`${t}.Slot`,n}var Nw=Bo("Slot");function Tj(t){const e=b.forwardRef((n,s)=>{const{children:o,...a}=n;if(b.isValidElement(o)){const l=Rj(o),u=Aj(a,o.props);return o.type!==b.Fragment&&(u.ref=s?Tw(s,l):l),b.cloneElement(o,u)}return b.Children.count(o)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Pw=Symbol("radix.slottable");function Nj(t){const e=({children:n})=>d.jsx(d.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Pw,e}function Pj(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Pw}function Aj(t,e){const n={...e};for(const s in e){const o=t[s],a=e[s];/^on[A-Z]/.test(s)?o&&a?n[s]=(...u)=>{const f=a(...u);return o(...u),f}:o&&(n[s]=o):s==="style"?n[s]={...o,...a}:s==="className"&&(n[s]=[o,a].filter(Boolean).join(" "))}return{...t,...n}}function Rj(t){var s,o;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Aw(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=Aw(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Rw(){for(var t,e,n=0,s="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=Aw(t))&&(s&&(s+=" "),s+=e);return s}const Ky=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,qy=Rw,jh=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return qy(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:a}=e,l=Object.keys(o).map(p=>{const m=n==null?void 0:n[p],y=a==null?void 0:a[p];if(m===null)return null;const v=Ky(m)||Ky(y);return o[p][v]}),u=n&&Object.entries(n).reduce((p,m)=>{let[y,v]=m;return v===void 0||(p[y]=v),p},{}),f=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((p,m)=>{let{class:y,className:v,...x}=m;return Object.entries(x).every(_=>{let[S,j]=_;return Array.isArray(j)?j.includes({...a,...u}[S]):{...a,...u}[S]===j})?[...p,y,v]:p},[]);return qy(t,l,f,n==null?void 0:n.class,n==null?void 0:n.className)},Eh="-",Oj=t=>{const e=Mj(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:l=>{const u=l.split(Eh);return u[0]===""&&u.length!==1&&u.shift(),Ow(u,e)||Ij(l)},getConflictingClassGroupIds:(l,u)=>{const f=n[l]||[];return u&&s[l]?[...f,...s[l]]:f}}},Ow=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),o=s?Ow(t.slice(1),s):void 0;if(o)return o;if(e.validators.length===0)return;const a=t.join(Eh);return(l=e.validators.find(({validator:u})=>u(a)))==null?void 0:l.classGroupId},Yy=/^\[(.+)\]$/,Ij=t=>{if(Yy.test(t)){const e=Yy.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Mj=t=>{const{theme:e,classGroups:n}=t,s={nextPart:new Map,validators:[]};for(const o in n)Sf(n[o],s,o,e);return s},Sf=(t,e,n,s)=>{t.forEach(o=>{if(typeof o=="string"){const a=o===""?e:Jy(e,o);a.classGroupId=n;return}if(typeof o=="function"){if(Lj(o)){Sf(o(s),e,n,s);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,l])=>{Sf(l,Jy(e,a),n,s)})})},Jy=(t,e)=>{let n=t;return e.split(Eh).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},Lj=t=>t.isThemeGetter,Dj=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const o=(a,l)=>{n.set(a,l),e++,e>t&&(e=0,s=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=s.get(a))!==void 0)return o(a,l),l},set(a,l){n.has(a)?n.set(a,l):o(a,l)}}},_f="!",kf=":",$j=kf.length,Fj=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=o=>{const a=[];let l=0,u=0,f=0,p;for(let _=0;_<o.length;_++){let S=o[_];if(l===0&&u===0){if(S===kf){a.push(o.slice(f,_)),f=_+$j;continue}if(S==="/"){p=_;continue}}S==="["?l++:S==="]"?l--:S==="("?u++:S===")"&&u--}const m=a.length===0?o:o.substring(f),y=Vj(m),v=y!==m,x=p&&p>f?p-f:void 0;return{modifiers:a,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:x}};if(e){const o=e+kf,a=s;s=l=>l.startsWith(o)?a(l.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const o=s;s=a=>n({className:a,parseClassName:o})}return s},Vj=t=>t.endsWith(_f)?t.substring(0,t.length-1):t.startsWith(_f)?t.substring(1):t,Uj=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let a=[];return s.forEach(l=>{l[0]==="["||e[l]?(o.push(...a.sort(),l),a=[]):a.push(l)}),o.push(...a.sort()),o}},zj=t=>({cache:Dj(t.cacheSize),parseClassName:Fj(t),sortModifiers:Uj(t),...Oj(t)}),Bj=/\s+/,Wj=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:a}=e,l=[],u=t.trim().split(Bj);let f="";for(let p=u.length-1;p>=0;p-=1){const m=u[p],{isExternal:y,modifiers:v,hasImportantModifier:x,baseClassName:_,maybePostfixModifierPosition:S}=n(m);if(y){f=m+(f.length>0?" "+f:f);continue}let j=!!S,T=s(j?_.substring(0,S):_);if(!T){if(!j){f=m+(f.length>0?" "+f:f);continue}if(T=s(_),!T){f=m+(f.length>0?" "+f:f);continue}j=!1}const E=a(v).join(":"),C=x?E+_f:E,N=C+T;if(l.includes(N))continue;l.push(N);const R=o(T,j);for(let M=0;M<R.length;++M){const D=R[M];l.push(C+D)}f=m+(f.length>0?" "+f:f)}return f};function Hj(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Iw(e))&&(s&&(s+=" "),s+=n);return s}const Iw=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=Iw(t[s]))&&(n&&(n+=" "),n+=e);return n};function Gj(t,...e){let n,s,o,a=l;function l(f){const p=e.reduce((m,y)=>y(m),t());return n=zj(p),s=n.cache.get,o=n.cache.set,a=u,u(f)}function u(f){const p=s(f);if(p)return p;const m=Wj(f,n);return o(f,m),m}return function(){return a(Hj.apply(null,arguments))}}const ot=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Mw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Lw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Kj=/^\d+\/\d+$/,qj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Yj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Jj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Qj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Xj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ks=t=>Kj.test(t),Ce=t=>!!t&&!Number.isNaN(Number(t)),kr=t=>!!t&&Number.isInteger(Number(t)),Fd=t=>t.endsWith("%")&&Ce(t.slice(0,-1)),Jn=t=>qj.test(t),Zj=()=>!0,eE=t=>Yj.test(t)&&!Jj.test(t),Dw=()=>!1,tE=t=>Qj.test(t),nE=t=>Xj.test(t),rE=t=>!re(t)&&!se(t),sE=t=>Ti(t,Vw,Dw),re=t=>Mw.test(t),Qr=t=>Ti(t,Uw,eE),Vd=t=>Ti(t,cE,Ce),Qy=t=>Ti(t,$w,Dw),iE=t=>Ti(t,Fw,nE),Sl=t=>Ti(t,zw,tE),se=t=>Lw.test(t),ko=t=>Ni(t,Uw),oE=t=>Ni(t,uE),Xy=t=>Ni(t,$w),aE=t=>Ni(t,Vw),lE=t=>Ni(t,Fw),_l=t=>Ni(t,zw,!0),Ti=(t,e,n)=>{const s=Mw.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},Ni=(t,e,n=!1)=>{const s=Lw.exec(t);return s?s[1]?e(s[1]):n:!1},$w=t=>t==="position"||t==="percentage",Fw=t=>t==="image"||t==="url",Vw=t=>t==="length"||t==="size"||t==="bg-size",Uw=t=>t==="length",cE=t=>t==="number",uE=t=>t==="family-name",zw=t=>t==="shadow",dE=()=>{const t=ot("color"),e=ot("font"),n=ot("text"),s=ot("font-weight"),o=ot("tracking"),a=ot("leading"),l=ot("breakpoint"),u=ot("container"),f=ot("spacing"),p=ot("radius"),m=ot("shadow"),y=ot("inset-shadow"),v=ot("text-shadow"),x=ot("drop-shadow"),_=ot("blur"),S=ot("perspective"),j=ot("aspect"),T=ot("ease"),E=ot("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...N(),se,re],M=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],$=()=>[se,re,f],G=()=>[Ks,"full","auto",...$()],X=()=>[kr,"none","subgrid",se,re],de=()=>["auto",{span:["full",kr,se,re]},kr,se,re],ke=()=>[kr,"auto",se,re],ge=()=>["auto","min","max","fr",se,re],ye=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],be=()=>["start","end","center","stretch","center-safe","end-safe"],le=()=>["auto",...$()],z=()=>[Ks,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...$()],O=()=>[t,se,re],H=()=>[...N(),Xy,Qy,{position:[se,re]}],F=()=>["no-repeat",{repeat:["","x","y","space","round"]}],P=()=>["auto","cover","contain",aE,sE,{size:[se,re]}],W=()=>[Fd,ko,Qr],Q=()=>["","none","full",p,se,re],ie=()=>["",Ce,ko,Qr],xe=()=>["solid","dashed","dotted","double"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[Ce,Fd,Xy,Qy],Se=()=>["","none",_,se,re],Ee=()=>["none",Ce,se,re],Me=()=>["none",Ce,se,re],Je=()=>[Ce,se,re],Tt=()=>[Ks,"full",...$()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Jn],breakpoint:[Jn],color:[Zj],container:[Jn],"drop-shadow":[Jn],ease:["in","out","in-out"],font:[rE],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Jn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Jn],shadow:[Jn],spacing:["px",Ce],text:[Jn],"text-shadow":[Jn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ks,re,se,j]}],container:["container"],columns:[{columns:[Ce,re,se,u]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:G()}],"inset-x":[{"inset-x":G()}],"inset-y":[{"inset-y":G()}],start:[{start:G()}],end:[{end:G()}],top:[{top:G()}],right:[{right:G()}],bottom:[{bottom:G()}],left:[{left:G()}],visibility:["visible","invisible","collapse"],z:[{z:[kr,"auto",se,re]}],basis:[{basis:[Ks,"full","auto",u,...$()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ce,Ks,"auto","initial","none",re]}],grow:[{grow:["",Ce,se,re]}],shrink:[{shrink:["",Ce,se,re]}],order:[{order:[kr,"first","last","none",se,re]}],"grid-cols":[{"grid-cols":X()}],"col-start-end":[{col:de()}],"col-start":[{"col-start":ke()}],"col-end":[{"col-end":ke()}],"grid-rows":[{"grid-rows":X()}],"row-start-end":[{row:de()}],"row-start":[{"row-start":ke()}],"row-end":[{"row-end":ke()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ge()}],"auto-rows":[{"auto-rows":ge()}],gap:[{gap:$()}],"gap-x":[{"gap-x":$()}],"gap-y":[{"gap-y":$()}],"justify-content":[{justify:[...ye(),"normal"]}],"justify-items":[{"justify-items":[...be(),"normal"]}],"justify-self":[{"justify-self":["auto",...be()]}],"align-content":[{content:["normal",...ye()]}],"align-items":[{items:[...be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...be(),{baseline:["","last"]}]}],"place-content":[{"place-content":ye()}],"place-items":[{"place-items":[...be(),"baseline"]}],"place-self":[{"place-self":["auto",...be()]}],p:[{p:$()}],px:[{px:$()}],py:[{py:$()}],ps:[{ps:$()}],pe:[{pe:$()}],pt:[{pt:$()}],pr:[{pr:$()}],pb:[{pb:$()}],pl:[{pl:$()}],m:[{m:le()}],mx:[{mx:le()}],my:[{my:le()}],ms:[{ms:le()}],me:[{me:le()}],mt:[{mt:le()}],mr:[{mr:le()}],mb:[{mb:le()}],ml:[{ml:le()}],"space-x":[{"space-x":$()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":$()}],"space-y-reverse":["space-y-reverse"],size:[{size:z()}],w:[{w:[u,"screen",...z()]}],"min-w":[{"min-w":[u,"screen","none",...z()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...z()]}],h:[{h:["screen","lh",...z()]}],"min-h":[{"min-h":["screen","lh","none",...z()]}],"max-h":[{"max-h":["screen","lh",...z()]}],"font-size":[{text:["base",n,ko,Qr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,se,Vd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Fd,re]}],"font-family":[{font:[oE,re,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,se,re]}],"line-clamp":[{"line-clamp":[Ce,"none",se,Vd]}],leading:[{leading:[a,...$()]}],"list-image":[{"list-image":["none",se,re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",se,re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ce,"from-font","auto",se,Qr]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[Ce,"auto",se,re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se,re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se,re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:H()}],"bg-repeat":[{bg:F()}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},kr,se,re],radial:["",se,re],conic:[kr,se,re]},lE,iE]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ce,se,re]}],"outline-w":[{outline:["",Ce,ko,Qr]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",m,_l,Sl]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",y,_l,Sl]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[Ce,Qr]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",v,_l,Sl]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[Ce,se,re]}],"mix-blend":[{"mix-blend":[...je(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":je()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ce]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[se,re]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[Ce]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:H()}],"mask-repeat":[{mask:F()}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",se,re]}],filter:[{filter:["","none",se,re]}],blur:[{blur:Se()}],brightness:[{brightness:[Ce,se,re]}],contrast:[{contrast:[Ce,se,re]}],"drop-shadow":[{"drop-shadow":["","none",x,_l,Sl]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",Ce,se,re]}],"hue-rotate":[{"hue-rotate":[Ce,se,re]}],invert:[{invert:["",Ce,se,re]}],saturate:[{saturate:[Ce,se,re]}],sepia:[{sepia:["",Ce,se,re]}],"backdrop-filter":[{"backdrop-filter":["","none",se,re]}],"backdrop-blur":[{"backdrop-blur":Se()}],"backdrop-brightness":[{"backdrop-brightness":[Ce,se,re]}],"backdrop-contrast":[{"backdrop-contrast":[Ce,se,re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ce,se,re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ce,se,re]}],"backdrop-invert":[{"backdrop-invert":["",Ce,se,re]}],"backdrop-opacity":[{"backdrop-opacity":[Ce,se,re]}],"backdrop-saturate":[{"backdrop-saturate":[Ce,se,re]}],"backdrop-sepia":[{"backdrop-sepia":["",Ce,se,re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":$()}],"border-spacing-x":[{"border-spacing-x":$()}],"border-spacing-y":[{"border-spacing-y":$()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",se,re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ce,"initial",se,re]}],ease:[{ease:["linear","initial",T,se,re]}],delay:[{delay:[Ce,se,re]}],animate:[{animate:["none",E,se,re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,se,re]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:Ee()}],"rotate-x":[{"rotate-x":Ee()}],"rotate-y":[{"rotate-y":Ee()}],"rotate-z":[{"rotate-z":Ee()}],scale:[{scale:Me()}],"scale-x":[{"scale-x":Me()}],"scale-y":[{"scale-y":Me()}],"scale-z":[{"scale-z":Me()}],"scale-3d":["scale-3d"],skew:[{skew:Je()}],"skew-x":[{"skew-x":Je()}],"skew-y":[{"skew-y":Je()}],transform:[{transform:[se,re,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Tt()}],"translate-x":[{"translate-x":Tt()}],"translate-y":[{"translate-y":Tt()}],"translate-z":[{"translate-z":Tt()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se,re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se,re]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[Ce,ko,Qr,Vd]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},fE=Gj(dE);function Oe(...t){return fE(Rw(t))}const hE=jh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),ce=b.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...o},a)=>{const l=s?Nw:"button";return d.jsx(l,{"data-slot":"button",className:Oe(hE({variant:e,size:n,className:t})),ref:a,...o})});ce.displayName="Button";function gt({className:t,...e}){return d.jsx("div",{"data-slot":"card",className:Oe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function yn({className:t,...e}){return d.jsx("div",{"data-slot":"card-header",className:Oe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function tn({className:t,...e}){return d.jsx("h4",{"data-slot":"card-title",className:Oe("leading-none",t),...e})}function Ro({className:t,...e}){return d.jsx("p",{"data-slot":"card-description",className:Oe("text-muted-foreground",t),...e})}function yt({className:t,...e}){return d.jsx("div",{"data-slot":"card-content",className:Oe("px-6 [&:last-child]:pb-6",t),...e})}const pE=jh("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Be({className:t,variant:e,asChild:n=!1,...s}){const o=n?Nw:"span";return d.jsx(o,{"data-slot":"badge",className:Oe(pE({variant:e}),t),...s})}function mE(t,e){const n=b.createContext(e),s=a=>{const{children:l,...u}=a,f=b.useMemo(()=>u,Object.values(u));return d.jsx(n.Provider,{value:f,children:l})};s.displayName=t+"Provider";function o(a){const l=b.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[s,o]}function sn(t,e=[]){let n=[];function s(a,l){const u=b.createContext(l),f=n.length;n=[...n,l];const p=y=>{var T;const{scope:v,children:x,..._}=y,S=((T=v==null?void 0:v[t])==null?void 0:T[f])||u,j=b.useMemo(()=>_,Object.values(_));return d.jsx(S.Provider,{value:j,children:x})};p.displayName=a+"Provider";function m(y,v){var S;const x=((S=v==null?void 0:v[t])==null?void 0:S[f])||u,_=b.useContext(x);if(_)return _;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[p,m]}const o=()=>{const a=n.map(l=>b.createContext(l));return function(u){const f=(u==null?void 0:u[t])||a;return b.useMemo(()=>({[`__scope${t}`]:{...u,[t]:f}}),[u,f])}};return o.scopeName=t,[s,gE(o,...e)]}function gE(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const l=s.reduce((u,{useScope:f,scopeName:p})=>{const y=f(a)[`__scope${p}`];return{...u,...y}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}var Ch=Ew();const yE=_h(Ch);var vE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ne=vE.reduce((t,e)=>{const n=Bo(`Primitive.${e}`),s=b.forwardRef((o,a)=>{const{asChild:l,...u}=o,f=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(f,{...u,ref:a})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function wE(t,e){t&&Ch.flushSync(()=>t.dispatchEvent(e))}var Th="Progress",Nh=100,[xE]=sn(Th),[bE,SE]=xE(Th),Bw=b.forwardRef((t,e)=>{const{__scopeProgress:n,value:s=null,max:o,getValueLabel:a=_E,...l}=t;(o||o===0)&&!Zy(o)&&console.error(kE(`${o}`,"Progress"));const u=Zy(o)?o:Nh;s!==null&&!ev(s,u)&&console.error(jE(`${s}`,"Progress"));const f=ev(s,u)?s:null,p=ql(f)?a(f,u):void 0;return d.jsx(bE,{scope:n,value:f,max:u,children:d.jsx(Ne.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":ql(f)?f:void 0,"aria-valuetext":p,role:"progressbar","data-state":Gw(f,u),"data-value":f??void 0,"data-max":u,...l,ref:e})})});Bw.displayName=Th;var Ww="ProgressIndicator",Hw=b.forwardRef((t,e)=>{const{__scopeProgress:n,...s}=t,o=SE(Ww,n);return d.jsx(Ne.div,{"data-state":Gw(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...s,ref:e})});Hw.displayName=Ww;function _E(t,e){return`${Math.round(t/e*100)}%`}function Gw(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function ql(t){return typeof t=="number"}function Zy(t){return ql(t)&&!isNaN(t)&&t>0}function ev(t,e){return ql(t)&&!isNaN(t)&&t<=e&&t>=0}function kE(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Nh}\`.`}function jE(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Nh} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var EE=Bw,CE=Hw;function xc({className:t,value:e,...n}){return d.jsx(EE,{"data-slot":"progress",className:Oe("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...n,children:d.jsx(CE,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NE=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),tv=t=>{const e=NE(t);return e.charAt(0).toUpperCase()+e.slice(1)},Kw=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:a,iconNode:l,...u},f)=>b.createElement("svg",{ref:f,...PE,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:Kw("lucide",o),...u},[...l.map(([p,m])=>b.createElement(p,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(t,e)=>{const n=b.forwardRef(({className:s,...o},a)=>b.createElement(AE,{ref:a,iconNode:e,className:Kw(`lucide-${TE(tv(t))}`,`lucide-${t}`,s),...o}));return n.displayName=tv(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Yl=ue("arrow-left",RE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],qw=ue("award",OE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ME=ue("bell",IE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Jl=ue("book-open",LE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],nv=ue("bot",DE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],FE=ue("briefcase",$E);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],UE=ue("camera",VE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ph=ue("chevron-down",zE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],WE=ue("chevron-up",BE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ds=ue("circle-alert",HE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Zn=ue("circle-check",GE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qE=ue("circle",KE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],jf=ue("clock",YE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],QE=ue("cloud-off",JE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],ZE=ue("cloud",XE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],tC=ue("coffee",eC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],rC=ue("download",nC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],iC=ue("eye-off",sC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ef=ue("eye",oC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],lC=ue("gamepad-2",aC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],uC=ue("globe",cC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ql=ue("graduation-cap",dC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],hC=ue("heart",fC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],rv=ue("info",pC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],gC=ue("lightbulb",mC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],wn=ue("loader-circle",yC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Oo=ue("lock",vC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],xC=ue("log-in",wC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],SC=ue("log-out",bC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Yw=ue("mail",_C);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],jC=ue("menu",kC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],ui=ue("message-circle",EC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],TC=ue("mic-off",CC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Wo=ue("mic",NC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M5 12h14",key:"1ays0h"}]],AC=ue("minus",PC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],OC=ue("music",RC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],MC=ue("palette",IC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Jw=ue("pause",LC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],$C=ue("pen-line",DC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Qw=ue("play",FC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],sv=ue("refresh-cw",VC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Xl=ue("rotate-ccw",UC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],BC=ue("save",zC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ah=ue("send",WC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rh=ue("settings",HC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],KC=ue("shield",GC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],iv=ue("star",qC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ov=ue("target",YC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],QC=ue("thumbs-up",JC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],av=ue("trash-2",XC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],eT=ue("trending-down",ZC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],In=ue("trending-up",tT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],rT=ue("triangle-alert",nT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],iT=ue("user-plus",sT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bc=ue("user",oT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],lT=ue("utensils",aT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Zl=ue("volume-2",cT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Oh=ue("x",uT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ar=ue("zap",dT),Ih=b.createContext({});function Mh(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const Lh=typeof window<"u",Xw=Lh?b.useLayoutEffect:b.useEffect,Sc=b.createContext(null);function Dh(t,e){t.indexOf(e)===-1&&t.push(e)}function $h(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const er=(t,e,n)=>n>e?e:n<t?t:n;let Fh=()=>{};const tr={},Zw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function ex(t){return typeof t=="object"&&t!==null}const tx=t=>/^0[^.\s]+$/u.test(t);function Vh(t){let e;return()=>(e===void 0&&(e=t()),e)}const rn=t=>t,fT=(t,e)=>n=>e(t(n)),na=(...t)=>t.reduce(fT),Ho=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Uh{constructor(){this.subscriptions=[]}add(e){return Dh(this.subscriptions,e),()=>$h(this.subscriptions,e)}notify(e,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,s);else for(let a=0;a<o;a++){const l=this.subscriptions[a];l&&l(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mn=t=>t*1e3,nn=t=>t/1e3;function nx(t,e){return e?t*(1e3/e):0}const rx=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,hT=1e-7,pT=12;function mT(t,e,n,s,o){let a,l,u=0;do l=e+(n-e)/2,a=rx(l,s,o)-t,a>0?n=l:e=l;while(Math.abs(a)>hT&&++u<pT);return l}function ra(t,e,n,s){if(t===e&&n===s)return rn;const o=a=>mT(a,0,1,t,n);return a=>a===0||a===1?a:rx(o(a),e,s)}const sx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ix=t=>e=>1-t(1-e),ox=ra(.33,1.53,.69,.99),zh=ix(ox),ax=sx(zh),lx=t=>(t*=2)<1?.5*zh(t):.5*(2-Math.pow(2,-10*(t-1))),Bh=t=>1-Math.sin(Math.acos(t)),cx=ix(Bh),ux=sx(Bh),gT=ra(.42,0,1,1),yT=ra(0,0,.58,1),dx=ra(.42,0,.58,1),vT=t=>Array.isArray(t)&&typeof t[0]!="number",fx=t=>Array.isArray(t)&&typeof t[0]=="number",wT={linear:rn,easeIn:gT,easeInOut:dx,easeOut:yT,circIn:Bh,circInOut:ux,circOut:cx,backIn:zh,backInOut:ax,backOut:ox,anticipate:lx},xT=t=>typeof t=="string",lv=t=>{if(fx(t)){Fh(t.length===4);const[e,n,s,o]=t;return ra(e,n,s,o)}else if(xT(t))return wT[t];return t},kl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function bT(t,e){let n=new Set,s=new Set,o=!1,a=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(m){l.has(m)&&(p.schedule(m),t()),m(u)}const p={schedule:(m,y=!1,v=!1)=>{const _=v&&o?n:s;return y&&l.add(m),_.has(m)||_.add(m),m},cancel:m=>{s.delete(m),l.delete(m)},process:m=>{if(u=m,o){a=!0;return}o=!0,[n,s]=[s,n],n.forEach(f),n.clear(),o=!1,a&&(a=!1,p.process(m))}};return p}const ST=40;function hx(t,e){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=kl.reduce((C,N)=>(C[N]=bT(a),C),{}),{setup:u,read:f,resolveKeyframes:p,preUpdate:m,update:y,preRender:v,render:x,postRender:_}=l,S=()=>{const C=tr.useManualTiming?o.timestamp:performance.now();n=!1,tr.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(C-o.timestamp,ST),1)),o.timestamp=C,o.isProcessing=!0,u.process(o),f.process(o),p.process(o),m.process(o),y.process(o),v.process(o),x.process(o),_.process(o),o.isProcessing=!1,n&&e&&(s=!1,t(S))},j=()=>{n=!0,s=!0,o.isProcessing||t(S)};return{schedule:kl.reduce((C,N)=>{const R=l[N];return C[N]=(M,D=!1,$=!1)=>(n||j(),R.schedule(M,D,$)),C},{}),cancel:C=>{for(let N=0;N<kl.length;N++)l[kl[N]].cancel(C)},state:o,steps:l}}const{schedule:We,cancel:Rr,state:mt,steps:Ud}=hx(typeof requestAnimationFrame<"u"?requestAnimationFrame:rn,!0);let Vl;function _T(){Vl=void 0}const Dt={now:()=>(Vl===void 0&&Dt.set(mt.isProcessing||tr.useManualTiming?mt.timestamp:performance.now()),Vl),set:t=>{Vl=t,queueMicrotask(_T)}},px=t=>e=>typeof e=="string"&&e.startsWith(t),Wh=px("--"),kT=px("var(--"),Hh=t=>kT(t)?jT.test(t.split("/*")[0].trim()):!1,jT=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Pi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Go={...Pi,transform:t=>er(0,1,t)},jl={...Pi,default:1},Io=t=>Math.round(t*1e5)/1e5,Gh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ET(t){return t==null}const CT=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Kh=(t,e)=>n=>!!(typeof n=="string"&&CT.test(n)&&n.startsWith(t)||e&&!ET(n)&&Object.prototype.hasOwnProperty.call(n,e)),mx=(t,e,n)=>s=>{if(typeof s!="string")return s;const[o,a,l,u]=s.match(Gh);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},TT=t=>er(0,255,t),zd={...Pi,transform:t=>Math.round(TT(t))},as={test:Kh("rgb","red"),parse:mx("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+zd.transform(t)+", "+zd.transform(e)+", "+zd.transform(n)+", "+Io(Go.transform(s))+")"};function NT(t){let e="",n="",s="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Cf={test:Kh("#"),parse:NT,transform:as.transform},sa=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Er=sa("deg"),Ln=sa("%"),ve=sa("px"),PT=sa("vh"),AT=sa("vw"),cv={...Ln,parse:t=>Ln.parse(t)/100,transform:t=>Ln.transform(t*100)},di={test:Kh("hsl","hue"),parse:mx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Ln.transform(Io(e))+", "+Ln.transform(Io(n))+", "+Io(Go.transform(s))+")"},rt={test:t=>as.test(t)||Cf.test(t)||di.test(t),parse:t=>as.test(t)?as.parse(t):di.test(t)?di.parse(t):Cf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?as.transform(t):di.transform(t),getAnimatableNone:t=>{const e=rt.parse(t);return e.alpha=0,rt.transform(e)}},RT=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OT(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Gh))==null?void 0:e.length)||0)+(((n=t.match(RT))==null?void 0:n.length)||0)>0}const gx="number",yx="color",IT="var",MT="var(",uv="${}",LT=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ko(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},o=[];let a=0;const u=e.replace(LT,f=>(rt.test(f)?(s.color.push(a),o.push(yx),n.push(rt.parse(f))):f.startsWith(MT)?(s.var.push(a),o.push(IT),n.push(f)):(s.number.push(a),o.push(gx),n.push(parseFloat(f))),++a,uv)).split(uv);return{values:n,split:u,indexes:s,types:o}}function vx(t){return Ko(t).values}function wx(t){const{split:e,types:n}=Ko(t),s=e.length;return o=>{let a="";for(let l=0;l<s;l++)if(a+=e[l],o[l]!==void 0){const u=n[l];u===gx?a+=Io(o[l]):u===yx?a+=rt.transform(o[l]):a+=o[l]}return a}}const DT=t=>typeof t=="number"?0:rt.test(t)?rt.getAnimatableNone(t):t;function $T(t){const e=vx(t);return wx(t)(e.map(DT))}const Or={test:OT,parse:vx,createTransformer:wx,getAnimatableNone:$T};function Bd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function FT({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let o=0,a=0,l=0;if(!e)o=a=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,f=2*n-u;o=Bd(f,u,t+1/3),a=Bd(f,u,t),l=Bd(f,u,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:s}}function ec(t,e){return n=>n>0?e:t}const Ke=(t,e,n)=>t+(e-t)*n,Wd=(t,e,n)=>{const s=t*t,o=n*(e*e-s)+s;return o<0?0:Math.sqrt(o)},VT=[Cf,as,di],UT=t=>VT.find(e=>e.test(t));function dv(t){const e=UT(t);if(!e)return!1;let n=e.parse(t);return e===di&&(n=FT(n)),n}const fv=(t,e)=>{const n=dv(t),s=dv(e);if(!n||!s)return ec(t,e);const o={...n};return a=>(o.red=Wd(n.red,s.red,a),o.green=Wd(n.green,s.green,a),o.blue=Wd(n.blue,s.blue,a),o.alpha=Ke(n.alpha,s.alpha,a),as.transform(o))},Tf=new Set(["none","hidden"]);function zT(t,e){return Tf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function BT(t,e){return n=>Ke(t,e,n)}function qh(t){return typeof t=="number"?BT:typeof t=="string"?Hh(t)?ec:rt.test(t)?fv:GT:Array.isArray(t)?xx:typeof t=="object"?rt.test(t)?fv:WT:ec}function xx(t,e){const n=[...t],s=n.length,o=t.map((a,l)=>qh(a)(a,e[l]));return a=>{for(let l=0;l<s;l++)n[l]=o[l](a);return n}}function WT(t,e){const n={...t,...e},s={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(s[o]=qh(t[o])(t[o],e[o]));return o=>{for(const a in s)n[a]=s[a](o);return n}}function HT(t,e){const n=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],l=t.indexes[a][s[a]],u=t.values[l]??0;n[o]=u,s[a]++}return n}const GT=(t,e)=>{const n=Or.createTransformer(e),s=Ko(t),o=Ko(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?Tf.has(t)&&!o.values.length||Tf.has(e)&&!s.values.length?zT(t,e):na(xx(HT(s,o),o.values),n):ec(t,e)};function bx(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ke(t,e,n):qh(t)(t,e)}const KT=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>We.update(e,n),stop:()=>Rr(e),now:()=>mt.isProcessing?mt.timestamp:Dt.now()}},Sx=(t,e,n=10)=>{let s="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)s+=Math.round(t(a/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},tc=2e4;function Yh(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<tc;)e+=n,s=t.next(e);return e>=tc?1/0:e}function qT(t,e=100,n){const s=n({...t,keyframes:[0,e]}),o=Math.min(Yh(s),tc);return{type:"keyframes",ease:a=>s.next(o*a).value/e,duration:nn(o)}}const YT=5;function _x(t,e,n){const s=Math.max(e-YT,0);return nx(n-t(s),e-s)}const Ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Hd=.001;function JT({duration:t=Ye.duration,bounce:e=Ye.bounce,velocity:n=Ye.velocity,mass:s=Ye.mass}){let o,a,l=1-e;l=er(Ye.minDamping,Ye.maxDamping,l),t=er(Ye.minDuration,Ye.maxDuration,nn(t)),l<1?(o=p=>{const m=p*l,y=m*t,v=m-n,x=Nf(p,l),_=Math.exp(-y);return Hd-v/x*_},a=p=>{const y=p*l*t,v=y*n+n,x=Math.pow(l,2)*Math.pow(p,2)*t,_=Math.exp(-y),S=Nf(Math.pow(p,2),l);return(-o(p)+Hd>0?-1:1)*((v-x)*_)/S}):(o=p=>{const m=Math.exp(-p*t),y=(p-n)*t+1;return-Hd+m*y},a=p=>{const m=Math.exp(-p*t),y=(n-p)*(t*t);return m*y});const u=5/t,f=XT(o,a,u);if(t=Mn(t),isNaN(f))return{stiffness:Ye.stiffness,damping:Ye.damping,duration:t};{const p=Math.pow(f,2)*s;return{stiffness:p,damping:l*2*Math.sqrt(s*p),duration:t}}}const QT=12;function XT(t,e,n){let s=n;for(let o=1;o<QT;o++)s=s-t(s)/e(s);return s}function Nf(t,e){return t*Math.sqrt(1-e*e)}const ZT=["duration","bounce"],eN=["stiffness","damping","mass"];function hv(t,e){return e.some(n=>t[n]!==void 0)}function tN(t){let e={velocity:Ye.velocity,stiffness:Ye.stiffness,damping:Ye.damping,mass:Ye.mass,isResolvedFromDuration:!1,...t};if(!hv(t,eN)&&hv(t,ZT))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,a=2*er(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Ye.mass,stiffness:o,damping:a}}else{const n=JT(t);e={...e,...n,mass:Ye.mass},e.isResolvedFromDuration=!0}return e}function nc(t=Ye.visualDuration,e=Ye.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:f,damping:p,mass:m,duration:y,velocity:v,isResolvedFromDuration:x}=tN({...n,velocity:-nn(n.velocity||0)}),_=v||0,S=p/(2*Math.sqrt(f*m)),j=l-a,T=nn(Math.sqrt(f/m)),E=Math.abs(j)<5;s||(s=E?Ye.restSpeed.granular:Ye.restSpeed.default),o||(o=E?Ye.restDelta.granular:Ye.restDelta.default);let C;if(S<1){const R=Nf(T,S);C=M=>{const D=Math.exp(-S*T*M);return l-D*((_+S*T*j)/R*Math.sin(R*M)+j*Math.cos(R*M))}}else if(S===1)C=R=>l-Math.exp(-T*R)*(j+(_+T*j)*R);else{const R=T*Math.sqrt(S*S-1);C=M=>{const D=Math.exp(-S*T*M),$=Math.min(R*M,300);return l-D*((_+S*T*j)*Math.sinh($)+R*j*Math.cosh($))/R}}const N={calculatedDuration:x&&y||null,next:R=>{const M=C(R);if(x)u.done=R>=y;else{let D=R===0?_:0;S<1&&(D=R===0?Mn(_):_x(C,R,M));const $=Math.abs(D)<=s,G=Math.abs(l-M)<=o;u.done=$&&G}return u.value=u.done?l:M,u},toString:()=>{const R=Math.min(Yh(N),tc),M=Sx(D=>N.next(R*D).value,R,30);return R+"ms "+M},toTransition:()=>{}};return N}nc.applyToOptions=t=>{const e=qT(t,100,nc);return t.ease=e.ease,t.duration=Mn(e.duration),t.type="keyframes",t};function Pf({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:f,restDelta:p=.5,restSpeed:m}){const y=t[0],v={done:!1,value:y},x=$=>u!==void 0&&$<u||f!==void 0&&$>f,_=$=>u===void 0?f:f===void 0||Math.abs(u-$)<Math.abs(f-$)?u:f;let S=n*e;const j=y+S,T=l===void 0?j:l(j);T!==j&&(S=T-y);const E=$=>-S*Math.exp(-$/s),C=$=>T+E($),N=$=>{const G=E($),X=C($);v.done=Math.abs(G)<=p,v.value=v.done?T:X};let R,M;const D=$=>{x(v.value)&&(R=$,M=nc({keyframes:[v.value,_(v.value)],velocity:_x(C,$,v.value),damping:o,stiffness:a,restDelta:p,restSpeed:m}))};return D(0),{calculatedDuration:null,next:$=>{let G=!1;return!M&&R===void 0&&(G=!0,N($),D($)),R!==void 0&&$>=R?M.next($-R):(!G&&N($),v)}}}function nN(t,e,n){const s=[],o=n||tr.mix||bx,a=t.length-1;for(let l=0;l<a;l++){let u=o(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||rn:e;u=na(f,u)}s.push(u)}return s}function rN(t,e,{clamp:n=!0,ease:s,mixer:o}={}){const a=t.length;if(Fh(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=nN(e,s,o),f=u.length,p=m=>{if(l&&m<t[0])return e[0];let y=0;if(f>1)for(;y<t.length-2&&!(m<t[y+1]);y++);const v=Ho(t[y],t[y+1],m);return u[y](v)};return n?m=>p(er(t[0],t[a-1],m)):p}function sN(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const o=Ho(0,e,s);t.push(Ke(n,1,o))}}function iN(t){const e=[0];return sN(e,t.length-1),e}function oN(t,e){return t.map(n=>n*e)}function aN(t,e){return t.map(()=>e||dx).splice(0,t.length-1)}function Mo({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const o=vT(s)?s.map(lv):lv(s),a={done:!1,value:e[0]},l=oN(n&&n.length===e.length?n:iN(e),t),u=rN(l,e,{ease:Array.isArray(o)?o:aN(e,o)});return{calculatedDuration:t,next:f=>(a.value=u(f),a.done=f>=t,a)}}const lN=t=>t!==null;function Jh(t,{repeat:e,repeatType:n="loop"},s,o=1){const a=t.filter(lN),u=o<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||s===void 0?a[u]:s}const cN={decay:Pf,inertia:Pf,tween:Mo,keyframes:Mo,spring:nc};function kx(t){typeof t.type=="string"&&(t.type=cN[t.type])}class Qh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const uN=t=>t/100;class Xh extends Qh{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,o;const{motionValue:n}=this.options;n&&n.updatedAt!==Dt.now()&&this.tick(Dt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(s=this.options).onStop)==null||o.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;kx(e);const{type:n=Mo,repeat:s=0,repeatDelay:o=0,repeatType:a,velocity:l=0}=e;let{keyframes:u}=e;const f=n||Mo;f!==Mo&&typeof u[0]!="number"&&(this.mixKeyframes=na(uN,bx(u[0],u[1])),u=[0,100]);const p=f({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...u].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=Yh(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:o,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:m,repeat:y,repeatType:v,repeatDelay:x,type:_,onUpdate:S,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const T=this.currentTime-p*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?T<0:T>o;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let C=this.currentTime,N=s;if(y){const $=Math.min(this.currentTime,o)/u;let G=Math.floor($),X=$%1;!X&&$>=1&&(X=1),X===1&&G--,G=Math.min(G,y+1),!!(G%2)&&(v==="reverse"?(X=1-X,x&&(X-=x/u)):v==="mirror"&&(N=l)),C=er(0,1,X)*u}const R=E?{done:!1,value:m[0]}:N.next(C);a&&(R.value=a(R.value));let{done:M}=R;!E&&f!==null&&(M=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return D&&_!==Pf&&(R.value=Jh(m,this.options,j,this.speed)),S&&S(R.value),D&&this.finish(),R}then(e,n){return this.finished.then(e,n)}get duration(){return nn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+nn(e)}get time(){return nn(this.currentTime)}set time(e){var n;e=Mn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Dt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=nn(this.currentTime))}play(){var o,a;if(this.isStopped)return;const{driver:e=KT,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(a=(o=this.options).onPlay)==null||a.call(o);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Dt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function dN(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ls=t=>t*180/Math.PI,Af=t=>{const e=ls(Math.atan2(t[1],t[0]));return Rf(e)},fN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Af,rotateZ:Af,skewX:t=>ls(Math.atan(t[1])),skewY:t=>ls(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Rf=t=>(t=t%360,t<0&&(t+=360),t),pv=Af,mv=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),gv=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),hN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:mv,scaleY:gv,scale:t=>(mv(t)+gv(t))/2,rotateX:t=>Rf(ls(Math.atan2(t[6],t[5]))),rotateY:t=>Rf(ls(Math.atan2(-t[2],t[0]))),rotateZ:pv,rotate:pv,skewX:t=>ls(Math.atan(t[4])),skewY:t=>ls(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Of(t){return t.includes("scale")?1:0}function If(t,e){if(!t||t==="none")return Of(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=hN,o=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=fN,o=u}if(!o)return Of(e);const a=s[e],l=o[1].split(",").map(mN);return typeof a=="function"?a(l):l[a]}const pN=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return If(n,e)};function mN(t){return parseFloat(t.trim())}const Ai=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ri=new Set(Ai),yv=t=>t===Pi||t===ve,gN=new Set(["x","y","z"]),yN=Ai.filter(t=>!gN.has(t));function vN(t){const e=[];return yN.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const fs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>If(e,"x"),y:(t,{transform:e})=>If(e,"y")};fs.translateX=fs.x;fs.translateY=fs.y;const hs=new Set;let Mf=!1,Lf=!1,Df=!1;function jx(){if(Lf){const t=Array.from(hs).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const o=vN(s);o.length&&(n.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([a,l])=>{var u;(u=s.getValue(a))==null||u.set(l)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Lf=!1,Mf=!1,hs.forEach(t=>t.complete(Df)),hs.clear()}function Ex(){hs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Lf=!0)})}function wN(){Df=!0,Ex(),jx(),Df=!1}class Zh{constructor(e,n,s,o,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=o,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(hs.add(this),Mf||(Mf=!0,We.read(Ex),We.resolveKeyframes(jx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:o}=this;if(e[0]===null){const a=o==null?void 0:o.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&n){const u=s.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),o&&a===void 0&&o.set(e[0])}dN(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),hs.delete(this)}cancel(){this.state==="scheduled"&&(hs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const xN=t=>t.startsWith("--");function bN(t,e,n){xN(e)?t.style.setProperty(e,n):t.style[e]=n}const SN=Vh(()=>window.ScrollTimeline!==void 0),_N={};function kN(t,e){const n=Vh(t);return()=>_N[e]??n()}const Cx=kN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Co=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,vv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Co([0,.65,.55,1]),circOut:Co([.55,0,1,.45]),backIn:Co([.31,.01,.66,-.59]),backOut:Co([.33,1.53,.69,.99])};function Tx(t,e){if(t)return typeof t=="function"?Cx()?Sx(t,e):"ease-out":fx(t)?Co(t):Array.isArray(t)?t.map(n=>Tx(n,e)||vv.easeOut):vv[t]}function jN(t,e,n,{delay:s=0,duration:o=300,repeat:a=0,repeatType:l="loop",ease:u="easeOut",times:f}={},p=void 0){const m={[e]:n};f&&(m.offset=f);const y=Tx(u,o);Array.isArray(y)&&(m.easing=y);const v={delay:s,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(v.pseudoElement=p),t.animate(m,v)}function Nx(t){return typeof t=="function"&&"applyToOptions"in t}function EN({type:t,...e}){return Nx(t)&&Cx()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class CN extends Qh{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:o,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:u,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Fh(typeof e.type!="string");const p=EN(e);this.animation=jN(n,s,o,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=Jh(o,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):bN(n,s,m),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return nn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+nn(e)}get time(){return nn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Mn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&SN()?(this.animation.timeline=e,rn):n(this)}}const Px={anticipate:lx,backInOut:ax,circInOut:ux};function TN(t){return t in Px}function NN(t){typeof t.ease=="string"&&TN(t.ease)&&(t.ease=Px[t.ease])}const wv=10;class PN extends CN{constructor(e){NN(e),kx(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:o,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new Xh({...l,autoplay:!1}),f=Mn(this.finishedTime??this.time);n.setWithVelocity(u.sample(f-wv).value,u.sample(f).value,wv),u.stop()}}const xv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Or.test(t)||t==="0")&&!t.startsWith("url("));function AN(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function RN(t,e,n,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=xv(o,e),u=xv(a,e);return!l||!u?!1:AN(t)||(n==="spring"||Nx(n))&&s}function $f(t){t.duration=0,t.type="keyframes"}const ON=new Set(["opacity","clipPath","filter","transform"]),IN=Vh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function MN(t){var m;const{motionValue:e,name:n,repeatDelay:s,repeatType:o,damping:a,type:l}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return IN()&&n&&ON.has(n)&&(n!=="transform"||!p)&&!f&&!s&&o!=="mirror"&&a!==0&&l!=="inertia"}const LN=40;class DN extends Qh{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:f,motionValue:p,element:m,...y}){var _;super(),this.stop=()=>{var S,j;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=Dt.now();const v={autoplay:e,delay:n,type:s,repeat:o,repeatDelay:a,repeatType:l,name:f,motionValue:p,element:m,...y},x=(m==null?void 0:m.KeyframeResolver)||Zh;this.keyframeResolver=new x(u,(S,j,T)=>this.onKeyframesResolved(S,j,v,!T),f,p,m),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(e,n,s,o){this.keyframeResolver=void 0;const{name:a,type:l,velocity:u,delay:f,isHandoff:p,onUpdate:m}=s;this.resolvedAt=Dt.now(),RN(e,a,l,u)||((tr.instantAnimations||!f)&&(m==null||m(Jh(e,s,n))),e[0]=e[e.length-1],$f(s),s.repeat=0);const v={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>LN?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},x=!p&&MN(v)?new PN({...v,element:v.motionValue.owner.current}):new Xh(v);x.finished.then(()=>this.notifyFinished()).catch(rn),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),wN()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const $N=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function FN(t){const e=$N.exec(t);if(!e)return[,];const[,n,s,o]=e;return[`--${n??s}`,o]}function Ax(t,e,n=1){const[s,o]=FN(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const l=a.trim();return Zw(l)?parseFloat(l):l}return Hh(o)?Ax(o,e,n+1):o}function ep(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Rx=new Set(["width","height","top","left","right","bottom",...Ai]),VN={test:t=>t==="auto",parse:t=>t},Ox=t=>e=>e.test(t),Ix=[Pi,ve,Ln,Er,AT,PT,VN],bv=t=>Ix.find(Ox(t));function UN(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||tx(t):!0}const zN=new Set(["brightness","contrast","saturate","opacity"]);function BN(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Gh)||[];if(!s)return t;const o=n.replace(s,"");let a=zN.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+o+")"}const WN=/\b([a-z-]*)\(.*?\)/gu,Ff={...Or,getAnimatableNone:t=>{const e=t.match(WN);return e?e.map(BN).join(" "):t}},Sv={...Pi,transform:Math.round},HN={rotate:Er,rotateX:Er,rotateY:Er,rotateZ:Er,scale:jl,scaleX:jl,scaleY:jl,scaleZ:jl,skew:Er,skewX:Er,skewY:Er,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:Go,originX:cv,originY:cv,originZ:ve},tp={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,radius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,top:ve,right:ve,bottom:ve,left:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,backgroundPositionX:ve,backgroundPositionY:ve,...HN,zIndex:Sv,fillOpacity:Go,strokeOpacity:Go,numOctaves:Sv},GN={...tp,color:rt,backgroundColor:rt,outlineColor:rt,fill:rt,stroke:rt,borderColor:rt,borderTopColor:rt,borderRightColor:rt,borderBottomColor:rt,borderLeftColor:rt,filter:Ff,WebkitFilter:Ff},Mx=t=>GN[t];function Lx(t,e){let n=Mx(t);return n!==Ff&&(n=Or),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const KN=new Set(["auto","none","0"]);function qN(t,e,n){let s=0,o;for(;s<t.length&&!o;){const a=t[s];typeof a=="string"&&!KN.has(a)&&Ko(a).values.length&&(o=t[s]),s++}if(o&&n)for(const a of e)t[a]=Lx(n,o)}class YN extends Zh{constructor(e,n,s,o,a){super(e,n,s,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Hh(p))){const m=Ax(p,n.current);m!==void 0&&(e[f]=m),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Rx.has(s)||e.length!==2)return;const[o,a]=e,l=bv(o),u=bv(a);if(l!==u)if(yv(l)&&yv(u))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else fs[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||UN(e[o]))&&s.push(o);s.length&&qN(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fs[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const a=s.length-1,l=s[a];s[a]=fs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function JN(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=(n==null?void 0:n[t])??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const Dx=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function $x(t){return ex(t)&&"offsetHeight"in t}const _v=30,QN=t=>!isNaN(parseFloat(t));class XN{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var a;const o=Dt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Dt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=QN(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Uh);const s=this.events[e].add(n);return e==="change"?()=>{s(),We.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Dt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>_v)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_v);return nx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bi(t,e){return new XN(t,e)}const{schedule:np}=hx(queueMicrotask,!1),mn={x:!1,y:!1};function Fx(){return mn.x||mn.y}function ZN(t){return t==="x"||t==="y"?mn[t]?null:(mn[t]=!0,()=>{mn[t]=!1}):mn.x||mn.y?null:(mn.x=mn.y=!0,()=>{mn.x=mn.y=!1})}function Vx(t,e){const n=JN(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[n,o,()=>s.abort()]}function kv(t){return!(t.pointerType==="touch"||Fx())}function eP(t,e,n={}){const[s,o,a]=Vx(t,n),l=u=>{if(!kv(u))return;const{target:f}=u,p=e(f,u);if(typeof p!="function"||!f)return;const m=y=>{kv(y)&&(p(y),f.removeEventListener("pointerleave",m))};f.addEventListener("pointerleave",m,o)};return s.forEach(u=>{u.addEventListener("pointerenter",l,o)}),a}const Ux=(t,e)=>e?t===e?!0:Ux(t,e.parentElement):!1,rp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,tP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function nP(t){return tP.has(t.tagName)||t.tabIndex!==-1}const Ul=new WeakSet;function jv(t){return e=>{e.key==="Enter"&&t(e)}}function Gd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const rP=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=jv(()=>{if(Ul.has(n))return;Gd(n,"down");const o=jv(()=>{Gd(n,"up")}),a=()=>Gd(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Ev(t){return rp(t)&&!Fx()}function sP(t,e,n={}){const[s,o,a]=Vx(t,n),l=u=>{const f=u.currentTarget;if(!Ev(u))return;Ul.add(f);const p=e(f,u),m=(x,_)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),Ul.has(f)&&Ul.delete(f),Ev(x)&&typeof p=="function"&&p(x,{success:_})},y=x=>{m(x,f===window||f===document||n.useGlobalTarget||Ux(f,x.target))},v=x=>{m(x,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",v,o)};return s.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,o),$x(u)&&(u.addEventListener("focus",p=>rP(p,o)),!nP(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function zx(t){return ex(t)&&"ownerSVGElement"in t}function iP(t){return zx(t)&&t.tagName==="svg"}const St=t=>!!(t&&t.getVelocity),oP=[...Ix,rt,Or],aP=t=>oP.find(Ox(t)),sp=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Cv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function lP(...t){return e=>{let n=!1;const s=t.map(o=>{const a=Cv(o,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<s.length;o++){const a=s[o];typeof a=="function"?a():Cv(t[o],null)}}}}function cP(...t){return b.useCallback(lP(...t),t)}class uP extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=$x(s)&&s.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=o-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function dP({children:t,isPresent:e,anchorX:n,root:s}){const o=b.useId(),a=b.useRef(null),l=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=b.useContext(sp),f=cP(a,t==null?void 0:t.ref);return b.useInsertionEffect(()=>{const{width:p,height:m,top:y,left:v,right:x}=l.current;if(e||!a.current||!p||!m)return;const _=n==="left"?`left: ${v}`:`right: ${x}`;a.current.dataset.motionPopId=o;const S=document.createElement("style");u&&(S.nonce=u);const j=s??document.head;return j.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${m}px !important;
            ${_}px !important;
            top: ${y}px !important;
          }
        `),()=>{j.contains(S)&&j.removeChild(S)}},[e]),d.jsx(uP,{isPresent:e,childRef:a,sizeRef:l,children:b.cloneElement(t,{ref:f})})}const fP=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:a,mode:l,anchorX:u,root:f})=>{const p=Mh(hP),m=b.useId();let y=!0,v=b.useMemo(()=>(y=!1,{id:m,initial:e,isPresent:n,custom:o,onExitComplete:x=>{p.set(x,!0);for(const _ of p.values())if(!_)return;s&&s()},register:x=>(p.set(x,!1),()=>p.delete(x))}),[n,p,s]);return a&&y&&(v={...v}),b.useMemo(()=>{p.forEach((x,_)=>p.set(_,!1))},[n]),b.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),l==="popLayout"&&(t=d.jsx(dP,{isPresent:n,anchorX:u,root:f,children:t})),d.jsx(Sc.Provider,{value:v,children:t})};function hP(){return new Map}function Bx(t=!0){const e=b.useContext(Sc);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=e,a=b.useId();b.useEffect(()=>{if(t)return o(a)},[t]);const l=b.useCallback(()=>t&&s&&s(a),[a,s,t]);return!n&&s?[!1,l]:[!0]}const El=t=>t.key||"";function Tv(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const Si=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:a="sync",propagate:l=!1,anchorX:u="left",root:f})=>{const[p,m]=Bx(l),y=b.useMemo(()=>Tv(t),[t]),v=l&&!p?[]:y.map(El),x=b.useRef(!0),_=b.useRef(y),S=Mh(()=>new Map),[j,T]=b.useState(y),[E,C]=b.useState(y);Xw(()=>{x.current=!1,_.current=y;for(let M=0;M<E.length;M++){const D=El(E[M]);v.includes(D)?S.delete(D):S.get(D)!==!0&&S.set(D,!1)}},[E,v.length,v.join("-")]);const N=[];if(y!==j){let M=[...y];for(let D=0;D<E.length;D++){const $=E[D],G=El($);v.includes(G)||(M.splice(D,0,$),N.push($))}return a==="wait"&&N.length&&(M=N),C(Tv(M)),T(y),null}const{forceRender:R}=b.useContext(Ih);return d.jsx(d.Fragment,{children:E.map(M=>{const D=El(M),$=l&&!p?!1:y===E||v.includes(D),G=()=>{if(S.has(D))S.set(D,!0);else return;let X=!0;S.forEach(de=>{de||(X=!1)}),X&&(R==null||R(),C(_.current),l&&(m==null||m()),s&&s())};return d.jsx(fP,{isPresent:$,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:a,root:f,onExitComplete:$?void 0:G,anchorX:u,children:M},D)})})},Wx=b.createContext({strict:!1}),Nv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_i={};for(const t in Nv)_i[t]={isEnabled:e=>Nv[t].some(n=>!!e[n])};function pP(t){for(const e in t)_i[e]={..._i[e],...t[e]}}const mP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||mP.has(t)}let Hx=t=>!rc(t);function gP(t){typeof t=="function"&&(Hx=e=>e.startsWith("on")?!rc(e):t(e))}try{gP(require("@emotion/is-prop-valid").default)}catch{}function yP(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(Hx(o)||n===!0&&rc(o)||!e&&!rc(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const _c=b.createContext({});function kc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function qo(t){return typeof t=="string"||Array.isArray(t)}const ip=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],op=["initial",...ip];function jc(t){return kc(t.animate)||op.some(e=>qo(t[e]))}function Gx(t){return!!(jc(t)||t.variants)}function vP(t,e){if(jc(t)){const{initial:n,animate:s}=t;return{initial:n===!1||qo(n)?n:void 0,animate:qo(s)?s:void 0}}return t.inherit!==!1?e:{}}function wP(t){const{initial:e,animate:n}=vP(t,b.useContext(_c));return b.useMemo(()=>({initial:e,animate:n}),[Pv(e),Pv(n)])}function Pv(t){return Array.isArray(t)?t.join(" "):t}const Yo={};function xP(t){for(const e in t)Yo[e]=t[e],Wh(e)&&(Yo[e].isCSSVariable=!0)}function Kx(t,{layout:e,layoutId:n}){return Ri.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Yo[t]||t==="opacity")}const bP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SP=Ai.length;function _P(t,e,n){let s="",o=!0;for(let a=0;a<SP;a++){const l=Ai[a],u=t[l];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(l.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||n){const p=Dx(u,tp[l]);if(!f){o=!1;const m=bP[l]||l;s+=`${m}(${p}) `}n&&(e[l]=p)}}return s=s.trim(),n?s=n(e,o?"":s):o&&(s="none"),s}function ap(t,e,n){const{style:s,vars:o,transformOrigin:a}=t;let l=!1,u=!1;for(const f in e){const p=e[f];if(Ri.has(f)){l=!0;continue}else if(Wh(f)){o[f]=p;continue}else{const m=Dx(p,tp[f]);f.startsWith("origin")?(u=!0,a[f]=m):s[f]=m}}if(e.transform||(l||n?s.transform=_P(e,t.transform,n):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;s.transformOrigin=`${f} ${p} ${m}`}}const lp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qx(t,e,n){for(const s in e)!St(e[s])&&!Kx(s,n)&&(t[s]=e[s])}function kP({transformTemplate:t},e){return b.useMemo(()=>{const n=lp();return ap(n,e,t),Object.assign({},n.vars,n.style)},[e])}function jP(t,e){const n=t.style||{},s={};return qx(s,n,t),Object.assign(s,kP(t,e)),s}function EP(t,e){const n={},s=jP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const CP={offset:"stroke-dashoffset",array:"stroke-dasharray"},TP={offset:"strokeDashoffset",array:"strokeDasharray"};function NP(t,e,n=1,s=0,o=!0){t.pathLength=1;const a=o?CP:TP;t[a.offset]=ve.transform(-s);const l=ve.transform(e),u=ve.transform(n);t[a.array]=`${l} ${u}`}function Yx(t,{attrX:e,attrY:n,attrScale:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},f,p,m){if(ap(t,u,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:v}=t;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),s!==void 0&&(y.scale=s),o!==void 0&&NP(y,o,a,l,!1)}const Jx=()=>({...lp(),attrs:{}}),Qx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function PP(t,e,n,s){const o=b.useMemo(()=>{const a=Jx();return Yx(a,e,Qx(s),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};qx(a,t.style,t),o.style={...a,...o.style}}return o}const AP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cp(t){return typeof t!="string"||t.includes("-")?!1:!!(AP.indexOf(t)>-1||/[A-Z]/u.test(t))}function RP(t,e,n,{latestValues:s},o,a=!1){const u=(cp(t)?PP:EP)(e,s,o,t),f=yP(e,typeof t=="string",a),p=t!==b.Fragment?{...f,...u,ref:n}:{},{children:m}=e,y=b.useMemo(()=>St(m)?m.get():m,[m]);return b.createElement(t,{...p,children:y})}function Av(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function up(t,e,n,s){if(typeof e=="function"){const[o,a]=Av(s);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=Av(s);e=e(n!==void 0?n:t.custom,o,a)}return e}function zl(t){return St(t)?t.get():t}function OP({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,o){return{latestValues:IP(n,s,o,t),renderState:e()}}function IP(t,e,n,s){const o={},a=s(t,{});for(const v in a)o[v]=zl(a[v]);let{initial:l,animate:u}=t;const f=jc(t),p=Gx(t);e&&p&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const y=m?u:l;if(y&&typeof y!="boolean"&&!kc(y)){const v=Array.isArray(y)?y:[y];for(let x=0;x<v.length;x++){const _=up(t,v[x]);if(_){const{transitionEnd:S,transition:j,...T}=_;for(const E in T){let C=T[E];if(Array.isArray(C)){const N=m?C.length-1:0;C=C[N]}C!==null&&(o[E]=C)}for(const E in S)o[E]=S[E]}}}return o}const Xx=t=>(e,n)=>{const s=b.useContext(_c),o=b.useContext(Sc),a=()=>OP(t,e,s,o);return n?a():Mh(a)};function dp(t,e,n){var a;const{style:s}=t,o={};for(const l in s)(St(s[l])||e.style&&St(e.style[l])||Kx(l,t)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(o[l]=s[l]);return o}const MP=Xx({scrapeMotionValuesFromProps:dp,createRenderState:lp});function Zx(t,e,n){const s=dp(t,e,n);for(const o in t)if(St(t[o])||St(e[o])){const a=Ai.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[a]=t[o]}return s}const LP=Xx({scrapeMotionValuesFromProps:Zx,createRenderState:Jx}),DP=Symbol.for("motionComponentSymbol");function fi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $P(t,e,n){return b.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):fi(n)&&(n.current=s))},[e])}const fp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),FP="framerAppearId",eb="data-"+fp(FP),tb=b.createContext({});function VP(t,e,n,s,o){var S,j;const{visualElement:a}=b.useContext(_c),l=b.useContext(Wx),u=b.useContext(Sc),f=b.useContext(sp).reducedMotion,p=b.useRef(null);s=s||l.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const m=p.current,y=b.useContext(tb);m&&!m.projection&&o&&(m.type==="html"||m.type==="svg")&&UP(p.current,n,o,y);const v=b.useRef(!1);b.useInsertionEffect(()=>{m&&v.current&&m.update(n,u)});const x=n[eb],_=b.useRef(!!x&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,x))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,x)));return Xw(()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),_.current&&m.animationState&&m.animationState.animateChanges())}),b.useEffect(()=>{m&&(!_.current&&m.animationState&&m.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,x)}),_.current=!1),m.enteringChildren=void 0)}),m}function UP(t,e,n,s){const{layoutId:o,layout:a,drag:l,dragConstraints:u,layoutScroll:f,layoutRoot:p,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:nb(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!l||u&&fi(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:m,layoutScroll:f,layoutRoot:p})}function nb(t){if(t)return t.options.allowProjection!==!1?t.projection:nb(t.parent)}function Kd(t,{forwardMotionProps:e=!1}={},n,s){n&&pP(n);const o=cp(t)?LP:MP;function a(u,f){let p;const m={...b.useContext(sp),...u,layoutId:zP(u)},{isStatic:y}=m,v=wP(u),x=o(u,y);if(!y&&Lh){BP();const _=WP(m);p=_.MeasureLayout,v.visualElement=VP(t,x,m,s,_.ProjectionNode)}return d.jsxs(_c.Provider,{value:v,children:[p&&v.visualElement?d.jsx(p,{visualElement:v.visualElement,...m}):null,RP(t,u,$P(x,v.visualElement,f),x,y,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=b.forwardRef(a);return l[DP]=t,l}function zP({layoutId:t}){const e=b.useContext(Ih).id;return e&&t!==void 0?e+"-"+t:t}function BP(t,e){b.useContext(Wx).strict}function WP(t){const{drag:e,layout:n}=_i;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function HP(t,e){if(typeof Proxy>"u")return Kd;const n=new Map,s=(a,l)=>Kd(a,l,t,e),o=(a,l)=>s(a,l);return new Proxy(o,{get:(a,l)=>l==="create"?s:(n.has(l)||n.set(l,Kd(l,void 0,t,e)),n.get(l))})}function rb({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function GP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function KP(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function qd(t){return t===void 0||t===1}function Vf({scale:t,scaleX:e,scaleY:n}){return!qd(t)||!qd(e)||!qd(n)}function ns(t){return Vf(t)||sb(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function sb(t){return Rv(t.x)||Rv(t.y)}function Rv(t){return t&&t!=="0%"}function sc(t,e,n){const s=t-n,o=e*s;return n+o}function Ov(t,e,n,s,o){return o!==void 0&&(t=sc(t,o,s)),sc(t,n,s)+e}function Uf(t,e=0,n=1,s,o){t.min=Ov(t.min,e,n,s,o),t.max=Ov(t.max,e,n,s,o)}function ib(t,{x:e,y:n}){Uf(t.x,e.translate,e.scale,e.originPoint),Uf(t.y,n.translate,n.scale,n.originPoint)}const Iv=.999999999999,Mv=1.0000000000001;function qP(t,e,n,s=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,l;for(let u=0;u<o;u++){a=n[u],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&pi(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,ib(t,l)),s&&ns(a.latestValues)&&pi(t,a.latestValues))}e.x<Mv&&e.x>Iv&&(e.x=1),e.y<Mv&&e.y>Iv&&(e.y=1)}function hi(t,e){t.min=t.min+e,t.max=t.max+e}function Lv(t,e,n,s,o=.5){const a=Ke(t.min,t.max,o);Uf(t,e,n,a,s)}function pi(t,e){Lv(t.x,e.x,e.scaleX,e.scale,e.originX),Lv(t.y,e.y,e.scaleY,e.scale,e.originY)}function ob(t,e){return rb(KP(t.getBoundingClientRect(),e))}function YP(t,e,n){const s=ob(t,n),{scroll:o}=e;return o&&(hi(s.x,o.offset.x),hi(s.y,o.offset.y)),s}const Dv=()=>({translate:0,scale:1,origin:0,originPoint:0}),mi=()=>({x:Dv(),y:Dv()}),$v=()=>({min:0,max:0}),Ze=()=>({x:$v(),y:$v()}),zf={current:null},ab={current:!1};function JP(){if(ab.current=!0,!!Lh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>zf.current=t.matches;t.addEventListener("change",e),e()}else zf.current=!1}const QP=new WeakMap;function XP(t,e,n){for(const s in e){const o=e[s],a=n[s];if(St(o))t.addValue(s,o);else if(St(a))t.addValue(s,bi(o,{owner:t}));else if(a!==o)if(t.hasValue(s)){const l=t.getValue(s);l.liveStyle===!0?l.jump(o):l.hasAnimated||l.set(o)}else{const l=t.getStaticValue(s);t.addValue(s,bi(l!==void 0?l:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Fv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ZP{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Dt.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,We.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=jc(n),this.isVariantNode=Gx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in y){const x=y[v];f[v]!==void 0&&St(x)&&x.set(f[v])}}mount(e){var n;this.current=e,QP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,o)=>this.bindToMotionValue(o,s)),ab.current||JP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zf.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Rr(this.notifyUpdate),Rr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ri.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&We.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in _i){const n=_i[e];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ze()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Fv.length;s++){const o=Fv[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,l=e[a];l&&(this.propEventSubscriptions[o]=this.on(o,l))}this.prevMotionValues=XP(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=bi(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Zw(s)||tx(s))?s=parseFloat(s):!aP(s)&&Or.test(n)&&(s=Lx(e,n)),this.setBaseTarget(e,St(s)?s.get():s)),St(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=up(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!St(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Uh),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){np.render(this.render)}}class lb extends ZP{constructor(){super(...arguments),this.KeyframeResolver=YN}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;St(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function cb(t,{style:e,vars:n},s,o){const a=t.style;let l;for(l in e)a[l]=e[l];o==null||o.applyProjectionStyles(a,s);for(l in n)a.setProperty(l,n[l])}function eA(t){return window.getComputedStyle(t)}class tA extends lb{constructor(){super(...arguments),this.type="html",this.renderInstance=cb}readValueFromInstance(e,n){var s;if(Ri.has(n))return(s=this.projection)!=null&&s.isProjecting?Of(n):pN(e,n);{const o=eA(e),a=(Wh(n)?o.getPropertyValue(n):o[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ob(e,n)}build(e,n,s){ap(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return dp(e,n,s)}}const ub=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nA(t,e,n,s){cb(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(ub.has(o)?o:fp(o),e.attrs[o])}class rA extends lb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ze}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ri.has(n)){const s=Mx(n);return s&&s.default||0}return n=ub.has(n)?n:fp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return Zx(e,n,s)}build(e,n,s){Yx(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,o){nA(e,n,s,o)}mount(e){this.isSVGTag=Qx(e.tagName),super.mount(e)}}const sA=(t,e)=>cp(t)?new rA(e):new tA(e,{allowProjection:t!==b.Fragment});function yi(t,e,n){const s=t.getProps();return up(s,e,n!==void 0?n:s.custom,t)}const Bf=t=>Array.isArray(t);function iA(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,bi(n))}function oA(t){return Bf(t)?t[t.length-1]||0:t}function aA(t,e){const n=yi(t,e);let{transitionEnd:s={},transition:o={},...a}=n||{};a={...a,...s};for(const l in a){const u=oA(a[l]);iA(t,l,u)}}function lA(t){return!!(St(t)&&t.add)}function Wf(t,e){const n=t.getValue("willChange");if(lA(n))return n.add(e);if(!n&&tr.WillChange){const s=new tr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function db(t){return t.props[eb]}const cA=t=>t!==null;function uA(t,{repeat:e,repeatType:n="loop"},s){const o=t.filter(cA),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[a]}const dA={type:"spring",stiffness:500,damping:25,restSpeed:10},fA=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),hA={type:"keyframes",duration:.8},pA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mA=(t,{keyframes:e})=>e.length>2?hA:Ri.has(t)?t.startsWith("scale")?fA(e[1]):dA:pA;function gA({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:a,repeatType:l,repeatDelay:u,from:f,elapsed:p,...m}){return!!Object.keys(m).length}const hp=(t,e,n,s={},o,a)=>l=>{const u=ep(s,t)||{},f=u.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Mn(f);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:o};gA(u)||Object.assign(m,mA(t,m)),m.duration&&(m.duration=Mn(m.duration)),m.repeatDelay&&(m.repeatDelay=Mn(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&($f(m),m.delay===0&&(y=!0)),(tr.instantAnimations||tr.skipAnimations)&&(y=!0,$f(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,y&&!a&&e.get()!==void 0){const v=uA(m.keyframes,u);if(v!==void 0){We.update(()=>{m.onUpdate(v),m.onComplete()});return}}return u.isSync?new Xh(m):new DN(m)};function yA({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function fb(t,e,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...u}=e;s&&(a=s);const f=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const m in u){const y=t.getValue(m,t.latestValues[m]??null),v=u[m];if(v===void 0||p&&yA(p,m))continue;const x={delay:n,...ep(a||{},m)},_=y.get();if(_!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===_&&!x.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const T=db(t);if(T){const E=window.MotionHandoffAnimation(T,m,We);E!==null&&(x.startTime=E,S=!0)}}Wf(t,m),y.start(hp(m,y,v,t.shouldReduceMotion&&Rx.has(m)?{type:!1}:x,t,S));const j=y.animation;j&&f.push(j)}return l&&Promise.all(f).then(()=>{We.update(()=>{l&&aA(t,l)})}),f}function hb(t,e,n,s=0,o=1){const a=Array.from(t).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),l=t.size,u=(l-1)*s;return typeof n=="function"?n(a,l):o===1?a*s:u-a*s}function Hf(t,e,n={}){var f;const s=yi(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const a=s?()=>Promise.all(fb(t,s,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:v}=o;return vA(t,e,p,m,y,v,n)}:()=>Promise.resolve(),{when:u}=o;if(u){const[p,m]=u==="beforeChildren"?[a,l]:[l,a];return p().then(()=>m())}else return Promise.all([a(),l(n.delay)])}function vA(t,e,n=0,s=0,o=0,a=1,l){const u=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),u.push(Hf(f,e,{...l,delay:n+(typeof s=="function"?0:s)+hb(t.variantChildren,f,s,o,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(u)}function wA(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(a=>Hf(t,a,n));s=Promise.all(o)}else if(typeof e=="string")s=Hf(t,e,n);else{const o=typeof e=="function"?yi(t,e,n.custom):e;s=Promise.all(fb(t,o,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function pb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const xA=op.length;function mb(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?mb(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<xA;n++){const s=op[n],o=t.props[s];(qo(o)||o===!1)&&(e[s]=o)}return e}const bA=[...ip].reverse(),SA=ip.length;function _A(t){return e=>Promise.all(e.map(({animation:n,options:s})=>wA(t,n,s)))}function kA(t){let e=_A(t),n=Vv(),s=!0;const o=f=>(p,m)=>{var v;const y=yi(t,m,f==="exit"?(v=t.presenceContext)==null?void 0:v.custom:void 0);if(y){const{transition:x,transitionEnd:_,...S}=y;p={...p,...S,..._}}return p};function a(f){e=f(t)}function l(f){const{props:p}=t,m=mb(t.parent)||{},y=[],v=new Set;let x={},_=1/0;for(let j=0;j<SA;j++){const T=bA[j],E=n[T],C=p[T]!==void 0?p[T]:m[T],N=qo(C),R=T===f?E.isActive:null;R===!1&&(_=j);let M=C===m[T]&&C!==p[T]&&N;if(M&&s&&t.manuallyAnimateOnMount&&(M=!1),E.protectedKeys={...x},!E.isActive&&R===null||!C&&!E.prevProp||kc(C)||typeof C=="boolean")continue;const D=jA(E.prevProp,C);let $=D||T===f&&E.isActive&&!M&&N||j>_&&N,G=!1;const X=Array.isArray(C)?C:[C];let de=X.reduce(o(T),{});R===!1&&(de={});const{prevResolvedValues:ke={}}=E,ge={...ke,...de},ye=z=>{$=!0,v.has(z)&&(G=!0,v.delete(z)),E.needsAnimating[z]=!0;const O=t.getValue(z);O&&(O.liveStyle=!1)};for(const z in ge){const O=de[z],H=ke[z];if(x.hasOwnProperty(z))continue;let F=!1;Bf(O)&&Bf(H)?F=!pb(O,H):F=O!==H,F?O!=null?ye(z):v.add(z):O!==void 0&&v.has(z)?ye(z):E.protectedKeys[z]=!0}E.prevProp=C,E.prevResolvedValues=de,E.isActive&&(x={...x,...de}),s&&t.blockInitialAnimation&&($=!1);const be=M&&D;$&&(!be||G)&&y.push(...X.map(z=>{const O={type:T};if(typeof z=="string"&&s&&!be&&t.manuallyAnimateOnMount&&t.parent){const{parent:H}=t,F=yi(H,z);if(H.enteringChildren&&F){const{delayChildren:P}=F.transition||{};O.delay=hb(H.enteringChildren,t,P)}}return{animation:z,options:O}}))}if(v.size){const j={};if(typeof p.initial!="boolean"){const T=yi(t,Array.isArray(p.initial)?p.initial[0]:p.initial);T&&T.transition&&(j.transition=T.transition)}v.forEach(T=>{const E=t.getBaseTarget(T),C=t.getValue(T);C&&(C.liveStyle=!0),j[T]=E??null}),y.push({animation:j})}let S=!!y.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(S=!1),s=!1,S?e(y):Promise.resolve()}function u(f,p){var y;if(n[f].isActive===p)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(v=>{var x;return(x=v.animationState)==null?void 0:x.setActive(f,p)}),n[f].isActive=p;const m=l(f);for(const v in n)n[v].protectedKeys={};return m}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Vv()}}}function jA(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!pb(e,t):!1}function Xr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vv(){return{animate:Xr(!0),whileInView:Xr(),whileHover:Xr(),whileTap:Xr(),whileDrag:Xr(),whileFocus:Xr(),exit:Xr()}}class Lr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class EA extends Lr{constructor(e){super(e),e.animationState||(e.animationState=kA(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();kc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let CA=0;class TA extends Lr{constructor(){super(...arguments),this.id=CA++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const NA={animation:{Feature:EA},exit:{Feature:TA}};function Jo(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function ia(t){return{point:{x:t.pageX,y:t.pageY}}}const PA=t=>e=>rp(e)&&t(e,ia(e));function Lo(t,e,n,s){return Jo(t,e,PA(n),s)}const gb=1e-4,AA=1-gb,RA=1+gb,yb=.01,OA=0-yb,IA=0+yb;function Ct(t){return t.max-t.min}function MA(t,e,n){return Math.abs(t-e)<=n}function Uv(t,e,n,s=.5){t.origin=s,t.originPoint=Ke(e.min,e.max,t.origin),t.scale=Ct(n)/Ct(e),t.translate=Ke(n.min,n.max,t.origin)-t.originPoint,(t.scale>=AA&&t.scale<=RA||isNaN(t.scale))&&(t.scale=1),(t.translate>=OA&&t.translate<=IA||isNaN(t.translate))&&(t.translate=0)}function Do(t,e,n,s){Uv(t.x,e.x,n.x,s?s.originX:void 0),Uv(t.y,e.y,n.y,s?s.originY:void 0)}function zv(t,e,n){t.min=n.min+e.min,t.max=t.min+Ct(e)}function LA(t,e,n){zv(t.x,e.x,n.x),zv(t.y,e.y,n.y)}function Bv(t,e,n){t.min=e.min-n.min,t.max=t.min+Ct(e)}function $o(t,e,n){Bv(t.x,e.x,n.x),Bv(t.y,e.y,n.y)}function en(t){return[t("x"),t("y")]}const vb=({current:t})=>t?t.ownerDocument.defaultView:null,Wv=(t,e)=>Math.abs(t-e);function DA(t,e){const n=Wv(t.x,e.x),s=Wv(t.y,e.y);return Math.sqrt(n**2+s**2)}class wb{constructor(e,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Jd(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,_=DA(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!_)return;const{point:S}=v,{timestamp:j}=mt;this.history.push({...S,timestamp:j});const{onStart:T,onMove:E}=this.handlers;x||(T&&T(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,v)},this.handlePointerMove=(v,x)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Yd(x,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(v,x)=>{this.end();const{onEnd:_,onSessionEnd:S,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Jd(v.type==="pointercancel"?this.lastMoveEventInfo:Yd(x,this.transformPagePoint),this.history);this.startEvent&&_&&_(v,T),S&&S(v,T)},!rp(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=l,this.contextWindow=o||window;const u=ia(e),f=Yd(u,this.transformPagePoint),{point:p}=f,{timestamp:m}=mt;this.history=[{...p,timestamp:m}];const{onSessionStart:y}=n;y&&y(e,Jd(f,this.history)),this.removeListeners=na(Lo(this.contextWindow,"pointermove",this.handlePointerMove),Lo(this.contextWindow,"pointerup",this.handlePointerUp),Lo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Rr(this.updatePoint)}}function Yd(t,e){return e?{point:e(t.point)}:t}function Hv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Jd({point:t},e){return{point:t,delta:Hv(t,xb(e)),offset:Hv(t,$A(e)),velocity:FA(e,.1)}}function $A(t){return t[0]}function xb(t){return t[t.length-1]}function FA(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=xb(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>Mn(e)));)n--;if(!s)return{x:0,y:0};const a=nn(o.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const l={x:(o.x-s.x)/a,y:(o.y-s.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function VA(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Ke(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Ke(n,t,s.max):Math.min(t,n)),t}function Gv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function UA(t,{top:e,left:n,bottom:s,right:o}){return{x:Gv(t.x,n,o),y:Gv(t.y,e,s)}}function Kv(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function zA(t,e){return{x:Kv(t.x,e.x),y:Kv(t.y,e.y)}}function BA(t,e){let n=.5;const s=Ct(t),o=Ct(e);return o>s?n=Ho(e.min,e.max-s,t.min):s>o&&(n=Ho(t.min,t.max-o,e.min)),er(0,1,n)}function WA(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Gf=.35;function HA(t=Gf){return t===!1?t=0:t===!0&&(t=Gf),{x:qv(t,"left","right"),y:qv(t,"top","bottom")}}function qv(t,e,n){return{min:Yv(t,e),max:Yv(t,n)}}function Yv(t,e){return typeof t=="number"?t:t[e]||0}const GA=new WeakMap;class KA{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ze(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ia(y).point)},l=(y,v)=>{const{drag:x,dragPropagation:_,onDragStart:S}=this.getProps();if(x&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ZN(x),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),en(T=>{let E=this.getAxisMotionValue(T).get()||0;if(Ln.test(E)){const{projection:C}=this.visualElement;if(C&&C.layout){const N=C.layout.layoutBox[T];N&&(E=Ct(N)*(parseFloat(E)/100))}}this.originPoint[T]=E}),S&&We.postRender(()=>S(y,v)),Wf(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},u=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v;const{dragPropagation:x,dragDirectionLock:_,onDirectionLock:S,onDrag:j}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:T}=v;if(_&&this.currentDirection===null){this.currentDirection=qA(T),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",v.point,T),this.updateAxis("y",v.point,T),this.visualElement.render(),j&&j(y,v)},f=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v,this.stop(y,v),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>en(y=>{var v;return this.getAnimationState(y)==="paused"&&((v=this.getAxisMotionValue(y).animation)==null?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new wb(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:s,contextWindow:vb(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,o=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!s)return;const{velocity:l}=o;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&We.postRender(()=>u(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!Cl(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(l=VA(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,o=this.constraints;e&&fi(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=UA(s.layoutBox,e):this.constraints=!1,this.elastic=HA(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&en(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=WA(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!fi(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=YP(s,o.root,this.visualElement.getTransformPagePoint());let l=zA(o.layout.layoutBox,a);if(n){const u=n(GP(l));this.hasMutatedConstraints=!!u,u&&(l=rb(u))}return l}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},p=en(m=>{if(!Cl(m,n,this.currentDirection))return;let y=f&&f[m]||{};l&&(y={min:0,max:0});const v=o?200:1e6,x=o?40:1e7,_={type:"inertia",velocity:s?e[m]:0,bounceStiffness:v,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(m,_)});return Promise.all(p).then(u)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Wf(this.visualElement,e),s.start(hp(e,s,0,n,this.visualElement,!1))}stopAnimation(){en(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){en(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){en(n=>{const{drag:s}=this.getProps();if(!Cl(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:l,max:u}=o.layout.layoutBox[n];a.set(e[n]-Ke(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!fi(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};en(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const f=u.get();o[l]=BA({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),en(l=>{if(!Cl(l,e,null))return;const u=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];u.set(Ke(f,p,o[l]))})}addListeners(){if(!this.visualElement.current)return;GA.set(this.visualElement,this);const e=this.visualElement.current,n=Lo(e,"pointerdown",f=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();fi(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),We.read(s);const l=Jo(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(en(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=f[m].translate,y.set(y.get()+f[m].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:l=Gf,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function Cl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function qA(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class YA extends Lr{constructor(e){super(e),this.removeGroupControls=rn,this.removeListeners=rn,this.controls=new KA(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Jv=t=>(e,n)=>{t&&We.postRender(()=>t(e,n))};class JA extends Lr{constructor(){super(...arguments),this.removePointerDownListener=rn}onPointerDown(e){this.session=new wb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Jv(e),onStart:Jv(n),onMove:s,onEnd:(a,l)=>{delete this.session,o&&We.postRender(()=>o(a,l))}}}mount(){this.removePointerDownListener=Lo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Qv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const jo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ve.test(t))t=parseFloat(t);else return t;const n=Qv(t,e.target.x),s=Qv(t,e.target.y);return`${n}% ${s}%`}},QA={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,o=Or.parse(t);if(o.length>5)return s;const a=Or.createTransformer(t),l=typeof o[0]!="number"?1:0,u=n.x.scale*e.x,f=n.y.scale*e.y;o[0+l]/=u,o[1+l]/=f;const p=Ke(u,f,.5);return typeof o[2+l]=="number"&&(o[2+l]/=p),typeof o[3+l]=="number"&&(o[3+l]/=p),a(o)}};let Qd=!1;class XA extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:a}=e;xP(ZA),a&&(n.group&&n.group.add(a),s&&s.register&&o&&s.register(a),Qd&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Bl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:a}=this.props,{projection:l}=s;return l&&(l.isPresent=a,Qd=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||We.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),np.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;Qd=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function bb(t){const[e,n]=Bx(),s=b.useContext(Ih);return d.jsx(XA,{...t,layoutGroup:s,switchLayoutGroup:b.useContext(tb),isPresent:e,safeToRemove:n})}const ZA={borderRadius:{...jo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jo,borderTopRightRadius:jo,borderBottomLeftRadius:jo,borderBottomRightRadius:jo,boxShadow:QA};function e2(t,e,n){const s=St(t)?t:bi(t);return s.start(hp("",s,e,n)),s.animation}const t2=(t,e)=>t.depth-e.depth;class n2{constructor(){this.children=[],this.isDirty=!1}add(e){Dh(this.children,e),this.isDirty=!0}remove(e){$h(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(t2),this.isDirty=!1,this.children.forEach(e)}}function r2(t,e){const n=Dt.now(),s=({timestamp:o})=>{const a=o-n;a>=e&&(Rr(s),t(a-e))};return We.setup(s,!0),()=>Rr(s)}const Sb=["TopLeft","TopRight","BottomLeft","BottomRight"],s2=Sb.length,Xv=t=>typeof t=="string"?parseFloat(t):t,Zv=t=>typeof t=="number"||ve.test(t);function i2(t,e,n,s,o,a){o?(t.opacity=Ke(0,n.opacity??1,o2(s)),t.opacityExit=Ke(e.opacity??1,0,a2(s))):a&&(t.opacity=Ke(e.opacity??1,n.opacity??1,s));for(let l=0;l<s2;l++){const u=`border${Sb[l]}Radius`;let f=e0(e,u),p=e0(n,u);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Zv(f)===Zv(p)?(t[u]=Math.max(Ke(Xv(f),Xv(p),s),0),(Ln.test(p)||Ln.test(f))&&(t[u]+="%")):t[u]=p}(e.rotate||n.rotate)&&(t.rotate=Ke(e.rotate||0,n.rotate||0,s))}function e0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const o2=_b(0,.5,cx),a2=_b(.5,.95,rn);function _b(t,e,n){return s=>s<t?0:s>e?1:n(Ho(t,e,s))}function t0(t,e){t.min=e.min,t.max=e.max}function Xt(t,e){t0(t.x,e.x),t0(t.y,e.y)}function n0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function r0(t,e,n,s,o){return t-=e,t=sc(t,1/n,s),o!==void 0&&(t=sc(t,1/o,s)),t}function l2(t,e=0,n=1,s=.5,o,a=t,l=t){if(Ln.test(e)&&(e=parseFloat(e),e=Ke(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Ke(a.min,a.max,s);t===a&&(u-=e),t.min=r0(t.min,e,n,u,o),t.max=r0(t.max,e,n,u,o)}function s0(t,e,[n,s,o],a,l){l2(t,e[n],e[s],e[o],e.scale,a,l)}const c2=["x","scaleX","originX"],u2=["y","scaleY","originY"];function i0(t,e,n,s){s0(t.x,e,c2,n?n.x:void 0,s?s.x:void 0),s0(t.y,e,u2,n?n.y:void 0,s?s.y:void 0)}function o0(t){return t.translate===0&&t.scale===1}function kb(t){return o0(t.x)&&o0(t.y)}function a0(t,e){return t.min===e.min&&t.max===e.max}function d2(t,e){return a0(t.x,e.x)&&a0(t.y,e.y)}function l0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jb(t,e){return l0(t.x,e.x)&&l0(t.y,e.y)}function c0(t){return Ct(t.x)/Ct(t.y)}function u0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class f2{constructor(){this.members=[]}add(e){Dh(this.members,e),e.scheduleRender()}remove(e){if($h(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function h2(t,e,n){let s="";const o=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((o||a||l)&&(s=`translate3d(${o}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:y,rotateY:v,skewX:x,skewY:_}=n;p&&(s=`perspective(${p}px) ${s}`),m&&(s+=`rotate(${m}deg) `),y&&(s+=`rotateX(${y}deg) `),v&&(s+=`rotateY(${v}deg) `),x&&(s+=`skewX(${x}deg) `),_&&(s+=`skewY(${_}deg) `)}const u=t.x.scale*e.x,f=t.y.scale*e.y;return(u!==1||f!==1)&&(s+=`scale(${u}, ${f})`),s||"none"}const Xd=["","X","Y","Z"],p2=1e3;let m2=0;function Zd(t,e,n,s){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Eb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=db(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",We,!(o||a))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Eb(s)}function Cb({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(l={},u=e==null?void 0:e()){this.id=m2++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(v2),this.nodes.forEach(S2),this.nodes.forEach(_2),this.nodes.forEach(w2)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new n2)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Uh),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const f=this.eventHandlers.get(l);f&&f.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=zx(l)&&!iP(l),this.instance=l;const{layoutId:u,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),t){let m,y=0;const v=()=>this.root.updateBlockedByResize=!1;We.read(()=>{y=window.innerWidth}),t(l,()=>{const x=window.innerWidth;x!==y&&(y=x,this.root.updateBlockedByResize=!0,m&&m(),m=r2(v,250),Bl.hasAnimatedSinceResize&&(Bl.hasAnimatedSinceResize=!1,this.nodes.forEach(h0)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||p.getDefaultTransition()||T2,{onLayoutAnimationStart:S,onLayoutAnimationComplete:j}=p.getProps(),T=!this.targetLayout||!jb(this.targetLayout,x),E=!y&&v;if(this.options.layoutRoot||this.resumeFrom||E||y&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...ep(_,"layout"),onPlay:S,onComplete:j};(p.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(m,E)}else y||h0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Rr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k2),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Eb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(d0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(f0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(b2),this.nodes.forEach(g2),this.nodes.forEach(y2)):this.nodes.forEach(f0),this.clearAllSnapshots();const u=Dt.now();mt.delta=er(0,1e3/60,u-mt.timestamp),mt.timestamp=u,mt.isProcessing=!0,Ud.update.process(mt),Ud.preRender.process(mt),Ud.render.process(mt),mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,np.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(x2),this.sharedNodes.forEach(j2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ct(this.snapshot.measuredBox.x)&&!Ct(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!kb(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&this.instance&&(u||ns(this.latestValues)||m)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return l&&(f=this.removeTransform(f)),N2(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:l}=this.options;if(!l)return Ze();const u=l.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(P2))){const{scroll:m}=this.root;m&&(hi(u.x,m.offset.x),hi(u.y,m.offset.y))}return u}removeElementScroll(l){var f;const u=Ze();if(Xt(u,l),(f=this.scroll)!=null&&f.wasRoot)return u;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:y,options:v}=m;m!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Xt(u,l),hi(u.x,y.offset.x),hi(u.y,y.offset.y))}return u}applyTransform(l,u=!1){const f=Ze();Xt(f,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&pi(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ns(m.latestValues)&&pi(f,m.latestValues)}return ns(this.latestValues)&&pi(f,this.latestValues),f}removeTransform(l){const u=Ze();Xt(u,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!ns(p.latestValues))continue;Vf(p.latestValues)&&p.updateSnapshot();const m=Ze(),y=p.measurePageBox();Xt(m,y),i0(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return ns(this.latestValues)&&i0(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var v;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=mt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),$o(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ze(),this.targetWithTransforms=Ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xt(this.target,this.layout.layoutBox),ib(this.target,this.targetDelta)):Xt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),$o(this.relativeTargetOrigin,this.target,x.target),Xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Vf(this.parent.latestValues)||sb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===mt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Xt(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;qP(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ze());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(n0(this.prevProjectionDelta.x,this.projectionDelta.x),n0(this.prevProjectionDelta.y,this.projectionDelta.y)),Do(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!u0(this.projectionDelta.x,this.prevProjectionDelta.x)||!u0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=mi(),this.projectionDelta=mi(),this.projectionDeltaWithTransform=mi()}setAnimationOrigin(l,u=!1){const f=this.snapshot,p=f?f.latestValues:{},m={...this.latestValues},y=mi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=Ze(),x=f?f.source:void 0,_=this.layout?this.layout.source:void 0,S=x!==_,j=this.getStack(),T=!j||j.members.length<=1,E=!!(S&&!T&&this.options.crossfade===!0&&!this.path.some(C2));this.animationProgress=0;let C;this.mixTargetDelta=N=>{const R=N/1e3;p0(y.x,l.x,R),p0(y.y,l.y,R),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($o(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),E2(this.relativeTarget,this.relativeTargetOrigin,v,R),C&&d2(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Ze()),Xt(C,this.relativeTarget)),S&&(this.animationValues=m,i2(m,p,this.latestValues,R,E,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,f,p;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Rr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{Bl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bi(0)),this.currentAnimation=e2(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),l.onUpdate&&l.onUpdate(m)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(p2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:f,layout:p,latestValues:m}=l;if(!(!u||!f||!p)){if(this!==l&&this.layout&&p&&Tb(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Ze();const y=Ct(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+y;const v=Ct(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+v}Xt(u,f),pi(u,m),Do(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new f2),this.sharedNodes.get(l).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const p={};f.z&&Zd("z",l,p,this.animationValues);for(let m=0;m<Xd.length;m++)Zd(`rotate${Xd[m]}`,l,p,this.animationValues),Zd(`skew${Xd[m]}`,l,p,this.animationValues);l.render();for(const m in p)l.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=zl(u==null?void 0:u.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=zl(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!ns(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=h2(this.projectionDeltaWithTransform,this.treeScale,m);f&&(y=f(m,y)),l.transform=y;const{x:v,y:x}=this.projectionDelta;l.transformOrigin=`${v.origin*100}% ${x.origin*100}% 0`,p.animationValues?l.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in Yo){if(m[_]===void 0)continue;const{correct:S,applyTo:j,isCSSVariable:T}=Yo[_],E=y==="none"?m[_]:S(m[_],p);if(j){const C=j.length;for(let N=0;N<C;N++)l[j[N]]=E}else T?this.options.visualElement.renderState.vars[_]=E:l[_]=E}this.options.layoutId&&(l.pointerEvents=p===this?zl(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(d0),this.root.sharedNodes.clear()}}}function g2(t){t.updateLayout()}function y2(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?en(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],x=Ct(v);v.min=s[y].min,v.max=v.min+x}):Tb(a,e.layoutBox,s)&&en(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],x=Ct(s[y]);v.max=v.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+x)});const u=mi();Do(u,s,e.layoutBox);const f=mi();l?Do(f,t.applyTransform(o,!0),e.measuredBox):Do(f,s,e.layoutBox);const p=!kb(u);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:x}=y;if(v&&x){const _=Ze();$o(_,e.layoutBox,v.layoutBox);const S=Ze();$o(S,s,x.layoutBox),jb(_,S)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=_,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function v2(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function w2(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function x2(t){t.clearSnapshot()}function d0(t){t.clearMeasurements()}function f0(t){t.isLayoutDirty=!1}function b2(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function h0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function S2(t){t.resolveTargetDelta()}function _2(t){t.calcProjection()}function k2(t){t.resetSkewAndRotation()}function j2(t){t.removeLeadSnapshot()}function p0(t,e,n){t.translate=Ke(e.translate,0,n),t.scale=Ke(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function m0(t,e,n,s){t.min=Ke(e.min,n.min,s),t.max=Ke(e.max,n.max,s)}function E2(t,e,n,s){m0(t.x,e.x,n.x,s),m0(t.y,e.y,n.y,s)}function C2(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const T2={duration:.45,ease:[.4,0,.1,1]},g0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),y0=g0("applewebkit/")&&!g0("chrome/")?Math.round:rn;function v0(t){t.min=y0(t.min),t.max=y0(t.max)}function N2(t){v0(t.x),v0(t.y)}function Tb(t,e,n){return t==="position"||t==="preserve-aspect"&&!MA(c0(e),c0(n),.2)}function P2(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const A2=Cb({attachResizeListener:(t,e)=>Jo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ef={current:void 0},Nb=Cb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ef.current){const t=new A2({});t.mount(window),t.setOptions({layoutScroll:!0}),ef.current=t}return ef.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),R2={pan:{Feature:JA},drag:{Feature:YA,ProjectionNode:Nb,MeasureLayout:bb}};function w0(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=s[o];a&&We.postRender(()=>a(e,ia(e)))}class O2 extends Lr{mount(){const{current:e}=this.node;e&&(this.unmount=eP(e,(n,s)=>(w0(this.node,s,"Start"),o=>w0(this.node,o,"End"))))}unmount(){}}class I2 extends Lr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=na(Jo(this.node.current,"focus",()=>this.onFocus()),Jo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function x0(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=s[o];a&&We.postRender(()=>a(e,ia(e)))}class M2 extends Lr{mount(){const{current:e}=this.node;e&&(this.unmount=sP(e,(n,s)=>(x0(this.node,s,"Start"),(o,{success:a})=>x0(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Kf=new WeakMap,tf=new WeakMap,L2=t=>{const e=Kf.get(t.target);e&&e(t)},D2=t=>{t.forEach(L2)};function $2({root:t,...e}){const n=t||document;tf.has(n)||tf.set(n,{});const s=tf.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(D2,{root:t,...e})),s[o]}function F2(t,e,n){const s=$2(e);return Kf.set(t,n),s.observe(t),()=>{Kf.delete(t),s.unobserve(t)}}const V2={some:0,all:1};class U2 extends Lr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:V2[o]},u=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),v=p?m:y;v&&v(f)};return F2(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(z2(e,n))&&this.startObserver()}unmount(){}}function z2({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const B2={inView:{Feature:U2},tap:{Feature:M2},focus:{Feature:I2},hover:{Feature:O2}},W2={layout:{ProjectionNode:Nb,MeasureLayout:bb}},H2={...NA,...B2,...R2,...W2},me=HP(H2,sA);function G2({onSignUp:t,onSignIn:e,onDemoUser:n}){return d.jsx("div",{className:"min-h-screen bg-background flex flex-col justify-center p-4",children:d.jsx("div",{className:"max-w-4xl mx-auto w-full",children:d.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-center",children:[d.jsxs("div",{className:"space-y-8",children:[d.jsxs(me.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center lg:text-left",children:[d.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-3 mb-6",children:[d.jsx(me.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-16 h-16 bg-accent rounded-full flex items-center justify-center",children:d.jsx(Wo,{className:"w-8 h-8 text-accent-foreground"})}),d.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-foreground",children:"VibeTune"})]}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-4",children:[d.jsx("h2",{className:"text-2xl lg:text-3xl font-semibold text-foreground",children:"Master English Prosody with AI"}),d.jsx("p",{className:"text-lg text-muted-foreground",children:"Perfect your pronunciation, rhythm, and intonation through personalized AI conversations"}),d.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-2 pt-2",children:[d.jsx(Be,{className:"bg-success text-success-foreground",children:"🤖 AI-Powered"}),d.jsx(Be,{variant:"outline",children:"No Setup Required"})]})]})]}),d.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-4 max-w-md mx-auto lg:mx-0",children:[d.jsx(me.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(ce,{onClick:t,className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",size:"lg",children:[d.jsx(iT,{className:"w-5 h-5 mr-2"}),"Sign Up"]})}),d.jsx(me.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(ce,{onClick:e,variant:"outline",className:"w-full",size:"lg",children:[d.jsx(xC,{className:"w-5 h-5 mr-2"}),"Log In"]})})]}),n&&d.jsx(me.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"max-w-md mx-auto lg:mx-0",children:d.jsxs("div",{className:"border-2 border-success/30 bg-success/10 rounded-lg p-4 space-y-3",children:[d.jsx("p",{className:"text-sm font-medium text-success-foreground text-center",children:"🧪 Testing Mode"}),d.jsx(ce,{onClick:()=>{console.log("🧪 Creating demo user from onboarding...");const s={id:"demo-user-"+Date.now(),email:"demo@vibetune.com",username:"Demo User",level:null,placement_test_completed:!1,created_at:new Date().toISOString(),last_login:new Date().toISOString(),device_id:"demo-device-"+Date.now()};console.log("📝 Demo profile created:",s),console.log("🚀 Calling onDemoUser..."),n(s)},className:"w-full bg-success hover:bg-success/90 text-success-foreground font-semibold",children:"🎭 Skip to App with Demo User"}),d.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Test navigation without authentication"})]})}),d.jsx(me.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-center lg:text-left",children:d.jsx("p",{className:"text-xs text-muted-foreground max-w-md mx-auto lg:mx-0",children:"Sign up required to access features • Placement test takes 10-15 minutes and personalizes your experience"})})]}),d.jsx(me.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:1},className:"hidden lg:block",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-center mb-6",children:"See Your Progress"}),d.jsxs(gt,{className:"bg-card/80 backdrop-blur-sm",children:[d.jsx(yn,{className:"pb-3",children:d.jsxs(tn,{className:"flex items-center gap-2 text-lg",children:[d.jsx(In,{className:"w-5 h-5 text-success"}),"Your Progress"]})}),d.jsxs(yt,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm",children:"Prosody Score"}),d.jsx(Be,{className:"bg-success text-success-foreground",children:"85%"})]}),d.jsx(xc,{value:85,className:"h-2"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm",children:"Current Level"}),d.jsx(Be,{variant:"outline",children:"Intermediate"})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm",children:"Practice Sessions"}),d.jsx("span",{className:"text-sm font-medium",children:"12 completed"})]})]})]})]}),d.jsxs(gt,{className:"bg-card/80 backdrop-blur-sm",children:[d.jsx(yn,{className:"pb-3",children:d.jsxs(tn,{className:"flex items-center gap-2 text-lg",children:[d.jsx(ui,{className:"w-5 h-5 text-accent"}),"AI Feedback"]})}),d.jsxs(yt,{children:[d.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mb-3",children:d.jsxs("p",{className:"text-sm",children:['"I went to the ',d.jsx("span",{className:"bg-destructive/20 px-1 rounded",children:"store"}),' yesterday."']})}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(iv,{className:"w-4 h-4 text-accent mt-0.5 flex-shrink-0"}),d.jsx("p",{className:"text-xs",children:'Try emphasizing "store" with rising intonation'})]}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(iv,{className:"w-4 h-4 text-success mt-0.5 flex-shrink-0"}),d.jsx("p",{className:"text-xs",children:'Great rhythm on "yesterday"!'})]})]})]})]})]})})]})})})}function cs({className:t,type:e,...n}){return d.jsx("input",{type:e,"data-slot":"input",className:Oe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var K2="Label",Pb=b.forwardRef((t,e)=>d.jsx(Ne.label,{...t,ref:e,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=t.onMouseDown)==null||o.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Pb.displayName=K2;var q2=Pb;function pt({className:t,...e}){return d.jsx(q2,{"data-slot":"label",className:Oe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const Y2=jh("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function ps({className:t,variant:e,...n}){return d.jsx("div",{"data-slot":"alert",role:"alert",className:Oe(Y2({variant:e}),t),...n})}function ms({className:t,...e}){return d.jsx("div",{"data-slot":"alert-description",className:Oe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}const J2="modulepreload",Q2=function(t){return"/"+t},b0={},vn=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let l=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=l(n.map(p=>{if(p=Q2(p),p in b0)return;b0[p]=!0;const m=p.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":J2,m||(v.as="script"),v.crossOrigin="",v.href=p,f&&v.setAttribute("nonce",f),document.head.appendChild(v),m)return new Promise((x,_)=>{v.addEventListener("load",x),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return o.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},X2=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vn(async()=>{const{default:s}=await Promise.resolve().then(()=>Oi);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class pp extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class S0 extends pp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class _0 extends pp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class k0 extends pp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(qf||(qf={}));var Z2=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(m){try{p(s.next(m))}catch(y){l(y)}}function f(m){try{p(s.throw(m))}catch(y){l(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,f)}p((s=s.apply(t,e||[])).next())})};class eR{constructor(e,{headers:n={},customFetch:s,region:o=qf.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=X2(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Z2(this,arguments,void 0,function*(n,s={}){var o;try{const{headers:a,method:l,body:u,signal:f}=s;let p={},{region:m}=s;m||(m=this.region);const y=new URL(`${this.url}/${n}`);m&&m!=="any"&&(p["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let v;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(p["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(p["Content-Type"]="application/json",v=JSON.stringify(u)));const x=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:v,signal:f}).catch(T=>{throw T.name==="AbortError"?T:new S0(T)}),_=x.headers.get("x-relay-error");if(_&&_==="true")throw new _0(x);if(!x.ok)throw new k0(x);let S=((o=x.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),j;return S==="application/json"?j=yield x.json():S==="application/octet-stream"?j=yield x.blob():S==="text/event-stream"?j=x:S==="multipart/form-data"?j=yield x.formData():j=yield x.text(),{data:j,error:null,response:x}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new S0(a)}:{data:null,error:a,response:a instanceof k0||a instanceof _0?a.context:void 0}}})}}var dt={},qs={},Ys={},Js={},Qs={},Xs={},tR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ki=tR();const nR=ki.fetch,Ab=ki.fetch.bind(ki),Rb=ki.Headers,rR=ki.Request,sR=ki.Response,Oi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Rb,Request:rR,Response:sR,default:Ab,fetch:nR},Symbol.toStringTag,{value:"Module"})),iR=wj(Oi);var Tl={},j0;function Ob(){if(j0)return Tl;j0=1,Object.defineProperty(Tl,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Tl.default=t,Tl}var E0;function Ib(){if(E0)return Xs;E0=1;var t=Xs&&Xs.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Xs,"__esModule",{value:!0});const e=t(iR),n=t(Ob());class s{constructor(a){var l,u;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(u=a.isMaybeSingle)!==null&&u!==void 0?u:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var m,y,v,x;let _=null,S=null,j=null,T=p.status,E=p.statusText;if(p.ok){if(this.method!=="HEAD"){const M=await p.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?S=M:S=JSON.parse(M))}const N=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),R=(v=p.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");N&&R&&R.length>1&&(j=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(_={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,j=null,T=406,E="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const N=await p.text();try{_=JSON.parse(N),Array.isArray(_)&&p.status===404&&(S=[],_=null,T=200,E="OK")}catch{p.status===404&&N===""?(T=204,E="No Content"):_={message:N}}if(_&&this.isMaybeSingle&&(!((x=_==null?void 0:_.details)===null||x===void 0)&&x.includes("0 rows"))&&(_=null,T=200,E="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:S,count:j,status:T,statusText:E}});return this.shouldThrowOnError||(f=f.catch(p=>{var m,y,v;return{error:{message:`${(m=p==null?void 0:p.name)!==null&&m!==void 0?m:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(y=p==null?void 0:p.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(v=p==null?void 0:p.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),f.then(a,l)}returns(){return this}overrideTypes(){return this}}return Xs.default=s,Xs}var C0;function Mb(){if(C0)return Qs;C0=1;var t=Qs&&Qs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Qs,"__esModule",{value:!0});const e=t(Ib());class n extends e.default{select(o){let a=!1;const l=(o??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:a=!0,nullsFirst:l,foreignTable:u,referencedTable:f=u}={}){const p=f?`${f}.order`:"order",m=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${m?`${m},`:""}${o}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${o}`),this}range(o,a,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"offset":`${u}.offset`,p=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(p,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:a=!1,settings:l=!1,buffers:u=!1,wal:f=!1,format:p="text"}={}){var m;const y=[o?"analyze":null,a?"verbose":null,l?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),v=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${v}"; options=${y};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Qs.default=n,Qs}var T0;function mp(){if(T0)return Js;T0=1;var t=Js&&Js.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Js,"__esModule",{value:!0});const e=t(Mb());class n extends e.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const l=Array.from(new Set(a)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(o,`in.(${l})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:l,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const p=l===void 0?"":`(${l})`;return this.url.searchParams.append(o,`${f}fts${p}.${a}`),this}match(o){return Object.entries(o).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(o,a,l){return this.url.searchParams.append(o,`not.${a}.${l}`),this}or(o,{foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${o})`),this}filter(o,a,l){return this.url.searchParams.append(o,`${a}.${l}`),this}}return Js.default=n,Js}var N0;function Lb(){if(N0)return Ys;N0=1;var t=Ys&&Ys.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ys,"__esModule",{value:!0});const e=t(mp());class n{constructor(o,{headers:a={},schema:l,fetch:u}){this.url=o,this.headers=new Headers(a),this.schema=l,this.fetch=u}select(o,a){const{head:l=!1,count:u}=a??{},f=l?"HEAD":"GET";let p=!1;const m=(o??"*").split("").map(y=>/\s/.test(y)&&!p?"":(y==='"'&&(p=!p),y)).join("");return this.url.searchParams.set("select",m),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:a,defaultToNull:l=!0}={}){var u;const f="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(p.length>0){const m=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(o,{onConflict:a,ignoreDuplicates:l=!1,count:u,defaultToNull:f=!0}={}){var p;const m="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const y=o.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(y.length>0){const v=[...new Set(y)].map(x=>`"${x}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:a}={}){var l;const u="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:o}={}){var a;const l="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Ys.default=n,Ys}var P0;function oR(){if(P0)return qs;P0=1;var t=qs&&qs.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(qs,"__esModule",{value:!0});const e=t(Lb()),n=t(mp());class s{constructor(a,{headers:l={},schema:u,fetch:f}={}){this.url=a,this.headers=new Headers(l),this.schemaName=u,this.fetch=f}from(a){const l=new URL(`${this.url}/${a}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new s(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:u=!1,get:f=!1,count:p}={}){var m;let y;const v=new URL(`${this.url}/rpc/${a}`);let x;u||f?(y=u?"HEAD":"GET",Object.entries(l).filter(([S,j])=>j!==void 0).map(([S,j])=>[S,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([S,j])=>{v.searchParams.append(S,j)})):(y="POST",x=l);const _=new Headers(this.headers);return p&&_.set("Prefer",`count=${p}`),new n.default({method:y,url:v,headers:_,schema:this.schemaName,body:x,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return qs.default=s,qs}var A0;function aR(){if(A0)return dt;A0=1;var t=dt&&dt.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(dt,"__esModule",{value:!0}),dt.PostgrestError=dt.PostgrestBuilder=dt.PostgrestTransformBuilder=dt.PostgrestFilterBuilder=dt.PostgrestQueryBuilder=dt.PostgrestClient=void 0;const e=t(oR());dt.PostgrestClient=e.default;const n=t(Lb());dt.PostgrestQueryBuilder=n.default;const s=t(mp());dt.PostgrestFilterBuilder=s.default;const o=t(Mb());dt.PostgrestTransformBuilder=o.default;const a=t(Ib());dt.PostgrestBuilder=a.default;const l=t(Ob());return dt.PostgrestError=l.default,dt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:a.default,PostgrestError:l.default},dt}var lR=aR();const cR=_h(lR),{PostgrestClient:uR,PostgrestQueryBuilder:b3,PostgrestFilterBuilder:S3,PostgrestTransformBuilder:_3,PostgrestBuilder:k3,PostgrestError:j3}=cR;class dR{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const fR="2.75.0",hR=`realtime-js/${fR}`,pR="1.0.0",Yf=1e4,mR=1e3,gR=100;var Fo;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Fo||(Fo={}));var at;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(at||(at={}));var gn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(gn||(gn={}));var Jf;(function(t){t.websocket="websocket"})(Jf||(Jf={}));var ss;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ss||(ss={}));class yR{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const o=n.getUint8(1),a=n.getUint8(2);let l=this.HEADER_LENGTH+2;const u=s.decode(e.slice(l,l+o));l=l+o;const f=s.decode(e.slice(l,l+a));l=l+a;const p=JSON.parse(s.decode(e.slice(l,e.byteLength)));return{ref:null,topic:u,event:f,payload:p}}}class Db{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})($e||($e={}));const R0=(t,e,n={})=>{var s;const o=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=vR(l,t,e,o),a),{}):{}},vR=(t,e,n,s)=>{const o=e.find(u=>u.name===t),a=o==null?void 0:o.type,l=n[t];return a&&!s.includes(a)?$b(a,l):Qf(l)},$b=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return SR(e,n)}switch(t){case $e.bool:return wR(e);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return xR(e);case $e.json:case $e.jsonb:return bR(e);case $e.timestamp:return _R(e);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return Qf(e);default:return Qf(e)}},Qf=t=>t,wR=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},xR=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},bR=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},SR=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let a;const l=t.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(u=>$b(e,u))}return t},_R=t=>typeof t=="string"?t.replace(" ","T"):t,Fb=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class nf{constructor(e,n,s={},o=Yf){this.channel=e,this.event=n,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var O0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(O0||(O0={}));class Vo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vo.syncState(this.state,o,a,l),this.pendingDiffs.forEach(f=>{this.state=Vo.syncDiff(this.state,f,a,l)}),this.pendingDiffs=[],u()}),this.channel._on(s.diff,{},o=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Vo.syncDiff(this.state,o,a,l),u())}),this.onJoin((o,a,l)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:l})}),this.onLeave((o,a,l)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,o){const a=this.cloneDeep(e),l=this.transformState(n),u={},f={};return this.map(a,(p,m)=>{l[p]||(f[p]=m)}),this.map(l,(p,m)=>{const y=a[p];if(y){const v=m.map(j=>j.presence_ref),x=y.map(j=>j.presence_ref),_=m.filter(j=>x.indexOf(j.presence_ref)<0),S=y.filter(j=>v.indexOf(j.presence_ref)<0);_.length>0&&(u[p]=_),S.length>0&&(f[p]=S)}else u[p]=m}),this.syncDiff(a,{joins:u,leaves:f},s,o)}static syncDiff(e,n,s,o){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(a,(u,f)=>{var p;const m=(p=e[u])!==null&&p!==void 0?p:[];if(e[u]=this.cloneDeep(f),m.length>0){const y=e[u].map(x=>x.presence_ref),v=m.filter(x=>y.indexOf(x.presence_ref)<0);e[u].unshift(...v)}s(u,m,f)}),this.map(l,(u,f)=>{let p=e[u];if(!p)return;const m=f.map(y=>y.presence_ref);p=p.filter(y=>m.indexOf(y.presence_ref)<0),e[u]=p,o(u,p,f),p.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const o=e[s];return"metas"in o?n[s]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var I0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(I0||(I0={}));var Uo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Uo||(Uo={}));var Xn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Xn||(Xn={}));class gp{constructor(e,n={config:{}},s){var o,a;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new nf(this,gn.join,this.params,this.timeout),this.rejoinTimer=new Db(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gn.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Vo(this),this.broadcastEndpointURL=Fb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:l,presence:u,private:f}}=this.params,p=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(x=>x.filter))!==null&&o!==void 0?o:[],m=!!this.bindings[Uo.PRESENCE]&&this.bindings[Uo.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,y={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:m}),postgres_changes:p,private:f};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(x=>e==null?void 0:e(Xn.CHANNEL_ERROR,x)),this._onClose(()=>e==null?void 0:e(Xn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var _;if(this.socket.setAuth(),x===void 0){e==null||e(Xn.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,j=(_=S==null?void 0:S.length)!==null&&_!==void 0?_:0,T=[];for(let E=0;E<j;E++){const C=S[E],{filter:{event:N,schema:R,table:M,filter:D}}=C,$=x&&x[E];if($&&$.event===N&&$.schema===R&&$.table===M&&$.filter===D)T.push(Object.assign(Object.assign({},C),{id:$.id}));else{this.unsubscribe(),this.state=at.errored,e==null||e(Xn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(Xn.SUBSCRIBED);return}}).receive("error",x=>{this.state=at.errored,e==null||e(Xn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Xn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===at.joined&&e===Uo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,s)}async send(e,n={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:l}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,u,f;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=at.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new nf(this,gn.leave,{},e),s.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const o=new AbortController,a=setTimeout(()=>o.abort(),s),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),l}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new nf(this,e,n,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>gR){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var o,a;const l=e.toLocaleLowerCase(),{close:u,error:f,leave:p,join:m}=gn;if(s&&[u,f,p,m].indexOf(l)>=0&&s!==this._joinRef())return;let v=this._onMessage(l,n,s);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(x=>{var _,S,j;return((_=x.filter)===null||_===void 0?void 0:_.event)==="*"||((j=(S=x.filter)===null||S===void 0?void 0:S.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===l}).map(x=>x.callback(v,s)):(a=this.bindings[l])===null||a===void 0||a.filter(x=>{var _,S,j,T,E,C;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const N=x.id,R=(_=x.filter)===null||_===void 0?void 0:_.event;return N&&((S=n.ids)===null||S===void 0?void 0:S.includes(N))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const N=(E=(T=x==null?void 0:x.filter)===null||T===void 0?void 0:T.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return N==="*"||N===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof v=="object"&&"ids"in v){const _=v.data,{schema:S,table:j,commit_timestamp:T,type:E,errors:C}=_;v=Object.assign(Object.assign({},{schema:S,table:j,commit_timestamp:T,eventType:E,new:{},old:{},errors:C}),this._getPayloadRecords(_))}x.callback(v,s)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const o=e.toLocaleLowerCase(),a={type:o,filter:n,callback:s};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&gp.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(gn.close,{},e)}_onError(e){this._on(gn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=R0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=R0(e.columns,e.old_record)),n}}const rf=()=>{},Nl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},kR=[1e3,2e3,5e3,1e4],jR=1e4,ER=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class CR{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yf,this.transport=null,this.heartbeatIntervalMs=Nl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=rf,this.ref=0,this.reconnectTimer=null,this.logger=rf,this.conn=null,this.sendBuffer=[],this.serializer=new yR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...l)=>vn(async()=>{const{default:u}=await Promise.resolve().then(()=>Oi);return{default:u}},void 0).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...l)=>a(...l)},!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Jf.websocket}`,this.httpEndpoint=Fb(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=dR.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:pR}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Fo.connecting:return ss.Connecting;case Fo.open:return ss.Open;case Fo.closing:return ss.Closing;default:return ss.Closed}}isConnected(){return this.connectionState()===ss.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===s);if(o)return o;{const a=new gp(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:s,payload:o,ref:a}=e,l=()=>{this.encode(e,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${n} ${s} (${a})`,o),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(mR,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Nl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:a,ref:l}=n,u=l?`(${l})`:"",f=a.status||"";this.log("receive",`${f} ${s} ${o} ${u}`.trim(),a),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(o,a,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(gn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${s}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([ER],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:hR};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(gn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Db(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Nl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,o,a,l,u,f,p,m;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:Yf,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Nl.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:rf,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(y=>kR[y-1]||jR),this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:((y,v)=>v(JSON.stringify(y))),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class yp extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function nt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class TR extends yp{constructor(e,n,s){super(e),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Xf extends yp{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var NR=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(m){try{p(s.next(m))}catch(y){l(y)}}function f(m){try{p(s.throw(m))}catch(y){l(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,f)}p((s=s.apply(t,e||[])).next())})};const Vb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vn(async()=>{const{default:s}=await Promise.resolve().then(()=>Oi);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},PR=()=>NR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vn(()=>Promise.resolve().then(()=>Oi),void 0)).Response:Response}),Zf=t=>{if(Array.isArray(t))return t.map(n=>Zf(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=Zf(s)}),e},AR=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var ws=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(m){try{p(s.next(m))}catch(y){l(y)}}function f(m){try{p(s.throw(m))}catch(y){l(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,f)}p((s=s.apply(t,e||[])).next())})};const sf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),RR=(t,e,n)=>ws(void 0,void 0,void 0,function*(){const s=yield PR();t instanceof s&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{const a=t.status||500,l=(o==null?void 0:o.statusCode)||a+"";e(new TR(sf(o),a,l))}).catch(o=>{e(new Xf(sf(o),o))}):e(new Xf(sf(t),t))}),OR=(t,e,n,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?o:(AR(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(s)):o.body=s,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function oa(t,e,n,s,o,a){return ws(this,void 0,void 0,function*(){return new Promise((l,u)=>{t(n,OR(e,s,o,a)).then(f=>{if(!f.ok)throw f;return s!=null&&s.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>RR(f,u,s))})})}function ic(t,e,n,s){return ws(this,void 0,void 0,function*(){return oa(t,"GET",e,n,s)})}function Pn(t,e,n,s,o){return ws(this,void 0,void 0,function*(){return oa(t,"POST",e,s,o,n)})}function eh(t,e,n,s,o){return ws(this,void 0,void 0,function*(){return oa(t,"PUT",e,s,o,n)})}function IR(t,e,n,s){return ws(this,void 0,void 0,function*(){return oa(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Ub(t,e,n,s,o){return ws(this,void 0,void 0,function*(){return oa(t,"DELETE",e,s,o,n)})}var MR=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(m){try{p(s.next(m))}catch(y){l(y)}}function f(m){try{p(s.throw(m))}catch(y){l(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,f)}p((s=s.apply(t,e||[])).next())})};class LR{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return MR(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(nt(e))return{data:null,error:e};throw e}})}}var DR=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(m){try{p(s.next(m))}catch(y){l(y)}}function f(m){try{p(s.throw(m))}catch(y){l(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,f)}p((s=s.apply(t,e||[])).next())})};class $R{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new LR(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return DR(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(nt(e))return{data:null,error:e};throw e}})}}var Mt=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(m){try{p(s.next(m))}catch(y){l(y)}}function f(m){try{p(s.throw(m))}catch(y){l(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,f)}p((s=s.apply(t,e||[])).next())})};const FR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},M0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class VR{constructor(e,n={},s,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=s,this.fetch=Vb(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,s,o){return Mt(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},M0),o);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),f&&a.append("metadata",this.encodeMetadata(f)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",l.cacheControl),f&&a.append("metadata",this.encodeMetadata(f))):(a=s,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),o!=null&&o.headers&&(u=Object.assign(Object.assign({},u),o.headers));const p=this._removeEmptyFolders(n),m=this._getFinalPath(p),y=yield(e=="PUT"?eh:Pn)(this.fetch,`${this.url}/object/${m}`,a,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:p,id:y.Id,fullPath:y.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nt(a))return{data:null,error:a};throw a}})}upload(e,n,s){return Mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,o){return Mt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let f;const p=Object.assign({upsert:M0.upsert},o),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&s instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",s)):typeof FormData<"u"&&s instanceof FormData?(f=s,f.append("cacheControl",p.cacheControl)):(f=s,m["cache-control"]=`max-age=${p.cacheControl}`,m["content-type"]=p.contentType);const y=yield eh(this.fetch,u.toString(),f,{headers:m});return{data:{path:a,fullPath:y.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(nt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,n){return Mt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const a=yield Pn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),l=new URL(this.url+a.url),u=l.searchParams.get("token");if(!u)throw new yp("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}})}update(e,n,s){return Mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return Mt(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(nt(o))return{data:null,error:o};throw o}})}copy(e,n,s){return Mt(this,void 0,void 0,function*(){try{return{data:{path:(yield Pn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(nt(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,s){return Mt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield Pn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const l=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(nt(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,s){return Mt(this,void 0,void 0,function*(){try{const o=yield Pn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(nt(o))return{data:null,error:o};throw o}})}download(e,n){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=a?`?${a}`:"",u=this._getFinalPath(e),f=()=>ic(this.fetch,`${this.url}/${o}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new $R(f,this.shouldThrowOnError)}info(e){return Mt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield ic(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Zf(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}})}exists(e){return Mt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield IR(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nt(s)&&s instanceof Xf){const o=s.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),o=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&o.push(f);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${s}${p}`)}}}remove(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield Ub(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}})}list(e,n,s){return Mt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},FR),n),{prefix:e||""});return{data:yield Pn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(nt(o))return{data:null,error:o};throw o}})}listV2(e,n){return Mt(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Pn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const UR="2.75.0",zR={"X-Client-Info":`storage-js/${UR}`};var Zs=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(m){try{p(s.next(m))}catch(y){l(y)}}function f(m){try{p(s.throw(m))}catch(y){l(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,f)}p((s=s.apply(t,e||[])).next())})};class BR{constructor(e,n={},s,o){this.shouldThrowOnError=!1;const a=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zR),n),this.fetch=Vb(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Zs(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(nt(e))return{data:null,error:e};throw e}})}getBucket(e){return Zs(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}})}createBucket(e){return Zs(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield Pn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(nt(o))return{data:null,error:o};throw o}})}updateBucket(e,n){return Zs(this,void 0,void 0,function*(){try{return{data:yield eh(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Zs(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Zs(this,void 0,void 0,function*(){try{return{data:yield Ub(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}})}}class WR extends BR{constructor(e,n={},s,o){super(e,n,s,o)}from(e){return new VR(this.url,this.headers,e,this.fetch)}}const HR="2.75.0";let To="";typeof Deno<"u"?To="deno":typeof document<"u"?To="web":typeof navigator<"u"&&navigator.product==="ReactNative"?To="react-native":To="node";const GR={"X-Client-Info":`supabase-js-${To}/${HR}`},KR={headers:GR},qR={schema:"public"},YR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},JR={};var QR=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(m){try{p(s.next(m))}catch(y){l(y)}}function f(m){try{p(s.throw(m))}catch(y){l(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,f)}p((s=s.apply(t,e||[])).next())})};const XR=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ab:e=fetch,(...n)=>e(...n)},ZR=()=>typeof Headers>"u"?Rb:Headers,eO=(t,e,n)=>{const s=XR(n),o=ZR();return(a,l)=>QR(void 0,void 0,void 0,function*(){var u;const f=(u=yield e())!==null&&u!==void 0?u:t;let p=new o(l==null?void 0:l.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),s(a,Object.assign(Object.assign({},l),{headers:p}))})};var tO=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(m){try{p(s.next(m))}catch(y){l(y)}}function f(m){try{p(s.throw(m))}catch(y){l(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,f)}p((s=s.apply(t,e||[])).next())})};function nO(t){return t.endsWith("/")?t:t+"/"}function rO(t,e){var n,s;const{db:o,auth:a,realtime:l,global:u}=t,{db:f,auth:p,realtime:m,global:y}=e,v={db:Object.assign(Object.assign({},f),o),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},m),l),storage:{},global:Object.assign(Object.assign(Object.assign({},y),u),{headers:Object.assign(Object.assign({},(n=y==null?void 0:y.headers)!==null&&n!==void 0?n:{}),(s=u==null?void 0:u.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>tO(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function sO(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(nO(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const zb="2.75.0",li=30*1e3,th=3,of=th*li,iO="http://localhost:9999",oO="supabase.auth.token",aO={"X-Client-Info":`gotrue-js/${zb}`},nh="X-Supabase-Api-Version",Bb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cO=600*1e3;class Qo extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function pe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class uO extends Qo{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function dO(t){return pe(t)&&t.name==="AuthApiError"}class is extends Qo{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Dr extends Qo{constructor(e,n,s,o){super(e,s,o),this.name=n,this.status=s}}class Cr extends Dr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fO(t){return pe(t)&&t.name==="AuthSessionMissingError"}class ei extends Dr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pl extends Dr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Al extends Dr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hO(t){return pe(t)&&t.name==="AuthImplicitGrantRedirectError"}class L0 extends Dr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rh extends Dr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function af(t){return pe(t)&&t.name==="AuthRetryableFetchError"}class D0 extends Dr{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class sh extends Dr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const oc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$0=` 	
\r=`.split(""),pO=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<$0.length;e+=1)t[$0[e].charCodeAt(0)]=-2;for(let e=0;e<oc.length;e+=1)t[oc[e].charCodeAt(0)]=e;return t})();function F0(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(oc[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(oc[s]),e.queuedBits-=6}}function Wb(t,e,n){const s=pO[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function V0(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=l=>{yO(l,s,n)};for(let l=0;l<t.length;l+=1)Wb(t.charCodeAt(l),o,a);return e.join("")}function mO(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function gO(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}mO(s,e)}}function yO(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function vi(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Wb(t.charCodeAt(o),n,s);return new Uint8Array(e)}function vO(t){const e=[];return gO(t,n=>e.push(n)),new Uint8Array(e)}function us(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>F0(o,n,s)),F0(null,n,s),e.join("")}function wO(t){return Math.round(Date.now()/1e3)+t}function xO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const zt=()=>typeof window<"u"&&typeof document<"u",Zr={tested:!1,writable:!1},Hb=()=>{if(!zt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zr.tested)return Zr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Zr.tested=!0,Zr.writable=!0}catch{Zr.tested=!0,Zr.writable=!1}return Zr.writable};function bO(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return n.searchParams.forEach((s,o)=>{e[o]=s}),e}const Gb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vn(async()=>{const{default:s}=await Promise.resolve().then(()=>Oi);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},SO=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ci=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},es=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},jr=async(t,e)=>{await t.removeItem(e)};class Ec{constructor(){this.promise=new Ec.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ec.promiseConstructor=Promise;function lf(t){const e=t.split(".");if(e.length!==3)throw new sh("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!lO.test(e[s]))throw new sh("JWT not in base64url format");return{header:JSON.parse(V0(e[0])),payload:JSON.parse(V0(e[1])),signature:vi(e[2]),raw:{header:e[0],payload:e[1]}}}async function _O(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function kO(t,e){return new Promise((s,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await t(a);if(!e(a,null,l)){s(l);return}}catch(l){if(!e(a,l)){o(l);return}}})()})}function jO(t){return("0"+t.toString(16)).substr(-2)}function EO(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,jO).join("")}async function CO(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(s);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function TO(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await CO(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ti(t,e,n=!1){const s=EO();let o=s;n&&(o+="/PASSWORD_RECOVERY"),await ci(t,`${e}-code-verifier`,o);const a=await TO(s);return[a,s===a?"plain":"s256"]}const NO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function PO(t){const e=t.headers.get(nh);if(!e||!e.match(NO))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function AO(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function RO(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const OO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ni(t){if(!OO.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cf(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function U0(t){return JSON.parse(JSON.stringify(t))}var IO=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n};const rs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),MO=[502,503,504];async function z0(t){var e;if(!SO(t))throw new rh(rs(t),0);if(MO.includes(t.status))throw new rh(rs(t),t.status);let n;try{n=await t.json()}catch(a){throw new is(rs(a),a)}let s;const o=PO(t);if(o&&o.getTime()>=Bb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new D0(rs(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Cr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new D0(rs(n),t.status,n.weak_password.reasons);throw new uO(rs(n),t.status||500,s)}const LO=(t,e,n,s)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};async function _e(t,e,n,s){var o;const a=Object.assign({},s==null?void 0:s.headers);a[nh]||(a[nh]=Bb["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const l=(o=s==null?void 0:s.query)!==null&&o!==void 0?o:{};s!=null&&s.redirectTo&&(l.redirect_to=s.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await DO(t,e,n+u,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(f):{data:Object.assign({},f),error:null}}async function DO(t,e,n,s,o,a){const l=LO(e,s,o,a);let u;try{u=await t(n,Object.assign({},l))}catch(f){throw console.error(f),new rh(rs(f),0)}if(u.ok||await z0(u),s!=null&&s.noResolveJson)return u;try{return await u.json()}catch(f){await z0(f)}}function pn(t){var e;let n=null;VO(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=wO(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function B0(t){const e=pn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Nr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function $O(t){return{data:t,error:null}}function FO(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:a}=t,l=IO(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:a},f=Object.assign({},l);return{data:{properties:u,user:f},error:null}}function W0(t){return t}function VO(t){return t.access_token&&t.refresh_token&&t.expires_in}const uf=["global","local","others"];var UO=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n};class zO{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=Gb(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=uf[0]){if(uf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uf.join(", ")}`);try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Nr})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=UO(e,["options"]),o=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(o.new_email=s==null?void 0:s.newEmail,delete o.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:FO,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(pe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Nr})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,o,a,l,u,f;try{const p={nextPage:null,lastPage:0,total:0},m=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:W0});if(m.error)throw m.error;const y=await m.json(),v=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(f=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(_=>{const S=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(_.split(";")[1].split("=")[1]);p[`${j}Page`]=S}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(pe(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){ni(e);try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Nr})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ni(e);try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Nr})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){ni(e);try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Nr})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){ni(e.userId);try{const{data:n,error:s}=await _e(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:s}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ni(e.userId),ni(e.id);try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,o,a,l,u,f;try{const p={nextPage:null,lastPage:0,total:0},m=await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:W0});if(m.error)throw m.error;const y=await m.json(),v=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(f=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(_=>{const S=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(_.split(";")[1].split("=")[1]);p[`${j}Page`]=S}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(pe(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await _e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}}function H0(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const ri={debug:!!(globalThis&&Hb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class BO extends Kb{}async function WO(t,e,n){ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),ri.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new BO(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ri.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function HO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function qb(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function GO(t){return parseInt(t,16)}function KO(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function qO(t){var e;const{chainId:n,domain:s,expirationTime:o,issuedAt:a=new Date,nonce:l,notBefore:u,requestId:f,resources:p,scheme:m,uri:y,version:v}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const x=qb(t.address),_=m?`${m}://${s}`:s,S=t.statement?`${t.statement}
`:"",j=`${_} wants you to sign in with your Ethereum account:
${x}

${S}`;let T=`URI: ${y}
Version: ${v}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(o&&(T+=`
Expiration Time: ${o.toISOString()}`),u&&(T+=`
Not Before: ${u.toISOString()}`),f&&(T+=`
Request ID: ${f}`),p){let E=`
Resources:`;for(const C of p){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);E+=`
- ${C}`}T+=E}return`${j}
${T}`}class tt extends Error{constructor({message:e,code:n,cause:s,name:o}){var a;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(a=o??(s instanceof Error?s.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class ac extends tt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function YO({error:t,options:e}){var n,s,o;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new tt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(Jb(l)){if(a.rp.id!==l)return new tt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function JO({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new tt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Jb(s)){if(n.rpId!==s)return new tt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var Yb=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n};class QO{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const XO=new QO;function ZO(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,o=Yb(t,["challenge","user","excludeCredentials"]),a=vi(e).buffer,l=Object.assign(Object.assign({},n),{id:vi(n.id).buffer}),u=Object.assign(Object.assign({},o),{challenge:a,user:l});if(s&&s.length>0){u.excludeCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const p=s[f];u.excludeCredentials[f]=Object.assign(Object.assign({},p),{id:vi(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return u}function eI(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=Yb(t,["challenge","allowCredentials"]),o=vi(e).buffer,a=Object.assign(Object.assign({},s),{challenge:o});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.allowCredentials[l]=Object.assign(Object.assign({},u),{id:vi(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function tI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:us(new Uint8Array(t.response.attestationObject)),clientDataJSON:us(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function nI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:us(new Uint8Array(o.authenticatorData)),clientDataJSON:us(new Uint8Array(o.clientDataJSON)),signature:us(new Uint8Array(o.signature)),userHandle:o.userHandle?us(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Jb(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function G0(){var t,e;return!!(zt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function rI(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ac("Browser returned unexpected credential type",e)}:{data:null,error:new ac("Empty credential response",e)}}catch(e){return{data:null,error:YO({error:e,options:t})}}}async function sI(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ac("Browser returned unexpected credential type",e)}:{data:null,error:new ac("Empty credential response",e)}}catch(e){return{data:null,error:JO({error:e,options:t})}}}const iI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},oI={userVerification:"preferred",hints:["security-key"]};function lc(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const a in o){const l=o[a];if(l!==void 0)if(Array.isArray(l))s[a]=l;else if(n(l))s[a]=l;else if(e(l)){const u=s[a];e(u)?s[a]=lc(u,l):s[a]=lc(l)}else s[a]=l}return s}function aI(t,e){return lc(iI,t,e||{})}function lI(t,e){return lc(oI,t,e||{})}class cI{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:o},a){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!l)return{data:null,error:u};const f=o??XO.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:p}=l.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${s}`),p.displayName||(p.displayName=p.name)}switch(l.webauthn.type){case"create":{const p=aI(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:m,error:y}=await rI({publicKey:p,signal:f});return m?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:y}}case"request":{const p=lI(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:m,error:y}=await sI(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:p,signal:f}));return m?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:y}}}}catch(l){return pe(l)?{data:null,error:l}:{data:null,error:new is("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}},a){if(!n)return{data:null,error:new Qo("rpId is required for WebAuthn authentication")};try{if(!G0())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:o},{request:a});if(!l)return{data:null,error:u};const{webauthn:f}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:s,credential_response:f.credential_response}})}catch(l){return pe(l)?{data:null,error:l}:{data:null,error:new is("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o},a){if(!n)return{data:null,error:new Qo("rpId is required for WebAuthn registration")};try{if(!G0())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(m=>{var y;return(y=m.data)===null||y===void 0?void 0:y.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:u};const{data:f,error:p}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:o},{create:a});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:s,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:p}}catch(l){return pe(l)?{data:null,error:l}:{data:null,error:new is("Unexpected error in register",l)}}}}HO();const uI={url:iO,storageKey:oO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:aO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function K0(t,e,n){return await n()}const si={};class Xo{get jwks(){var e,n;return(n=(e=si[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){si[this.storageKey]=Object.assign(Object.assign({},si[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=si[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){si[this.storageKey]=Object.assign(Object.assign({},si[this.storageKey]),{cachedAt:e})}constructor(e){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xo.nextInstanceID,Xo.nextInstanceID+=1,this.instanceID>0&&zt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},uI),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new zO({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Gb(o.fetch),this.lock=o.lock||K0,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:zt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=WO:this.lock=K0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new cI(this)},this.persistSession?(o.storage?this.storage=o.storage:Hb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=H0(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=H0(this.memoryStorage)),zt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zb}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=bO(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),zt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),hO(a)){const f=(e=a.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:u}=o;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return pe(n)?{error:n}:{error:new is("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,o;try{const a=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:pn}),{data:l,error:u}=a;if(u||!l)return{data:{user:null,session:null},error:u};const f=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(a){if(pe(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,s,o;try{let a;if("email"in e){const{email:m,password:y,options:v}=e;let x=null,_=null;this.flowType==="pkce"&&([x,_]=await ti(this.storage,this.storageKey)),a=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:m,password:y,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:x,code_challenge_method:_},xform:pn})}else if("phone"in e){const{phone:m,password:y,options:v}=e;a=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:y,data:(s=v==null?void 0:v.data)!==null&&s!==void 0?s:{},channel:(o=v==null?void 0:v.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:pn})}else throw new Pl("You must provide either an email or phone number and a password");const{data:l,error:u}=a;if(u||!l)return{data:{user:null,session:null},error:u};const f=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(a){if(pe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:l,options:u}=e;n=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:B0})}else if("phone"in e){const{phone:a,password:l,options:u}=e;n=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:B0})}else throw new Pl("You must provide either an email or phone number and a password");const{data:s,error:o}=n;return o?{data:{user:null,session:null},error:o}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new ei}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,o,a,l,u,f,p,m,y,v;let x,_;if("message"in e)x=e.message,_=e.signature;else{const{chain:S,wallet:j,statement:T,options:E}=e;let C;if(zt())if(typeof j=="object")C=j;else{const G=window;if("ethereum"in G&&typeof G.ethereum=="object"&&"request"in G.ethereum&&typeof G.ethereum.request=="function")C=G.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=j}const N=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href),R=await C.request({method:"eth_requestAccounts"}).then(G=>G).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=qb(R[0]);let D=(s=E==null?void 0:E.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!D){const G=await C.request({method:"eth_chainId"});D=GO(G)}const $={domain:N.host,address:M,statement:T,uri:N.href,version:"1",chainId:D,nonce:(o=E==null?void 0:E.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(l=(a=E==null?void 0:E.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=E==null?void 0:E.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=E==null?void 0:E.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(p=E==null?void 0:E.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(m=E==null?void 0:E.signInWithEthereum)===null||m===void 0?void 0:m.resources};x=qO($),_=await C.request({method:"personal_sign",params:[KO(x),M]})}try{const{data:S,error:j}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:_},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:pn});if(j)throw j;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new ei}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:j})}catch(S){if(pe(S))return{data:{user:null,session:null},error:S};throw S}}async signInWithSolana(e){var n,s,o,a,l,u,f,p,m,y,v,x;let _,S;if("message"in e)_=e.message,S=e.signature;else{const{chain:j,wallet:T,statement:E,options:C}=e;let N;if(zt())if(typeof T=="object")N=T;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))N=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=T}const R=new URL((n=C==null?void 0:C.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in N&&N.signIn){const M=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),E?{statement:E}:null));let D;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")D=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)D=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)_=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),S=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${R.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(o=(s=C==null?void 0:C.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=C==null?void 0:C.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((l=C==null?void 0:C.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((u=C==null?void 0:C.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((f=C==null?void 0:C.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((p=C==null?void 0:C.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((y=(m=C==null?void 0:C.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||y===void 0)&&y.length?["Resources",...C.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const M=await N.signMessage(new TextEncoder().encode(_),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=M}}try{const{data:j,error:T}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:us(S)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:pn});if(T)throw T;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new ei}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:T})}catch(j){if(pe(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const n=await es(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(n??"").split("/");try{const{data:a,error:l}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:pn});if(await jr(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new ei}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:l})}catch(a){if(pe(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:s,token:o,access_token:a,nonce:l}=e,u=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:pn}),{data:f,error:p}=u;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new ei}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:p})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,o,a,l;try{if("email"in e){const{email:u,options:f}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await ti(this.storage,this.storageKey));const{error:y}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:m},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:u,options:f}=e,{data:p,error:m}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=f==null?void 0:f.data)!==null&&o!==void 0?o:{},create_user:(a=f==null?void 0:f.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:m}}throw new Pl("You must provide either an email or phone number.")}catch(u){if(pe(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,s;try{let o,a;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:l,error:u}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:pn});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,p=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(o){if(pe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var n,s,o;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await ti(this.storage,this.storageKey)),await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:$O})}catch(a){if(pe(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new Cr;const{error:o}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(pe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:a}=e,{error:l}=await _e(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:s,type:o,options:a}=e,{data:l,error:u}=await _e(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Pl("You must provide either an email or phone number and a type")}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await es(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<of:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const l=await es(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=cf()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,p,m)=>(!l&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,p,m))})}return{data:{session:e},error:null}}const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Nr}):await this._useSession(async n=>{var s,o,a;const{data:l,error:u}=n;if(u)throw u;return!(!((s=l.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Cr}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Nr})})}catch(n){if(pe(n))return fO(n)&&(await this._removeSession(),await jr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:o,error:a}=s;if(a)throw a;if(!o.session)throw new Cr;const l=o.session;let u=null,f=null;this.flowType==="pkce"&&e.email!=null&&([u,f]=await ti(this.storage,this.storageKey));const{data:p,error:m}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:f}),jwt:l.access_token,xform:Nr});if(m)throw m;return l.user=p.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Cr;const n=Date.now()/1e3;let s=n,o=!0,a=null;const{payload:l}=lf(e.access_token);if(l.exp&&(s=l.exp,o=s<=n),o){const{data:u,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:f}=await this._getUser(e.access_token);if(f)throw f;a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(pe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:l,error:u}=n;if(u)throw u;e=(s=l.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Cr;const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!zt())throw new Al("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Al(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new L0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Al("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new L0("No code detected.");const{data:E,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:a,refresh_token:l,expires_in:u,expires_at:f,token_type:p}=e;if(!a||!u||!l||!p)throw new Al("No session defined in URL");const m=Math.round(Date.now()/1e3),y=parseInt(u);let v=m+y;f&&(v=parseInt(f));const x=v-m;x*1e3<=li&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${y}s`);const _=v-y;m-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,v,m):m-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,v,m);const{data:S,error:j}=await this._getUser(a);if(j)throw j;const T={provider_token:s,provider_refresh_token:o,access_token:a,expires_in:y,expires_at:v,refresh_token:l,token_type:p,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:e.type},error:null}}catch(s){if(pe(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await es(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:o,error:a}=n;if(a)return{error:a};const l=(s=o.session)===null||s===void 0?void 0:s.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(dO(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await jr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=xO(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,o;try{const{data:{session:a},error:l}=n;if(l)throw l;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await ti(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(pe(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:o}=await this._useSession(async a=>{var l,u,f,p,m;const{data:y,error:v}=a;if(v)throw v;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",x,{headers:this.headers,jwt:(m=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return zt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(pe(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:o,data:{session:a}}=n;if(o)throw o;const{options:l,provider:u,token:f,access_token:p,nonce:m}=e,y=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=a==null?void 0:a.access_token)!==null&&s!==void 0?s:void 0,body:{provider:u,id_token:f,access_token:p,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:pn}),{data:v,error:x}=y;return x?{data:{user:null,session:null},error:x}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new ei}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:x})}catch(o){if(pe(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,o;const{data:a,error:l}=n;if(l)throw l;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await kO(async o=>(o>0&&await _O(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pn})),(o,a)=>{const l=200*Math.pow(2,o);return a&&af(a)&&Date.now()+l-s<li})}catch(s){if(this._debug(n,"error",s),pe(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),zt()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await es(this.storage,this.storageKey);if(o&&this.userStorage){let l=await es(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:o.user},await ci(this.userStorage,this.storageKey+"-user",l)),o.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:cf()}else if(o&&!o.user&&!o.user){const l=await es(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(o.user=l.user,await jr(this.storage,this.storageKey+"-user"),await ci(this.storage,this.storageKey,o)):o.user=cf()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const a=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<of;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${of}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:l}=await this._callRefreshToken(o.refresh_token);l&&(console.error(l),af(l)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(o.access_token);!u&&(l!=null&&l.user)?(o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(s,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new Cr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ec;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new Cr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(o,"error",a),pe(a)){const l={data:null,error:a};return af(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(f){a.push(f)}});if(await Promise.all(l),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await ci(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const a=U0(o);await ci(this.storage,this.storageKey,a)}else{const o=U0(n);await ci(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await jr(this.storage,this.storageKey),await jr(this.storage,this.storageKey+"-code-verifier"),await jr(this.storage,this.storageKey+"-user"),this.userStorage&&await jr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&zt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),li);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/li);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${li}ms, refresh threshold is ${th} ticks`),o<=th&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Kb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const o=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,l]=await ti(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});o.push(u.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);o.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:o,error:a}=n;return a?{data:null,error:a}:await _e(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,o;const{data:a,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:p}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&f.type==="totp"&&(!((o=f==null?void 0:f.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?tI(e.webauthn.credential_response):nI(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:f}=await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:f})})}catch(n){if(pe(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:a}=n;if(a)return{data:null,error:a};const l=await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:ZO(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:eI(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(pe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:o},error:a}=e;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=lf(o.access_token);let u=null;l.aal&&(u=l.aal);let f=u;((s=(n=o.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(u=>u.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(u=>u.kid===e),s&&this.jwks_cached_at+cO>o)return s;const{data:a,error:l}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,s=a.keys.find(u=>u.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:x,error:_}=await this.getSession();if(_||!x.session)return{data:null,error:_};s=x.session.access_token}const{header:o,payload:a,signature:l,raw:{header:u,payload:f}}=lf(s);n!=null&&n.allowExpired||AO(a.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:x}=await this.getUser(s);if(x)throw x;return{data:{claims:a,header:o,signature:l},error:null}}const m=RO(o.alg),y=await crypto.subtle.importKey("jwk",p,m,!0,["verify"]);if(!await crypto.subtle.verify(m,y,l,vO(`${u}.${f}`)))throw new sh("Invalid JWT signature");return{data:{claims:a,header:o,signature:l},error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}}}Xo.nextInstanceID=0;const dI=Xo;class fI extends dI{constructor(e){super(e)}}var hI=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(m){try{p(s.next(m))}catch(y){l(y)}}function f(m){try{p(s.throw(m))}catch(y){l(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,f)}p((s=s.apply(t,e||[])).next())})};class pI{constructor(e,n,s){var o,a,l;this.supabaseUrl=e,this.supabaseKey=n;const u=sO(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,p={db:qR,realtime:JR,auth:Object.assign(Object.assign({},YR),{storageKey:f}),global:KR},m=rO(s??{},p);this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=m.global.headers)!==null&&a!==void 0?a:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=eO(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new uR(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new WR(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new eR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return hI(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:o,userStorage:a,storageKey:l,flowType:u,lock:f,debug:p},m,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fI({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),m),storageKey:l,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:o,userStorage:a,flowType:u,lock:f,debug:p,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new CR(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mI=(t,e,n)=>new pI(t,e,n);function gI(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}gI()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const vp="qwvxgdrhjtgqwwksqebf",wp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF3dnhnZHJoanRncXd3a3NxZWJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgxNTA2NDIsImV4cCI6MjA3MzcyNjY0Mn0.A37IkjTB0pZCs1JQEuE65IL6OQt0gJk1Wt6YpVpGnKA",Qb=`https://${vp}.supabase.co`,Xb=typeof process<"u"&&!1,q0=Object.freeze(Object.defineProperty({__proto__:null,isDevelopment:Xb,projectId:vp,publicAnonKey:wp,supabaseUrl:Qb},Symbol.toStringTag,{value:"Module"})),Le=mI(Qb,wp,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"vibetune-auth",flowType:"pkce",debug:Xb},realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"vibetune-web","X-App-Version":"1.0.0"}},db:{schema:"public"}});class Rn{static async signUp({email:e,password:n,username:s}){try{console.log("🔄 Starting signup for:",e);const{data:o,error:a}=await Le.auth.signUp({email:e,password:n,options:{data:{username:s,display_name:s}}});if(a)throw console.error("❌ Signup error:",a),a;if(console.log("✅ Signup successful:",{hasUser:!!o.user,hasSession:!!o.session,needsConfirmation:!o.session}),o.user&&!o.session)return{data:{user:o.user,needsConfirmation:!0,message:"Please check your email and click the confirmation link, then try signing in."},error:null};if(o.user&&o.session){const l={id:o.user.id,email:o.user.email||e,username:s,level:null,placement_test_completed:!1,created_at:o.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()},{error:u}=await Le.from("profiles").upsert(l,{onConflict:"id"});return u&&console.warn("⚠️ Profile creation failed:",u),{data:{user:o.user,profile:l},error:null}}return{data:o,error:null}}catch(o){return console.error("❌ Signup failed:",o),{data:null,error:o}}}static async signIn({email:e,password:n}){var s,o,a,l,u;try{console.log("🔄 Starting signin for:",e);const{data:f,error:p}=await Le.auth.signInWithPassword({email:e,password:n});if(p)throw console.error("❌ Signin error:",p),p;if(console.log("✅ Signin successful:",{hasUser:!!f.user,hasSession:!!f.session}),f.user&&f.session){let{data:m,error:y}=await Le.from("profiles").select("*").eq("id",f.user.id).single();if(y&&y.code==="PGRST116"){const v={id:f.user.id,email:f.user.email||e,username:((s=f.user.user_metadata)==null?void 0:s.username)||((o=f.user.user_metadata)==null?void 0:o.display_name)||((a=f.user.email)==null?void 0:a.split("@")[0])||"User",level:null,placement_test_completed:!1,created_at:f.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()},{error:x}=await Le.from("profiles").insert(v);x&&console.warn("⚠️ Profile creation failed:",x),m=v}else if(y)console.error("❌ Profile fetch error:",y),m={id:f.user.id,email:f.user.email||e,username:((l=f.user.user_metadata)==null?void 0:l.username)||((u=f.user.email)==null?void 0:u.split("@")[0])||"User",level:null,placement_test_completed:!1,created_at:f.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()};else{const{error:v}=await Le.from("profiles").update({last_login:new Date().toISOString()}).eq("id",f.user.id);v&&console.warn("⚠️ Last login update failed:",v)}return{data:{user:f.user,profile:m},error:null}}return{data:f,error:null}}catch(f){return console.error("❌ Signin failed:",f),{data:null,error:f}}}static async signOut(){try{console.log("🔄 Signing out...");const{error:e}=await Le.auth.signOut();return e?console.error("❌ Signout error:",e):console.log("✅ Signout successful"),{error:e}}catch(e){return console.error("❌ Signout failed:",e),{error:e}}}static async signInWithOAuth(e){try{console.log(`🔄 Starting OAuth with ${e}...`);const{data:n,error:s}=await Le.auth.signInWithOAuth({provider:e,options:{redirectTo:window.location.origin}});if(s)throw console.error(`❌ OAuth ${e} error:`,s),s;return{data:n,error:s}}catch(n){return console.error(`❌ OAuth ${e} failed:`,n),{data:null,error:n}}}static async resetPassword(e){try{console.log("🔄 Sending password reset for:",e);const{data:n,error:s}=await Le.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});if(s)throw console.error("❌ Password reset error:",s),s;return console.log("✅ Password reset email sent"),{data:n,error:s}}catch(n){return console.error("❌ Password reset failed:",n),{data:null,error:n}}}static async updateProfile(e,n,s){var o;try{console.log("🔄 Updating profile:",{userId:e,updates:n});const{data:a}=await Le.auth.getSession();if((o=a==null?void 0:a.session)!=null&&o.user){const{data:l}=await Le.from("profiles").select("*").eq("id",e).single(),u={id:e,email:(l==null?void 0:l.email)||a.session.user.email||n.email,username:n.username||(l==null?void 0:l.username)||"User",level:n.level!==void 0?n.level:l==null?void 0:l.level,placement_test_completed:n.placement_test_completed!==void 0?n.placement_test_completed:(l==null?void 0:l.placement_test_completed)||!1,placement_test_score:n.placement_test_score!==void 0?n.placement_test_score:l==null?void 0:l.placement_test_score,created_at:(l==null?void 0:l.created_at)||new Date().toISOString(),last_login:new Date().toISOString(),device_id:(l==null?void 0:l.device_id)||this.getDeviceId()},{data:f,error:p}=await Le.from("profiles").upsert(u,{onConflict:"id"}).select().single();return p?(console.error("❌ Profile update error:",p),{data:null,error:p}):(console.log("✅ Profile updated successfully"),{data:f,error:null})}if(s){const l={...s,username:n.username||s.username,level:n.level!==void 0?n.level:s.level,placement_test_completed:n.placement_test_completed!==void 0?n.placement_test_completed:s.placement_test_completed,placement_test_score:n.placement_test_score!==void 0?n.placement_test_score:s.placement_test_score,last_login:new Date().toISOString()};return console.log("✅ Demo profile updated"),{data:l,error:null}}return console.warn("⚠️ No session or existing profile for update"),{data:null,error:new Error("No valid session or profile")}}catch(a){return console.error("❌ Profile update failed:",a),{data:null,error:a}}}static async getCurrentSession(){var e,n;try{console.log("🔄 Checking current session...");const{data:{session:s},error:o}=await Le.auth.getSession();if(o)return console.error("❌ Session check error:",o),{data:null,error:o};if(!(s!=null&&s.user))return console.log("❌ No active session"),{data:null,error:null};console.log("✅ Active session found");const{data:a,error:l}=await Le.from("profiles").select("*").eq("id",s.user.id).single();l&&l.code!=="PGRST116"&&console.error("❌ Profile fetch error:",l);const u=a||{id:s.user.id,email:s.user.email||"",username:((e=s.user.user_metadata)==null?void 0:e.username)||((n=s.user.email)==null?void 0:n.split("@")[0])||"User",level:null,placement_test_completed:!1,created_at:s.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()};return{data:{session:s,user:s.user,profile:u},error:null}}catch(s){return console.error("❌ Session check failed:",s),{data:null,error:s}}}static getDeviceId(){let e=localStorage.getItem("vibetune-device-id");return e||(e="device-"+Math.random().toString(36).substr(2,9),localStorage.setItem("vibetune-device-id",e)),e}}async function ih(){try{console.log("🔍 Testing authentication system...");const{data:t,error:e}=await Le.auth.getSession();return e?(console.error("❌ Auth test failed:",e),!1):(console.log("✅ Auth system test passed"),!0)}catch(t){return console.error("❌ Auth test error:",t),!1}}const Y0=Object.freeze(Object.defineProperty({__proto__:null,SimpleAuthService:Rn,testAuth:ih},Symbol.toStringTag,{value:"Module"})),Zb=()=>{const t=navigator.userAgent;return{isMobile:/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t),isTablet:/iPad|Android.*(?!.*Mobile)|Silk/i.test(t),isDesktop:!/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t),platform:navigator.platform,userAgent:t,language:navigator.language,onLine:navigator.onLine}},oh=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),eS=t=>{const e=[];return t.length<6&&e.push("Password must be at least 6 characters long"),{isValid:e.length===0,errors:e}},yI=(t,e)=>{setTimeout(async()=>{try{if(typeof window>"u"){console.log("Analytics: No window object, skipping event:",t);return}const{AnalyticsService:n}=await vn(async()=>{const{AnalyticsService:s}=await import("./analyticsServiceSimple-5HgWIX1f.js");return{AnalyticsService:s}},[]);n.track(t,{...e,deviceInfo:Zb()})}catch(n){console.warn("Analytics import failed, using direct fallback:",n);try{if(typeof localStorage>"u"){console.log("Analytics: No localStorage available");return}const s=JSON.parse(localStorage.getItem("vibetune_analytics_simple")||"[]");s.push({event_type:t,metadata:{...e,timestamp:Date.now(),created_at:new Date().toISOString()}}),s.length>100&&s.splice(0,s.length-100),localStorage.setItem("vibetune_analytics_simple",JSON.stringify(s)),console.log("Analytics: Event stored via direct fallback:",t)}catch{console.log("Analytics: All methods failed, skipping event:",t)}}},0)},vI=Object.freeze(Object.defineProperty({__proto__:null,getDeviceInfo:Zb,trackEvent:yI,validateEmail:oh,validatePassword:eS},Symbol.toStringTag,{value:"Module"}));function J0({onAuthComplete:t,onBack:e,mode:n="signin"}){const[s,o]=b.useState(n==="signin"),[a,l]=b.useState(!1),[u,f]=b.useState(!1),[p,m]=b.useState(""),[y,v]=b.useState(""),[x,_]=b.useState({email:"",password:"",username:"",confirmPassword:""});b.useEffect(()=>{o(n==="signin")},[n]);const S=async C=>{var N,R;C.preventDefault(),m(""),v(""),f(!0);try{if(console.log("🔄 Starting authentication...",{isLogin:s,email:x.email}),!oh(x.email))throw new Error("Please enter a valid email address");if(!x.password)throw new Error("Password is required");if(!s){const D=eS(x.password);if(!D.isValid)throw new Error(D.errors[0]);if(x.password!==x.confirmPassword)throw new Error("Passwords do not match");if(!x.username.trim())throw new Error("Username is required")}let M;if(s?M=await Rn.signIn({email:x.email.trim().toLowerCase(),password:x.password}):M=await Rn.signUp({email:x.email.trim().toLowerCase(),password:x.password,username:x.username.trim()}),console.log("🔄 Auth result:",{success:!!M.data,error:!!M.error}),M.error){console.error("❌ Auth error:",M.error);let D=M.error.message||"An error occurred during authentication";throw D.includes("Invalid login credentials")?D="Invalid email or password. Please check your credentials and try again.":D.includes("User already registered")?D="An account with this email already exists. Try signing in instead.":D.includes("Email not confirmed")?D="Please check your email and click the confirmation link before signing in.":D.includes("Too many requests")&&(D="Too many attempts. Please wait a moment and try again."),new Error(D)}if((N=M.data)!=null&&N.profile)console.log("✅ Authentication successful with profile"),v(s?"Welcome back!":"Account created successfully!"),setTimeout(()=>{t(M.data.profile)},500);else if((R=M.data)!=null&&R.needsConfirmation){console.log("📧 User needs email confirmation");const D=M.data.message||"Please check your email and click the confirmation link, then try signing in.";v(D),s||setTimeout(()=>{o(!0),_($=>({...$,password:"",confirmPassword:""}))},3e3)}else throw console.warn("⚠️ Unexpected result structure:",M),new Error("Authentication completed but no user data received")}catch(M){console.error("❌ Authentication error:",M),m(M.message||"An unexpected error occurred during authentication")}finally{f(!1)}},j=async()=>{if(!x.email){m("Please enter your email address first");return}if(!oh(x.email)){m("Please enter a valid email address");return}m(""),f(!0);try{const{error:C}=await Rn.resetPassword(x.email);if(C)throw C;v("Password reset email sent! Check your inbox.")}catch(C){m(C.message||"Failed to send password reset email")}finally{f(!1)}},T=async()=>{try{m(""),v(""),console.log("🔍 Testing authentication system..."),await ih()?v("✓ Authentication system is working! You can now sign up or sign in."):m("✗ Authentication system test failed. Check console for details.")}catch(C){console.error("❌ Connection test error:",C),m(`Connection test failed: ${C.message}`)}},E=()=>{console.log("🧪 Creating demo user..."),v("Creating demo user...");const C={id:"demo-user-"+Date.now(),email:"demo@vibetune.com",username:"Demo User",level:null,placement_test_completed:!1,created_at:new Date().toISOString(),last_login:new Date().toISOString(),device_id:"demo-device-"+Date.now()};setTimeout(()=>{console.log("✅ Demo profile created, completing auth..."),t(C)},500)};return d.jsx("div",{className:"min-h-screen bg-background flex flex-col justify-center p-4",children:d.jsxs("div",{className:"max-w-sm mx-auto w-full space-y-6",children:[d.jsxs(me.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[d.jsx(Wo,{className:"w-8 h-8 text-accent"}),d.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"VibeTune"})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:s?"Welcome back!":"Join the prosody learning community"})]}),p&&d.jsx(me.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:d.jsxs(ps,{variant:"destructive",children:[d.jsx(ds,{className:"h-4 w-4"}),d.jsx(ms,{children:p})]})}),y&&d.jsx(me.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:d.jsxs(ps,{className:"border-green-200 bg-green-50",children:[d.jsx(Zn,{className:"h-4 w-4 text-green-600"}),d.jsx(ms,{className:"text-green-800",children:y})]})}),d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:d.jsxs(gt,{children:[d.jsxs(yn,{children:[d.jsx(tn,{children:s?"Sign In":"Create Account"}),d.jsx(Ro,{children:s?"Enter your credentials to access your learning progress":"Start your English prosody learning journey"})]}),d.jsxs(yt,{children:[d.jsxs("form",{onSubmit:S,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(pt,{htmlFor:"email",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(Yw,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(cs,{id:"email",type:"email",placeholder:"your@email.com",className:"pl-10",value:x.email,onChange:C=>_({...x,email:C.target.value}),required:!0,disabled:u})]})]}),!s&&d.jsxs(me.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-2",children:[d.jsx(pt,{htmlFor:"username",children:"Username"}),d.jsx(cs,{id:"username",type:"text",placeholder:"Your display name",value:x.username,onChange:C=>_({...x,username:C.target.value}),required:!0,disabled:u})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(pt,{htmlFor:"password",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(Oo,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(cs,{id:"password",type:a?"text":"password",placeholder:"Enter your password",className:"pl-10 pr-10",value:x.password,onChange:C=>_({...x,password:C.target.value}),required:!0,disabled:u}),d.jsx(ce,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>l(!a),disabled:u,children:a?d.jsx(iC,{className:"h-4 w-4"}):d.jsx(Ef,{className:"h-4 w-4"})})]})]}),!s&&d.jsxs(me.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-2",children:[d.jsx(pt,{htmlFor:"confirmPassword",children:"Confirm Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(Oo,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(cs,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",className:"pl-10",value:x.confirmPassword,onChange:C=>_({...x,confirmPassword:C.target.value}),required:!0,disabled:u})]})]}),d.jsxs(ce,{type:"submit",className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",disabled:u,children:[u&&d.jsx(wn,{className:"w-4 h-4 mr-2 animate-spin"}),s?"Sign In":"Create Account"]})]}),s&&d.jsx("div",{className:"mt-4 text-center",children:d.jsx(ce,{variant:"link",onClick:j,disabled:u,className:"text-sm",children:"Forgot your password?"})}),d.jsxs("div",{className:"mt-4 text-center text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:s?"Don't have an account? ":"Already have an account? "}),d.jsx(ce,{variant:"link",onClick:()=>{o(!s),m(""),v(""),_({email:x.email,password:"",username:"",confirmPassword:""})},disabled:u,className:"p-0 h-auto font-semibold",children:s?"Sign up":"Sign in"})]})]})]})}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(ce,{variant:"default",className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold",onClick:E,disabled:u,children:"🎭 Continue with Demo User"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx(ce,{variant:"outline",size:"sm",onClick:T,disabled:u,children:u?d.jsx(wn,{className:"w-3 h-3 animate-spin"}):"Test Connection"}),d.jsx(ce,{variant:"outline",size:"sm",onClick:async()=>{f(!0);try{await ih()?v("✓ Auth system working"):m("✗ Auth system failed")}catch(C){m("Auth test error: "+C.message)}finally{f(!1)}},disabled:u,children:u?d.jsx(wn,{className:"w-3 h-3 animate-spin"}):"Check Auth"})]}),d.jsxs("div",{className:"text-xs text-muted-foreground text-center space-y-1",children:[d.jsx("p",{children:"💡 Having trouble? Try the demo user button above"}),d.jsx("p",{children:"🔄 Or check your email for confirmation if you just signed up"})]})]}),d.jsx("div",{className:"text-center",children:d.jsx(ce,{variant:"ghost",onClick:e,disabled:u,children:"Back to Welcome"})})]})})}function Pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t==null||t(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}var $n=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},wI=Cw[" useId ".trim().toString()]||(()=>{}),xI=0;function gs(t){const[e,n]=b.useState(wI());return $n(()=>{n(s=>s??String(xI++))},[t]),t||(e?`radix-${e}`:"")}var bI=Cw[" useInsertionEffect ".trim().toString()]||$n;function xs({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[o,a,l]=SI({defaultProp:e,onChange:n}),u=t!==void 0,f=u?t:o;{const m=b.useRef(t!==void 0);b.useEffect(()=>{const y=m.current;y!==u&&console.warn(`${s} is changing from ${y?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,s])}const p=b.useCallback(m=>{var y;if(u){const v=_I(m)?m(t):m;v!==t&&((y=l.current)==null||y.call(l,v))}else a(m)},[u,t,a,l]);return[f,p]}function SI({defaultProp:t,onChange:e}){const[n,s]=b.useState(t),o=b.useRef(n),a=b.useRef(e);return bI(()=>{a.current=e},[e]),b.useEffect(()=>{var l;o.current!==n&&((l=a.current)==null||l.call(a,n),o.current=n)},[n,o]),[n,s,a]}function _I(t){return typeof t=="function"}function Lt(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}function kI(t,e=globalThis==null?void 0:globalThis.document){const n=Lt(t);b.useEffect(()=>{const s=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var jI="DismissableLayer",ah="dismissableLayer.update",EI="dismissableLayer.pointerDownOutside",CI="dismissableLayer.focusOutside",Q0,tS=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xp=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...f}=t,p=b.useContext(tS),[m,y]=b.useState(null),v=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=b.useState({}),_=Fe(e,D=>y(D)),S=Array.from(p.layers),[j]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),T=S.indexOf(j),E=m?S.indexOf(m):-1,C=p.layersWithOutsidePointerEventsDisabled.size>0,N=E>=T,R=PI(D=>{const $=D.target,G=[...p.branches].some(X=>X.contains($));!N||G||(o==null||o(D),l==null||l(D),D.defaultPrevented||u==null||u())},v),M=AI(D=>{const $=D.target;[...p.branches].some(X=>X.contains($))||(a==null||a(D),l==null||l(D),D.defaultPrevented||u==null||u())},v);return kI(D=>{E===p.layers.size-1&&(s==null||s(D),!D.defaultPrevented&&u&&(D.preventDefault(),u()))},v),b.useEffect(()=>{if(m)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Q0=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),X0(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Q0)}},[m,v,n,p]),b.useEffect(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),X0())},[m,p]),b.useEffect(()=>{const D=()=>x({});return document.addEventListener(ah,D),()=>document.removeEventListener(ah,D)},[]),d.jsx(Ne.div,{...f,ref:_,style:{pointerEvents:C?N?"auto":"none":void 0,...t.style},onFocusCapture:Pe(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Pe(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Pe(t.onPointerDownCapture,R.onPointerDownCapture)})});xp.displayName=jI;var TI="DismissableLayerBranch",NI=b.forwardRef((t,e)=>{const n=b.useContext(tS),s=b.useRef(null),o=Fe(e,s);return b.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),d.jsx(Ne.div,{...t,ref:o})});NI.displayName=TI;function PI(t,e=globalThis==null?void 0:globalThis.document){const n=Lt(t),s=b.useRef(!1),o=b.useRef(()=>{});return b.useEffect(()=>{const a=u=>{if(u.target&&!s.current){let f=function(){nS(EI,n,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);s.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function AI(t,e=globalThis==null?void 0:globalThis.document){const n=Lt(t),s=b.useRef(!1);return b.useEffect(()=>{const o=a=>{a.target&&!s.current&&nS(CI,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function X0(){const t=new CustomEvent(ah);document.dispatchEvent(t)}function nS(t,e,n,{discrete:s}){const o=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),s?wE(o,a):o.dispatchEvent(a)}var df="focusScope.autoFocusOnMount",ff="focusScope.autoFocusOnUnmount",Z0={bubbles:!1,cancelable:!0},RI="FocusScope",rS=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...l}=t,[u,f]=b.useState(null),p=Lt(o),m=Lt(a),y=b.useRef(null),v=Fe(e,S=>f(S)),x=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(s){let S=function(C){if(x.paused||!u)return;const N=C.target;u.contains(N)?y.current=N:Tr(y.current,{select:!0})},j=function(C){if(x.paused||!u)return;const N=C.relatedTarget;N!==null&&(u.contains(N)||Tr(y.current,{select:!0}))},T=function(C){if(document.activeElement===document.body)for(const R of C)R.removedNodes.length>0&&Tr(u)};document.addEventListener("focusin",S),document.addEventListener("focusout",j);const E=new MutationObserver(T);return u&&E.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",j),E.disconnect()}}},[s,u,x.paused]),b.useEffect(()=>{if(u){tw.add(x);const S=document.activeElement;if(!u.contains(S)){const T=new CustomEvent(df,Z0);u.addEventListener(df,p),u.dispatchEvent(T),T.defaultPrevented||(OI($I(sS(u)),{select:!0}),document.activeElement===S&&Tr(u))}return()=>{u.removeEventListener(df,p),setTimeout(()=>{const T=new CustomEvent(ff,Z0);u.addEventListener(ff,m),u.dispatchEvent(T),T.defaultPrevented||Tr(S??document.body,{select:!0}),u.removeEventListener(ff,m),tw.remove(x)},0)}}},[u,p,m,x]);const _=b.useCallback(S=>{if(!n&&!s||x.paused)return;const j=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,T=document.activeElement;if(j&&T){const E=S.currentTarget,[C,N]=II(E);C&&N?!S.shiftKey&&T===N?(S.preventDefault(),n&&Tr(C,{select:!0})):S.shiftKey&&T===C&&(S.preventDefault(),n&&Tr(N,{select:!0})):T===E&&S.preventDefault()}},[n,s,x.paused]);return d.jsx(Ne.div,{tabIndex:-1,...l,ref:v,onKeyDown:_})});rS.displayName=RI;function OI(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(Tr(s,{select:e}),document.activeElement!==n)return}function II(t){const e=sS(t),n=ew(e,t),s=ew(e.reverse(),t);return[n,s]}function sS(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ew(t,e){for(const n of t)if(!MI(n,{upTo:e}))return n}function MI(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function LI(t){return t instanceof HTMLInputElement&&"select"in t}function Tr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&LI(t)&&e&&t.select()}}var tw=DI();function DI(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=nw(t,e),t.unshift(e)},remove(e){var n;t=nw(t,e),(n=t[0])==null||n.resume()}}}function nw(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function $I(t){return t.filter(e=>e.tagName!=="A")}var FI="Portal",bp=b.forwardRef((t,e)=>{var u;const{container:n,...s}=t,[o,a]=b.useState(!1);$n(()=>a(!0),[]);const l=n||o&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?yE.createPortal(d.jsx(Ne.div,{...s,ref:e}),l):null});bp.displayName=FI;function VI(t,e){return b.useReducer((n,s)=>e[n][s]??n,t)}var Ht=t=>{const{present:e,children:n}=t,s=UI(e),o=typeof n=="function"?n({present:s.isPresent}):b.Children.only(n),a=Fe(s.ref,zI(o));return typeof n=="function"||s.isPresent?b.cloneElement(o,{ref:a}):null};Ht.displayName="Presence";function UI(t){const[e,n]=b.useState(),s=b.useRef(null),o=b.useRef(t),a=b.useRef("none"),l=t?"mounted":"unmounted",[u,f]=VI(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const p=Rl(s.current);a.current=u==="mounted"?p:"none"},[u]),$n(()=>{const p=s.current,m=o.current;if(m!==t){const v=a.current,x=Rl(p);t?f("MOUNT"):x==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(m&&v!==x?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,f]),$n(()=>{if(e){let p;const m=e.ownerDocument.defaultView??window,y=x=>{const S=Rl(s.current).includes(CSS.escape(x.animationName));if(x.target===e&&S&&(f("ANIMATION_END"),!o.current)){const j=e.style.animationFillMode;e.style.animationFillMode="forwards",p=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=j)})}},v=x=>{x.target===e&&(a.current=Rl(s.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{m.clearTimeout(p),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:b.useCallback(p=>{s.current=p?getComputedStyle(p):null,n(p)},[])}}function Rl(t){return(t==null?void 0:t.animationName)||"none"}function zI(t){var s,o;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var hf=0;function BI(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??rw()),document.body.insertAdjacentElement("beforeend",t[1]??rw()),hf++,()=>{hf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),hf--}},[])}function rw(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var An=function(){return An=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},An.apply(this,arguments)};function iS(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function WI(t,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,a;s<o;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))}var Wl="right-scroll-bar-position",Hl="width-before-scroll-bar",HI="with-scroll-bars-hidden",GI="--removed-body-scroll-bar-size";function pf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function KI(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var o=n.value;o!==s&&(n.value=s,n.callback(s,o))}}}})[0];return n.callback=e,n.facade}var qI=typeof window<"u"?b.useLayoutEffect:b.useEffect,sw=new WeakMap;function YI(t,e){var n=KI(null,function(s){return t.forEach(function(o){return pf(o,s)})});return qI(function(){var s=sw.get(n);if(s){var o=new Set(s),a=new Set(t),l=n.current;o.forEach(function(u){a.has(u)||pf(u,null)}),a.forEach(function(u){o.has(u)||pf(u,l)})}sw.set(n,t)},[t]),n}function JI(t){return t}function QI(t,e){e===void 0&&(e=JI);var n=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var l=e(a,s);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(s=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){s=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(a),l=n}var f=function(){var m=l;l=[],m.forEach(a)},p=function(){return Promise.resolve().then(f)};p(),n={push:function(m){l.push(m),p()},filter:function(m){return l=l.filter(m),n}}}};return o}function XI(t){t===void 0&&(t={});var e=QI(null);return e.options=An({async:!0,ssr:!1},t),e}var oS=function(t){var e=t.sideCar,n=iS(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return b.createElement(s,An({},n))};oS.isSideCarExport=!0;function ZI(t,e){return t.useMedium(e),oS}var aS=XI(),mf=function(){},Cc=b.forwardRef(function(t,e){var n=b.useRef(null),s=b.useState({onScrollCapture:mf,onWheelCapture:mf,onTouchMoveCapture:mf}),o=s[0],a=s[1],l=t.forwardProps,u=t.children,f=t.className,p=t.removeScrollBar,m=t.enabled,y=t.shards,v=t.sideCar,x=t.noRelative,_=t.noIsolation,S=t.inert,j=t.allowPinchZoom,T=t.as,E=T===void 0?"div":T,C=t.gapMode,N=iS(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=v,M=YI([n,e]),D=An(An({},N),o);return b.createElement(b.Fragment,null,m&&b.createElement(R,{sideCar:aS,removeScrollBar:p,shards:y,noRelative:x,noIsolation:_,inert:S,setCallbacks:a,allowPinchZoom:!!j,lockRef:n,gapMode:C}),l?b.cloneElement(b.Children.only(u),An(An({},D),{ref:M})):b.createElement(E,An({},D,{className:f,ref:M}),u))});Cc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cc.classNames={fullWidth:Hl,zeroRight:Wl};var eM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tM(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=eM();return e&&t.setAttribute("nonce",e),t}function nM(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function rM(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var sM=function(){var t=0,e=null;return{add:function(n){t==0&&(e=tM())&&(nM(e,n),rM(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},iM=function(){var t=sM();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},lS=function(){var t=iM(),e=function(n){var s=n.styles,o=n.dynamic;return t(s,o),null};return e},oM={left:0,top:0,right:0,gap:0},gf=function(t){return parseInt(t||"",10)||0},aM=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[gf(n),gf(s),gf(o)]},lM=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return oM;var e=aM(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},cM=lS(),wi="data-scroll-locked",uM=function(t,e,n,s){var o=t.left,a=t.top,l=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(HI,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(u,"px ").concat(s,`;
  }
  body[`).concat(wi,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wl,` {
    right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Hl,` {
    margin-right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Wl," .").concat(Wl,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Hl," .").concat(Hl,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(wi,`] {
    `).concat(GI,": ").concat(u,`px;
  }
`)},iw=function(){var t=parseInt(document.body.getAttribute(wi)||"0",10);return isFinite(t)?t:0},dM=function(){b.useEffect(function(){return document.body.setAttribute(wi,(iw()+1).toString()),function(){var t=iw()-1;t<=0?document.body.removeAttribute(wi):document.body.setAttribute(wi,t.toString())}},[])},fM=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,o=s===void 0?"margin":s;dM();var a=b.useMemo(function(){return lM(o)},[o]);return b.createElement(cM,{styles:uM(a,!e,o,n?"":"!important")})},lh=!1;if(typeof window<"u")try{var Ol=Object.defineProperty({},"passive",{get:function(){return lh=!0,!0}});window.addEventListener("test",Ol,Ol),window.removeEventListener("test",Ol,Ol)}catch{lh=!1}var ii=lh?{passive:!1}:!1,hM=function(t){return t.tagName==="TEXTAREA"},cS=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!hM(t)&&n[e]==="visible")},pM=function(t){return cS(t,"overflowY")},mM=function(t){return cS(t,"overflowX")},ow=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=uS(t,s);if(o){var a=dS(t,s),l=a[1],u=a[2];if(l>u)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},gM=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},yM=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},uS=function(t,e){return t==="v"?pM(e):mM(e)},dS=function(t,e){return t==="v"?gM(e):yM(e)},vM=function(t,e){return t==="h"&&e==="rtl"?-1:1},wM=function(t,e,n,s,o){var a=vM(t,window.getComputedStyle(e).direction),l=a*s,u=n.target,f=e.contains(u),p=!1,m=l>0,y=0,v=0;do{if(!u)break;var x=dS(t,u),_=x[0],S=x[1],j=x[2],T=S-j-a*_;(_||T)&&uS(t,u)&&(y+=T,v+=_);var E=u.parentNode;u=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!f&&u!==document.body||f&&(e.contains(u)||e===u));return(m&&Math.abs(y)<1||!m&&Math.abs(v)<1)&&(p=!0),p},Il=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},aw=function(t){return[t.deltaX,t.deltaY]},lw=function(t){return t&&"current"in t?t.current:t},xM=function(t,e){return t[0]===e[0]&&t[1]===e[1]},bM=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},SM=0,oi=[];function _M(t){var e=b.useRef([]),n=b.useRef([0,0]),s=b.useRef(),o=b.useState(SM++)[0],a=b.useState(lS)[0],l=b.useRef(t);b.useEffect(function(){l.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var S=WI([t.lockRef.current],(t.shards||[]).map(lw),!0).filter(Boolean);return S.forEach(function(j){return j.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),S.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var u=b.useCallback(function(S,j){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!l.current.allowPinchZoom;var T=Il(S),E=n.current,C="deltaX"in S?S.deltaX:E[0]-T[0],N="deltaY"in S?S.deltaY:E[1]-T[1],R,M=S.target,D=Math.abs(C)>Math.abs(N)?"h":"v";if("touches"in S&&D==="h"&&M.type==="range")return!1;var $=ow(D,M);if(!$)return!0;if($?R=D:(R=D==="v"?"h":"v",$=ow(D,M)),!$)return!1;if(!s.current&&"changedTouches"in S&&(C||N)&&(s.current=R),!R)return!0;var G=s.current||R;return wM(G,j,S,G==="h"?C:N)},[]),f=b.useCallback(function(S){var j=S;if(!(!oi.length||oi[oi.length-1]!==a)){var T="deltaY"in j?aw(j):Il(j),E=e.current.filter(function(R){return R.name===j.type&&(R.target===j.target||j.target===R.shadowParent)&&xM(R.delta,T)})[0];if(E&&E.should){j.cancelable&&j.preventDefault();return}if(!E){var C=(l.current.shards||[]).map(lw).filter(Boolean).filter(function(R){return R.contains(j.target)}),N=C.length>0?u(j,C[0]):!l.current.noIsolation;N&&j.cancelable&&j.preventDefault()}}},[]),p=b.useCallback(function(S,j,T,E){var C={name:S,delta:j,target:T,should:E,shadowParent:kM(T)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(N){return N!==C})},1)},[]),m=b.useCallback(function(S){n.current=Il(S),s.current=void 0},[]),y=b.useCallback(function(S){p(S.type,aw(S),S.target,u(S,t.lockRef.current))},[]),v=b.useCallback(function(S){p(S.type,Il(S),S.target,u(S,t.lockRef.current))},[]);b.useEffect(function(){return oi.push(a),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:v}),document.addEventListener("wheel",f,ii),document.addEventListener("touchmove",f,ii),document.addEventListener("touchstart",m,ii),function(){oi=oi.filter(function(S){return S!==a}),document.removeEventListener("wheel",f,ii),document.removeEventListener("touchmove",f,ii),document.removeEventListener("touchstart",m,ii)}},[]);var x=t.removeScrollBar,_=t.inert;return b.createElement(b.Fragment,null,_?b.createElement(a,{styles:bM(o)}):null,x?b.createElement(fM,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function kM(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const jM=ZI(aS,_M);var fS=b.forwardRef(function(t,e){return b.createElement(Cc,An({},t,{ref:e,sideCar:jM}))});fS.classNames=Cc.classNames;var EM=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ai=new WeakMap,Ml=new WeakMap,Ll={},yf=0,hS=function(t){return t&&(t.host||hS(t.parentNode))},CM=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=hS(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},TM=function(t,e,n,s){var o=CM(e,Array.isArray(t)?t:[t]);Ll[n]||(Ll[n]=new WeakMap);var a=Ll[n],l=[],u=new Set,f=new Set(o),p=function(y){!y||u.has(y)||(u.add(y),p(y.parentNode))};o.forEach(p);var m=function(y){!y||f.has(y)||Array.prototype.forEach.call(y.children,function(v){if(u.has(v))m(v);else try{var x=v.getAttribute(s),_=x!==null&&x!=="false",S=(ai.get(v)||0)+1,j=(a.get(v)||0)+1;ai.set(v,S),a.set(v,j),l.push(v),S===1&&_&&Ml.set(v,!0),j===1&&v.setAttribute(n,"true"),_||v.setAttribute(s,"true")}catch(T){console.error("aria-hidden: cannot operate on ",v,T)}})};return m(e),u.clear(),yf++,function(){l.forEach(function(y){var v=ai.get(y)-1,x=a.get(y)-1;ai.set(y,v),a.set(y,x),v||(Ml.has(y)||y.removeAttribute(s),Ml.delete(y)),x||y.removeAttribute(n)}),yf--,yf||(ai=new WeakMap,ai=new WeakMap,Ml=new WeakMap,Ll={})}},NM=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),o=EM(t);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live], script"))),TM(s,o,n,"aria-hidden")):function(){return null}},Tc="Dialog",[pS]=sn(Tc),[PM,Sn]=pS(Tc),mS=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:o,onOpenChange:a,modal:l=!0}=t,u=b.useRef(null),f=b.useRef(null),[p,m]=xs({prop:s,defaultProp:o??!1,onChange:a,caller:Tc});return d.jsx(PM,{scope:e,triggerRef:u,contentRef:f,contentId:gs(),titleId:gs(),descriptionId:gs(),open:p,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(y=>!y),[m]),modal:l,children:n})};mS.displayName=Tc;var gS="DialogTrigger",yS=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=Sn(gS,n),a=Fe(e,o.triggerRef);return d.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":kp(o.open),...s,ref:a,onClick:Pe(t.onClick,o.onOpenToggle)})});yS.displayName=gS;var Sp="DialogPortal",[AM,vS]=pS(Sp,{forceMount:void 0}),wS=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:o}=t,a=Sn(Sp,e);return d.jsx(AM,{scope:e,forceMount:n,children:b.Children.map(s,l=>d.jsx(Ht,{present:n||a.open,children:d.jsx(bp,{asChild:!0,container:o,children:l})}))})};wS.displayName=Sp;var cc="DialogOverlay",xS=b.forwardRef((t,e)=>{const n=vS(cc,t.__scopeDialog),{forceMount:s=n.forceMount,...o}=t,a=Sn(cc,t.__scopeDialog);return a.modal?d.jsx(Ht,{present:s||a.open,children:d.jsx(OM,{...o,ref:e})}):null});xS.displayName=cc;var RM=Bo("DialogOverlay.RemoveScroll"),OM=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=Sn(cc,n);return d.jsx(fS,{as:RM,allowPinchZoom:!0,shards:[o.contentRef],children:d.jsx(Ne.div,{"data-state":kp(o.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),ys="DialogContent",bS=b.forwardRef((t,e)=>{const n=vS(ys,t.__scopeDialog),{forceMount:s=n.forceMount,...o}=t,a=Sn(ys,t.__scopeDialog);return d.jsx(Ht,{present:s||a.open,children:a.modal?d.jsx(IM,{...o,ref:e}):d.jsx(MM,{...o,ref:e})})});bS.displayName=ys;var IM=b.forwardRef((t,e)=>{const n=Sn(ys,t.__scopeDialog),s=b.useRef(null),o=Fe(e,n.contentRef,s);return b.useEffect(()=>{const a=s.current;if(a)return NM(a)},[]),d.jsx(SS,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(t.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Pe(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&a.preventDefault()}),onFocusOutside:Pe(t.onFocusOutside,a=>a.preventDefault())})}),MM=b.forwardRef((t,e)=>{const n=Sn(ys,t.__scopeDialog),s=b.useRef(!1),o=b.useRef(!1);return d.jsx(SS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,u;(l=t.onCloseAutoFocus)==null||l.call(t,a),a.defaultPrevented||(s.current||(u=n.triggerRef.current)==null||u.focus(),a.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:a=>{var f,p;(f=t.onInteractOutside)==null||f.call(t,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=a.target;((p=n.triggerRef.current)==null?void 0:p.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),SS=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,...l}=t,u=Sn(ys,n),f=b.useRef(null),p=Fe(e,f);return BI(),d.jsxs(d.Fragment,{children:[d.jsx(rS,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:a,children:d.jsx(xp,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":kp(u.open),...l,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(LM,{titleId:u.titleId}),d.jsx($M,{contentRef:f,descriptionId:u.descriptionId})]})]})}),_p="DialogTitle",_S=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=Sn(_p,n);return d.jsx(Ne.h2,{id:o.titleId,...s,ref:e})});_S.displayName=_p;var kS="DialogDescription",jS=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=Sn(kS,n);return d.jsx(Ne.p,{id:o.descriptionId,...s,ref:e})});jS.displayName=kS;var ES="DialogClose",CS=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=Sn(ES,n);return d.jsx(Ne.button,{type:"button",...s,ref:e,onClick:Pe(t.onClick,()=>o.onOpenChange(!1))})});CS.displayName=ES;function kp(t){return t?"open":"closed"}var TS="DialogTitleWarning",[E3,NS]=mE(TS,{contentName:ys,titleName:_p,docsSlug:"dialog"}),LM=({titleId:t})=>{const e=NS(TS),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},DM="DialogDescriptionWarning",$M=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${NS(DM).contentName}}.`;return b.useEffect(()=>{var a;const o=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},PS=mS,AS=yS,RS=wS,Nc=xS,jp=bS,ch=_S,uh=jS,OS=CS;function FM({...t}){return d.jsx(PS,{"data-slot":"sheet",...t})}function VM({...t}){return d.jsx(AS,{"data-slot":"sheet-trigger",...t})}function UM({...t}){return d.jsx(RS,{"data-slot":"sheet-portal",...t})}const IS=b.forwardRef(({className:t,...e},n)=>d.jsx(Nc,{ref:n,"data-slot":"sheet-overlay",className:Oe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));IS.displayName=Nc.displayName;function zM({className:t,children:e,side:n="right",...s}){return d.jsxs(UM,{children:[d.jsx(IS,{}),d.jsxs(jp,{"data-slot":"sheet-content",className:Oe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...s,children:[e,d.jsxs(OS,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[d.jsx(Oh,{className:"size-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}var BM=b.createContext(void 0);function Pc(t){const e=b.useContext(BM);return t||e||"ltr"}function WM(t,[e,n]){return Math.min(n,Math.max(e,t))}function HM(t,e){return b.useReducer((n,s)=>e[n][s]??n,t)}var Ep="ScrollArea",[MS]=sn(Ep),[GM,on]=MS(Ep),LS=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:s="hover",dir:o,scrollHideDelay:a=600,...l}=t,[u,f]=b.useState(null),[p,m]=b.useState(null),[y,v]=b.useState(null),[x,_]=b.useState(null),[S,j]=b.useState(null),[T,E]=b.useState(0),[C,N]=b.useState(0),[R,M]=b.useState(!1),[D,$]=b.useState(!1),G=Fe(e,de=>f(de)),X=Pc(o);return d.jsx(GM,{scope:n,type:s,dir:X,scrollHideDelay:a,scrollArea:u,viewport:p,onViewportChange:m,content:y,onContentChange:v,scrollbarX:x,onScrollbarXChange:_,scrollbarXEnabled:R,onScrollbarXEnabledChange:M,scrollbarY:S,onScrollbarYChange:j,scrollbarYEnabled:D,onScrollbarYEnabledChange:$,onCornerWidthChange:E,onCornerHeightChange:N,children:d.jsx(Ne.div,{dir:X,...l,ref:G,style:{position:"relative","--radix-scroll-area-corner-width":T+"px","--radix-scroll-area-corner-height":C+"px",...t.style}})})});LS.displayName=Ep;var DS="ScrollAreaViewport",$S=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:s,nonce:o,...a}=t,l=on(DS,n),u=b.useRef(null),f=Fe(e,u,l.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),d.jsx(Ne.div,{"data-radix-scroll-area-viewport":"",...a,ref:f,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:d.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});$S.displayName=DS;var Vn="ScrollAreaScrollbar",Cp=b.forwardRef((t,e)=>{const{forceMount:n,...s}=t,o=on(Vn,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:l}=o,u=t.orientation==="horizontal";return b.useEffect(()=>(u?a(!0):l(!0),()=>{u?a(!1):l(!1)}),[u,a,l]),o.type==="hover"?d.jsx(KM,{...s,ref:e,forceMount:n}):o.type==="scroll"?d.jsx(qM,{...s,ref:e,forceMount:n}):o.type==="auto"?d.jsx(FS,{...s,ref:e,forceMount:n}):o.type==="always"?d.jsx(Tp,{...s,ref:e}):null});Cp.displayName=Vn;var KM=b.forwardRef((t,e)=>{const{forceMount:n,...s}=t,o=on(Vn,t.__scopeScrollArea),[a,l]=b.useState(!1);return b.useEffect(()=>{const u=o.scrollArea;let f=0;if(u){const p=()=>{window.clearTimeout(f),l(!0)},m=()=>{f=window.setTimeout(()=>l(!1),o.scrollHideDelay)};return u.addEventListener("pointerenter",p),u.addEventListener("pointerleave",m),()=>{window.clearTimeout(f),u.removeEventListener("pointerenter",p),u.removeEventListener("pointerleave",m)}}},[o.scrollArea,o.scrollHideDelay]),d.jsx(Ht,{present:n||a,children:d.jsx(FS,{"data-state":a?"visible":"hidden",...s,ref:e})})}),qM=b.forwardRef((t,e)=>{const{forceMount:n,...s}=t,o=on(Vn,t.__scopeScrollArea),a=t.orientation==="horizontal",l=Rc(()=>f("SCROLL_END"),100),[u,f]=HM("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(u==="idle"){const p=window.setTimeout(()=>f("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(p)}},[u,o.scrollHideDelay,f]),b.useEffect(()=>{const p=o.viewport,m=a?"scrollLeft":"scrollTop";if(p){let y=p[m];const v=()=>{const x=p[m];y!==x&&(f("SCROLL"),l()),y=x};return p.addEventListener("scroll",v),()=>p.removeEventListener("scroll",v)}},[o.viewport,a,f,l]),d.jsx(Ht,{present:n||u!=="hidden",children:d.jsx(Tp,{"data-state":u==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:Pe(t.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:Pe(t.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),FS=b.forwardRef((t,e)=>{const n=on(Vn,t.__scopeScrollArea),{forceMount:s,...o}=t,[a,l]=b.useState(!1),u=t.orientation==="horizontal",f=Rc(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,m=n.viewport.offsetHeight<n.viewport.scrollHeight;l(u?p:m)}},10);return ji(n.viewport,f),ji(n.content,f),d.jsx(Ht,{present:s||a,children:d.jsx(Tp,{"data-state":a?"visible":"hidden",...o,ref:e})})}),Tp=b.forwardRef((t,e)=>{const{orientation:n="vertical",...s}=t,o=on(Vn,t.__scopeScrollArea),a=b.useRef(null),l=b.useRef(0),[u,f]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=WS(u.viewport,u.content),m={...s,sizes:u,onSizesChange:f,hasThumb:p>0&&p<1,onThumbChange:v=>a.current=v,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:v=>l.current=v};function y(v,x){return eL(v,l.current,u,x)}return n==="horizontal"?d.jsx(YM,{...m,ref:e,onThumbPositionChange:()=>{if(o.viewport&&a.current){const v=o.viewport.scrollLeft,x=cw(v,u,o.dir);a.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:v=>{o.viewport&&(o.viewport.scrollLeft=v)},onDragScroll:v=>{o.viewport&&(o.viewport.scrollLeft=y(v,o.dir))}}):n==="vertical"?d.jsx(JM,{...m,ref:e,onThumbPositionChange:()=>{if(o.viewport&&a.current){const v=o.viewport.scrollTop,x=cw(v,u);a.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:v=>{o.viewport&&(o.viewport.scrollTop=v)},onDragScroll:v=>{o.viewport&&(o.viewport.scrollTop=y(v))}}):null}),YM=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...o}=t,a=on(Vn,t.__scopeScrollArea),[l,u]=b.useState(),f=b.useRef(null),p=Fe(e,f,a.onScrollbarXChange);return b.useEffect(()=>{f.current&&u(getComputedStyle(f.current))},[f]),d.jsx(US,{"data-orientation":"horizontal",...o,ref:p,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ac(n)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.x),onDragScroll:m=>t.onDragScroll(m.x),onWheelScroll:(m,y)=>{if(a.viewport){const v=a.viewport.scrollLeft+m.deltaX;t.onWheelScroll(v),GS(v,y)&&m.preventDefault()}},onResize:()=>{f.current&&a.viewport&&l&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:dc(l.paddingLeft),paddingEnd:dc(l.paddingRight)}})}})}),JM=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...o}=t,a=on(Vn,t.__scopeScrollArea),[l,u]=b.useState(),f=b.useRef(null),p=Fe(e,f,a.onScrollbarYChange);return b.useEffect(()=>{f.current&&u(getComputedStyle(f.current))},[f]),d.jsx(US,{"data-orientation":"vertical",...o,ref:p,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ac(n)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.y),onDragScroll:m=>t.onDragScroll(m.y),onWheelScroll:(m,y)=>{if(a.viewport){const v=a.viewport.scrollTop+m.deltaY;t.onWheelScroll(v),GS(v,y)&&m.preventDefault()}},onResize:()=>{f.current&&a.viewport&&l&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:dc(l.paddingTop),paddingEnd:dc(l.paddingBottom)}})}})}),[QM,VS]=MS(Vn),US=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:o,onThumbChange:a,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:f,onDragScroll:p,onWheelScroll:m,onResize:y,...v}=t,x=on(Vn,n),[_,S]=b.useState(null),j=Fe(e,G=>S(G)),T=b.useRef(null),E=b.useRef(""),C=x.viewport,N=s.content-s.viewport,R=Lt(m),M=Lt(f),D=Rc(y,10);function $(G){if(T.current){const X=G.clientX-T.current.left,de=G.clientY-T.current.top;p({x:X,y:de})}}return b.useEffect(()=>{const G=X=>{const de=X.target;(_==null?void 0:_.contains(de))&&R(X,N)};return document.addEventListener("wheel",G,{passive:!1}),()=>document.removeEventListener("wheel",G,{passive:!1})},[C,_,N,R]),b.useEffect(M,[s,M]),ji(_,D),ji(x.content,D),d.jsx(QM,{scope:n,scrollbar:_,hasThumb:o,onThumbChange:Lt(a),onThumbPointerUp:Lt(l),onThumbPositionChange:M,onThumbPointerDown:Lt(u),children:d.jsx(Ne.div,{...v,ref:j,style:{position:"absolute",...v.style},onPointerDown:Pe(t.onPointerDown,G=>{G.button===0&&(G.target.setPointerCapture(G.pointerId),T.current=_.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),$(G))}),onPointerMove:Pe(t.onPointerMove,$),onPointerUp:Pe(t.onPointerUp,G=>{const X=G.target;X.hasPointerCapture(G.pointerId)&&X.releasePointerCapture(G.pointerId),document.body.style.webkitUserSelect=E.current,x.viewport&&(x.viewport.style.scrollBehavior=""),T.current=null})})})}),uc="ScrollAreaThumb",zS=b.forwardRef((t,e)=>{const{forceMount:n,...s}=t,o=VS(uc,t.__scopeScrollArea);return d.jsx(Ht,{present:n||o.hasThumb,children:d.jsx(XM,{ref:e,...s})})}),XM=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:s,...o}=t,a=on(uc,n),l=VS(uc,n),{onThumbPositionChange:u}=l,f=Fe(e,y=>l.onThumbChange(y)),p=b.useRef(void 0),m=Rc(()=>{p.current&&(p.current(),p.current=void 0)},100);return b.useEffect(()=>{const y=a.viewport;if(y){const v=()=>{if(m(),!p.current){const x=tL(y,u);p.current=x,u()}};return u(),y.addEventListener("scroll",v),()=>y.removeEventListener("scroll",v)}},[a.viewport,m,u]),d.jsx(Ne.div,{"data-state":l.hasThumb?"visible":"hidden",...o,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Pe(t.onPointerDownCapture,y=>{const x=y.target.getBoundingClientRect(),_=y.clientX-x.left,S=y.clientY-x.top;l.onThumbPointerDown({x:_,y:S})}),onPointerUp:Pe(t.onPointerUp,l.onThumbPointerUp)})});zS.displayName=uc;var Np="ScrollAreaCorner",BS=b.forwardRef((t,e)=>{const n=on(Np,t.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?d.jsx(ZM,{...t,ref:e}):null});BS.displayName=Np;var ZM=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,...s}=t,o=on(Np,n),[a,l]=b.useState(0),[u,f]=b.useState(0),p=!!(a&&u);return ji(o.scrollbarX,()=>{var y;const m=((y=o.scrollbarX)==null?void 0:y.offsetHeight)||0;o.onCornerHeightChange(m),f(m)}),ji(o.scrollbarY,()=>{var y;const m=((y=o.scrollbarY)==null?void 0:y.offsetWidth)||0;o.onCornerWidthChange(m),l(m)}),p?d.jsx(Ne.div,{...s,ref:e,style:{width:a,height:u,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function dc(t){return t?parseInt(t,10):0}function WS(t,e){const n=t/e;return isNaN(n)?0:n}function Ac(t){const e=WS(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-n)*e;return Math.max(s,18)}function eL(t,e,n,s="ltr"){const o=Ac(n),a=o/2,l=e||a,u=o-l,f=n.scrollbar.paddingStart+l,p=n.scrollbar.size-n.scrollbar.paddingEnd-u,m=n.content-n.viewport,y=s==="ltr"?[0,m]:[m*-1,0];return HS([f,p],y)(t)}function cw(t,e,n="ltr"){const s=Ac(e),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-o,l=e.content-e.viewport,u=a-s,f=n==="ltr"?[0,l]:[l*-1,0],p=WM(t,f);return HS([0,l],[0,u])(p)}function HS(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function GS(t,e){return t>0&&t<e}var tL=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},s=0;return(function o(){const a={left:t.scrollLeft,top:t.scrollTop},l=n.left!==a.left,u=n.top!==a.top;(l||u)&&e(),n=a,s=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(s)};function Rc(t,e){const n=Lt(t),s=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(s.current),[]),b.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,e)},[n,e])}function ji(t,e){const n=Lt(e);$n(()=>{let s=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return o.observe(t),()=>{window.cancelAnimationFrame(s),o.unobserve(t)}}},[t,n])}var KS=LS,nL=$S,rL=BS;const Pp=b.forwardRef(({className:t,children:e,...n},s)=>d.jsxs(KS,{ref:s,"data-slot":"scroll-area",className:Oe("relative",t),...n,children:[d.jsx(nL,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),d.jsx(qS,{}),d.jsx(rL,{})]}));Pp.displayName=KS.displayName;const qS=b.forwardRef(({className:t,orientation:e="vertical",...n},s)=>d.jsx(Cp,{ref:s,"data-slot":"scroll-area-scrollbar",orientation:e,className:Oe("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:d.jsx(zS,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})}));qS.displayName=Cp.displayName;var Oc="Collapsible",[sL]=sn(Oc),[iL,Ap]=sL(Oc),YS=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:s,defaultOpen:o,disabled:a,onOpenChange:l,...u}=t,[f,p]=xs({prop:s,defaultProp:o??!1,onChange:l,caller:Oc});return d.jsx(iL,{scope:n,disabled:a,contentId:gs(),open:f,onOpenToggle:b.useCallback(()=>p(m=>!m),[p]),children:d.jsx(Ne.div,{"data-state":Op(f),"data-disabled":a?"":void 0,...u,ref:e})})});YS.displayName=Oc;var JS="CollapsibleTrigger",QS=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,...s}=t,o=Ap(JS,n);return d.jsx(Ne.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":Op(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...s,ref:e,onClick:Pe(t.onClick,o.onOpenToggle)})});QS.displayName=JS;var Rp="CollapsibleContent",XS=b.forwardRef((t,e)=>{const{forceMount:n,...s}=t,o=Ap(Rp,t.__scopeCollapsible);return d.jsx(Ht,{present:n||o.open,children:({present:a})=>d.jsx(oL,{...s,ref:e,present:a})})});XS.displayName=Rp;var oL=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:s,children:o,...a}=t,l=Ap(Rp,n),[u,f]=b.useState(s),p=b.useRef(null),m=Fe(e,p),y=b.useRef(0),v=y.current,x=b.useRef(0),_=x.current,S=l.open||u,j=b.useRef(S),T=b.useRef(void 0);return b.useEffect(()=>{const E=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(E)},[]),$n(()=>{const E=p.current;if(E){T.current=T.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const C=E.getBoundingClientRect();y.current=C.height,x.current=C.width,j.current||(E.style.transitionDuration=T.current.transitionDuration,E.style.animationName=T.current.animationName),f(s)}},[l.open,s]),d.jsx(Ne.div,{"data-state":Op(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!S,...a,ref:m,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":_?`${_}px`:void 0,...t.style},children:S&&o})});function Op(t){return t?"open":"closed"}var aL=YS;function ZS({...t}){return d.jsx(aL,{"data-slot":"collapsible",...t})}function e1({...t}){return d.jsx(QS,{"data-slot":"collapsible-trigger",...t})}function t1({...t}){return d.jsx(XS,{"data-slot":"collapsible-content",...t})}function uw({user:t,conversations:e,onConversationSelect:n,onLogout:s,onSettings:o}){const[a,l]=b.useState(!0),u=j=>({"Travel & Adventures":uC,"Daily Life & Routines":tC,"Work & Career":FE,"Hobbies & Interests":hC,"Entertainment & Gaming":lC,"Education & Learning":Jl,"Technology & Social Media":UE,"Music & Arts":OC,"Food & Cooking":lT,"General Conversation":ui})[j]||ui,f=e.reduce((j,T)=>{const E=T.topic||"General Conversation";return j[E]||(j[E]=[]),j[E].push(T),j},{}),p=Object.keys(f).sort((j,T)=>{const E=Math.max(...f[j].map(N=>new Date(N.timestamp).getTime()));return Math.max(...f[T].map(N=>new Date(N.timestamp).getTime()))-E}),m=!!t.level,y=t.placement_test_completed,v=m&&y,x=m&&!y,_=()=>v?"Set by Placement Test":x?"Self-selected":"Not set",S=()=>m?{Beginner:"New to English pronunciation and prosody. Focus on basic patterns and guided practice.",Intermediate:"Some experience with English speaking. Practice complex patterns and natural conversation.",Advanced:"Strong English skills, refining prosody. Work on subtle nuances and accent reduction."}[t.level]||"Custom learning level.":"No level has been set yet.";return d.jsxs("div",{className:"w-full h-full bg-sidebar border-r border-sidebar-border flex flex-col",children:[d.jsx("div",{className:"p-4 border-b border-sidebar-border",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 bg-sidebar-accent rounded-full flex items-center justify-center",children:d.jsx(bc,{className:"w-5 h-5 text-sidebar-accent-foreground"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-medium text-sidebar-foreground truncate",children:t.username}),d.jsx("p",{className:"text-sm text-sidebar-foreground/70 truncate",children:t.email})]}),d.jsx(ce,{variant:"ghost",size:"icon",onClick:s,children:d.jsx(SC,{className:"w-4 h-4"})})]})}),d.jsx(Pp,{className:"flex-1",children:d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(gt,{children:[d.jsx(yn,{className:"pb-3",children:d.jsxs(tn,{className:"text-sm flex items-center gap-2",children:[d.jsx(Ql,{className:"w-4 h-4"}),"Current Level (",_(),")"]})}),d.jsx(yt,{className:"space-y-3",children:m?d.jsxs(d.Fragment,{children:[d.jsx(me.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"flex items-center justify-center",children:d.jsxs("div",{className:"flex items-center gap-3 bg-sidebar-primary/10 border border-sidebar-primary/20 rounded-lg px-4 py-4 w-full",children:[d.jsx("div",{className:"w-10 h-10 bg-sidebar-primary rounded-full flex items-center justify-center flex-shrink-0",children:v?d.jsx(qw,{className:"w-5 h-5 text-sidebar-primary-foreground"}):d.jsx(Jl,{className:"w-5 h-5 text-sidebar-primary-foreground"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-semibold text-lg text-sidebar-foreground",children:t.level}),d.jsx("div",{className:"text-xs text-sidebar-foreground/60",children:v?"Assessed level":"Self-selected level"}),t.placement_test_score&&d.jsxs("div",{className:"text-xs text-sidebar-foreground/80 mt-1",children:["Test Score: ",t.placement_test_score,"%"]})]})]})}),d.jsx("div",{className:"bg-sidebar-accent/10 border border-sidebar-accent/20 rounded-lg p-3",children:d.jsx("p",{className:"text-xs text-sidebar-foreground/80 leading-relaxed",children:S()})}),d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:v?"Your level was determined by placement test results for optimal learning.":"You selected this level manually. Consider taking the placement test for a personalized assessment."})})]}):d.jsx(d.Fragment,{children:d.jsxs("div",{className:"text-center space-y-3",children:[d.jsx("div",{className:"w-16 h-16 bg-sidebar-accent/20 rounded-full flex items-center justify-center mx-auto",children:d.jsx(Ql,{className:"w-8 h-8 text-sidebar-accent"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-sidebar-foreground",children:"No Level Set"}),d.jsx("p",{className:"text-xs text-sidebar-foreground/60 mt-1",children:"Use the placement test button in the top-right corner to get started with a personalized level assessment."})]})]})})})]}),d.jsxs(ZS,{open:a,onOpenChange:l,children:[d.jsx(e1,{asChild:!0,children:d.jsxs(ce,{variant:"outline",className:"w-full justify-between",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(ui,{className:"w-4 h-4"}),"History (",e.length,")"]}),d.jsx(Ph,{className:`w-4 h-4 transition-transform ${a?"rotate-180":""}`})]})}),d.jsx(t1,{children:d.jsx("div",{className:"mt-2 space-y-3 max-h-80 overflow-y-auto",children:e.length===0?d.jsx(gt,{children:d.jsx(yt,{className:"p-4 text-center",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"No conversations yet. Start chatting to build your practice history!"})})}):p.map(j=>{const T=f[j],E=u(j);T.reduce((N,R)=>N+R.messagesCount,0);const C=T.filter(N=>N.prosodyScore).reduce((N,R,M,D)=>N+(R.prosodyScore||0)/D.length,0);return d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-sidebar-accent/20 rounded",children:[d.jsx(E,{className:"w-3 h-3 text-sidebar-accent"}),d.jsx("span",{className:"text-xs font-medium text-sidebar-foreground",children:j}),d.jsx("div",{className:"flex-1"}),d.jsxs(Be,{variant:"outline",className:"text-xs",children:[T.length," session",T.length!==1?"s":""]}),C>0&&d.jsxs(Be,{className:"text-xs bg-sidebar-primary/20 text-sidebar-primary",children:[Math.round(C),"% avg"]})]}),d.jsxs("div",{className:"space-y-1 ml-4",children:[T.sort((N,R)=>new Date(R.timestamp).getTime()-new Date(N.timestamp).getTime()).slice(0,3).map(N=>{const R=G=>G>=85?"bg-success text-success-foreground":G>=70?"bg-secondary text-secondary-foreground":G>=60?"bg-accent text-accent-foreground":"bg-destructive text-destructive-foreground",D=(G=>G>=20?{status:"Complete",icon:Zn,color:"text-success"}:G>=10?{status:"In Progress",icon:jf,color:"text-accent"}:{status:"Started",icon:ui,color:"text-secondary"})(N.messagesCount),$=D.icon;return d.jsx(me.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:d.jsx(gt,{className:"cursor-pointer hover:bg-sidebar-accent/30 transition-all duration-200 border-l-2 border-l-sidebar-primary/30 hover:border-l-sidebar-primary hover:shadow-sm",onClick:()=>n(N),children:d.jsx(yt,{className:"p-2",children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-start justify-between gap-2",children:[d.jsx("h4",{className:"text-xs font-medium truncate text-sidebar-foreground",children:N.title}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx($,{className:`w-3 h-3 ${D.color}`}),N.prosodyScore&&d.jsxs(Be,{className:`text-xs ${R(N.prosodyScore)}`,children:[N.prosodyScore,"%"]})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs text-sidebar-foreground/60",children:[d.jsx(jf,{className:"w-2 h-2"}),d.jsx("span",{children:N.timestamp})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Be,{variant:"outline",className:`text-xs ${D.color}`,children:D.status}),d.jsxs("span",{className:"text-xs text-sidebar-foreground/60",children:[N.messagesCount,"msg"]})]})]})]})})})},N.id)}),T.length>3&&d.jsxs("div",{className:"text-xs text-sidebar-foreground/60 text-center py-1",children:["+",T.length-3," more sessions"]})]})]},j)})})})]})]})}),d.jsx("div",{className:"p-4 border-t border-sidebar-border",children:d.jsxs(ce,{variant:"outline",className:"w-full justify-start",onClick:o,disabled:!o,children:[d.jsx(Rh,{className:"w-4 h-4 mr-2"}),"Settings"]})})]})}function lL({className:t,...e}){return d.jsx("textarea",{"data-slot":"textarea",className:Oe("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}const cL=["top","right","bottom","left"],Ir=Math.min,Bt=Math.max,fc=Math.round,Dl=Math.floor,Dn=t=>({x:t,y:t}),uL={left:"right",right:"left",bottom:"top",top:"bottom"},dL={start:"end",end:"start"};function dh(t,e,n){return Bt(t,Ir(e,n))}function nr(t,e){return typeof t=="function"?t(e):t}function rr(t){return t.split("-")[0]}function Ii(t){return t.split("-")[1]}function Ip(t){return t==="x"?"y":"x"}function Mp(t){return t==="y"?"height":"width"}const fL=new Set(["top","bottom"]);function On(t){return fL.has(rr(t))?"y":"x"}function Lp(t){return Ip(On(t))}function hL(t,e,n){n===void 0&&(n=!1);const s=Ii(t),o=Lp(t),a=Mp(o);let l=o==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=hc(l)),[l,hc(l)]}function pL(t){const e=hc(t);return[fh(t),e,fh(e)]}function fh(t){return t.replace(/start|end/g,e=>dL[e])}const dw=["left","right"],fw=["right","left"],mL=["top","bottom"],gL=["bottom","top"];function yL(t,e,n){switch(t){case"top":case"bottom":return n?e?fw:dw:e?dw:fw;case"left":case"right":return e?mL:gL;default:return[]}}function vL(t,e,n,s){const o=Ii(t);let a=yL(rr(t),n==="start",s);return o&&(a=a.map(l=>l+"-"+o),e&&(a=a.concat(a.map(fh)))),a}function hc(t){return t.replace(/left|right|bottom|top/g,e=>uL[e])}function wL(t){return{top:0,right:0,bottom:0,left:0,...t}}function n1(t){return typeof t!="number"?wL(t):{top:t,right:t,bottom:t,left:t}}function pc(t){const{x:e,y:n,width:s,height:o}=t;return{width:s,height:o,top:n,left:e,right:e+s,bottom:n+o,x:e,y:n}}function hw(t,e,n){let{reference:s,floating:o}=t;const a=On(e),l=Lp(e),u=Mp(l),f=rr(e),p=a==="y",m=s.x+s.width/2-o.width/2,y=s.y+s.height/2-o.height/2,v=s[u]/2-o[u]/2;let x;switch(f){case"top":x={x:m,y:s.y-o.height};break;case"bottom":x={x:m,y:s.y+s.height};break;case"right":x={x:s.x+s.width,y};break;case"left":x={x:s.x-o.width,y};break;default:x={x:s.x,y:s.y}}switch(Ii(e)){case"start":x[l]-=v*(n&&p?-1:1);break;case"end":x[l]+=v*(n&&p?-1:1);break}return x}const xL=async(t,e,n)=>{const{placement:s="bottom",strategy:o="absolute",middleware:a=[],platform:l}=n,u=a.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:t,floating:e,strategy:o}),{x:m,y}=hw(p,s,f),v=s,x={},_=0;for(let S=0;S<u.length;S++){const{name:j,fn:T}=u[S],{x:E,y:C,data:N,reset:R}=await T({x:m,y,initialPlacement:s,placement:v,strategy:o,middlewareData:x,rects:p,platform:l,elements:{reference:t,floating:e}});m=E??m,y=C??y,x={...x,[j]:{...x[j],...N}},R&&_<=50&&(_++,typeof R=="object"&&(R.placement&&(v=R.placement),R.rects&&(p=R.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:o}):R.rects),{x:m,y}=hw(p,v,f)),S=-1)}return{x:m,y,placement:v,strategy:o,middlewareData:x}};async function Zo(t,e){var n;e===void 0&&(e={});const{x:s,y:o,platform:a,rects:l,elements:u,strategy:f}=t,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:v=!1,padding:x=0}=nr(e,t),_=n1(x),j=u[v?y==="floating"?"reference":"floating":y],T=pc(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(j)))==null||n?j:j.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:p,rootBoundary:m,strategy:f})),E=y==="floating"?{x:s,y:o,width:l.floating.width,height:l.floating.height}:l.reference,C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),N=await(a.isElement==null?void 0:a.isElement(C))?await(a.getScale==null?void 0:a.getScale(C))||{x:1,y:1}:{x:1,y:1},R=pc(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:E,offsetParent:C,strategy:f}):E);return{top:(T.top-R.top+_.top)/N.y,bottom:(R.bottom-T.bottom+_.bottom)/N.y,left:(T.left-R.left+_.left)/N.x,right:(R.right-T.right+_.right)/N.x}}const bL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:o,rects:a,platform:l,elements:u,middlewareData:f}=e,{element:p,padding:m=0}=nr(t,e)||{};if(p==null)return{};const y=n1(m),v={x:n,y:s},x=Lp(o),_=Mp(x),S=await l.getDimensions(p),j=x==="y",T=j?"top":"left",E=j?"bottom":"right",C=j?"clientHeight":"clientWidth",N=a.reference[_]+a.reference[x]-v[x]-a.floating[_],R=v[x]-a.reference[x],M=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let D=M?M[C]:0;(!D||!await(l.isElement==null?void 0:l.isElement(M)))&&(D=u.floating[C]||a.floating[_]);const $=N/2-R/2,G=D/2-S[_]/2-1,X=Ir(y[T],G),de=Ir(y[E],G),ke=X,ge=D-S[_]-de,ye=D/2-S[_]/2+$,be=dh(ke,ye,ge),le=!f.arrow&&Ii(o)!=null&&ye!==be&&a.reference[_]/2-(ye<ke?X:de)-S[_]/2<0,z=le?ye<ke?ye-ke:ye-ge:0;return{[x]:v[x]+z,data:{[x]:be,centerOffset:ye-be-z,...le&&{alignmentOffset:z}},reset:le}}}),SL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:o,middlewareData:a,rects:l,initialPlacement:u,platform:f,elements:p}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:v,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:S=!0,...j}=nr(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const T=rr(o),E=On(u),C=rr(u)===u,N=await(f.isRTL==null?void 0:f.isRTL(p.floating)),R=v||(C||!S?[hc(u)]:pL(u)),M=_!=="none";!v&&M&&R.push(...vL(u,S,_,N));const D=[u,...R],$=await Zo(e,j),G=[];let X=((s=a.flip)==null?void 0:s.overflows)||[];if(m&&G.push($[T]),y){const ye=hL(o,l,N);G.push($[ye[0]],$[ye[1]])}if(X=[...X,{placement:o,overflows:G}],!G.every(ye=>ye<=0)){var de,ke;const ye=(((de=a.flip)==null?void 0:de.index)||0)+1,be=D[ye];if(be&&(!(y==="alignment"?E!==On(be):!1)||X.every(O=>On(O.placement)===E?O.overflows[0]>0:!0)))return{data:{index:ye,overflows:X},reset:{placement:be}};let le=(ke=X.filter(z=>z.overflows[0]<=0).sort((z,O)=>z.overflows[1]-O.overflows[1])[0])==null?void 0:ke.placement;if(!le)switch(x){case"bestFit":{var ge;const z=(ge=X.filter(O=>{if(M){const H=On(O.placement);return H===E||H==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(H=>H>0).reduce((H,F)=>H+F,0)]).sort((O,H)=>O[1]-H[1])[0])==null?void 0:ge[0];z&&(le=z);break}case"initialPlacement":le=u;break}if(o!==le)return{reset:{placement:le}}}return{}}}};function pw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function mw(t){return cL.some(e=>t[e]>=0)}const _L=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...o}=nr(t,e);switch(s){case"referenceHidden":{const a=await Zo(e,{...o,elementContext:"reference"}),l=pw(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:mw(l)}}}case"escaped":{const a=await Zo(e,{...o,altBoundary:!0}),l=pw(a,n.floating);return{data:{escapedOffsets:l,escaped:mw(l)}}}default:return{}}}}},r1=new Set(["left","top"]);async function kL(t,e){const{placement:n,platform:s,elements:o}=t,a=await(s.isRTL==null?void 0:s.isRTL(o.floating)),l=rr(n),u=Ii(n),f=On(n)==="y",p=r1.has(l)?-1:1,m=a&&f?-1:1,y=nr(e,t);let{mainAxis:v,crossAxis:x,alignmentAxis:_}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof _=="number"&&(x=u==="end"?_*-1:_),f?{x:x*m,y:v*p}:{x:v*p,y:x*m}}const jL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:o,y:a,placement:l,middlewareData:u}=e,f=await kL(e,t);return l===((n=u.offset)==null?void 0:n.placement)&&(s=u.arrow)!=null&&s.alignmentOffset?{}:{x:o+f.x,y:a+f.y,data:{...f,placement:l}}}}},EL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:o}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:j=>{let{x:T,y:E}=j;return{x:T,y:E}}},...f}=nr(t,e),p={x:n,y:s},m=await Zo(e,f),y=On(rr(o)),v=Ip(y);let x=p[v],_=p[y];if(a){const j=v==="y"?"top":"left",T=v==="y"?"bottom":"right",E=x+m[j],C=x-m[T];x=dh(E,x,C)}if(l){const j=y==="y"?"top":"left",T=y==="y"?"bottom":"right",E=_+m[j],C=_-m[T];_=dh(E,_,C)}const S=u.fn({...e,[v]:x,[y]:_});return{...S,data:{x:S.x-n,y:S.y-s,enabled:{[v]:a,[y]:l}}}}}},CL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:o,rects:a,middlewareData:l}=e,{offset:u=0,mainAxis:f=!0,crossAxis:p=!0}=nr(t,e),m={x:n,y:s},y=On(o),v=Ip(y);let x=m[v],_=m[y];const S=nr(u,e),j=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(f){const C=v==="y"?"height":"width",N=a.reference[v]-a.floating[C]+j.mainAxis,R=a.reference[v]+a.reference[C]-j.mainAxis;x<N?x=N:x>R&&(x=R)}if(p){var T,E;const C=v==="y"?"width":"height",N=r1.has(rr(o)),R=a.reference[y]-a.floating[C]+(N&&((T=l.offset)==null?void 0:T[y])||0)+(N?0:j.crossAxis),M=a.reference[y]+a.reference[C]+(N?0:((E=l.offset)==null?void 0:E[y])||0)-(N?j.crossAxis:0);_<R?_=R:_>M&&(_=M)}return{[v]:x,[y]:_}}}},TL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:o,rects:a,platform:l,elements:u}=e,{apply:f=()=>{},...p}=nr(t,e),m=await Zo(e,p),y=rr(o),v=Ii(o),x=On(o)==="y",{width:_,height:S}=a.floating;let j,T;y==="top"||y==="bottom"?(j=y,T=v===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(T=y,j=v==="end"?"top":"bottom");const E=S-m.top-m.bottom,C=_-m.left-m.right,N=Ir(S-m[j],E),R=Ir(_-m[T],C),M=!e.middlewareData.shift;let D=N,$=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&($=C),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(D=E),M&&!v){const X=Bt(m.left,0),de=Bt(m.right,0),ke=Bt(m.top,0),ge=Bt(m.bottom,0);x?$=_-2*(X!==0||de!==0?X+de:Bt(m.left,m.right)):D=S-2*(ke!==0||ge!==0?ke+ge:Bt(m.top,m.bottom))}await f({...e,availableWidth:$,availableHeight:D});const G=await l.getDimensions(u.floating);return _!==G.width||S!==G.height?{reset:{rects:!0}}:{}}}};function Ic(){return typeof window<"u"}function Mi(t){return s1(t)?(t.nodeName||"").toLowerCase():"#document"}function Wt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Un(t){var e;return(e=(s1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function s1(t){return Ic()?t instanceof Node||t instanceof Wt(t).Node:!1}function xn(t){return Ic()?t instanceof Element||t instanceof Wt(t).Element:!1}function Fn(t){return Ic()?t instanceof HTMLElement||t instanceof Wt(t).HTMLElement:!1}function gw(t){return!Ic()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Wt(t).ShadowRoot}const NL=new Set(["inline","contents"]);function aa(t){const{overflow:e,overflowX:n,overflowY:s,display:o}=bn(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!NL.has(o)}const PL=new Set(["table","td","th"]);function AL(t){return PL.has(Mi(t))}const RL=[":popover-open",":modal"];function Mc(t){return RL.some(e=>{try{return t.matches(e)}catch{return!1}})}const OL=["transform","translate","scale","rotate","perspective"],IL=["transform","translate","scale","rotate","perspective","filter"],ML=["paint","layout","strict","content"];function Dp(t){const e=$p(),n=xn(t)?bn(t):t;return OL.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||IL.some(s=>(n.willChange||"").includes(s))||ML.some(s=>(n.contain||"").includes(s))}function LL(t){let e=Mr(t);for(;Fn(e)&&!Ei(e);){if(Dp(e))return e;if(Mc(e))return null;e=Mr(e)}return null}function $p(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const DL=new Set(["html","body","#document"]);function Ei(t){return DL.has(Mi(t))}function bn(t){return Wt(t).getComputedStyle(t)}function Lc(t){return xn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Mr(t){if(Mi(t)==="html")return t;const e=t.assignedSlot||t.parentNode||gw(t)&&t.host||Un(t);return gw(e)?e.host:e}function i1(t){const e=Mr(t);return Ei(e)?t.ownerDocument?t.ownerDocument.body:t.body:Fn(e)&&aa(e)?e:i1(e)}function ea(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=i1(t),a=o===((s=t.ownerDocument)==null?void 0:s.body),l=Wt(o);if(a){const u=hh(l);return e.concat(l,l.visualViewport||[],aa(o)?o:[],u&&n?ea(u):[])}return e.concat(o,ea(o,[],n))}function hh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function o1(t){const e=bn(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const o=Fn(t),a=o?t.offsetWidth:n,l=o?t.offsetHeight:s,u=fc(n)!==a||fc(s)!==l;return u&&(n=a,s=l),{width:n,height:s,$:u}}function Fp(t){return xn(t)?t:t.contextElement}function xi(t){const e=Fp(t);if(!Fn(e))return Dn(1);const n=e.getBoundingClientRect(),{width:s,height:o,$:a}=o1(e);let l=(a?fc(n.width):n.width)/s,u=(a?fc(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const $L=Dn(0);function a1(t){const e=Wt(t);return!$p()||!e.visualViewport?$L:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function FL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Wt(t)?!1:e}function vs(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=Fp(t);let l=Dn(1);e&&(s?xn(s)&&(l=xi(s)):l=xi(t));const u=FL(a,n,s)?a1(a):Dn(0);let f=(o.left+u.x)/l.x,p=(o.top+u.y)/l.y,m=o.width/l.x,y=o.height/l.y;if(a){const v=Wt(a),x=s&&xn(s)?Wt(s):s;let _=v,S=hh(_);for(;S&&s&&x!==_;){const j=xi(S),T=S.getBoundingClientRect(),E=bn(S),C=T.left+(S.clientLeft+parseFloat(E.paddingLeft))*j.x,N=T.top+(S.clientTop+parseFloat(E.paddingTop))*j.y;f*=j.x,p*=j.y,m*=j.x,y*=j.y,f+=C,p+=N,_=Wt(S),S=hh(_)}}return pc({width:m,height:y,x:f,y:p})}function Dc(t,e){const n=Lc(t).scrollLeft;return e?e.left+n:vs(Un(t)).left+n}function l1(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-Dc(t,n),o=n.top+e.scrollTop;return{x:s,y:o}}function VL(t){let{elements:e,rect:n,offsetParent:s,strategy:o}=t;const a=o==="fixed",l=Un(s),u=e?Mc(e.floating):!1;if(s===l||u&&a)return n;let f={scrollLeft:0,scrollTop:0},p=Dn(1);const m=Dn(0),y=Fn(s);if((y||!y&&!a)&&((Mi(s)!=="body"||aa(l))&&(f=Lc(s)),Fn(s))){const x=vs(s);p=xi(s),m.x=x.x+s.clientLeft,m.y=x.y+s.clientTop}const v=l&&!y&&!a?l1(l,f):Dn(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-f.scrollLeft*p.x+m.x+v.x,y:n.y*p.y-f.scrollTop*p.y+m.y+v.y}}function UL(t){return Array.from(t.getClientRects())}function zL(t){const e=Un(t),n=Lc(t),s=t.ownerDocument.body,o=Bt(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),a=Bt(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let l=-n.scrollLeft+Dc(t);const u=-n.scrollTop;return bn(s).direction==="rtl"&&(l+=Bt(e.clientWidth,s.clientWidth)-o),{width:o,height:a,x:l,y:u}}const yw=25;function BL(t,e){const n=Wt(t),s=Un(t),o=n.visualViewport;let a=s.clientWidth,l=s.clientHeight,u=0,f=0;if(o){a=o.width,l=o.height;const m=$p();(!m||m&&e==="fixed")&&(u=o.offsetLeft,f=o.offsetTop)}const p=Dc(s);if(p<=0){const m=s.ownerDocument,y=m.body,v=getComputedStyle(y),x=m.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,_=Math.abs(s.clientWidth-y.clientWidth-x);_<=yw&&(a-=_)}else p<=yw&&(a+=p);return{width:a,height:l,x:u,y:f}}const WL=new Set(["absolute","fixed"]);function HL(t,e){const n=vs(t,!0,e==="fixed"),s=n.top+t.clientTop,o=n.left+t.clientLeft,a=Fn(t)?xi(t):Dn(1),l=t.clientWidth*a.x,u=t.clientHeight*a.y,f=o*a.x,p=s*a.y;return{width:l,height:u,x:f,y:p}}function vw(t,e,n){let s;if(e==="viewport")s=BL(t,n);else if(e==="document")s=zL(Un(t));else if(xn(e))s=HL(e,n);else{const o=a1(t);s={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return pc(s)}function c1(t,e){const n=Mr(t);return n===e||!xn(n)||Ei(n)?!1:bn(n).position==="fixed"||c1(n,e)}function GL(t,e){const n=e.get(t);if(n)return n;let s=ea(t,[],!1).filter(u=>xn(u)&&Mi(u)!=="body"),o=null;const a=bn(t).position==="fixed";let l=a?Mr(t):t;for(;xn(l)&&!Ei(l);){const u=bn(l),f=Dp(l);!f&&u.position==="fixed"&&(o=null),(a?!f&&!o:!f&&u.position==="static"&&!!o&&WL.has(o.position)||aa(l)&&!f&&c1(t,l))?s=s.filter(m=>m!==l):o=u,l=Mr(l)}return e.set(t,s),s}function KL(t){let{element:e,boundary:n,rootBoundary:s,strategy:o}=t;const l=[...n==="clippingAncestors"?Mc(e)?[]:GL(e,this._c):[].concat(n),s],u=l[0],f=l.reduce((p,m)=>{const y=vw(e,m,o);return p.top=Bt(y.top,p.top),p.right=Ir(y.right,p.right),p.bottom=Ir(y.bottom,p.bottom),p.left=Bt(y.left,p.left),p},vw(e,u,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function qL(t){const{width:e,height:n}=o1(t);return{width:e,height:n}}function YL(t,e,n){const s=Fn(e),o=Un(e),a=n==="fixed",l=vs(t,!0,a,e);let u={scrollLeft:0,scrollTop:0};const f=Dn(0);function p(){f.x=Dc(o)}if(s||!s&&!a)if((Mi(e)!=="body"||aa(o))&&(u=Lc(e)),s){const x=vs(e,!0,a,e);f.x=x.x+e.clientLeft,f.y=x.y+e.clientTop}else o&&p();a&&!s&&o&&p();const m=o&&!s&&!a?l1(o,u):Dn(0),y=l.left+u.scrollLeft-f.x-m.x,v=l.top+u.scrollTop-f.y-m.y;return{x:y,y:v,width:l.width,height:l.height}}function vf(t){return bn(t).position==="static"}function ww(t,e){if(!Fn(t)||bn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Un(t)===n&&(n=n.ownerDocument.body),n}function u1(t,e){const n=Wt(t);if(Mc(t))return n;if(!Fn(t)){let o=Mr(t);for(;o&&!Ei(o);){if(xn(o)&&!vf(o))return o;o=Mr(o)}return n}let s=ww(t,e);for(;s&&AL(s)&&vf(s);)s=ww(s,e);return s&&Ei(s)&&vf(s)&&!Dp(s)?n:s||LL(t)||n}const JL=async function(t){const e=this.getOffsetParent||u1,n=this.getDimensions,s=await n(t.floating);return{reference:YL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function QL(t){return bn(t).direction==="rtl"}const XL={convertOffsetParentRelativeRectToViewportRelativeRect:VL,getDocumentElement:Un,getClippingRect:KL,getOffsetParent:u1,getElementRects:JL,getClientRects:UL,getDimensions:qL,getScale:xi,isElement:xn,isRTL:QL};function d1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ZL(t,e){let n=null,s;const o=Un(t);function a(){var u;clearTimeout(s),(u=n)==null||u.disconnect(),n=null}function l(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),a();const p=t.getBoundingClientRect(),{left:m,top:y,width:v,height:x}=p;if(u||e(),!v||!x)return;const _=Dl(y),S=Dl(o.clientWidth-(m+v)),j=Dl(o.clientHeight-(y+x)),T=Dl(m),C={rootMargin:-_+"px "+-S+"px "+-j+"px "+-T+"px",threshold:Bt(0,Ir(1,f))||1};let N=!0;function R(M){const D=M[0].intersectionRatio;if(D!==f){if(!N)return l();D?l(!1,D):s=setTimeout(()=>{l(!1,1e-7)},1e3)}D===1&&!d1(p,t.getBoundingClientRect())&&l(),N=!1}try{n=new IntersectionObserver(R,{...C,root:o.ownerDocument})}catch{n=new IntersectionObserver(R,C)}n.observe(t)}return l(!0),a}function eD(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,p=Fp(t),m=o||a?[...p?ea(p):[],...ea(e)]:[];m.forEach(T=>{o&&T.addEventListener("scroll",n,{passive:!0}),a&&T.addEventListener("resize",n)});const y=p&&u?ZL(p,n):null;let v=-1,x=null;l&&(x=new ResizeObserver(T=>{let[E]=T;E&&E.target===p&&x&&(x.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var C;(C=x)==null||C.observe(e)})),n()}),p&&!f&&x.observe(p),x.observe(e));let _,S=f?vs(t):null;f&&j();function j(){const T=vs(t);S&&!d1(S,T)&&n(),S=T,_=requestAnimationFrame(j)}return n(),()=>{var T;m.forEach(E=>{o&&E.removeEventListener("scroll",n),a&&E.removeEventListener("resize",n)}),y==null||y(),(T=x)==null||T.disconnect(),x=null,f&&cancelAnimationFrame(_)}}const tD=jL,nD=EL,rD=SL,sD=TL,iD=_L,xw=bL,oD=CL,aD=(t,e,n)=>{const s=new Map,o={platform:XL,...n},a={...o.platform,_c:s};return xL(t,e,{...o,platform:a})};var lD=typeof document<"u",cD=function(){},Gl=lD?b.useLayoutEffect:cD;function mc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!mc(t[s],e[s]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,o[s]))return!1;for(s=n;s--!==0;){const a=o[s];if(!(a==="_owner"&&t.$$typeof)&&!mc(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function f1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function bw(t,e){const n=f1(t);return Math.round(e*n)/n}function wf(t){const e=b.useRef(t);return Gl(()=>{e.current=t}),e}function uD(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:o,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:f,open:p}=t,[m,y]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,x]=b.useState(s);mc(v,s)||x(s);const[_,S]=b.useState(null),[j,T]=b.useState(null),E=b.useCallback(O=>{O!==M.current&&(M.current=O,S(O))},[]),C=b.useCallback(O=>{O!==D.current&&(D.current=O,T(O))},[]),N=a||_,R=l||j,M=b.useRef(null),D=b.useRef(null),$=b.useRef(m),G=f!=null,X=wf(f),de=wf(o),ke=wf(p),ge=b.useCallback(()=>{if(!M.current||!D.current)return;const O={placement:e,strategy:n,middleware:v};de.current&&(O.platform=de.current),aD(M.current,D.current,O).then(H=>{const F={...H,isPositioned:ke.current!==!1};ye.current&&!mc($.current,F)&&($.current=F,Ch.flushSync(()=>{y(F)}))})},[v,e,n,de,ke]);Gl(()=>{p===!1&&$.current.isPositioned&&($.current.isPositioned=!1,y(O=>({...O,isPositioned:!1})))},[p]);const ye=b.useRef(!1);Gl(()=>(ye.current=!0,()=>{ye.current=!1}),[]),Gl(()=>{if(N&&(M.current=N),R&&(D.current=R),N&&R){if(X.current)return X.current(N,R,ge);ge()}},[N,R,ge,X,G]);const be=b.useMemo(()=>({reference:M,floating:D,setReference:E,setFloating:C}),[E,C]),le=b.useMemo(()=>({reference:N,floating:R}),[N,R]),z=b.useMemo(()=>{const O={position:n,left:0,top:0};if(!le.floating)return O;const H=bw(le.floating,m.x),F=bw(le.floating,m.y);return u?{...O,transform:"translate("+H+"px, "+F+"px)",...f1(le.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:F}},[n,u,le.floating,m.x,m.y]);return b.useMemo(()=>({...m,update:ge,refs:be,elements:le,floatingStyles:z}),[m,ge,be,le,z])}const dD=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:o}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?xw({element:s.current,padding:o}).fn(n):{}:s?xw({element:s,padding:o}).fn(n):{}}}},fD=(t,e)=>({...tD(t),options:[t,e]}),hD=(t,e)=>({...nD(t),options:[t,e]}),pD=(t,e)=>({...oD(t),options:[t,e]}),mD=(t,e)=>({...rD(t),options:[t,e]}),gD=(t,e)=>({...sD(t),options:[t,e]}),yD=(t,e)=>({...iD(t),options:[t,e]}),vD=(t,e)=>({...dD(t),options:[t,e]});var wD="Arrow",h1=b.forwardRef((t,e)=>{const{children:n,width:s=10,height:o=5,...a}=t;return d.jsx(Ne.svg,{...a,ref:e,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});h1.displayName=wD;var xD=h1;function Vp(t){const[e,n]=b.useState(void 0);return $n(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let l,u;if("borderBoxSize"in a){const f=a.borderBoxSize,p=Array.isArray(f)?f[0]:f;l=p.inlineSize,u=p.blockSize}else l=t.offsetWidth,u=t.offsetHeight;n({width:l,height:u})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var Up="Popper",[p1,m1]=sn(Up),[bD,g1]=p1(Up),y1=t=>{const{__scopePopper:e,children:n}=t,[s,o]=b.useState(null);return d.jsx(bD,{scope:e,anchor:s,onAnchorChange:o,children:n})};y1.displayName=Up;var v1="PopperAnchor",w1=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...o}=t,a=g1(v1,n),l=b.useRef(null),u=Fe(e,l),f=b.useRef(null);return b.useEffect(()=>{const p=f.current;f.current=(s==null?void 0:s.current)||l.current,p!==f.current&&a.onAnchorChange(f.current)}),s?null:d.jsx(Ne.div,{...o,ref:u})});w1.displayName=v1;var zp="PopperContent",[SD,_D]=p1(zp),x1=b.forwardRef((t,e)=>{var te,Se,Ee,Me,Je,Tt;const{__scopePopper:n,side:s="bottom",sideOffset:o=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:m=0,sticky:y="partial",hideWhenDetached:v=!1,updatePositionStrategy:x="optimized",onPlaced:_,...S}=t,j=g1(zp,n),[T,E]=b.useState(null),C=Fe(e,_n=>E(_n)),[N,R]=b.useState(null),M=Vp(N),D=(M==null?void 0:M.width)??0,$=(M==null?void 0:M.height)??0,G=s+(a!=="center"?"-"+a:""),X=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},de=Array.isArray(p)?p:[p],ke=de.length>0,ge={padding:X,boundary:de.filter(jD),altBoundary:ke},{refs:ye,floatingStyles:be,placement:le,isPositioned:z,middlewareData:O}=uD({strategy:"fixed",placement:G,whileElementsMounted:(..._n)=>eD(..._n,{animationFrame:x==="always"}),elements:{reference:j.anchor},middleware:[fD({mainAxis:o+$,alignmentAxis:l}),f&&hD({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?pD():void 0,...ge}),f&&mD({...ge}),gD({...ge,apply:({elements:_n,rects:bs,availableWidth:ua,availableHeight:da})=>{const{width:Li,height:fa}=bs.reference,sr=_n.floating.style;sr.setProperty("--radix-popper-available-width",`${ua}px`),sr.setProperty("--radix-popper-available-height",`${da}px`),sr.setProperty("--radix-popper-anchor-width",`${Li}px`),sr.setProperty("--radix-popper-anchor-height",`${fa}px`)}}),N&&vD({element:N,padding:u}),ED({arrowWidth:D,arrowHeight:$}),v&&yD({strategy:"referenceHidden",...ge})]}),[H,F]=_1(le),P=Lt(_);$n(()=>{z&&(P==null||P())},[z,P]);const W=(te=O.arrow)==null?void 0:te.x,Q=(Se=O.arrow)==null?void 0:Se.y,ie=((Ee=O.arrow)==null?void 0:Ee.centerOffset)!==0,[xe,je]=b.useState();return $n(()=>{T&&je(window.getComputedStyle(T).zIndex)},[T]),d.jsx("div",{ref:ye.setFloating,"data-radix-popper-content-wrapper":"",style:{...be,transform:z?be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(Me=O.transformOrigin)==null?void 0:Me.x,(Je=O.transformOrigin)==null?void 0:Je.y].join(" "),...((Tt=O.hide)==null?void 0:Tt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(SD,{scope:n,placedSide:H,onArrowChange:R,arrowX:W,arrowY:Q,shouldHideArrow:ie,children:d.jsx(Ne.div,{"data-side":H,"data-align":F,...S,ref:C,style:{...S.style,animation:z?void 0:"none"}})})})});x1.displayName=zp;var b1="PopperArrow",kD={top:"bottom",right:"left",bottom:"top",left:"right"},S1=b.forwardRef(function(e,n){const{__scopePopper:s,...o}=e,a=_D(b1,s),l=kD[a.placedSide];return d.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:d.jsx(xD,{...o,ref:n,style:{...o.style,display:"block"}})})});S1.displayName=b1;function jD(t){return t!==null}var ED=t=>({name:"transformOrigin",options:t,fn(e){var j,T,E;const{placement:n,rects:s,middlewareData:o}=e,l=((j=o.arrow)==null?void 0:j.centerOffset)!==0,u=l?0:t.arrowWidth,f=l?0:t.arrowHeight,[p,m]=_1(n),y={start:"0%",center:"50%",end:"100%"}[m],v=(((T=o.arrow)==null?void 0:T.x)??0)+u/2,x=(((E=o.arrow)==null?void 0:E.y)??0)+f/2;let _="",S="";return p==="bottom"?(_=l?y:`${v}px`,S=`${-f}px`):p==="top"?(_=l?y:`${v}px`,S=`${s.floating.height+f}px`):p==="right"?(_=`${-f}px`,S=l?y:`${x}px`):p==="left"&&(_=`${s.floating.width+f}px`,S=l?y:`${x}px`),{data:{x:_,y:S}}}});function _1(t){const[e,n="center"]=t.split("-");return[e,n]}var CD=y1,TD=w1,ND=x1,PD=S1,AD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),RD="VisuallyHidden",k1=b.forwardRef((t,e)=>d.jsx(Ne.span,{...t,ref:e,style:{...AD,...t.style}}));k1.displayName=RD;var j1=k1,[$c]=sn("Tooltip",[m1]),Fc=m1(),E1="TooltipProvider",OD=700,ph="tooltip.open",[ID,Bp]=$c(E1),C1=t=>{const{__scopeTooltip:e,delayDuration:n=OD,skipDelayDuration:s=300,disableHoverableContent:o=!1,children:a}=t,l=b.useRef(!0),u=b.useRef(!1),f=b.useRef(0);return b.useEffect(()=>{const p=f.current;return()=>window.clearTimeout(p)},[]),d.jsx(ID,{scope:e,isOpenDelayedRef:l,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(f.current),l.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>l.current=!0,s)},[s]),isPointerInTransitRef:u,onPointerInTransitChange:b.useCallback(p=>{u.current=p},[]),disableHoverableContent:o,children:a})};C1.displayName=E1;var ta="Tooltip",[MD,la]=$c(ta),T1=t=>{const{__scopeTooltip:e,children:n,open:s,defaultOpen:o,onOpenChange:a,disableHoverableContent:l,delayDuration:u}=t,f=Bp(ta,t.__scopeTooltip),p=Fc(e),[m,y]=b.useState(null),v=gs(),x=b.useRef(0),_=l??f.disableHoverableContent,S=u??f.delayDuration,j=b.useRef(!1),[T,E]=xs({prop:s,defaultProp:o??!1,onChange:D=>{D?(f.onOpen(),document.dispatchEvent(new CustomEvent(ph))):f.onClose(),a==null||a(D)},caller:ta}),C=b.useMemo(()=>T?j.current?"delayed-open":"instant-open":"closed",[T]),N=b.useCallback(()=>{window.clearTimeout(x.current),x.current=0,j.current=!1,E(!0)},[E]),R=b.useCallback(()=>{window.clearTimeout(x.current),x.current=0,E(!1)},[E]),M=b.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{j.current=!0,E(!0),x.current=0},S)},[S,E]);return b.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),d.jsx(CD,{...p,children:d.jsx(MD,{scope:e,contentId:v,open:T,stateAttribute:C,trigger:m,onTriggerChange:y,onTriggerEnter:b.useCallback(()=>{f.isOpenDelayedRef.current?M():N()},[f.isOpenDelayedRef,M,N]),onTriggerLeave:b.useCallback(()=>{_?R():(window.clearTimeout(x.current),x.current=0)},[R,_]),onOpen:N,onClose:R,disableHoverableContent:_,children:n})})};T1.displayName=ta;var mh="TooltipTrigger",N1=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,o=la(mh,n),a=Bp(mh,n),l=Fc(n),u=b.useRef(null),f=Fe(e,u,o.onTriggerChange),p=b.useRef(!1),m=b.useRef(!1),y=b.useCallback(()=>p.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),d.jsx(TD,{asChild:!0,...l,children:d.jsx(Ne.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...s,ref:f,onPointerMove:Pe(t.onPointerMove,v=>{v.pointerType!=="touch"&&!m.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),m.current=!0)}),onPointerLeave:Pe(t.onPointerLeave,()=>{o.onTriggerLeave(),m.current=!1}),onPointerDown:Pe(t.onPointerDown,()=>{o.open&&o.onClose(),p.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:Pe(t.onFocus,()=>{p.current||o.onOpen()}),onBlur:Pe(t.onBlur,o.onClose),onClick:Pe(t.onClick,o.onClose)})})});N1.displayName=mh;var Wp="TooltipPortal",[LD,DD]=$c(Wp,{forceMount:void 0}),P1=t=>{const{__scopeTooltip:e,forceMount:n,children:s,container:o}=t,a=la(Wp,e);return d.jsx(LD,{scope:e,forceMount:n,children:d.jsx(Ht,{present:n||a.open,children:d.jsx(bp,{asChild:!0,container:o,children:s})})})};P1.displayName=Wp;var Ci="TooltipContent",A1=b.forwardRef((t,e)=>{const n=DD(Ci,t.__scopeTooltip),{forceMount:s=n.forceMount,side:o="top",...a}=t,l=la(Ci,t.__scopeTooltip);return d.jsx(Ht,{present:s||l.open,children:l.disableHoverableContent?d.jsx(R1,{side:o,...a,ref:e}):d.jsx($D,{side:o,...a,ref:e})})}),$D=b.forwardRef((t,e)=>{const n=la(Ci,t.__scopeTooltip),s=Bp(Ci,t.__scopeTooltip),o=b.useRef(null),a=Fe(e,o),[l,u]=b.useState(null),{trigger:f,onClose:p}=n,m=o.current,{onPointerInTransitChange:y}=s,v=b.useCallback(()=>{u(null),y(!1)},[y]),x=b.useCallback((_,S)=>{const j=_.currentTarget,T={x:_.clientX,y:_.clientY},E=zD(T,j.getBoundingClientRect()),C=BD(T,E),N=WD(S.getBoundingClientRect()),R=GD([...C,...N]);u(R),y(!0)},[y]);return b.useEffect(()=>()=>v(),[v]),b.useEffect(()=>{if(f&&m){const _=j=>x(j,m),S=j=>x(j,f);return f.addEventListener("pointerleave",_),m.addEventListener("pointerleave",S),()=>{f.removeEventListener("pointerleave",_),m.removeEventListener("pointerleave",S)}}},[f,m,x,v]),b.useEffect(()=>{if(l){const _=S=>{const j=S.target,T={x:S.clientX,y:S.clientY},E=(f==null?void 0:f.contains(j))||(m==null?void 0:m.contains(j)),C=!HD(T,l);E?v():C&&(v(),p())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[f,m,l,p,v]),d.jsx(R1,{...t,ref:a})}),[FD,VD]=$c(ta,{isInside:!1}),UD=Nj("TooltipContent"),R1=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:l,...u}=t,f=la(Ci,n),p=Fc(n),{onClose:m}=f;return b.useEffect(()=>(document.addEventListener(ph,m),()=>document.removeEventListener(ph,m)),[m]),b.useEffect(()=>{if(f.trigger){const y=v=>{const x=v.target;x!=null&&x.contains(f.trigger)&&m()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[f.trigger,m]),d.jsx(xp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:y=>y.preventDefault(),onDismiss:m,children:d.jsxs(ND,{"data-state":f.stateAttribute,...p,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(UD,{children:s}),d.jsx(FD,{scope:n,isInside:!0,children:d.jsx(j1,{id:f.contentId,role:"tooltip",children:o||s})})]})})});A1.displayName=Ci;var O1="TooltipArrow",I1=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,o=Fc(n);return VD(O1,n).isInside?null:d.jsx(PD,{...o,...s,ref:e})});I1.displayName=O1;function zD(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),o=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,s,o,a)){case a:return"left";case o:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function BD(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function WD(t){const{top:e,right:n,bottom:s,left:o}=t;return[{x:o,y:e},{x:n,y:e},{x:n,y:s},{x:o,y:s}]}function HD(t,e){const{x:n,y:s}=t;let o=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const u=e[a],f=e[l],p=u.x,m=u.y,y=f.x,v=f.y;m>s!=v>s&&n<(y-p)*(s-m)/(v-m)+p&&(o=!o)}return o}function GD(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),KD(e)}function KD(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const o=t[s];for(;e.length>=2;){const a=e[e.length-1],l=e[e.length-2];if((a.x-l.x)*(o.y-l.y)>=(a.y-l.y)*(o.x-l.x))e.pop();else break}e.push(o)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const o=t[s];for(;n.length>=2;){const a=n[n.length-1],l=n[n.length-2];if((a.x-l.x)*(o.y-l.y)>=(a.y-l.y)*(o.x-l.x))n.pop();else break}n.push(o)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var qD=C1,YD=T1,JD=N1,QD=P1,XD=A1,ZD=I1;function gi({delayDuration:t=0,...e}){return d.jsx(qD,{"data-slot":"tooltip-provider",delayDuration:t,...e})}function No({...t}){return d.jsx(gi,{children:d.jsx(YD,{"data-slot":"tooltip",...t})})}function Po({...t}){return d.jsx(JD,{"data-slot":"tooltip-trigger",...t})}function Ao({className:t,sideOffset:e=0,children:n,...s}){return d.jsx(QD,{children:d.jsxs(XD,{"data-slot":"tooltip-content",sideOffset:e,className:Oe("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...s,children:[n,d.jsx(ZD,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function e4({message:t,isUser:e,isAudio:n=!1,audioBlob:s,prosodyFeedback:o,timestamp:a,isProcessing:l=!1,onAnalysisView:u,onRetry:f,onPlayback:p}){const[m,y]=b.useState(!1),[v,x]=b.useState(!1),_=()=>{if(s&&!m){const N=URL.createObjectURL(s),R=new Audio(N);R.onended=()=>{y(!1),URL.revokeObjectURL(N)},R.onpause=()=>{y(!1)},R.play(),y(!0)}else p?p():(y(!0),setTimeout(()=>y(!1),2e3))},S=()=>{if(s){const N=URL.createObjectURL(s),R=document.createElement("a");R.href=N,R.download=`recording-${Date.now()}.wav`,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(N)}},j=N=>N>=85?"text-success":N>=70?"text-accent":N>=55?"text-secondary":"text-destructive",T=N=>N>=85?"bg-success/10 border-success/20":N>=70?"bg-accent/10 border-accent/20":N>=55?"bg-secondary/10 border-secondary/20":"bg-destructive/10 border-destructive/20",E=N=>{switch(N){case"error":return"bg-destructive/10 text-destructive border-destructive/20";case"good":return"bg-success/10 text-success border-success/20";case"suggestion":return"bg-accent/10 text-accent border-accent/20";default:return"bg-muted/50 text-muted-foreground border-muted/20"}},C=(N,R)=>{if(!R||R.length===0)return N;let M=N;return R.forEach(({text:D,type:$})=>{const G=$==="error"?"bg-destructive/20 text-destructive px-1 rounded":$==="good"?"bg-success/20 text-success-foreground px-1 rounded":"bg-accent/20 text-accent-foreground px-1 rounded";M=M.replace(D,`<span class="${G}">${D}</span>`)}),d.jsx("span",{dangerouslySetInnerHTML:{__html:M}})};return d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${e?"justify-end":"justify-start"} mb-4`,children:d.jsx("div",{className:`max-w-[85%] ${e?"order-2":"order-1"}`,children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("div",{className:`flex-shrink-0 ${e?"order-2":"order-1"}`,children:d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${e?"bg-secondary":"bg-accent"}`,children:e?d.jsx(bc,{className:"w-4 h-4"}):d.jsx(Ar,{className:"w-4 h-4"})})}),d.jsx("div",{className:`flex-1 ${e?"order-1":"order-2"}`,children:d.jsx(gt,{className:`${e?"bg-secondary border-secondary/20":"bg-card border-border"}`,children:d.jsxs(yt,{className:"p-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[n&&d.jsx(Zl,{className:"w-4 h-4 text-muted-foreground"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:a})]}),l&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(wn,{className:"w-3 h-3 animate-spin text-accent"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:"Analyzing..."})]})]}),d.jsx("p",{className:"text-sm",children:o!=null&&o.highlights?C(t,o.highlights):t})]}),n&&d.jsxs("div",{className:"flex items-center justify-between mt-3 pt-2 border-t border-border/50",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(gi,{children:d.jsxs(No,{children:[d.jsx(Po,{asChild:!0,children:d.jsxs(ce,{variant:"ghost",size:"sm",onClick:_,className:"h-7 px-2 text-xs",disabled:l,children:[m?d.jsx(Jw,{className:"w-3 h-3 mr-1"}):d.jsx(Zl,{className:"w-3 h-3 mr-1"}),m?"Pause":"Play"]})}),d.jsx(Ao,{children:"Play your recorded audio"})]})}),s&&d.jsx(gi,{children:d.jsxs(No,{children:[d.jsx(Po,{asChild:!0,children:d.jsx(ce,{variant:"ghost",size:"sm",onClick:S,className:"h-7 px-2 text-xs",children:d.jsx(rC,{className:"w-3 h-3"})})}),d.jsx(Ao,{children:"Download audio file"})]})})]}),!l&&o&&d.jsxs(Be,{className:`text-xs cursor-pointer transition-all hover:scale-105 ${T(o.score)}`,onClick:()=>x(!v),children:[d.jsx(In,{className:"w-3 h-3 mr-1"}),Math.round(o.score),"%"]})]}),d.jsx(Si,{children:e&&o&&v&&d.jsx(me.div,{initial:{opacity:0,height:0,y:-10},animate:{opacity:1,height:"auto",y:0},exit:{opacity:0,height:0,y:-10},transition:{duration:.2},className:"mt-3",children:d.jsx(gt,{className:`${T(o.score)} shadow-sm`,children:d.jsxs(yt,{className:"p-3 space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-xs font-semibold",children:"AI Prosody Analysis"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:`text-sm font-bold ${j(o.score)}`,children:[Math.round(o.score),"%"]}),u&&d.jsx(gi,{children:d.jsxs(No,{children:[d.jsx(Po,{asChild:!0,children:d.jsx(ce,{variant:"ghost",size:"sm",onClick:u,className:"h-6 w-6 p-0",children:d.jsx(Ef,{className:"w-3 h-3"})})}),d.jsx(Ao,{children:"View detailed analysis"})]})})]})]}),o.highlights.length>0&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Key areas:"}),d.jsx("div",{className:"flex flex-wrap gap-1",children:o.highlights.slice(0,3).map((N,R)=>d.jsx(gi,{children:d.jsxs(No,{children:[d.jsx(Po,{asChild:!0,children:d.jsx(Be,{variant:"outline",className:`text-xs px-2 py-0.5 cursor-help ${E(N.type)}`,children:N.text})}),d.jsx(Ao,{className:"max-w-xs",children:d.jsx("p",{className:"text-xs",children:N.feedback})})]})},R))})]}),o.suggestions.length>0&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Quick tips:"}),d.jsx("ul",{className:"text-xs space-y-0.5",children:o.suggestions.slice(0,2).map((N,R)=>d.jsxs("li",{className:"flex items-start gap-1",children:[d.jsx("span",{className:"text-accent mt-0.5 flex-shrink-0",children:"•"}),d.jsx("span",{className:"leading-tight",children:N})]},R))})]}),d.jsxs("div",{className:"flex gap-1 pt-1",children:[f&&d.jsxs(ce,{variant:"ghost",size:"sm",onClick:f,className:"h-6 px-2 text-xs flex-1",children:[d.jsx(Xl,{className:"w-3 h-3 mr-1"}),"Try Again"]}),d.jsxs(ce,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",children:[d.jsx(QC,{className:"w-3 h-3 mr-1"}),"Helpful"]}),u&&d.jsxs(ce,{variant:"ghost",size:"sm",onClick:u,className:"h-6 px-2 text-xs",children:[d.jsx(Ef,{className:"w-3 h-3 mr-1"}),"Details"]})]})]})})})}),e&&o&&!v&&!l&&d.jsx(me.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-2",children:d.jsxs(ce,{variant:"ghost",size:"sm",onClick:()=>x(!0),className:"h-6 px-2 text-xs text-muted-foreground hover:text-foreground w-full justify-start",children:[d.jsx(In,{className:"w-3 h-3 mr-1"}),"View AI feedback (",Math.round(o.score),"%)"]})})]})})})]})})})}class t4{constructor(){jt(this,"apiKey",null);jt(this,"baseUrl","");jt(this,"isConfigured",!1);jt(this,"connectionStatus","disconnected");this.loadConfiguration()}loadConfiguration(){try{console.log("🤖 VibeTune AI: Initializing built-in AI prosody analysis"),this.apiKey="BUILT_IN_AI",this.baseUrl="https://api.openai.com/v1",this.isConfigured=!0,this.connectionStatus="connected",console.log("✅ VibeTune AI: Ready for advanced prosody analysis")}catch(e){console.error("VibeTune AI initialization failed:",e),this.isConfigured=!1,this.connectionStatus="disconnected"}}configure(e,n){return console.log("🤖 VibeTune AI: Already configured with built-in AI"),!0}isReady(){return this.isConfigured}getConnectionStatus(){return this.connectionStatus}async testConnection(){if(!this.isConfigured)return{success:!1,error:"AI service not configured"};this.connectionStatus="checking";try{if(console.log("🤖 VibeTune AI: Testing built-in AI connection"),this.generateMockAnalysis("Hello world",{user_level:"Intermediate",topic:"Test",conversation_history:[],focus_areas:[],learning_objectives:[]}).overall_score>0)return this.connectionStatus="connected",console.log("✅ VibeTune AI: Connection test successful"),{success:!0};throw new Error("Mock analysis failed")}catch(e){return this.connectionStatus="disconnected",{success:!1,error:e instanceof Error?e.message:"Connection test failed"}}}async analyzeAudio(e,n,s){if(!this.isConfigured)throw new Error("AI service not configured");console.log("🤖 VibeTune AI: Analyzing speech with advanced built-in prosody engine");const o=await this.generateAdvancedAnalysis(n,s);return console.log("✅ VibeTune AI: Advanced prosody analysis complete"),o}async generateResponse(e,n,s){if(!this.isConfigured)throw new Error("AI service not configured");console.log("🤖 VibeTune AI: Generating contextual response with advanced AI");const o=await this.generateAdvancedResponse(e,n,s);return console.log("✅ VibeTune AI: Contextual response generated"),o}async getIncrementalFeedback(e,n){if(!this.isConfigured)return{suggestions:[],encouragement:"Keep going!"};const s=["Try emphasizing the main verb","Consider rising intonation at the end","Slow down slightly for clarity"].slice(0,Math.floor(Math.random()*3)+1),o=["Great rhythm so far!","Good pronunciation!","Nice intonation pattern!","Keep up the good work!"];return{suggestions:s,encouragement:o[Math.floor(Math.random()*o.length)]}}generateWordLevelAnalysis(e){return e.toLowerCase().split(" ").filter(s=>s.length>0).map((s,o)=>({word:s,start_time:o*.6,end_time:(o+1)*.6,confidence:.8+Math.random()*.2,stress_correct:Math.random()>.2,pronunciation_score:75+Math.random()*20,issues:Math.random()>.8?["stress placement"]:[]}))}async generateAdvancedAnalysis(e,n){const s=e.toLowerCase().split(" ").filter(_=>_.length>0),o={Beginner:{base:65,variance:15},Intermediate:{base:75,variance:15},Advanced:{base:85,variance:10}}[n.user_level],a=this.analyzeTextComplexity(e),l=n.topic.toLowerCase().includes("general")?5:0,u=o.base+Math.random()*o.variance-o.variance/2,f=a>.7?-5:a<.3?5:0,p=Math.max(0,Math.min(100,u+f+l)),m=this.generateContextualStrengths(n,p),y=this.generateContextualImprovements(n,p),v=this.generateContextualSuggestions(n,e),x=this.generateNextFocusAreas(n,p);return{overall_score:p,pronunciation_score:p+(Math.random()*6-3),rhythm_score:p+(Math.random()*6-3),intonation_score:p+(Math.random()*6-3),fluency_score:p+(Math.random()*6-3),detailed_feedback:{strengths:m,improvements:y,specific_issues:this.generateSpecificIssues(s,n)},word_level_analysis:this.generateWordLevelAnalysis(e),suggestions:v,next_focus_areas:x}}async generateAdvancedResponse(e,n,s){const o=e.includes("?"),a=this.analyzeSentiment(e);this.analyzeTextComplexity(e);const l=this.getAdvancedResponseTemplates(n.user_level,n.topic),u=l[Math.floor(Math.random()*l.length)];let f="";s&&(s.overall_score>=85?f=" Your pronunciation is excellent! ":s.overall_score>=70?f=" Great progress on your pronunciation! ":f=" Keep practicing - your pronunciation is improving! ");const p=u+f+this.generateFollowUpQuestion(n.topic,o),m=s?s.overall_score>90?"increase":s.overall_score<60?"decrease":"maintain":"maintain";return{text_response:p,prosody_analysis:s,conversation_flow:{next_topic_suggestions:this.generateTopicSuggestions(n.topic,n.user_level),difficulty_adjustment:m,engagement_level:.8+a*.2},practice_suggestions:{immediate:this.generateImmediatePractice(n,s),session_goals:this.generateSessionGoals(n.user_level,n.focus_areas),homework:this.generateHomework(n.user_level,n.topic)}}}analyzeTextComplexity(e){const n=e.split(" "),s=n.reduce((a,l)=>a+l.length,0)/n.length,o=n.filter(a=>a.length>6).length/n.length;return Math.min(1,(s/6+o)/2)}analyzeSentiment(e){const n=["good","great","excellent","wonderful","amazing","love","like","enjoy","happy"],s=["bad","terrible","awful","hate","dislike","sad","difficult","hard","problem"],o=e.toLowerCase().split(" "),a=o.filter(u=>n.includes(u)).length,l=o.filter(u=>s.includes(u)).length;return Math.max(-1,Math.min(1,(a-l)/o.length*10))}generateContextualStrengths(e,n){const s=[];return n>=80?(s.push("Excellent overall pronunciation control"),s.push("Natural rhythm and flow")):n>=65?(s.push("Good basic pronunciation foundation"),s.push("Clear articulation of most sounds")):(s.push("Making steady progress"),s.push("Good effort and engagement")),e.user_level==="Advanced"?s.push("Sophisticated intonation patterns"):e.user_level==="Intermediate"?s.push("Developing fluency and confidence"):s.push("Building strong pronunciation fundamentals"),s.slice(0,3)}generateContextualImprovements(e,n){const s=[];return n<70&&(s.push("Focus on vowel clarity and consistency"),s.push("Practice sentence stress patterns")),e.user_level==="Beginner"?s.push("Work on basic word stress rules"):e.user_level==="Intermediate"?s.push("Refine question intonation patterns"):s.push("Polish subtle accent features"),s.slice(0,2)}generateContextualSuggestions(e,n){const s=[`Practice reading aloud content about ${e.topic.toLowerCase()}`,"Record yourself and compare with native speakers","Focus on linking sounds between words"];return e.focus_areas.includes("intonation")&&s.push("Practice rising and falling intonation patterns"),s.slice(0,3)}generateNextFocusAreas(e,n){const s=[];return n<75&&s.push("Basic stress patterns"),e.user_level==="Advanced"?s.push("Accent reduction","Complex rhythm patterns"):s.push("Question intonation","Connected speech"),s.slice(0,3)}generateSpecificIssues(e,n){return e.slice(0,2).map(s=>({type:["pronunciation","rhythm","stress"][Math.floor(Math.random()*3)],word:s,severity:Math.random()>.7?"medium":"low",feedback:`Pay attention to the "${s}" pronunciation`,suggestion:`Try emphasizing the main syllable in "${s}"`}))}getAdvancedResponseTemplates(e,n){const s={Beginner:["That's wonderful! I can hear you're working really hard on your pronunciation.","Great job! Your speaking is getting clearer each time.","Excellent effort! Let's continue practicing together."],Intermediate:["Fantastic progress! Your rhythm and intonation are really developing well.","I'm impressed with your pronunciation control! Let's explore this topic further.","Your speaking fluency is improving noticeably! Great work."],Advanced:["Your prosody demonstrates sophisticated control! The nuances in your speech are excellent.","Outstanding fluency and natural rhythm! Your pronunciation skills are really advanced.","Impressive mastery of intonation patterns! Let's dive deeper into this subject."]};return s[e]||s.Beginner}generateFollowUpQuestion(e,n){const s={travel:"What's the most interesting place you'd like to visit?",food:"What's your favorite dish to cook at home?",work:"What aspect of your job do you find most rewarding?",hobby:"How did you first get interested in that hobby?",general:"What's something interesting that happened to you recently?"},o=Object.keys(s).find(a=>e.toLowerCase().includes(a))||"general";return s[o]}generateTopicSuggestions(e,n){return["Travel experiences","Cultural differences","Technology trends","Future plans"].filter(o=>!o.toLowerCase().includes(e.toLowerCase())).slice(0,3)}generateImmediatePractice(e,n){return["Try the sentence again with more word stress","Practice this phrase with rising intonation","Focus on linking the final consonant to the next vowel"].slice(0,2)}generateSessionGoals(e,n){return[`Master ${n[0]||"pronunciation"} patterns`,"Improve natural speaking rhythm","Build confidence in conversation"].slice(0,2)}generateHomework(e,n){return[`Record yourself discussing ${n.toLowerCase()} for 2 minutes`,"Practice reading news headlines with proper stress","Listen to podcasts and shadow-speak for 10 minutes daily"].slice(0,2)}generateMockAnalysis(e,n){const s=e.toLowerCase().split(" "),o=n.user_level==="Advanced"?80:n.user_level==="Intermediate"?70:60,a=Math.random()*20-10,l=Math.max(0,Math.min(100,o+a));return{overall_score:l,pronunciation_score:l+(Math.random()*10-5),rhythm_score:l+(Math.random()*10-5),intonation_score:l+(Math.random()*10-5),fluency_score:l+(Math.random()*10-5),detailed_feedback:{strengths:["Clear articulation of consonants","Good sentence stress pattern","Natural speaking pace"].slice(0,Math.floor(Math.random()*3)+1),improvements:["Work on vowel pronunciation","Practice word stress in multi-syllable words","Focus on question intonation"].slice(0,Math.floor(Math.random()*2)+1),specific_issues:s.slice(0,2).map((u,f)=>({type:["pronunciation","rhythm","intonation","stress"][Math.floor(Math.random()*4)],word:u,severity:["low","medium"][Math.floor(Math.random()*2)],feedback:`The word "${u}" could be improved`,suggestion:`Try emphasizing the first syllable of "${u}"`}))},word_level_analysis:this.generateWordLevelAnalysis(e),suggestions:["Practice with word stress exercises","Record yourself and compare with native speakers","Focus on sentence-level intonation patterns"],next_focus_areas:["Compound word stress","Question intonation","Rhythm in connected speech"]}}generateMockResponse(e,n,s){const a={Beginner:["That's great! I can hear you're working hard on your pronunciation. Let's practice some more basic patterns.","Nice try! Your rhythm is improving. Can you tell me about your favorite food?","Good effort! I noticed your word stress is getting better. What do you like to do on weekends?"],Intermediate:["Excellent work on your intonation! Your question patterns are much clearer now. Let's discuss something more complex.","I can hear improvement in your connected speech. How do you feel about technology in education?","Your pronunciation has really developed! Let's practice with some more challenging vocabulary."],Advanced:["Your prosody shows sophisticated control! Let's explore some nuanced expressions and idioms.","Impressive fluency! Your stress patterns are very natural. What are your thoughts on current events?","Your accent work is excellent! Let's discuss some abstract concepts to challenge your advanced skills."]}[n.user_level];return{text_response:a[Math.floor(Math.random()*a.length)],prosody_analysis:s,conversation_flow:{next_topic_suggestions:["Travel experiences","Career goals","Cultural differences","Technology trends"],difficulty_adjustment:s?s.overall_score>85?"increase":s.overall_score<60?"decrease":"maintain":"maintain",engagement_level:.8+Math.random()*.2},practice_suggestions:{immediate:["Try the sentence again with more emphasis on key words","Focus on rising intonation for questions"],session_goals:["Master question intonation patterns","Improve word stress accuracy"],homework:["Record yourself reading news headlines","Practice conversation starters with friends"]}}}}const zo=new t4;function n4({onSendMessage:t,conversationContext:e,disabled:n,showAIFeedback:s=!0}){const[o,a]=b.useState("idle"),[l,u]=b.useState(0),[f,p]=b.useState(""),[m,y]=b.useState(null),[v,x]=b.useState(!1),[_,S]=b.useState(null),[j,T]=b.useState(0),[E,C]=b.useState(!1),N=b.useRef(null),R=b.useRef(null);b.useRef();const M=b.useRef();b.useEffect(()=>{C(zo.isReady())},[]),b.useEffect(()=>{let z;return o==="recording"?z=setInterval(()=>{u(O=>O+1),E&&e&&l>0&&l%3===0&&$()},1e3):(u(0),S(null)),()=>{z&&clearInterval(z)}},[o,l,E,e]);const D=z=>{const O=Math.floor(z/60),H=z%60;return`${O}:${H.toString().padStart(2,"0")}`},$=async()=>{if(!(!E||!e))try{const z=await zo.getIncrementalFeedback("Recording in progress...",e);S(z),M.current&&clearTimeout(M.current),M.current=setTimeout(()=>{S(null)},3e3)}catch(z){console.error("Failed to get incremental feedback:",z)}},G=async()=>{if(!n)try{const z=await navigator.mediaDevices.getUserMedia({audio:!0}),O=new MediaRecorder(z);N.current=O;const H=[];O.ondataavailable=F=>{F.data.size>0&&H.push(F.data)},O.onstop=()=>{const F=new Blob(H,{type:"audio/wav"});y(F),z.getTracks().forEach(P=>P.stop())},O.start(),a("recording"),u(0)}catch(z){console.error("Failed to start recording:",z),a("recording"),u(0)}},X=()=>{N.current&&N.current.state==="recording"&&N.current.stop(),a("processing"),T(0);const z=setInterval(()=>{T(O=>O>=100?(clearInterval(z),100):O+Math.random()*15)},200);setTimeout(()=>{clearInterval(z),T(100),E&&s?(a("analyzing"),p("I think learning English prosody is really important for effective communication."),setTimeout(()=>{a("ready")},1500)):(p("I think learning English prosody is really important for effective communication."),a("ready"))},2e3)},de=()=>{if(m&&!v){const z=URL.createObjectURL(m),O=new Audio(z);R.current=O,O.onended=()=>{x(!1),URL.revokeObjectURL(z)},O.play(),x(!0)}else R.current&&v&&(R.current.pause(),x(!1))},ke=()=>{p(""),y(null),a("idle"),T(0),S(null),R.current&&(R.current.pause(),x(!1))},ge=()=>{f&&(t(f,!0,m||void 0),p(""),y(null),a("idle"),T(0))},ye=()=>{switch(o){case"recording":return d.jsx(TC,{className:"w-6 h-6"});case"processing":case"analyzing":return d.jsx(wn,{className:"w-6 h-6 animate-spin"});default:return d.jsx(Wo,{className:"w-6 h-6"})}},be=()=>{const z="h-16 w-16 rounded-full flex items-center justify-center transition-all duration-300 relative overflow-hidden";switch(o){case"recording":return`${z} bg-destructive hover:bg-destructive/90 text-destructive-foreground`;case"processing":case"analyzing":return`${z} bg-muted text-muted-foreground cursor-not-allowed`;default:return`${z} bg-accent hover:bg-accent/90 text-accent-foreground shadow-lg hover:shadow-xl ${n?"opacity-50 cursor-not-allowed":""}`}},le=()=>{switch(o){case"recording":return E?"Speak clearly - AI is listening":"Recording your speech";case"processing":return"Processing audio...";case"analyzing":return"AI analyzing your pronunciation";case"ready":return"Ready to send!";default:return E?"Tap to record with AI analysis":"Tap to record your response"}};return d.jsxs("div",{className:"bg-card border-t border-border p-4 space-y-4",children:[s&&d.jsxs("div",{className:"flex items-center justify-between text-xs",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${E?"bg-success animate-pulse":"bg-muted"}`}),d.jsxs("span",{className:"text-muted-foreground",children:["AI Analysis: ",E?"Active":"Not configured"]})]}),!E&&d.jsxs(ce,{variant:"ghost",size:"sm",className:"h-6 px-2",children:[d.jsx(Rh,{className:"w-3 h-3 mr-1"}),"Setup"]})]}),d.jsx(Si,{mode:"wait",children:o!=="idle"&&d.jsxs(me.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-3",children:[o==="recording"&&d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx("div",{className:"w-3 h-3 bg-destructive rounded-full animate-pulse"}),d.jsx("span",{className:"text-sm font-medium",children:"Recording"}),d.jsx(Be,{variant:"outline",className:"bg-destructive/10 text-destructive",children:D(l)})]}),(o==="processing"||o==="analyzing")&&d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx(wn,{className:"w-4 h-4 animate-spin text-accent"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:o==="processing"?"Processing audio...":"AI analyzing pronunciation..."})]}),d.jsx(xc,{value:j,className:"h-1"})]}),_&&o==="recording"&&d.jsxs(me.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-accent/10 border border-accent/20 rounded-lg p-3 text-center",children:[d.jsx("p",{className:"text-sm font-medium text-accent mb-1",children:_.encouragement}),_.suggestions.length>0&&d.jsxs("p",{className:"text-xs text-muted-foreground",children:["💡 ",_.suggestions[0]]})]})]})}),d.jsx(Si,{children:f&&d.jsxs(me.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-primary/10 border border-primary/20 rounded-lg p-4 space-y-3",children:[d.jsxs("p",{className:"text-sm",children:['"',f,'"']}),d.jsxs("div",{className:"flex items-center gap-2",children:[m&&d.jsx(ce,{onClick:de,variant:"ghost",size:"sm",className:"flex-shrink-0",children:v?d.jsx(Jw,{className:"w-4 h-4"}):d.jsx(Qw,{className:"w-4 h-4"})}),d.jsxs("div",{className:"flex gap-2 flex-1",children:[d.jsxs(ce,{onClick:ke,variant:"outline",size:"sm",className:"flex-1",children:[d.jsx(Xl,{className:"w-4 h-4 mr-2"}),"Retry"]}),d.jsxs(ce,{onClick:ge,size:"sm",className:"flex-1 bg-accent hover:bg-accent/90 text-accent-foreground",disabled:o==="analyzing",children:[o==="analyzing"?d.jsx(wn,{className:"w-4 h-4 mr-2 animate-spin"}):d.jsx(Ah,{className:"w-4 h-4 mr-2"}),o==="analyzing"?"Analyzing...":"Send"]})]})]})]})}),d.jsx("div",{className:"flex items-center justify-center",children:d.jsx(me.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:d.jsxs(ce,{onClick:o==="recording"?X:G,className:be(),disabled:n||o==="processing"||o==="analyzing",children:[o==="recording"&&d.jsx(me.div,{className:"absolute inset-0 rounded-full bg-destructive",animate:{scale:[1,1.2,1],opacity:[.5,.2,.5]},transition:{duration:1,repeat:1/0,ease:"easeInOut"}}),ye()]})})}),d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-xs text-muted-foreground",children:le()})})]})}function r4(t){const e=t+"CollectionProvider",[n,s]=sn(e),[o,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:j,children:T}=S,E=Et.useRef(null),C=Et.useRef(new Map).current;return d.jsx(o,{scope:j,itemMap:C,collectionRef:E,children:T})};l.displayName=e;const u=t+"CollectionSlot",f=Bo(u),p=Et.forwardRef((S,j)=>{const{scope:T,children:E}=S,C=a(u,T),N=Fe(j,C.collectionRef);return d.jsx(f,{ref:N,children:E})});p.displayName=u;const m=t+"CollectionItemSlot",y="data-radix-collection-item",v=Bo(m),x=Et.forwardRef((S,j)=>{const{scope:T,children:E,...C}=S,N=Et.useRef(null),R=Fe(j,N),M=a(m,T);return Et.useEffect(()=>(M.itemMap.set(N,{ref:N,...C}),()=>void M.itemMap.delete(N))),d.jsx(v,{[y]:"",ref:R,children:E})});x.displayName=m;function _(S){const j=a(t+"CollectionConsumer",S);return Et.useCallback(()=>{const E=j.collectionRef.current;if(!E)return[];const C=Array.from(E.querySelectorAll(`[${y}]`));return Array.from(j.itemMap.values()).sort((M,D)=>C.indexOf(M.ref.current)-C.indexOf(D.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:l,Slot:p,ItemSlot:x},_,s]}var xf="rovingFocusGroup.onEntryFocus",s4={bubbles:!1,cancelable:!0},ca="RovingFocusGroup",[gh,M1,i4]=r4(ca),[o4,Vc]=sn(ca,[i4]),[a4,l4]=o4(ca),L1=b.forwardRef((t,e)=>d.jsx(gh.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(gh.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(c4,{...t,ref:e})})}));L1.displayName=ca;var c4=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:o=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:p,preventScrollOnEntryFocus:m=!1,...y}=t,v=b.useRef(null),x=Fe(e,v),_=Pc(a),[S,j]=xs({prop:l,defaultProp:u??null,onChange:f,caller:ca}),[T,E]=b.useState(!1),C=Lt(p),N=M1(n),R=b.useRef(!1),[M,D]=b.useState(0);return b.useEffect(()=>{const $=v.current;if($)return $.addEventListener(xf,C),()=>$.removeEventListener(xf,C)},[C]),d.jsx(a4,{scope:n,orientation:s,dir:_,loop:o,currentTabStopId:S,onItemFocus:b.useCallback($=>j($),[j]),onItemShiftTab:b.useCallback(()=>E(!0),[]),onFocusableItemAdd:b.useCallback(()=>D($=>$+1),[]),onFocusableItemRemove:b.useCallback(()=>D($=>$-1),[]),children:d.jsx(Ne.div,{tabIndex:T||M===0?-1:0,"data-orientation":s,...y,ref:x,style:{outline:"none",...t.style},onMouseDown:Pe(t.onMouseDown,()=>{R.current=!0}),onFocus:Pe(t.onFocus,$=>{const G=!R.current;if($.target===$.currentTarget&&G&&!T){const X=new CustomEvent(xf,s4);if($.currentTarget.dispatchEvent(X),!X.defaultPrevented){const de=N().filter(le=>le.focusable),ke=de.find(le=>le.active),ge=de.find(le=>le.id===S),be=[ke,ge,...de].filter(Boolean).map(le=>le.ref.current);F1(be,m)}}R.current=!1}),onBlur:Pe(t.onBlur,()=>E(!1))})})}),D1="RovingFocusGroupItem",$1=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:o=!1,tabStopId:a,children:l,...u}=t,f=gs(),p=a||f,m=l4(D1,n),y=m.currentTabStopId===p,v=M1(n),{onFocusableItemAdd:x,onFocusableItemRemove:_,currentTabStopId:S}=m;return b.useEffect(()=>{if(s)return x(),()=>_()},[s,x,_]),d.jsx(gh.ItemSlot,{scope:n,id:p,focusable:s,active:o,children:d.jsx(Ne.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...u,ref:e,onMouseDown:Pe(t.onMouseDown,j=>{s?m.onItemFocus(p):j.preventDefault()}),onFocus:Pe(t.onFocus,()=>m.onItemFocus(p)),onKeyDown:Pe(t.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){m.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const T=f4(j,m.orientation,m.dir);if(T!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let C=v().filter(N=>N.focusable).map(N=>N.ref.current);if(T==="last")C.reverse();else if(T==="prev"||T==="next"){T==="prev"&&C.reverse();const N=C.indexOf(j.currentTarget);C=m.loop?h4(C,N+1):C.slice(N+1)}setTimeout(()=>F1(C))}}),children:typeof l=="function"?l({isCurrentTabStop:y,hasTabStop:S!=null}):l})})});$1.displayName=D1;var u4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function d4(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function f4(t,e,n){const s=d4(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return u4[s]}function F1(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function h4(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var V1=L1,U1=$1,Uc="Tabs",[p4]=sn(Uc,[Vc]),z1=Vc(),[m4,Hp]=p4(Uc),B1=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,onValueChange:o,defaultValue:a,orientation:l="horizontal",dir:u,activationMode:f="automatic",...p}=t,m=Pc(u),[y,v]=xs({prop:s,onChange:o,defaultProp:a??"",caller:Uc});return d.jsx(m4,{scope:n,baseId:gs(),value:y,onValueChange:v,orientation:l,dir:m,activationMode:f,children:d.jsx(Ne.div,{dir:m,"data-orientation":l,...p,ref:e})})});B1.displayName=Uc;var W1="TabsList",H1=b.forwardRef((t,e)=>{const{__scopeTabs:n,loop:s=!0,...o}=t,a=Hp(W1,n),l=z1(n);return d.jsx(V1,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:s,children:d.jsx(Ne.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:e})})});H1.displayName=W1;var G1="TabsTrigger",K1=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,disabled:o=!1,...a}=t,l=Hp(G1,n),u=z1(n),f=J1(l.baseId,s),p=Q1(l.baseId,s),m=s===l.value;return d.jsx(U1,{asChild:!0,...u,focusable:!o,active:m,children:d.jsx(Ne.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":p,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...a,ref:e,onMouseDown:Pe(t.onMouseDown,y=>{!o&&y.button===0&&y.ctrlKey===!1?l.onValueChange(s):y.preventDefault()}),onKeyDown:Pe(t.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&l.onValueChange(s)}),onFocus:Pe(t.onFocus,()=>{const y=l.activationMode!=="manual";!m&&!o&&y&&l.onValueChange(s)})})})});K1.displayName=G1;var q1="TabsContent",Y1=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,forceMount:o,children:a,...l}=t,u=Hp(q1,n),f=J1(u.baseId,s),p=Q1(u.baseId,s),m=s===u.value,y=b.useRef(m);return b.useEffect(()=>{const v=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(v)},[]),d.jsx(Ht,{present:o||m,children:({present:v})=>d.jsx(Ne.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!v,id:p,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:y.current?"0s":void 0},children:v&&a})})});Y1.displayName=q1;function J1(t,e){return`${t}-trigger-${e}`}function Q1(t,e){return`${t}-content-${e}`}var g4=B1,y4=H1,v4=K1,w4=Y1;function x4({className:t,...e}){return d.jsx(g4,{"data-slot":"tabs",className:Oe("flex flex-col gap-2",t),...e})}function b4({className:t,...e}){return d.jsx(y4,{"data-slot":"tabs-list",className:Oe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function $l({className:t,...e}){return d.jsx(v4,{"data-slot":"tabs-trigger",className:Oe("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Fl({className:t,...e}){return d.jsx(w4,{"data-slot":"tabs-content",className:Oe("flex-1 outline-none",t),...e})}function S4({analysis:t,originalText:e,onRetry:n,onPlayback:s,className:o=""}){const[a,l]=b.useState(!1),[u,f]=b.useState("overview"),p=x=>x>=85?"text-success":x>=70?"text-accent":x>=60?"text-secondary":"text-destructive",m=x=>x>=85?d.jsx(In,{className:"w-4 h-4"}):x>=60?d.jsx(AC,{className:"w-4 h-4"}):d.jsx(eT,{className:"w-4 h-4"}),y=x=>{switch(x){case"pronunciation":return"🗣️";case"rhythm":return"🎵";case"intonation":return"📈";case"stress":return"💪";case"pace":return"⏱️";default:return"🎯"}},v=x=>{switch(x){case"high":return"border-destructive/20 bg-destructive/5";case"medium":return"border-secondary/20 bg-secondary/5";case"low":return"border-accent/20 bg-accent/5";default:return"border-muted/20 bg-muted/5"}};return d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`space-y-4 ${o}`,children:d.jsxs(gt,{className:"bg-gradient-to-r from-accent/5 to-primary/5 border-accent/20",children:[d.jsx(yn,{className:"pb-3",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(tn,{className:"text-lg flex items-center gap-2",children:[d.jsx(qw,{className:"w-5 h-5 text-accent"}),"Prosody Analysis"]}),d.jsxs("div",{className:"flex gap-2",children:[s&&d.jsx(ce,{variant:"ghost",size:"sm",onClick:s,children:d.jsx(Zl,{className:"w-4 h-4"})}),n&&d.jsx(ce,{variant:"ghost",size:"sm",onClick:n,children:d.jsx(Xl,{className:"w-4 h-4"})})]})]})}),d.jsxs(yt,{className:"space-y-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:`text-3xl font-bold ${p(t.overall_score)}`,children:[Math.round(t.overall_score),"%"]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Overall Score"}),d.jsx(xc,{value:t.overall_score,className:"mt-2 h-2"})]}),d.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{label:"Pronunciation",score:t.pronunciation_score},{label:"Rhythm",score:t.rhythm_score},{label:"Intonation",score:t.intonation_score},{label:"Fluency",score:t.fluency_score}].map((x,_)=>d.jsxs("div",{className:"flex items-center justify-between p-2 bg-background/50 rounded-lg",children:[d.jsx("span",{className:"text-sm font-medium",children:x.label}),d.jsxs("div",{className:`flex items-center gap-1 ${p(x.score)}`,children:[m(x.score),d.jsxs("span",{className:"text-sm font-semibold",children:[Math.round(x.score),"%"]})]})]},_))}),d.jsxs(ZS,{open:a,onOpenChange:l,children:[d.jsx(e1,{asChild:!0,children:d.jsxs(ce,{variant:"ghost",className:"w-full mt-2",children:[d.jsx("span",{children:"Detailed Analysis"}),d.jsx(Ph,{className:`w-4 h-4 ml-2 transition-transform ${a?"rotate-180":""}`})]})}),d.jsx(t1,{className:"mt-4",children:d.jsxs(x4,{value:u,onValueChange:f,children:[d.jsxs(b4,{className:"grid w-full grid-cols-4",children:[d.jsx($l,{value:"overview",children:"Overview"}),d.jsx($l,{value:"issues",children:"Issues"}),d.jsx($l,{value:"words",children:"Words"}),d.jsx($l,{value:"practice",children:"Practice"})]}),d.jsxs(Fl,{value:"overview",className:"space-y-4 mt-4",children:[d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold text-success mb-2 flex items-center gap-2",children:[d.jsx(In,{className:"w-4 h-4"}),"Strengths"]}),d.jsx("div",{className:"space-y-1",children:t.detailed_feedback.strengths.map((x,_)=>d.jsx(Be,{variant:"secondary",className:"bg-success/10 text-success-foreground",children:x},_))})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold text-accent mb-2 flex items-center gap-2",children:[d.jsx(ov,{className:"w-4 h-4"}),"Areas for Improvement"]}),d.jsx("div",{className:"space-y-1",children:t.detailed_feedback.improvements.map((x,_)=>d.jsx(Be,{variant:"outline",className:"bg-accent/10",children:x},_))})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[d.jsx(gC,{className:"w-4 h-4"}),"Suggestions"]}),d.jsx("ul",{className:"space-y-2",children:t.suggestions.map((x,_)=>d.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[d.jsx("span",{className:"text-accent mt-1",children:"•"}),x]},_))})]})]}),d.jsx(Fl,{value:"issues",className:"space-y-3 mt-4",children:t.detailed_feedback.specific_issues.length>0?t.detailed_feedback.specific_issues.map((x,_)=>d.jsx(me.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:_*.1},className:`p-3 rounded-lg border ${v(x.severity)}`,children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("span",{className:"text-lg",children:y(x.type)}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"font-medium",children:x.word}),d.jsx(Be,{variant:"outline",size:"sm",children:x.type}),d.jsx(Be,{variant:x.severity==="high"?"destructive":"secondary",size:"sm",children:x.severity})]}),d.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:x.feedback}),d.jsx("p",{className:"text-sm font-medium text-accent",children:x.suggestion})]})]})},_)):d.jsxs("div",{className:"text-center py-8",children:[d.jsx(In,{className:"w-12 h-12 text-success mx-auto mb-2"}),d.jsx("p",{className:"text-success font-medium",children:"No issues detected!"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Your pronunciation was excellent."})]})}),d.jsx(Fl,{value:"words",className:"space-y-3 mt-4",children:d.jsx("div",{className:"grid gap-2",children:t.word_level_analysis.map((x,_)=>d.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-medium",children:x.word}),!x.stress_correct&&d.jsx(rT,{className:"w-3 h-3 text-destructive"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:`text-sm ${p(x.pronunciation_score)}`,children:[Math.round(x.pronunciation_score),"%"]}),d.jsx("div",{className:"w-12 h-1 bg-muted rounded",children:d.jsx("div",{className:`h-full rounded transition-all duration-500 ${x.pronunciation_score>=85?"bg-success":x.pronunciation_score>=70?"bg-accent":x.pronunciation_score>=60?"bg-secondary":"bg-destructive"}`,style:{width:`${x.pronunciation_score}%`}})})]})]},_))})}),d.jsxs(Fl,{value:"practice",className:"space-y-4 mt-4",children:[d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[d.jsx(ov,{className:"w-4 h-4"}),"Next Focus Areas"]}),d.jsx("div",{className:"space-y-2",children:t.next_focus_areas.map((x,_)=>d.jsxs("div",{className:"flex items-center gap-2 p-2 bg-primary/10 rounded-lg",children:[d.jsx(Jl,{className:"w-4 h-4 text-primary"}),d.jsx("span",{className:"text-sm",children:x})]},_))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(ce,{variant:"outline",className:"w-full justify-start",onClick:n,children:[d.jsx(Xl,{className:"w-4 h-4 mr-2"}),"Try Again"]}),d.jsxs(ce,{variant:"outline",className:"w-full justify-start",children:[d.jsx(Qw,{className:"w-4 h-4 mr-2"}),"Practice Similar Phrases"]}),d.jsxs(ce,{variant:"outline",className:"w-full justify-start",children:[d.jsx(Jl,{className:"w-4 h-4 mr-2"}),"View Learning Resources"]})]})]})]})})]})]})]})})}function yh({className:t="",showLabel:e=!0,size:n="md"}){const[s,o]=b.useState("connected"),[a,l]=b.useState(!0),[u,f]=b.useState(new Date);b.useEffect(()=>{p();const j=setInterval(()=>{a&&p()},3e4);return()=>clearInterval(j)},[a]);const p=async()=>{l(!0),o("connected"),f(new Date)},y=(()=>{switch(s){case"connected":return{color:"bg-success text-success-foreground",icon:Zn,label:"AI Ready",description:"🎉 VibeTune AI is ready! Advanced prosody analysis powered by OpenAI GPT-4."};case"checking":return{color:"bg-accent text-accent-foreground",icon:wn,label:"Starting AI",description:"Initializing VibeTune AI...",animate:!0};case"disconnected":default:return{color:"bg-accent text-accent-foreground",icon:Ar,label:"AI Built-in",description:"VibeTune includes advanced AI prosody analysis. Ready to help improve your English!"}}})(),v=y.icon,x={sm:"text-xs px-2 py-1",md:"text-sm px-2 py-1",lg:"text-sm px-3 py-2"},_={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-4 h-4"},S=j=>{const E=new Date().getTime()-j.getTime(),C=Math.floor(E/6e4);if(C<1)return"Just now";if(C<60)return`${C}m ago`;const N=Math.floor(C/60);return N<24?`${N}h ago`:j.toLocaleDateString()};return d.jsx("div",{className:`flex items-center gap-2 ${t}`,children:d.jsx(gi,{children:d.jsxs(No,{children:[d.jsx(Po,{asChild:!0,children:d.jsx(me.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(Be,{className:`${y.color} ${x[n]} transition-all duration-200`,children:[d.jsx(v,{className:`${_[n]} mr-1 ${y.animate?"animate-spin":""}`}),e&&d.jsxs(d.Fragment,{children:[d.jsx(Ar,{className:`${_[n]} mr-1`}),y.label]})]})})}),d.jsx(Ao,{side:"bottom",className:"max-w-xs",children:d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"font-medium",children:y.description}),u&&s==="connected"&&d.jsxs("p",{className:"text-xs opacity-75",children:["Last checked: ",S(u)]})]})})]})})})}function _4({topic:t="New Conversation",level:e,onTopicChange:n}){const s=e||"Beginner",[o,a]=b.useState([]),[l,u]=b.useState(""),[f,p]=b.useState(!1),[m,y]=b.useState([]),[v,x]=b.useState(["basic pronunciation","sentence stress"]),[_,S]=b.useState(null),[j,T]=b.useState(!1),[E,C]=b.useState(!1),[N,R]=b.useState(!1),[M,D]=b.useState(!0),[$,G]=b.useState(t),X=b.useRef(null);b.useEffect(()=>{const F=()=>{C(zo.isReady())};F();const P=setInterval(F,5e3);return()=>clearInterval(P)},[]),b.useEffect(()=>{const F={id:"1",text:`🎉 Hi! I'm your VibeTune AI conversation partner. Let's practice English at a ${s.toLowerCase()} level with AI-powered pronunciation feedback!`,isUser:!1,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},P={id:"2",text:"What would you like to talk about today? Feel free to tell me about anything that interests you - your hobbies, work, travel experiences, or any topic you'd like to practice discussing in English!",isUser:!1,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};a([F,P]),y([]),x(de(s)),D(!0),G("New Conversation")},[s]),b.useEffect(()=>{if(X.current){const F=X.current.querySelector("[data-radix-scroll-area-viewport]");F&&setTimeout(()=>{F.scrollTop=F.scrollHeight},100)}},[o]);const de=F=>{switch(F){case"Advanced":return["accent reduction","complex intonation","natural rhythm","connected speech"];case"Intermediate":return["word stress","question intonation","sentence rhythm","linking sounds"];default:return["basic pronunciation","sentence stress","clear articulation","simple intonation"]}},ke=F=>{const P=F.toLowerCase();if(P.includes("travel")||P.includes("trip")||P.includes("vacation")||P.includes("country")||P.includes("visit"))return"Travel & Adventures";if(P.includes("work")||P.includes("job")||P.includes("career")||P.includes("office")||P.includes("business"))return"Work & Career";if(P.includes("food")||P.includes("cook")||P.includes("eat")||P.includes("restaurant")||P.includes("recipe"))return"Food & Cooking";if(P.includes("music")||P.includes("art")||P.includes("paint")||P.includes("draw")||P.includes("sing"))return"Music & Arts";if(P.includes("hobby")||P.includes("interest")||P.includes("free time")||P.includes("enjoy")||P.includes("love"))return"Hobbies & Interests";if(P.includes("daily")||P.includes("routine")||P.includes("morning")||P.includes("evening")||P.includes("weekend"))return"Daily Life & Routines";if(P.includes("game")||P.includes("movie")||P.includes("tv")||P.includes("entertainment")||P.includes("fun"))return"Entertainment & Gaming";if(P.includes("learn")||P.includes("study")||P.includes("school")||P.includes("education")||P.includes("book"))return"Education & Learning";if(P.includes("technology")||P.includes("computer")||P.includes("phone")||P.includes("internet")||P.includes("social media"))return"Technology & Social Media";{const W=F.split(" ").filter(Q=>Q.length>3);return W.length>0?W[0].charAt(0).toUpperCase()+W[0].slice(1).toLowerCase():"General Conversation"}},ge=()=>({user_level:s,topic:$,conversation_history:m,focus_areas:v,learning_objectives:["Improve pronunciation accuracy","Master natural rhythm patterns","Develop confident speaking skills"]}),ye=async(F,P=!1,W)=>{if(!F.trim())return;const Q=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),ie=Date.now().toString();if(M){const te=ke(F.trim());G(te),D(!1),n&&n(te)}const xe={id:ie,text:F.trim(),isUser:!0,isAudio:P,audioBlob:W,timestamp:Q,isProcessing:P&&E};a(te=>[...te,xe]),u(""),p(!0);const je={role:"user",content:F.trim(),timestamp:new Date().toISOString()};try{let te,Se;if(P&&W&&E){const Ee=ge();try{te=await zo.analyzeAudio(W,F.trim(),Ee),a(Me=>Me.map(Je=>Je.id===ie?{...Je,prosodyAnalysis:te,isProcessing:!1}:Je)),je.audio_analysis=te}catch(Me){console.error("Audio analysis failed:",Me),a(Je=>Je.map(Tt=>Tt.id===ie?{...Tt,isProcessing:!1}:Tt))}}if(E)try{const Ee=ge();Se=await zo.generateResponse(F.trim(),Ee,te),te&&te.next_focus_areas.length>0&&x(te.next_focus_areas)}catch(Ee){console.error("AI response generation failed:",Ee),Se={text_response:be(F,s),conversation_flow:{next_topic_suggestions:[],difficulty_adjustment:"maintain",engagement_level:.7},practice_suggestions:{immediate:[],session_goals:[],homework:[]}}}else Se={text_response:be(F,s),conversation_flow:{next_topic_suggestions:[],difficulty_adjustment:"maintain",engagement_level:.7},practice_suggestions:{immediate:[],session_goals:[],homework:[]}};setTimeout(()=>{const Ee={id:(Date.now()+1).toString(),text:Se.text_response,isUser:!1,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),aiResponse:Se};a(Je=>[...Je,Ee]),p(!1);const Me={role:"assistant",content:Se.text_response,timestamp:new Date().toISOString()};y(Je=>[...Je,je,Me])},E?1500:800)}catch(te){console.error("Message processing failed:",te),p(!1);const Se={id:(Date.now()+1).toString(),text:"I'm having trouble processing your message right now. Let's try again!",isUser:!1,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};a(Ee=>[...Ee,Se])}},be=(F,P)=>{const W={Beginner:["That's great! I can hear you're working hard on your pronunciation. Let's practice some more basic patterns.","Nice try! Your rhythm is improving. Can you tell me about your favorite food?","Good effort! I noticed your word stress is getting better. What do you like to do on weekends?"],Intermediate:["Excellent work on your intonation! Your question patterns are much clearer now. Let's discuss something more complex.","I can hear improvement in your connected speech. How do you feel about technology in education?","Your pronunciation has really developed! Let's practice with some more challenging vocabulary."],Advanced:["Your prosody shows sophisticated control! Let's explore some nuanced expressions and idioms.","Impressive fluency! Your stress patterns are very natural. What are your thoughts on current events?","Your accent work is excellent! Let's discuss some abstract concepts to challenge your advanced skills."]},Q=W[P]||W.Beginner;return Q[Math.floor(Math.random()*Q.length)]},le=F=>{F.preventDefault(),ye(l,!1)},z=F=>{S(F),T(!0)},O=F=>{o.find(W=>W.id===F)&&a(W=>W.filter(Q=>Q.id!==F))},H=()=>{R(!N)};return d.jsxs("div",{className:"flex flex-col h-full bg-background",children:[d.jsxs("div",{className:"bg-card border-b border-border p-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h2",{className:"font-medium",children:$}),d.jsxs("div",{className:"flex items-center justify-center gap-2 mt-1",children:[d.jsxs(Be,{variant:"outline",className:"text-xs",children:[s," Level"]}),d.jsx("span",{className:"text-xs text-muted-foreground",children:"•"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:"AI Prosody Practice"})]})]}),d.jsx(yh,{size:"sm",showLabel:!1})]}),v.length>0&&d.jsxs("div",{className:"mt-3 flex flex-wrap gap-1 justify-center",children:[d.jsx("span",{className:"text-xs text-muted-foreground mr-2",children:"Focus areas:"}),v.slice(0,3).map((F,P)=>d.jsx(Be,{variant:"secondary",className:"text-xs",children:F},P))]})]}),d.jsx(Pp,{ref:X,className:"flex-1 p-4",children:d.jsxs("div",{className:"space-y-4",children:[o.map((F,P)=>d.jsx("div",{children:d.jsx(e4,{message:F.text,isUser:F.isUser,isAudio:F.isAudio,audioBlob:F.audioBlob,prosodyFeedback:F.prosodyAnalysis?{score:F.prosodyAnalysis.overall_score,highlights:F.prosodyAnalysis.detailed_feedback.specific_issues.map(W=>({text:W.word,type:W.severity==="high"?"error":"suggestion",feedback:W.feedback})),suggestions:F.prosodyAnalysis.suggestions}:void 0,timestamp:F.timestamp,isProcessing:F.isProcessing,onAnalysisView:F.prosodyAnalysis?()=>z(F.prosodyAnalysis):void 0,onRetry:()=>O(F.id)})},F.id)),f&&d.jsx(me.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex justify-start",children:d.jsx("div",{className:"max-w-[85%]",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-accent rounded-full flex items-center justify-center",children:d.jsx(wn,{className:"w-4 h-4 animate-spin"})}),d.jsx("div",{className:"bg-card border border-border rounded-lg p-3",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"VibeTune AI is analyzing your speech and crafting a response..."})})]})})})]})}),d.jsx("div",{className:"bg-card border-t border-border p-4 space-y-3",children:d.jsxs("form",{onSubmit:le,className:"space-y-2",children:[d.jsxs("div",{className:"flex gap-2",children:[N?d.jsx(lL,{value:l,onChange:F=>u(F.target.value),placeholder:M?"Tell me what you'd like to discuss...":"Continue the conversation...",disabled:f,className:"flex-1 min-h-[80px] resize-y",maxLength:500}):d.jsx(cs,{value:l,onChange:F=>u(F.target.value),placeholder:M?"Tell me what you'd like to discuss...":"Continue the conversation...",disabled:f,className:"flex-1"}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx(ce,{type:"submit",disabled:!l.trim()||f,size:"icon",className:"bg-accent hover:bg-accent/90 text-accent-foreground",children:d.jsx(Ah,{className:"w-4 h-4"})}),d.jsx(ce,{type:"button",variant:"outline",size:"icon",onClick:H,className:"h-8 w-8",title:N?"Switch to single line":"Switch to multi-line",children:N?d.jsx(WE,{className:"w-3 h-3"}):d.jsx(Ph,{className:"w-3 h-3"})})]})]}),N&&d.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground",children:[d.jsx("span",{children:"Multi-line mode for longer messages"}),d.jsxs("span",{children:[l.length,"/500"]})]})]})}),d.jsx(n4,{onSendMessage:ye,conversationContext:ge(),disabled:f,showAIFeedback:E}),d.jsx(Si,{children:j&&_&&d.jsx(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>T(!1),children:d.jsx(me.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",onClick:F=>F.stopPropagation(),children:d.jsx(S4,{analysis:_,originalText:"Your recorded message",onRetry:()=>T(!1),className:"p-6"})})})})]})}const Sw=t=>{let e;const n=new Set,s=(p,m)=>{const y=typeof p=="function"?p(e):p;if(!Object.is(y,e)){const v=e;e=m??(typeof y!="object"||y===null)?y:Object.assign({},e,y),n.forEach(x=>x(e,v))}},o=()=>e,u={setState:s,getState:o,getInitialState:()=>f,subscribe:p=>(n.add(p),()=>n.delete(p))},f=e=t(s,o,u);return u},k4=(t=>t?Sw(t):Sw),j4=t=>t;function E4(t,e=j4){const n=Et.useSyncExternalStore(t.subscribe,Et.useCallback(()=>e(t.getState()),[t,e]),Et.useCallback(()=>e(t.getInitialState()),[t,e]));return Et.useDebugValue(n),n}const C4=t=>{const e=k4(t),n=s=>E4(e,s);return Object.assign(n,e),n},T4=(t=>C4),N4=t=>(e,n,s)=>{const o=s.subscribe;return s.subscribe=((l,u,f)=>{let p=l;if(u){const m=(f==null?void 0:f.equalityFn)||Object.is;let y=l(s.getState());p=v=>{const x=l(v);if(!m(y,x)){const _=y;u(y=x,_)}},f!=null&&f.fireImmediately&&u(y,y)}return o(p)}),t(e,n,s)},P4=N4;function vh(t,e){let n;try{n=t()}catch{return}return{getItem:o=>{var a;const l=f=>f===null?null:JSON.parse(f,void 0),u=(a=n.getItem(o))!=null?a:null;return u instanceof Promise?u.then(l):l(u)},setItem:(o,a)=>n.setItem(o,JSON.stringify(a,void 0)),removeItem:o=>n.removeItem(o)}}const wh=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(s){return wh(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return wh(s)(n)}}}},A4=(t,e)=>(n,s,o)=>{let a={storage:vh(()=>localStorage),partialize:S=>S,version:0,merge:(S,j)=>({...j,...S}),...e},l=!1;const u=new Set,f=new Set;let p=a.storage;if(!p)return t((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...S)},s,o);const m=()=>{const S=a.partialize({...s()});return p.setItem(a.name,{state:S,version:a.version})},y=o.setState;o.setState=(S,j)=>(y(S,j),m());const v=t((...S)=>(n(...S),m()),s,o);o.getInitialState=()=>v;let x;const _=()=>{var S,j;if(!p)return;l=!1,u.forEach(E=>{var C;return E((C=s())!=null?C:v)});const T=((j=a.onRehydrateStorage)==null?void 0:j.call(a,(S=s())!=null?S:v))||void 0;return wh(p.getItem.bind(p))(a.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==a.version){if(a.migrate){const C=a.migrate(E.state,E.version);return C instanceof Promise?C.then(N=>[!0,N]):[!0,C]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var C;const[N,R]=E;if(x=a.merge(R,(C=s())!=null?C:v),n(x,!0),N)return m()}).then(()=>{T==null||T(x,void 0),x=s(),l=!0,f.forEach(E=>E(x))}).catch(E=>{T==null||T(void 0,E)})};return o.persist={setOptions:S=>{a={...a,...S},S.storage&&(p=S.storage)},clearStorage:()=>{p==null||p.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>_(),hasHydrated:()=>l,onHydrate:S=>(u.add(S),()=>{u.delete(S)}),onFinishHydration:S=>(f.add(S),()=>{f.delete(S)})},a.skipHydration||_(),x||v},R4=A4,bf={currentQuestion:0,totalQuestions:10,answers:[],topic_scores:{},overall_progress:0},_w={online:typeof navigator<"u"?navigator.onLine:!0,lastSync:null,syncing:!1,hasOfflineChanges:!1},O4=()=>vh(typeof window<"u"?()=>localStorage:()=>sessionStorage),Pr=T4()(P4(R4((t,e)=>({user:null,setUser:n=>t({user:n}),conversations:[],activeConversationId:null,messages:[],currentTopic:"General Conversation",setConversations:n=>t({conversations:n}),setActiveConversation:n=>t({activeConversationId:n}),addMessage:n=>{t(s=>({messages:[...s.messages,n]})),e().sync.online||t(s=>({sync:{...s.sync,hasOfflineChanges:!0}}))},updateMessage:(n,s)=>{t(o=>({messages:o.messages.map(a=>a.id===n?{...a,...s}:a)}))},deleteMessage:n=>{t(s=>({messages:s.messages.filter(o=>o.id!==n)}))},setCurrentTopic:n=>t({currentTopic:n}),clearMessages:()=>t({messages:[]}),placementTestProgress:bf,setPlacementTestProgress:n=>t({placementTestProgress:n}),updatePlacementTestProgress:n=>{t(s=>({placementTestProgress:{...s.placementTestProgress,...n}}))},resetPlacementTest:()=>t({placementTestProgress:bf}),sync:_w,setSyncOnline:n=>{t(s=>({sync:{...s.sync,online:n}}))},setSyncStatus:n=>{t(s=>({sync:{...s.sync,syncing:n}}))},setLastSync:n=>{t(s=>({sync:{...s.sync,lastSync:n}}))},setHasOfflineChanges:n=>{t(s=>({sync:{...s.sync,hasOfflineChanges:n}}))},retryQueue:[],addToRetryQueue:n=>{t(s=>({retryQueue:[...s.retryQueue,n]}))},removeFromRetryQueue:n=>{t(s=>({retryQueue:s.retryQueue.filter(o=>o.id!==n)}))},clearRetryQueue:()=>t({retryQueue:[]}),trackEvent:async(n,s={})=>{const{user:o}=e();if(o)try{const a={event_type:n,metadata:{...s,timestamp:new Date().toISOString(),user_level:o.level,app_version:"1.0.0"}};if(e().sync.online)try{const{SimpleAuthService:l}=await vn(async()=>{const{SimpleAuthService:f}=await Promise.resolve().then(()=>Y0);return{SimpleAuthService:f}},void 0),u=await l.getCurrentSession();if(u!=null&&u.access_token){const{projectId:f}=await vn(async()=>{const{projectId:y}=await Promise.resolve().then(()=>q0);return{projectId:y}},void 0),p=fetch(`https://${f}.supabase.co/functions/v1/make-server-b2083953/api/analytics`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(a)}),m=new Promise((y,v)=>setTimeout(()=>v(new Error("Analytics timeout")),3e3));await Promise.race([p,m])}}catch(l){console.warn("Analytics tracking failed:",l)}else console.log("Offline: queued analytics event",n)}catch(a){console.warn("Failed to track event:",a)}},initializeApp:async()=>{const{user:n}=e();if(n)try{await e().syncData()}catch(s){console.warn("Failed to sync data on app init:",s)}},syncData:async()=>{const{user:n,sync:s}=e();if(!(!n||!s.online)){t(o=>({sync:{...o.sync,syncing:!0}}));try{const{SimpleAuthService:o}=await vn(async()=>{const{SimpleAuthService:m}=await Promise.resolve().then(()=>Y0);return{SimpleAuthService:m}},void 0),a=await o.getCurrentSession();if(!(a!=null&&a.access_token))throw new Error("No valid session for sync");const{projectId:l}=await vn(async()=>{const{projectId:m}=await Promise.resolve().then(()=>q0);return{projectId:m}},void 0),u=fetch(`https://${l}.supabase.co/functions/v1/make-server-b2083953/api/get-history`,{headers:{Authorization:`Bearer ${a.access_token}`}}),f=new Promise((m,y)=>setTimeout(()=>y(new Error("Sync timeout")),5e3)),p=await Promise.race([u,f]);if(p.ok){const m=await p.json();if(m.conversations&&t({conversations:m.conversations}),m.messages&&e().activeConversationId){const v=m.messages.filter(x=>x.conversation_id===e().activeConversationId);t({messages:v})}t(v=>({sync:{...v.sync,lastSync:new Date,hasOfflineChanges:!1,syncing:!1}}));const y=e().retryQueue;if(y.length>0)for(const v of y)try{await fetch(`https://${l}.supabase.co/functions/v1/make-server-b2083953/api/save-message`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.access_token}`},body:JSON.stringify(v)}),e().removeFromRetryQueue(v.id)}catch(x){console.warn("Failed to sync retry message:",v.id,x)}}}catch(o){console.error("Sync failed:",o)}finally{t(o=>({sync:{...o.sync,syncing:!1}}))}}},resetStore:()=>{t({user:null,conversations:[],activeConversationId:null,messages:[],currentTopic:"General Conversation",placementTestProgress:bf,sync:_w,retryQueue:[]})}}),{name:"vibetune-app-store",storage:O4(),partialize:t=>({user:t.user,conversations:t.conversations,placementTestProgress:t.placementTestProgress,retryQueue:t.retryQueue,currentTopic:t.currentTopic,sync:{...t.sync,syncing:!1}}),onRehydrateStorage:()=>t=>{t&&typeof navigator<"u"&&t.setSyncOnline(navigator.onLine)}}))),I4=()=>Pr(t=>t.conversations),X1=()=>Pr(t=>t.sync);typeof window<"u"&&(window.addEventListener("online",()=>{Pr.getState().setSyncOnline(!0),Pr.getState().syncData()}),window.addEventListener("offline",()=>{Pr.getState().setSyncOnline(!1)}));function kw({compact:t=!1,showLabel:e=!0,className:n=""}){const[s,o]=b.useState(!1),a=X1(),l=Pr(_=>_.syncData),{online:u,syncing:f,lastSync:p,hasOfflineChanges:m}=a,v=u?f?{icon:sv,text:"Syncing...",color:"default",description:"Syncing your data with VibeTune cloud.",bgColor:"bg-accent/10",textColor:"text-accent"}:m?{icon:ds,text:"Pending",color:"secondary",description:"You have changes waiting to sync.",bgColor:"bg-secondary/10",textColor:"text-secondary-foreground"}:{icon:ZE,text:"Synced",color:"success",description:p?`Last synced ${p.toLocaleTimeString()}`:"All changes are saved to VibeTune cloud.",bgColor:"bg-success/10",textColor:"text-success-foreground"}:{icon:QE,text:"Offline",color:"destructive",description:"Working offline. Changes will sync when connected.",bgColor:"bg-destructive/10",textColor:"text-destructive"},x=v.icon;return b.useEffect(()=>{if(s){const _=setTimeout(()=>o(!1),5e3);return()=>clearTimeout(_)}},[s]),t?d.jsxs(me.div,{className:`flex items-center gap-1 ${n}`,whileHover:{scale:1.05},title:v.description,children:[d.jsx("div",{className:`p-1.5 rounded-full ${v.bgColor}`,children:d.jsx(x,{className:`w-3 h-3 ${v.textColor} ${f?"animate-spin":""}`})}),e&&d.jsx("span",{className:"text-xs font-medium",children:v.text})]}):d.jsxs("div",{className:`relative ${n}`,children:[d.jsx(me.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(Be,{variant:v.color,className:"cursor-pointer flex items-center gap-2 text-xs px-3 py-1.5 transition-all duration-200 hover:shadow-md",onClick:()=>o(!s),children:[d.jsx(x,{className:`w-3 h-3 ${f?"animate-spin":""}`}),e&&v.text]})}),d.jsx(Si,{children:s&&d.jsxs(d.Fragment,{children:[d.jsx(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>o(!1)}),d.jsx(me.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute top-full right-0 mt-2 p-4 bg-card border border-border rounded-lg shadow-xl z-50 min-w-72 max-w-sm",children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-full ${v.bgColor}`,children:d.jsx(x,{className:`w-4 h-4 ${v.textColor} ${f?"animate-spin":""}`})}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-sm",children:v.text}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"VibeTune Cloud Sync"})]})]}),d.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:v.description}),d.jsxs("div",{className:"space-y-2 pt-2 border-t border-border",children:[p&&d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-muted-foreground",children:"Last sync:"}),d.jsx("span",{className:"font-medium",children:p.toLocaleString()})]}),d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-muted-foreground",children:"Status:"}),d.jsx("span",{className:`font-medium ${v.textColor}`,children:u?"Connected":"Offline"})]}),m&&d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-muted-foreground",children:"Pending changes:"}),d.jsx("span",{className:"font-medium text-secondary-foreground",children:"Yes"})]})]}),d.jsxs("div",{className:"flex gap-2 pt-2",children:[m&&u&&d.jsxs(ce,{size:"sm",variant:"outline",onClick:()=>{l(),o(!1)},disabled:f,className:"flex-1",children:[d.jsx(sv,{className:`w-3 h-3 mr-1 ${f?"animate-spin":""}`}),"Sync Now"]}),d.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>o(!1),className:"text-xs",children:"Close"})]})]})})]})})]})}function Z1(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var zc="Switch",[M4]=sn(zc),[L4,D4]=M4(zc),e_=b.forwardRef((t,e)=>{const{__scopeSwitch:n,name:s,checked:o,defaultChecked:a,required:l,disabled:u,value:f="on",onCheckedChange:p,form:m,...y}=t,[v,x]=b.useState(null),_=Fe(e,C=>x(C)),S=b.useRef(!1),j=v?m||!!v.closest("form"):!0,[T,E]=xs({prop:o,defaultProp:a??!1,onChange:p,caller:zc});return d.jsxs(L4,{scope:n,checked:T,disabled:u,children:[d.jsx(Ne.button,{type:"button",role:"switch","aria-checked":T,"aria-required":l,"data-state":s_(T),"data-disabled":u?"":void 0,disabled:u,value:f,...y,ref:_,onClick:Pe(t.onClick,C=>{E(N=>!N),j&&(S.current=C.isPropagationStopped(),S.current||C.stopPropagation())})}),j&&d.jsx(r_,{control:v,bubbles:!S.current,name:s,value:f,checked:T,required:l,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});e_.displayName=zc;var t_="SwitchThumb",n_=b.forwardRef((t,e)=>{const{__scopeSwitch:n,...s}=t,o=D4(t_,n);return d.jsx(Ne.span,{"data-state":s_(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e})});n_.displayName=t_;var $4="SwitchBubbleInput",r_=b.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:s=!0,...o},a)=>{const l=b.useRef(null),u=Fe(l,a),f=Z1(n),p=Vp(e);return b.useEffect(()=>{const m=l.current;if(!m)return;const y=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(y,"checked").set;if(f!==n&&x){const _=new Event("click",{bubbles:s});x.call(m,n),m.dispatchEvent(_)}},[f,n,s]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:u,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});r_.displayName=$4;function s_(t){return t?"checked":"unchecked"}var F4=e_,V4=n_;function Eo({className:t,...e}){return d.jsx(F4,{"data-slot":"switch",className:Oe("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:d.jsx(V4,{"data-slot":"switch-thumb",className:Oe("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var U4="Separator",jw="horizontal",z4=["horizontal","vertical"],i_=b.forwardRef((t,e)=>{const{decorative:n,orientation:s=jw,...o}=t,a=B4(s)?s:jw,u=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return d.jsx(Ne.div,{"data-orientation":a,...u,...o,ref:e})});i_.displayName=U4;function B4(t){return z4.includes(t)}var W4=i_;function Qn({className:t,orientation:e="horizontal",decorative:n=!0,...s}){return d.jsx(W4,{"data-slot":"separator-root",decorative:n,orientation:e,className:Oe("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...s})}const xh=b.forwardRef(({...t},e)=>d.jsx(j1,{ref:e,...t}));xh.displayName="VisuallyHidden";function bh({...t}){return d.jsx(PS,{"data-slot":"dialog",...t})}function gc({...t}){return d.jsx(AS,{"data-slot":"dialog-trigger",...t})}function H4({...t}){return d.jsx(RS,{"data-slot":"dialog-portal",...t})}const o_=b.forwardRef(({className:t,...e},n)=>d.jsx(Nc,{ref:n,"data-slot":"dialog-overlay",className:Oe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));o_.displayName=Nc.displayName;const yc=b.forwardRef(({className:t,children:e,hideTitle:n,hideDescription:s,...o},a)=>{const l=b.Children.toArray(e).some(f=>{var p;return b.isValidElement(f)&&(f.type===vc||typeof f.type=="object"&&((p=f.type)==null?void 0:p.displayName)===ch.displayName)}),u=b.Children.toArray(e).some(f=>{var p;return b.isValidElement(f)&&(f.type===wc||typeof f.type=="object"&&((p=f.type)==null?void 0:p.displayName)===uh.displayName)});return d.jsxs(H4,{"data-slot":"dialog-portal",children:[d.jsx(o_,{}),d.jsxs(jp,{ref:a,"data-slot":"dialog-content",className:Oe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),"aria-describedby":u?void 0:"dialog-description-fallback",...o,children:[!l&&d.jsx(xh,{children:d.jsx(ch,{children:"Dialog"})}),!u&&d.jsx(xh,{children:d.jsx(uh,{id:"dialog-description-fallback",children:"Dialog content"})}),e,d.jsxs(OS,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[d.jsx(Oh,{}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]})});yc.displayName=jp.displayName;function Sh({className:t,...e}){return d.jsx("div",{"data-slot":"dialog-header",className:Oe("flex flex-col gap-2 text-center sm:text-left",t),...e})}function vc({className:t,...e}){return d.jsx(ch,{"data-slot":"dialog-title",className:Oe("text-lg leading-none font-semibold",t),...e})}function wc({className:t,...e}){return d.jsx(uh,{"data-slot":"dialog-description",className:Oe("text-muted-foreground text-sm",t),...e})}function G4({user:t,onUserUpdate:e,onBack:n,onStartPlacementTest:s}){const[o,a]=b.useState(!1),[l,u]=b.useState(t.username),[f,p]=b.useState(!1),[m,y]=b.useState(null),[v,x]=b.useState(null),[_,S]=b.useState({notifications:!0,soundEffects:!0,autoSync:!0,darkMode:!1,prosodyFeedback:!0,voiceRecording:!0}),j=async()=>{if(!l.trim()||l===t.username){a(!1),u(t.username);return}p(!0),y(null),x(null);try{const{data:M,error:D}=await Rn.updateProfile(t.id,{username:l.trim()},t);if(D)throw D;M&&(e(M),x("Username updated successfully!"),a(!1))}catch(M){console.error("Username update error:",M),y(M.message||"Failed to update username"),u(t.username)}finally{p(!1)}},T=(M,D)=>{S($=>({...$,[M]:D})),console.log(`Setting ${M} changed to:`,D)},E=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),C=M=>{switch(M){case"Beginner":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"Intermediate":return"bg-blue-100 text-blue-800 border-blue-200";case"Advanced":return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},R=t.placement_test_completed?{text:"Completed",color:"text-success",icon:Zn,action:"Retake Test",actionIcon:In}:{text:"Not taken",color:"text-muted-foreground",icon:ds,action:"Take Test",actionIcon:Ar};return d.jsx("div",{className:"min-h-screen bg-background",children:d.jsxs("div",{className:"max-w-2xl mx-auto p-4 space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n&&d.jsx(ce,{variant:"ghost",size:"icon",onClick:n,children:d.jsx(Yl,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Rh,{className:"w-6 h-6 text-accent"}),d.jsx("h1",{className:"text-2xl font-bold",children:"Settings"})]})]}),m&&d.jsx(me.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:d.jsxs(ps,{variant:"destructive",children:[d.jsx(ds,{className:"h-4 w-4"}),d.jsx(ms,{children:m})]})}),v&&d.jsx(me.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:d.jsxs(ps,{className:"border-success/20 bg-success/10",children:[d.jsx(Zn,{className:"h-4 w-4 text-success"}),d.jsx(ms,{className:"text-success-foreground",children:v})]})}),d.jsxs(gt,{children:[d.jsxs(yn,{children:[d.jsxs(tn,{className:"flex items-center gap-2",children:[d.jsx(bc,{className:"w-5 h-5"}),"Profile Information"]}),d.jsx(Ro,{children:"Your account details and learning progress"})]}),d.jsxs(yt,{className:"space-y-4",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"space-y-1",children:[d.jsx(pt,{className:"text-sm font-medium",children:"Username"}),o?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(cs,{value:l,onChange:M=>u(M.target.value),className:"max-w-xs",disabled:f}),d.jsx(ce,{size:"sm",onClick:j,disabled:f,children:f?d.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):d.jsx(BC,{className:"w-4 h-4"})}),d.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>{a(!1),u(t.username),y(null)},disabled:f,children:d.jsx(Oh,{className:"w-4 h-4"})})]}):d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:t.username}),d.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>a(!0),children:d.jsx($C,{className:"w-4 h-4"})})]})]})}),d.jsx(Qn,{}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"space-y-1",children:[d.jsxs(pt,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(Yw,{className:"w-4 h-4"}),"Email"]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:t.email})]})}),d.jsx(Qn,{}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"space-y-1",children:[d.jsxs(pt,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(Ql,{className:"w-4 h-4"}),"Learning Level"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Be,{className:C(t.level),children:t.level||"Not set"}),t.level&&d.jsx("span",{className:"text-xs text-muted-foreground",children:t.placement_test_completed?"(From placement test)":"(Self-selected)"})]})]})}),d.jsx(Qn,{}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(pt,{className:"text-sm font-medium",children:"Placement Test"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(R.icon,{className:`w-4 h-4 ${R.color}`}),d.jsx("span",{className:`text-sm ${R.color}`,children:R.text}),t.placement_test_score&&d.jsxs(Be,{variant:"outline",className:"text-xs",children:["Score: ",t.placement_test_score,"%"]})]})]}),s&&d.jsxs(ce,{size:"sm",onClick:s,className:"bg-accent hover:bg-accent/90",children:[d.jsx(R.actionIcon,{className:"w-4 h-4 mr-2"}),R.action]})]}),d.jsx(Qn,{}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs(pt,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(jf,{className:"w-4 h-4"}),"Member Since"]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:E(t.created_at)})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(pt,{className:"text-sm font-medium",children:"Last Login"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:E(t.last_login)})]})]})]}),d.jsxs(gt,{children:[d.jsxs(yn,{children:[d.jsxs(tn,{className:"flex items-center gap-2",children:[d.jsx(MC,{className:"w-5 h-5"}),"App Preferences"]}),d.jsx(Ro,{children:"Customize your learning experience"})]}),d.jsxs(yt,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs(pt,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(ME,{className:"w-4 h-4"}),"Notifications"]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive reminders and progress updates"})]}),d.jsx(Eo,{checked:_.notifications,onCheckedChange:M=>T("notifications",M)})]}),d.jsx(Qn,{}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs(pt,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(Zl,{className:"w-4 h-4"}),"Sound Effects"]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Play sounds for interactions and feedback"})]}),d.jsx(Eo,{checked:_.soundEffects,onCheckedChange:M=>T("soundEffects",M)})]}),d.jsx(Qn,{}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(pt,{className:"text-sm font-medium",children:"Auto Sync"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically sync your progress across devices"})]}),d.jsx(Eo,{checked:_.autoSync,onCheckedChange:M=>T("autoSync",M)})]}),d.jsx(Qn,{}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(pt,{className:"text-sm font-medium",children:"Detailed Prosody Feedback"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Show detailed pronunciation and rhythm analysis"})]}),d.jsx(Eo,{checked:_.prosodyFeedback,onCheckedChange:M=>T("prosodyFeedback",M)})]}),d.jsx(Qn,{}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(pt,{className:"text-sm font-medium",children:"Voice Recording"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable microphone for pronunciation practice"})]}),d.jsx(Eo,{checked:_.voiceRecording,onCheckedChange:M=>T("voiceRecording",M)})]})]})]}),d.jsxs(gt,{children:[d.jsxs(yn,{children:[d.jsxs(tn,{className:"flex items-center gap-2",children:[d.jsx(KC,{className:"w-5 h-5"}),"Privacy & Security"]}),d.jsx(Ro,{children:"Manage your data and account security"})]}),d.jsxs(yt,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(pt,{className:"text-sm font-medium",children:"Device ID"}),d.jsx("p",{className:"text-xs text-muted-foreground font-mono bg-muted p-2 rounded",children:t.device_id})]}),d.jsx(Qn,{}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(pt,{className:"text-sm font-medium text-destructive",children:"Danger Zone"}),d.jsxs(bh,{children:[d.jsx(gc,{asChild:!0,children:d.jsxs(ce,{variant:"destructive",size:"sm",className:"w-full",children:[d.jsx(av,{className:"w-4 h-4 mr-2"}),"Delete Account"]})}),d.jsxs(yc,{children:[d.jsxs(Sh,{children:[d.jsxs(vc,{className:"flex items-center gap-2 text-destructive",children:[d.jsx(av,{className:"w-5 h-5"}),"Delete Account"]}),d.jsx(wc,{children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs(ps,{variant:"destructive",children:[d.jsx(ds,{className:"h-4 w-4"}),d.jsxs(ms,{children:[d.jsx("strong",{children:"Warning:"})," All your learning progress, conversations, and settings will be permanently lost."]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ce,{variant:"destructive",className:"flex-1",children:"Yes, Delete My Account"}),d.jsx(gc,{asChild:!0,children:d.jsx(ce,{variant:"outline",className:"flex-1",children:"Cancel"})})]})]})]})]})]})]})]}),d.jsxs(gt,{children:[d.jsx(yn,{children:d.jsx(tn,{children:"App Information"})}),d.jsxs(yt,{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Version"}),d.jsx("span",{children:"1.0.0"})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Build"}),d.jsx("span",{children:"2024.10.10"})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Platform"}),d.jsx("span",{children:"Web"})]})]})]})]})})}function K4({user:t,onLogout:e,onStartPlacementTest:n,onUserUpdate:s}){const o=t.level||"Beginner",[a,l]=b.useState(!1),[u,f]=b.useState(!1),p=I4(),m=X1(),{currentTopic:y,setCurrentTopic:v,setActiveConversation:x,initializeApp:_,syncData:S,trackEvent:j}=Pr();b.useEffect(()=>{_(),j("main_app_viewed",{user_level:o})},[_,j,o]),b.useEffect(()=>{m.online&&!m.syncing&&m.hasOfflineChanges&&S()},[m.online,m.syncing,m.hasOfflineChanges,S]);const T=N=>{const R=N.topic||N.title;v(R),x(N.id),l(!1),j("conversation_selected",{conversation_id:N.id,topic:R})},E=()=>t.placement_test_completed?"Retake Placement Test":"Take Placement Test",C=()=>t.placement_test_completed?In:Ar;return d.jsxs("div",{className:"h-screen bg-background flex",children:[d.jsx("div",{className:"hidden md:block w-80 h-full",children:d.jsx(uw,{user:t,conversations:p,onConversationSelect:T,onLogout:e,onSettings:()=>f(!0)})}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsxs("div",{className:"bg-card border-b border-border p-4",children:[d.jsxs("div",{className:"md:hidden flex items-center justify-between",children:[d.jsxs(FM,{open:a,onOpenChange:l,children:[d.jsx(VM,{asChild:!0,children:d.jsx(ce,{variant:"outline",size:"icon",children:d.jsx(jC,{className:"w-4 h-4"})})}),d.jsx(zM,{side:"left",className:"w-80 p-0",children:d.jsx(uw,{user:t,conversations:p,onConversationSelect:T,onLogout:e,onSettings:()=>{f(!0),l(!1)}})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Wo,{className:"w-5 h-5 text-accent"}),d.jsx("h1",{className:"font-semibold",children:"VibeTune"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(kw,{compact:!0,showLabel:!1}),d.jsx(yh,{size:"sm",showLabel:!1}),d.jsx(me.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:d.jsxs(ce,{onClick:n,className:"bg-accent hover:bg-accent/90 text-accent-foreground shadow-md",size:"sm",children:[Et.createElement(C(),{className:"w-4 h-4 mr-1"}),d.jsx("span",{className:"hidden xs:inline",children:t.placement_test_completed?"Retake Test":"Take Test"}),d.jsx("span",{className:"xs:hidden",children:t.placement_test_completed?"Retake":"Test"})]})})]})]}),d.jsxs("div",{className:"hidden md:flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Wo,{className:"w-5 h-5 text-accent"}),d.jsx("h1",{className:"text-lg font-semibold",children:"VibeTune"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(kw,{compact:!1,showLabel:!0}),d.jsx(yh,{size:"md",showLabel:!0}),d.jsx(me.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(ce,{onClick:n,className:"bg-accent hover:bg-accent/90 text-accent-foreground shadow-lg px-4 py-2",size:"default",children:[Et.createElement(C(),{className:"w-4 h-4 mr-2"}),E()]})})]})]})]}),d.jsx("div",{className:"flex-1",children:d.jsx(_4,{topic:y,level:o,onTopicChange:v})})]}),u&&d.jsx("div",{className:"fixed inset-0 z-50 bg-background",children:d.jsx(G4,{user:t,onUserUpdate:N=>{s&&s(N)},onBack:()=>f(!1),onStartPlacementTest:()=>{f(!1),n()}})})]})}var q4={};const Zt=[{id:"introduction",name:"Personal Introduction",difficulty:"beginner",prompt:"Let's start with a simple introduction. Tell me about yourself - your name, where you're from, and what you do."},{id:"daily_life",name:"Daily Routines",difficulty:"beginner",prompt:"Describe a typical day in your life. What time do you wake up, what do you do for work or study, and how do you spend your evenings?"},{id:"hobbies",name:"Hobbies & Interests",difficulty:"intermediate",prompt:"What are your hobbies and interests? How did you get started with them, and what do you enjoy most about them?"},{id:"travel",name:"Travel & Culture",difficulty:"intermediate",prompt:"Tell me about a place you've visited or would like to visit. What makes it special, and how do you think travel affects people?"},{id:"future_goals",name:"Goals & Aspirations",difficulty:"advanced",prompt:"What are your goals for the future? How do you plan to achieve them, and what challenges do you expect to face?"}];function Y4({user:t,onComplete:e,onSkip:n,onBack:s}){const[o,a]=b.useState([]),[l,u]=b.useState(0),[f,p]=b.useState(!1),[m,y]=b.useState(!1),[v,x]=b.useState(null),[_,S]=b.useState(900),[j,T]=b.useState(null),[E,C]=b.useState(""),[N,R]=b.useState(!1),M=b.useRef(null);b.useEffect(()=>{if(_>0&&!m){const z=setTimeout(()=>{S(O=>O-1)},1e3);return()=>clearTimeout(z)}else _===0&&!m&&ge()},[_,m]),b.useEffect(()=>{var z;(z=M.current)==null||z.scrollIntoView({behavior:"smooth"})},[o]),b.useEffect(()=>{(()=>{a([{id:"initial",role:"ai",content:`Hello! I'm your AI conversation partner for this placement test. We'll have a natural conversation covering different topics to assess your English prosody skills. This will help us determine the best learning level for you. 

I'll ask you about 5 different topics, and you can respond by typing your answers. Try to be as natural and detailed as possible - imagine we're having a friendly conversation!

Ready to begin?`,timestamp:new Date,topic:"introduction"}]),setTimeout(()=>{D()},2e3)})()},[]);const D=()=>{if(l>=Zt.length){X();return}const z=Zt[l],O={id:`question-${l}`,role:"ai",content:z.prompt,timestamp:new Date,topic:z.id};a(H=>[...H,O])},$=async z=>{if(z.trim()){p(!0),R(!0),T(null);try{const O={id:`user-${Date.now()}`,role:"user",content:z,timestamp:new Date,topic:Zt[l].id,isAudioResponse:!1};a(P=>[...P,O]),C("");const H=await G(z,Zt[l]);O.score=H.score;const F={id:`followup-${Date.now()}`,role:"ai",content:H.feedback,timestamp:new Date,topic:Zt[l].id};setTimeout(()=>{a(P=>[...P,F]),setTimeout(()=>{u(P=>P+1),D()},1500)},1e3)}catch(O){console.error("Error processing response:",O),T("Failed to process your response. Please try again.")}finally{p(!1),R(!1)}}},G=async(z,O)=>{try{const H=`
You are an English language assessment AI specializing in prosody and conversational skills. 

Analyze this student response for a ${O.difficulty} level topic about "${O.name}":

Student Response: "${z}"

Provide a JSON response with:
1. score: A number from 0-100 based on:
   - Vocabulary richness and appropriateness
   - Grammar accuracy
   - Response completeness and relevance
   - Natural conversational flow
   - Complexity appropriate for ${O.difficulty} level

2. feedback: A brief, encouraging response (1-2 sentences) that:
   - Acknowledges their response positively
   - Provides subtle guidance if needed
   - Maintains conversational flow

Format: {"score": number, "feedback": "string"}
`,F=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${q4.REACT_APP_OPENAI_API_KEY||"sk-placeholder"}`},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"system",content:"You are an expert English language assessor. Respond only with valid JSON."},{role:"user",content:H}],temperature:.3,max_tokens:200})});if(!F.ok)throw new Error("AI analysis failed");const P=await F.json(),W=JSON.parse(P.choices[0].message.content);return{score:Math.max(0,Math.min(100,W.score)),feedback:W.feedback}}catch(H){console.warn("AI analysis failed, using fallback:",H);const F=z.split(" ").length,P=z.length;let W=50;F>=10&&(W+=20),F>=25&&(W+=15),P>100&&(W+=10),O.difficulty==="advanced"&&(W=Math.min(W*.9,100)),O.difficulty==="beginner"&&(W=Math.min(W*1.1,100));const Q=["Thank you for sharing that! Your response shows good understanding.","Great! I can see you're expressing yourself clearly.","That's interesting! You're communicating your thoughts well.","Nice response! You're doing well with this topic."];return{score:Math.round(W),feedback:Q[Math.floor(Math.random()*Q.length)]}}},X=async()=>{p(!0);try{const z=o.filter(Q=>Q.role==="user"&&Q.score!==void 0),O=z.reduce((Q,ie)=>Q+(ie.score||0),0),H=z.length>0?O/z.length:0;let F="Beginner";H>=75?F="Advanced":H>=55&&(F="Intermediate");const P={};Zt.forEach(Q=>{const ie=z.filter(xe=>xe.topic===Q.id);if(ie.length>0){const xe=ie.reduce((je,te)=>je+(te.score||0),0);P[Q.name]=xe/ie.length}});const W={overallScore:Math.round(H),level:F,topicScores:P,strengths:de(H,P),improvements:ke(H,P),totalQuestions:Zt.length,completedQuestions:z.length};x(W),y(!0),await Rn.updateProfile(t.id,{level:F,placement_test_completed:!0,placement_test_score:W.overallScore},t)}catch(z){console.error("Error completing test:",z),T("Failed to complete the test. Please try again.")}finally{p(!1)}},de=(z,O)=>{const H=[];z>=70&&H.push("Clear and coherent communication"),z>=60&&H.push("Good conversational engagement"),z>=80&&H.push("Rich vocabulary usage");const F=Object.entries(O).reduce((P,[W,Q])=>Q>P.score?{topic:W,score:Q}:P,{topic:"",score:0});return F.score>=70&&H.push(`Excellent performance discussing ${F.topic.toLowerCase()}`),H.length>0?H:["Willingness to communicate and engage"]},ke=(z,O)=>{const H=[];z<60&&H.push("Focus on expanding response detail and complexity"),z<70&&H.push("Practice using more varied vocabulary"),z<50&&H.push("Work on grammar accuracy and sentence structure");const F=Object.entries(O).reduce((P,[W,Q])=>Q<P.score?{topic:W,score:Q}:P,{topic:"",score:100});return F.score<60&&Object.keys(O).length>1&&H.push(`Additional practice with ${F.topic.toLowerCase()} discussions`),H.length>0?H:["Continue practicing to build confidence"]},ge=()=>{T("Time's up! Completing test with current responses..."),setTimeout(()=>{X()},2e3)},ye=z=>{const O=Math.floor(z/60),H=z%60;return`${O}:${H.toString().padStart(2,"0")}`},be=()=>Math.min(l/Zt.length*100,100),le=z=>{z.key==="Enter"&&!z.shiftKey&&E.trim()&&!f&&(z.preventDefault(),$(E))};return m&&v?d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:d.jsx(me.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-2xl",children:d.jsx(gt,{children:d.jsxs(yt,{className:"p-8 text-center space-y-6",children:[d.jsx(Zn,{className:"w-16 h-16 text-success mx-auto"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-3xl font-bold",children:"Placement Test Complete!"}),d.jsxs("div",{className:"bg-accent/10 p-6 rounded-lg space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-center gap-4",children:[d.jsxs(Be,{className:"text-lg px-4 py-2 bg-accent text-accent-foreground",children:[v.level," Level"]}),d.jsxs(Be,{variant:"outline",className:"text-lg px-4 py-2",children:[v.overallScore,"% Score"]})]}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-left",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"font-semibold text-success",children:"Your Strengths:"}),d.jsx("ul",{className:"text-sm space-y-1",children:v.strengths.map((z,O)=>d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx(Zn,{className:"w-4 h-4 text-success"}),z]},O))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"font-semibold text-primary",children:"Areas to Improve:"}),d.jsx("ul",{className:"text-sm space-y-1",children:v.improvements.map((z,O)=>d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx(In,{className:"w-4 h-4 text-primary"}),z]},O))})]})]})]}),d.jsxs(ce,{onClick:()=>e({level:v.level,score:v.overallScore}),className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground text-lg py-6",size:"lg",children:[d.jsx(Ar,{className:"w-5 h-5 mr-2"}),"Start Learning at ",v.level," Level"]})]})]})})})}):d.jsx("div",{className:"min-h-screen bg-background p-4",children:d.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[s&&d.jsx(ce,{variant:"ghost",size:"icon",onClick:s,children:d.jsx(Yl,{className:"w-4 h-4"})}),d.jsx("div",{className:"flex items-center gap-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-xl font-bold",children:"AI Placement Test"}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Topic ",l+1," of ",Zt.length]})]})}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-sm font-medium",children:ye(_)}),d.jsx("div",{className:"text-xs text-muted-foreground",children:"remaining"})]}),d.jsx(ce,{variant:"outline",size:"sm",onClick:n,children:"Skip Test"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{children:"Progress"}),d.jsxs("span",{children:[Math.round(be()),"%"]})]}),d.jsx(xc,{value:be(),className:"h-2"})]}),j&&d.jsxs(ps,{variant:"destructive",children:[d.jsx(ds,{className:"h-4 w-4"}),d.jsx(ms,{children:j})]}),d.jsxs(gt,{className:"flex-1",children:[d.jsxs(yn,{children:[d.jsxs(tn,{className:"flex items-center gap-2",children:[d.jsx(ui,{className:"w-5 h-5"}),"Conversation"]}),d.jsx(Ro,{children:l<Zt.length?`Current topic: ${Zt[l].name}`:"Test completed"})]}),d.jsxs(yt,{children:[d.jsxs("div",{className:"space-y-4 mb-4 max-h-96 overflow-y-auto",children:[d.jsx(Si,{children:o.map(z=>d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`flex gap-3 ${z.role==="user"?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`flex gap-3 max-w-[80%] ${z.role==="user"?"flex-row-reverse":"flex-row"}`,children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${z.role==="ai"?"bg-accent text-accent-foreground":"bg-primary text-primary-foreground"}`,children:z.role==="ai"?d.jsx(nv,{className:"w-4 h-4"}):d.jsx(bc,{className:"w-4 h-4"})}),d.jsxs("div",{className:`rounded-lg p-3 ${z.role==="ai"?"bg-muted text-muted-foreground":"bg-primary text-primary-foreground"}`,children:[d.jsx("p",{className:"text-sm whitespace-pre-wrap",children:z.content}),z.score&&d.jsxs("div",{className:"mt-2 text-xs opacity-70",children:["Score: ",z.score,"%"]})]})]})},z.id))}),N&&d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex gap-3 justify-start",children:d.jsxs("div",{className:"flex gap-3 max-w-[80%]",children:[d.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-accent text-accent-foreground",children:d.jsx(nv,{className:"w-4 h-4"})}),d.jsx("div",{className:"rounded-lg p-3 bg-muted text-muted-foreground",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(wn,{className:"w-4 h-4 animate-spin"}),d.jsx("span",{className:"text-sm",children:"Analyzing your response..."})]})})]})}),d.jsx("div",{ref:M})]}),l<Zt.length&&!m&&d.jsxs("div",{className:"flex gap-2",children:[d.jsx(cs,{value:E,onChange:z=>C(z.target.value),onKeyPress:le,placeholder:"Type your response here...",disabled:f,className:"flex-1"}),d.jsx(ce,{onClick:()=>$(E),disabled:!E.trim()||f,size:"icon",children:f?d.jsx(wn,{className:"w-4 h-4 animate-spin"}):d.jsx(Ah,{className:"w-4 h-4"})})]})]})]})]})})}var Gp="Radio",[J4,a_]=sn(Gp),[Q4,X4]=J4(Gp),l_=b.forwardRef((t,e)=>{const{__scopeRadio:n,name:s,checked:o=!1,required:a,disabled:l,value:u="on",onCheck:f,form:p,...m}=t,[y,v]=b.useState(null),x=Fe(e,j=>v(j)),_=b.useRef(!1),S=y?p||!!y.closest("form"):!0;return d.jsxs(Q4,{scope:n,checked:o,disabled:l,children:[d.jsx(Ne.button,{type:"button",role:"radio","aria-checked":o,"data-state":f_(o),"data-disabled":l?"":void 0,disabled:l,value:u,...m,ref:x,onClick:Pe(t.onClick,j=>{o||f==null||f(),S&&(_.current=j.isPropagationStopped(),_.current||j.stopPropagation())})}),S&&d.jsx(d_,{control:y,bubbles:!_.current,name:s,value:u,checked:o,required:a,disabled:l,form:p,style:{transform:"translateX(-100%)"}})]})});l_.displayName=Gp;var c_="RadioIndicator",u_=b.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:s,...o}=t,a=X4(c_,n);return d.jsx(Ht,{present:s||a.checked,children:d.jsx(Ne.span,{"data-state":f_(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:e})})});u_.displayName=c_;var Z4="RadioBubbleInput",d_=b.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:s=!0,...o},a)=>{const l=b.useRef(null),u=Fe(l,a),f=Z1(n),p=Vp(e);return b.useEffect(()=>{const m=l.current;if(!m)return;const y=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(y,"checked").set;if(f!==n&&x){const _=new Event("click",{bubbles:s});x.call(m,n),m.dispatchEvent(_)}},[f,n,s]),d.jsx(Ne.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:u,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});d_.displayName=Z4;function f_(t){return t?"checked":"unchecked"}var e3=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Bc="RadioGroup",[t3]=sn(Bc,[Vc,a_]),h_=Vc(),p_=a_(),[n3,r3]=t3(Bc),m_=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:s,defaultValue:o,value:a,required:l=!1,disabled:u=!1,orientation:f,dir:p,loop:m=!0,onValueChange:y,...v}=t,x=h_(n),_=Pc(p),[S,j]=xs({prop:a,defaultProp:o??null,onChange:y,caller:Bc});return d.jsx(n3,{scope:n,name:s,required:l,disabled:u,value:S,onValueChange:j,children:d.jsx(V1,{asChild:!0,...x,orientation:f,dir:_,loop:m,children:d.jsx(Ne.div,{role:"radiogroup","aria-required":l,"aria-orientation":f,"data-disabled":u?"":void 0,dir:_,...v,ref:e})})})});m_.displayName=Bc;var g_="RadioGroupItem",y_=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:s,...o}=t,a=r3(g_,n),l=a.disabled||s,u=h_(n),f=p_(n),p=b.useRef(null),m=Fe(e,p),y=a.value===o.value,v=b.useRef(!1);return b.useEffect(()=>{const x=S=>{e3.includes(S.key)&&(v.current=!0)},_=()=>v.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",_),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",_)}},[]),d.jsx(U1,{asChild:!0,...u,focusable:!l,active:y,children:d.jsx(l_,{disabled:l,required:a.required,checked:y,...f,...o,name:a.name,ref:m,onCheck:()=>a.onValueChange(o.value),onKeyDown:Pe(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:Pe(o.onFocus,()=>{var x;v.current&&((x=p.current)==null||x.click())})})})});y_.displayName=g_;var s3="RadioGroupIndicator",v_=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...s}=t,o=p_(n);return d.jsx(u_,{...o,...s,ref:e})});v_.displayName=s3;var i3=m_,o3=y_,a3=v_;function l3({className:t,...e}){return d.jsx(i3,{"data-slot":"radio-group",className:Oe("grid gap-3",t),...e})}function c3({className:t,...e}){return d.jsx(o3,{"data-slot":"radio-group-item",className:Oe("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:d.jsx(a3,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:d.jsx(qE,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const u3=[{value:"Beginner",title:"Beginner",emoji:"🌱",color:"bg-emerald-50 border-emerald-200 text-emerald-800",selectedColor:"bg-emerald-100 border-emerald-300 ring-emerald-500",badges:["Basic","Simple","Guided"],description:"Perfect for those new to English pronunciation and prosody",detailedFeatures:["Basic stress patterns","Simple intonation practice","Common vocabulary focus","Step-by-step guided practice","Fundamental rhythm training"],recommended:"Choose if you're just starting with English pronunciation or want to build strong foundations"},{value:"Intermediate",title:"Intermediate",emoji:"🎯",color:"bg-blue-50 border-blue-200 text-blue-800",selectedColor:"bg-blue-100 border-blue-300 ring-blue-500",badges:["Complex","Varied","Natural"],description:"Ideal for learners with some English speaking experience",detailedFeatures:["Complex stress patterns","Varied intonation training","Advanced vocabulary practice","Natural conversation flow","Contextual pronunciation"],recommended:"Choose if you can speak English conversationally but want to improve pronunciation and sound more natural"},{value:"Advanced",title:"Advanced",emoji:"🏆",color:"bg-purple-50 border-purple-200 text-purple-800",selectedColor:"bg-purple-100 border-purple-300 ring-purple-500",badges:["Nuanced","Native","Pro"],description:"Designed for proficient speakers refining their prosody",detailedFeatures:["Subtle pronunciation nuances","Native-like intonation patterns","Professional vocabulary mastery","Accent reduction techniques","Advanced prosody refinement"],recommended:"Choose if you speak English fluently but want to perfect your prosody and achieve native-like pronunciation"}];function d3({onLevelSelect:t,onTakePlacementTest:e,onBack:n,user:s}){const[o,a]=b.useState(""),[l,u]=b.useState(!1),f=s==null?void 0:s.level,p=s==null?void 0:s.placement_test_completed,m=f&&p,y=f&&!p,v=()=>m?"Redo Placement Test":"Take Placement Test",x=j=>{if(f){u(!0);return}a(j)},_=()=>{o&&!f&&t(o)},S=()=>{u(!1),e()};return f?d.jsx("div",{className:"min-h-screen bg-background",children:d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx("div",{className:"flex-none px-4 py-6 md:px-6 md:py-8",children:d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n&&d.jsx(ce,{variant:"ghost",size:"icon",onClick:n,className:"flex-shrink-0",children:d.jsx(Yl,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Your Learning Level"}),d.jsx("p",{className:"text-sm md:text-base text-muted-foreground",children:"Level locked for consistent progress"})]})]})})}),d.jsx("div",{className:"flex-1 px-4 md:px-6 flex items-center",children:d.jsx("div",{className:"w-full max-w-md mx-auto",children:d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:d.jsxs(gt,{className:"bg-accent/10 border-accent/20 shadow-lg",children:[d.jsx(yn,{className:"text-center pb-4",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx("div",{className:"w-16 h-16 bg-accent rounded-full flex items-center justify-center shadow-lg",children:d.jsx(Ql,{className:"w-8 h-8 text-accent-foreground"})}),d.jsxs("div",{children:[d.jsxs(tn,{className:"text-2xl md:text-3xl font-bold",children:[s.level," Level"]}),d.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[d.jsx(Oo,{className:"w-4 h-4 text-muted-foreground"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:m?"Set by placement test":"Self-selected"})]})]})]})}),d.jsxs(yt,{className:"text-center space-y-6 pb-6",children:[d.jsx("p",{className:"text-base text-muted-foreground",children:m?"Your level was determined by placement test results for optimal learning progress.":"You selected this level manually. Take the placement test for a personalized assessment."}),d.jsx(me.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(ce,{onClick:S,className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground shadow-lg",size:"lg",children:[d.jsx(Ar,{className:"w-5 h-5 mr-2"}),v()]})}),d.jsxs(bh,{children:[d.jsx(gc,{asChild:!0,children:d.jsxs(ce,{variant:"ghost",size:"sm",className:"w-full text-muted-foreground hover:text-foreground",children:[d.jsx(rv,{className:"w-4 h-4 mr-2"}),"Why can't I change my level directly?"]})}),d.jsxs(yc,{className:"max-w-md mx-auto",children:[d.jsxs(Sh,{children:[d.jsxs(vc,{className:"flex items-center gap-3",children:[d.jsx(Oo,{className:"w-5 h-5 text-accent"}),"Level Locking System"]}),d.jsx(wc,{className:"text-left",children:"VibeTune locks your level to ensure consistent, progressive learning. This prevents switching between difficulty levels that could disrupt your learning path."})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-accent/10 p-4 rounded-lg border border-accent/20",children:[d.jsx("h4",{className:"font-semibold mb-2 text-accent-foreground",children:"Benefits of Level Locking:"}),d.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[d.jsx("li",{children:"• Consistent difficulty progression"}),d.jsx("li",{children:"• Personalized content at the right level"}),d.jsx("li",{children:"• Prevents skill gaps from level jumping"}),d.jsx("li",{children:"• Accurate progress tracking"})]})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"The placement test provides the most accurate assessment of your current abilities and ensures you get content that matches your skill level."})]})]})]})]})]})})})}),d.jsx("div",{className:"flex-none px-4 py-6 md:px-6 md:py-8",children:d.jsx("div",{className:"max-w-md mx-auto",children:l&&d.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:d.jsxs(ps,{className:"border-accent/30 bg-accent/10 shadow-lg",children:[d.jsx(ds,{className:"h-5 w-5 text-accent"}),d.jsxs(ms,{className:"text-base",children:[d.jsx("strong",{className:"text-accent-foreground",children:"Level is locked."}),d.jsx("br",{}),"Take the placement test to change your level and get a personalized assessment of your abilities."]})]})})})})]})}):d.jsx("div",{className:"min-h-screen bg-background",children:d.jsx("div",{className:"min-h-screen flex items-center justify-center px-3 py-2",children:d.jsxs("div",{className:"w-full max-w-md mx-auto",children:[n&&d.jsx("div",{className:"flex justify-start mb-3",children:d.jsx(ce,{variant:"ghost",size:"icon",onClick:n,className:"w-8 h-8",children:d.jsx(Yl,{className:"w-4 h-4"})})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Choose Your Level"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Level locks after selection. Change by retaking placement test."}),d.jsx(me.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:d.jsxs(ce,{onClick:S,className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",size:"default",children:[d.jsx(In,{className:"w-4 h-4 mr-2"}),"Take Placement Test (Recommended)"]})}),d.jsxs("div",{className:"flex items-center gap-3 py-1",children:[d.jsx("div",{className:"h-px bg-border flex-1"}),d.jsx("span",{className:"text-xs text-muted-foreground px-2",children:"OR SELF-SELECT"}),d.jsx("div",{className:"h-px bg-border flex-1"})]})]}),d.jsx("div",{children:d.jsx(l3,{value:o,onValueChange:a,children:d.jsx("div",{className:"grid grid-cols-3 gap-2",children:u3.map((j,T)=>d.jsx(me.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:T*.05},className:"relative",children:d.jsxs(gt,{className:`cursor-pointer transition-all duration-300 h-full min-h-[180px] text-center relative overflow-hidden ${o===j.value?`${j.selectedColor} shadow-xl scale-[1.03] ring-2 ring-offset-1`:`${j.color} hover:shadow-lg hover:scale-[1.01] shadow-md`}`,onClick:()=>x(j.value),children:[o===j.value&&d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent pointer-events-none"}),d.jsxs(bh,{children:[d.jsx(gc,{asChild:!0,children:d.jsx(ce,{variant:"ghost",size:"icon",className:"absolute top-1 right-1 w-6 h-6 rounded-full bg-white/90 hover:bg-white shadow-md z-20",onClick:E=>E.stopPropagation(),children:d.jsx(rv,{className:"w-3 h-3"})})}),d.jsxs(yc,{className:"max-w-sm mx-auto",children:[d.jsxs(Sh,{children:[d.jsxs(vc,{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-2xl",children:j.emoji}),d.jsxs("div",{className:"text-lg",children:[j.title," Level"]})]}),d.jsx(wc,{children:j.description})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-2",children:"What you'll practice:"}),d.jsx("ul",{className:"space-y-1",children:j.detailedFeatures.map((E,C)=>d.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[d.jsx(Zn,{className:"w-4 h-4 text-success mt-0.5 flex-shrink-0"}),E]},C))})]}),d.jsx("div",{className:"bg-accent/10 p-3 rounded-lg border border-accent/20",children:d.jsxs("p",{className:"text-sm",children:[d.jsx("strong",{className:"text-accent-foreground",children:"Choose this level if:"}),d.jsx("br",{}),j.recommended]})})]})]})]}),d.jsx("div",{className:"absolute top-1 left-1 z-20",children:d.jsx(c3,{value:j.value,id:j.value,className:"w-4 h-4 border-2 bg-white/90"})}),d.jsxs(yt,{className:"p-2 h-full flex flex-col justify-center pt-6",children:[d.jsxs("div",{className:"space-y-2 mb-3",children:[d.jsx("div",{className:"text-3xl",children:j.emoji}),d.jsx(tn,{className:"text-sm leading-tight font-bold",children:j.title})]}),d.jsx("div",{className:"space-y-1",children:j.badges.map((E,C)=>d.jsx(Be,{variant:"secondary",className:"text-xs px-1 py-0 h-4 rounded-sm block w-full bg-white/80 text-gray-800 border border-gray-300 font-medium",children:E},C))})]})]})},j.value))})})}),o&&d.jsx(me.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-3",children:d.jsxs("div",{className:"bg-success/10 rounded-lg p-4 border border-success/20 space-y-3",children:[d.jsx("div",{className:"text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[d.jsx(Zn,{className:"w-5 h-5 text-success"}),d.jsxs("span",{className:"text-base font-bold text-success-foreground",children:[o," Level Selected"]})]})}),d.jsxs("div",{className:"flex items-start gap-2 p-2 bg-primary/15 rounded border border-primary/25",children:[d.jsx(Oo,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),d.jsxs("p",{className:"text-sm text-primary-foreground",children:[d.jsx("strong",{children:"Level will be locked after confirmation."})," You can only change it by taking the placement test later."]})]}),d.jsx(me.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:d.jsxs(ce,{onClick:_,className:"w-full bg-success hover:bg-success/90 text-success-foreground h-11 text-base font-bold shadow-lg",size:"lg",children:[d.jsx(Ar,{className:"w-5 h-5 mr-2"}),"Start Learning at ",o," Level"]})})]})}),!o&&d.jsx("div",{className:"text-center py-2",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"👆 Tap a level card above to continue"})})]})]})})})}class f3 extends Et.Component{constructor(n){super(n);jt(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){console.error("VibeTune Error Boundary caught an error:",n,s),this.setState({error:n,errorInfo:s}),setTimeout(()=>{try{vn(async()=>{const{trackEvent:o}=await Promise.resolve().then(()=>vI);return{trackEvent:o}},void 0).then(({trackEvent:o})=>{o("app_error_boundary",{error:n.message,stack:n.stack,componentStack:s.componentStack})})}catch(o){console.warn("Failed to track error boundary event:",o)}},0)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full text-center space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[d.jsx("div",{className:"w-12 h-12 bg-accent rounded-full flex items-center justify-center",children:d.jsx("svg",{className:"w-6 h-6 text-accent-foreground",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"})})}),d.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"VibeTune"})]}),d.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-6",children:[d.jsx("h2",{className:"text-lg font-semibold text-destructive mb-2",children:"Oops! Something went wrong"}),d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"We encountered an unexpected error. Don't worry, your data is safe."}),!1]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("button",{onClick:this.handleReset,className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground px-4 py-2 rounded-lg font-medium transition-colors",children:"Try Again"}),d.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-secondary hover:bg-secondary/90 text-secondary-foreground px-4 py-2 rounded-lg font-medium transition-colors",children:"Refresh Page"}),d.jsx("button",{onClick:()=>{try{localStorage.clear(),sessionStorage.clear()}catch(n){console.warn("Failed to clear storage:",n)}window.location.reload()},className:"w-full border border-border hover:bg-muted px-4 py-2 rounded-lg font-medium transition-colors text-sm",children:"Reset App Data"})]}),d.jsxs("div",{className:"text-xs text-muted-foreground",children:[d.jsx("p",{children:"If this problem persists, please contact support."}),d.jsxs("p",{className:"mt-1",children:["Error ID: ",Date.now().toString(36)]})]})]})}):this.props.children}}const h3={user:null,currentConversation:[],placementTestProgress:0,isLoading:!1,error:null,isOffline:!1,syncStatus:"synced"};function p3(t,e){switch(e.type){case"SET_USER":return{...t,user:e.payload};case"SET_CONVERSATION":return{...t,currentConversation:e.payload};case"ADD_MESSAGE":return{...t,currentConversation:[...t.currentConversation,e.payload]};case"UPDATE_MESSAGE":return{...t,currentConversation:t.currentConversation.map(n=>n.id===e.payload.id?{...n,...e.payload.message}:n)};case"SET_PLACEMENT_TEST_PROGRESS":return{...t,placementTestProgress:e.payload};case"SET_LOADING":return{...t,isLoading:e.payload};case"SET_ERROR":return{...t,error:e.payload};case"SET_OFFLINE":return{...t,isOffline:e.payload};case"SET_SYNC_STATUS":return{...t,syncStatus:e.payload};case"CLEAR_CONVERSATION":return{...t,currentConversation:[]};default:return t}}const w_=b.createContext(null);function m3({children:t}){const[e,n]=b.useReducer(p3,h3);return d.jsx(w_.Provider,{value:{state:e,dispatch:n},children:t})}function g3(){const t=b.useContext(w_);if(!t)throw new Error("useAppContext must be used within an AppProvider");return t}const ts={setUser:t=>({type:"SET_USER",payload:t}),setConversation:t=>({type:"SET_CONVERSATION",payload:t}),addMessage:t=>({type:"ADD_MESSAGE",payload:t}),updateMessage:(t,e)=>({type:"UPDATE_MESSAGE",payload:{id:t,message:e}}),setPlacementTestProgress:t=>({type:"SET_PLACEMENT_TEST_PROGRESS",payload:t}),setLoading:t=>({type:"SET_LOADING",payload:t}),setError:t=>({type:"SET_ERROR",payload:t}),setOffline:t=>({type:"SET_OFFLINE",payload:t}),setSyncStatus:t=>({type:"SET_SYNC_STATUS",payload:t}),clearConversation:()=>({type:"CLEAR_CONVERSATION"})};class Nn{static getStorage(){return typeof window<"u"?{getItem:e=>localStorage.getItem(e),setItem:(e,n)=>localStorage.setItem(e,n),removeItem:e=>localStorage.removeItem(e)}:{getItem:async e=>null,setItem:async(e,n)=>{},removeItem:async e=>{}}}static saveMessageOffline(e){try{const n=this.getStorage(),s=n.getItem(this.STORAGE_KEYS.MESSAGES),o=s?JSON.parse(s):[],a={...e,device_id:this.getDeviceId(),synced:!1};o.push(a),n.setItem(this.STORAGE_KEYS.MESSAGES,JSON.stringify(o)),this.addToSyncQueue("message",a.id)}catch(n){console.error("Failed to save message offline:",n)}}static saveConversationOffline(e){try{const n=this.getStorage(),s=n.getItem(this.STORAGE_KEYS.CONVERSATIONS),o=s?JSON.parse(s):[],a={...e,device_id:this.getDeviceId(),synced:!1};o.push(a),n.setItem(this.STORAGE_KEYS.CONVERSATIONS,JSON.stringify(o)),this.addToSyncQueue("conversation",a.id)}catch(n){console.error("Failed to save conversation offline:",n)}}static getOfflineMessages(e){try{const s=this.getStorage().getItem(this.STORAGE_KEYS.MESSAGES);return(s?JSON.parse(s):[]).filter(a=>a.conversation_id===e)}catch(n){return console.error("Failed to get offline messages:",n),[]}}static getOfflineConversations(){try{const n=this.getStorage().getItem(this.STORAGE_KEYS.CONVERSATIONS);return n?JSON.parse(n):[]}catch(e){return console.error("Failed to get offline conversations:",e),[]}}static getUnsyncedItems(){const e=this.getAllOfflineMessages(),n=this.getOfflineConversations();return{messages:e.filter(s=>!s.synced),conversations:n.filter(s=>!s.synced)}}static markAsSynced(e,n){try{const s=this.getStorage(),o=e==="message"?this.STORAGE_KEYS.MESSAGES:this.STORAGE_KEYS.CONVERSATIONS,a=s.getItem(o);if(!a)return;const u=JSON.parse(a).map(f=>f.id===n?{...f,synced:!0}:f);s.setItem(o,JSON.stringify(u)),this.removeFromSyncQueue(e,n)}catch(s){console.error("Failed to mark item as synced:",s)}}static addToSyncQueue(e,n){try{const s=this.getStorage(),o=s.getItem(this.STORAGE_KEYS.SYNC_QUEUE),a=o?JSON.parse(o):[];a.push({type:e,id:n,timestamp:Date.now()}),s.setItem(this.STORAGE_KEYS.SYNC_QUEUE,JSON.stringify(a))}catch(s){console.error("Failed to add to sync queue:",s)}}static removeFromSyncQueue(e,n){try{const s=this.getStorage(),o=s.getItem(this.STORAGE_KEYS.SYNC_QUEUE);if(!o)return;const l=JSON.parse(o).filter(u=>!(u.type===e&&u.id===n));s.setItem(this.STORAGE_KEYS.SYNC_QUEUE,JSON.stringify(l))}catch(s){console.error("Failed to remove from sync queue:",s)}}static getSyncQueue(){try{const n=this.getStorage().getItem(this.STORAGE_KEYS.SYNC_QUEUE);return n?JSON.parse(n):[]}catch(e){return console.error("Failed to get sync queue:",e),[]}}static clearSyncedItems(){try{const e=this.getStorage(),n=e.getItem(this.STORAGE_KEYS.MESSAGES);if(n){const o=JSON.parse(n),a=Date.now()-10080*60*1e3,l=o.filter(u=>!u.synced||new Date(u.created_at).getTime()>a);e.setItem(this.STORAGE_KEYS.MESSAGES,JSON.stringify(l))}const s=e.getItem(this.STORAGE_KEYS.CONVERSATIONS);if(s){const o=JSON.parse(s),a=Date.now()-720*60*60*1e3,l=o.filter(u=>!u.synced||new Date(u.started_at).getTime()>a);e.setItem(this.STORAGE_KEYS.CONVERSATIONS,JSON.stringify(l))}}catch(e){console.error("Failed to clear synced items:",e)}}static getDeviceId(){try{const e=this.getStorage();let n=e.getItem("device_id");return n||(n="web_"+Date.now().toString(36)+Math.random().toString(36).substr(2),e.setItem("device_id",n)),n}catch(e){return console.error("Failed to get device ID:",e),"unknown_device"}}static getAllOfflineMessages(){try{const n=this.getStorage().getItem(this.STORAGE_KEYS.MESSAGES);return n?JSON.parse(n):[]}catch(e){return console.error("Failed to get all offline messages:",e),[]}}static updateLastSync(){try{this.getStorage().setItem(this.STORAGE_KEYS.LAST_SYNC,Date.now().toString())}catch(e){console.error("Failed to update last sync:",e)}}static getLastSync(){try{const n=this.getStorage().getItem(this.STORAGE_KEYS.LAST_SYNC);return n?parseInt(n):0}catch(e){return console.error("Failed to get last sync:",e),0}}static isOffline(){return typeof navigator<"u"&&!navigator.onLine}static getStorageStats(){const e=this.getAllOfflineMessages(),n=this.getOfflineConversations(),s=this.getUnsyncedItems();return{messageCount:e.length,conversationCount:n.length,unsyncedMessages:s.messages.length,unsyncedConversations:s.conversations.length,lastSync:this.getLastSync()}}}jt(Nn,"STORAGE_KEYS",{MESSAGES:"speakpro_offline_messages",CONVERSATIONS:"speakpro_offline_conversations",SYNC_QUEUE:"speakpro_sync_queue",LAST_SYNC:"speakpro_last_sync"});class Kl{static async analyzeAudio({audioBlob:e,text:n,level:s,context:o}){try{if(!this.checkRateLimit())throw new Error("Rate limit exceeded. Please wait before making another request.");const a=new FormData;e&&a.append("audio",e,"recording.wav"),n&&a.append("text",n),a.append("level",s),a.append("context",o||"general");const l=await fetch(this.API_ENDPOINT,{method:"POST",body:a,headers:{Authorization:`Bearer ${await this.getAuthToken()}`}});if(!l.ok)throw l.status===429?new Error("API rate limit exceeded. Please try again later."):new Error(`API request failed: ${l.statusText}`);const u=await l.json();return this.updateRateLimit(),{data:u,error:null}}catch(a){return console.error("Audio analysis error:",a),{data:this.generateMockAnalysis(n||"",s),error:a}}}static async streamTranscription(e,n,s){try{let o="";const a=["I","think","learning","English","pronunciation","is","very","important"];for(let l=0;l<a.length;l++)await new Promise(u=>setTimeout(u,500)),o+=(l>0?" ":"")+a[l],n({text:o,isFinal:l===a.length-1,confidence:.85+Math.random()*.15})}catch(o){s(o)}}static checkRateLimit(){const e=Date.now(),n=localStorage.getItem(this.RATE_LIMIT_KEY);if(!n)return!0;const{count:s,windowStart:o}=JSON.parse(n),a=60*1e3;return e-o>a?!0:s<this.MAX_REQUESTS_PER_MINUTE}static updateRateLimit(){const e=Date.now(),n=localStorage.getItem(this.RATE_LIMIT_KEY);if(!n){localStorage.setItem(this.RATE_LIMIT_KEY,JSON.stringify({count:1,windowStart:e}));return}const{count:s,windowStart:o}=JSON.parse(n),a=60*1e3;e-o>a?localStorage.setItem(this.RATE_LIMIT_KEY,JSON.stringify({count:1,windowStart:e})):localStorage.setItem(this.RATE_LIMIT_KEY,JSON.stringify({count:s+1,windowStart:o}))}static async getAuthToken(){const{data:{session:e}}=await Le.auth.getSession();return(e==null?void 0:e.access_token)||wp}static generateMockAnalysis(e,n){const s=e.toLowerCase().split(" "),o=Math.floor(Math.random()*30)+70,a=[],l=[];return n==="Beginner"?(s.includes("really")||s.includes("very"))&&a.push({type:"stress",score:.6,location:"really",suggestion:"Emphasize this word with rising stress"}):n==="Intermediate"&&a.push({type:"intonation",score:.75,suggestion:"Try varying your pitch more throughout the sentence"}),s.forEach(u=>{u.length>8&&l.push(u)}),{prosodyErrors:a,vocabSuggestions:l.slice(0,3),guidance:this.generateGuidance(o,n),overallScore:o,transcript:e}}static generateGuidance(e,n){const s={high:["Excellent prosody! Your rhythm and intonation are very natural.","Great job with word stress patterns. Keep practicing!","Your speech sounds very confident and clear."],medium:["Good effort! Try to focus more on sentence-level intonation.","Your pronunciation is clear. Work on varying your pitch more.","Nice rhythm! Pay attention to stressed syllables in longer words."],low:["Keep practicing! Focus on one aspect at a time - start with word stress.","Take your time with pronunciation. Slow, clear speech is better than fast, unclear speech.","Listen to native speakers and try to mimic their intonation patterns."]},o=e>=85?"high":e>=70?"medium":"low",a=s[o];return a[Math.floor(Math.random()*a.length)]}}jt(Kl,"API_ENDPOINT",`https://${vp}.supabase.co/functions/v1/make-server-b2083953/analyze-audio`),jt(Kl,"RATE_LIMIT_KEY","audio_analysis_rate_limit"),jt(Kl,"MAX_REQUESTS_PER_MINUTE",20);class os{static addSyncListener(e){this.syncListeners.push(e)}static removeSyncListener(e){this.syncListeners=this.syncListeners.filter(n=>n!==e)}static notifyListeners(e){this.syncListeners.forEach(n=>n(e))}static async sync(){if(this.syncInProgress)return{success:!1,syncedMessages:0,syncedConversations:0,errors:["Sync already in progress"]};this.syncInProgress=!0,this.notifyListeners("syncing");const e=new Promise((n,s)=>setTimeout(()=>s(new Error("Sync operation timed out")),1e4));try{return await Promise.race([this._performSync(),e])}catch(n){return this.syncInProgress=!1,this.notifyListeners("error"),console.error("Sync failed:",(n==null?void 0:n.message)||n),{success:!1,syncedMessages:0,syncedConversations:0,errors:[(n==null?void 0:n.message)||"Sync failed"]}}}static async _performSync(){const e={success:!1,syncedMessages:0,syncedConversations:0,errors:[]};try{if(Nn.isOffline())return this.syncInProgress=!1,this.notifyListeners("synced"),{success:!0,syncedMessages:0,syncedConversations:0,errors:["Device is offline - sync will resume when online"]};const n=await this.checkAuthentication();if(!n.isAuthenticated)return this.syncInProgress=!1,this.notifyListeners("synced"),{success:!0,syncedMessages:0,syncedConversations:0,errors:[n.reason||"No authenticated user - sync skipped"]};const{messages:s,conversations:o}=Nn.getUnsyncedItems();for(const a of o)try{await this.syncConversation(a),e.syncedConversations++}catch(l){console.error("Failed to sync conversation:",l),e.errors.push(`Failed to sync conversation ${a.id}: ${l}`)}for(const a of s)try{await this.syncMessage(a),e.syncedMessages++}catch(l){console.error("Failed to sync message:",l),e.errors.push(`Failed to sync message ${a.id}: ${l}`)}await this.downloadServerUpdates(),Nn.updateLastSync(),e.success=e.errors.length===0,this.notifyListeners(e.success?"synced":"error"),Nn.clearSyncedItems()}catch(n){console.error("Sync failed:",n);const s=n instanceof Error?n.message:String(n);e.errors.push(`Sync failed: ${s}`),!s.includes("not authenticated")&&!s.includes("offline")?this.notifyListeners("error"):this.notifyListeners("synced")}finally{this.syncInProgress=!1}return e}static async syncConversation(e){try{const{data:n}=await Le.from("conversations").select("id, device_id").eq("id",e.id).single();if(n)await this.resolveConversationConflict(e,n);else{const{error:s}=await Le.from("conversations").insert([{id:e.id,profile_id:e.profile_id,topic:e.topic,is_placement_test:e.is_placement_test,started_at:e.started_at,ended_at:e.ended_at,device_id:e.device_id}]);if(s)throw s}Nn.markAsSynced("conversation",e.id)}catch(n){throw console.error("Failed to sync conversation:",n),n}}static async syncMessage(e){try{const{data:n}=await Le.from("messages").select("id, device_id, version").eq("id",e.id).single();if(n)await this.resolveMessageConflict(e,n);else{let s=null;if(e.type==="audio"&&e.sender==="user")try{const{data:a}=await Kl.analyzeAudio({text:e.content,level:"Intermediate"});s=a}catch(a){console.warn("Failed to analyze audio during sync:",a)}const{error:o}=await Le.from("messages").insert([{id:e.id,conversation_id:e.conversation_id,sender:e.sender,type:e.type,content:e.content,audio_url:e.audio_url,prosody_feedback:s,created_at:e.created_at,device_id:e.device_id,version:1}]);if(o)throw o}Nn.markAsSynced("message",e.id)}catch(n){throw console.error("Failed to sync message:",n),n}}static async resolveConversationConflict(e,n){const s=new Date(e.started_at).getTime(),o=new Date(n.started_at).getTime();if(s>o||e.device_id===n.device_id){const{error:a}=await Le.from("conversations").update({topic:e.topic,ended_at:e.ended_at,device_id:e.device_id}).eq("id",e.id);if(a)throw a}}static async resolveMessageConflict(e,n){if(e.sender==="ai"&&e.prosody_feedback){const{error:s}=await Le.from("messages").update({prosody_feedback:e.prosody_feedback,version:(n.version||1)+1,device_id:e.device_id}).eq("id",e.id);if(s)throw s}}static async downloadServerUpdates(){try{const e=await this.checkAuthentication();if(!e.isAuthenticated){console.log("Skipping server updates download:",e.reason);return}const{data:{session:n}}=await Le.auth.getSession();if(!(n!=null&&n.user)){console.log("No session available for server updates");return}const s=Nn.getLastSync(),o=new Date(s).toISOString(),{data:a}=await Le.from("conversations").select("*").eq("profile_id",n.user.id).gt("started_at",o).order("started_at",{ascending:!1});if(a&&a.length>0){const l=a.map(f=>f.id),{data:u}=await Le.from("messages").select("*").in("conversation_id",l).gt("created_at",o).order("created_at",{ascending:!0});u&&u.forEach(f=>{const p={...f,synced:!0}})}}catch(e){throw console.error("Failed to download server updates:",e),e}}static enableAutoSync(){return new Promise((e,n)=>{if(this.autoSyncEnabled||typeof window>"u"){console.log("✅ Auto-sync already enabled"),e();return}try{this.autoSyncEnabled=!0,console.log("🔄 Auto-sync enabled");const s=()=>{console.log("📡 Online - will sync soon"),setTimeout(()=>{this.sync().catch(a=>{console.warn("⚠️ Auto-sync failed:",(a==null?void 0:a.message)||a)})},3e3)};window.addEventListener("online",s);const o=setInterval(async()=>{if(!Nn.isOffline()&&!this.syncInProgress)try{const a=this.checkAuthentication(),l=new Promise((f,p)=>setTimeout(()=>p(new Error("Auth check timeout")),2e3)),u=await Promise.race([a,l]);u.isAuthenticated?(console.log("Starting periodic sync"),this.sync().catch(f=>{console.warn("⚠️ Periodic sync failed:",(f==null?void 0:f.message)||f)})):console.log("Periodic sync skipped:",u.reason)}catch(a){console.warn("⚠️ Auth check failed for periodic sync:",(a==null?void 0:a.message)||a)}},300*1e3);window.__vibeTuneSyncCleanup||(window.__vibeTuneSyncCleanup=()=>{console.log("Cleaning up auto-sync"),window.removeEventListener("online",s),clearInterval(o),this.autoSyncEnabled=!1,this.resetAuthCache()}),e()}catch(s){console.warn("⚠️ Auto-sync setup failed:",s),n(s)}})}static async forceSync(){return this.sync()}static isSyncing(){return this.syncInProgress}static getPendingSyncCount(){const{messages:e,conversations:n}=Nn.getUnsyncedItems();return e.length+n.length}static async checkAuthentication(){var n;const e=Date.now();if(e-this.lastAuthCheck<3e4&&this.isAuthenticated)return{isAuthenticated:!0};try{const{data:{session:s},error:o}=await Le.auth.getSession();if(o)return console.log("Auth check failed:",o.message),this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:`Authentication error: ${o.message}`};if(!(s!=null&&s.user))return this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:"No active session"};if(s.expires_at&&new Date(s.expires_at*1e3)<=new Date)return console.log("Session expired"),this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:"Session expired"};if(s.expires_at&&new Date(s.expires_at*1e3).getTime()-e<300*1e3){console.log("Session close to expiry, attempting refresh...");const{data:a,error:l}=await Le.auth.refreshSession();if(l)return console.log("Session refresh failed:",l.message),this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:`Session refresh failed: ${l.message}`};if(!((n=a.session)!=null&&n.user))return this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:"Session refresh returned no user"}}return this.isAuthenticated=!0,this.lastAuthCheck=e,{isAuthenticated:!0}}catch(s){return console.log("Auth check exception:",s),this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:`Auth check failed: ${s}`}}}static resetAuthCache(){this.isAuthenticated=!1,this.lastAuthCheck=0}}jt(os,"syncInProgress",!1),jt(os,"autoSyncEnabled",!1),jt(os,"syncListeners",[]),jt(os,"lastAuthCheck",0),jt(os,"isAuthenticated",!1);function y3(){const{state:t,dispatch:e}=g3(),{trackEvent:n}=Pr(),[s,o]=b.useState("loading"),[a,l]=b.useState(!1),[u,f]=b.useState(!1),{user:p}=t;b.useEffect(()=>{if(a)return;(async()=>{var C,N;console.log("🚀 Initializing VibeTune..."),l(!0);try{typeof navigator<"u"&&e(ts.setOffline(!navigator.onLine));const R=await Rn.getCurrentSession();(C=R==null?void 0:R.data)!=null&&C.user&&((N=R==null?void 0:R.data)!=null&&N.profile)?(console.log("✅ Found existing session with profile"),e(ts.setUser(R.data.profile)),R.data.profile.level?o("main-app"):o("level-selection")):(console.log("❌ No valid session found"),o("onboarding"))}catch(R){console.warn("⚠️ Session check failed:",R),o("onboarding")}finally{f(!0)}})()},[e,a]);const m=()=>{console.log("📝 Navigating to signup"),o("signup"),n("onboarding_signup_clicked")},y=()=>{console.log("🔑 Navigating to signin"),o("signin"),n("onboarding_signin_clicked")},v=b.useCallback(E=>{console.log("🚀 Auth completed for user:",E.id),e(ts.setUser(E)),E.level?(console.log("🎯 User has level - navigating to main app"),o("main-app")):(console.log("🎯 User has no level - navigating to level selection"),o("level-selection")),setTimeout(()=>{try{os.enableAutoSync().catch(C=>console.warn("⚠️ Sync setup failed:",C)),n("auth_completed",{userId:E.id,level:E.level,isNewUser:!E.level}).catch(C=>console.warn("Event tracking failed:",C))}catch(C){console.warn("Background tasks failed:",C)}},100)},[e,n]),x=async E=>{if(console.log("🎯 Placement test completed:",E),p)try{const{data:C}=await Rn.updateProfile(p.id,{level:E.level,placement_test_completed:!0,placement_test_score:E.score},p);C&&e(ts.setUser(C)),n("placement_test_completed",{userId:p.id,score:E.score,level:E.level,previousLevel:p.level,selectionMethod:"placement_test"}).catch(N=>console.warn("Tracking failed:",N))}catch(C){console.error("❌ Failed to update profile after placement test:",C)}o("main-app")},_=()=>{console.log("⏭️ Placement test skipped"),o("main-app"),n("placement_test_skipped",{userId:p==null?void 0:p.id})},S=async E=>{if(console.log("🎯 Level selected:",E),p)try{const{data:C}=await Rn.updateProfile(p.id,{level:E,placement_test_completed:!1},p);C&&e(ts.setUser(C)),n("level_selected",{userId:p.id,level:E,previousLevel:p.level,selectionMethod:"manual"}).catch(N=>console.warn("Tracking failed:",N))}catch(C){console.error("❌ Failed to update profile with selected level:",C)}o("main-app")},j=b.useCallback(async()=>{console.log("🚪 Starting logout...");try{n("user_logout_initiated",{userId:p==null?void 0:p.id}).catch(E=>console.warn("Logout tracking failed:",E)),await Rn.signOut(),os.resetAuthCache().catch(E=>console.warn("Sync reset failed:",E))}catch(E){console.warn("⚠️ Logout cleanup failed:",E)}finally{e(ts.setUser(null)),o("onboarding")}},[e,n,p==null?void 0:p.id]),T=()=>{console.log("🔙 Back to onboarding"),o("onboarding"),n("auth_back_to_onboarding")};if(!u)return d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"w-8 h-8 border-2 border-accent border-t-transparent rounded-full animate-spin mx-auto"}),d.jsx("p",{className:"text-muted-foreground",children:"Loading VibeTune..."})]})});switch(console.log("🖼️ Rendering screen:",s,"User:",!!p,"User level:",p==null?void 0:p.level),s){case"onboarding":return d.jsx(G2,{onSignUp:m,onSignIn:y,onDemoUser:v});case"signup":return d.jsx(J0,{mode:"signup",onAuthComplete:v,onBack:T});case"signin":return d.jsx(J0,{mode:"signin",onAuthComplete:v,onBack:T});case"level-selection":return d.jsx(d3,{onLevelSelect:S,onTakePlacementTest:()=>o("placement-test"),onBack:T,user:p});case"placement-test":return p?d.jsx(Y4,{user:p,onComplete:x,onSkip:_,onBack:()=>o("level-selection")}):(console.log("⚠️ No user for placement test, redirecting to signin"),o("signin"),null);case"main-app":return p?d.jsx(K4,{user:p,onLogout:j,onStartPlacementTest:()=>o("placement-test"),onUserUpdate:E=>{e(ts.setUser(E))}}):(console.log("⚠️ User is null in main-app, redirecting to signin"),o("signin"),null);default:return d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsxs("p",{className:"text-destructive",children:["Unexpected app state: ",s]}),d.jsx("button",{onClick:()=>o("onboarding"),className:"text-accent underline",children:"Return to start"})]})})}}function v3(){return d.jsx(f3,{children:d.jsx(m3,{children:d.jsx(y3,{})})})}Cj.createRoot(document.getElementById("root")).render(d.jsx(v3,{}));
//# sourceMappingURL=index-D_KUzJp5.js.map

var l1=Object.defineProperty;var c1=(n,e,s)=>e in n?l1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s;var St=(n,e,s)=>c1(n,typeof e!="symbol"?e+"":e,s);import{Slot as Ly}from"@radix-ui/react-slot";import{cva as Ld}from"class-variance-authority";import*as Sm from"@radix-ui/react-progress";import*as u1 from"@radix-ui/react-label";import*as d1 from"@radix-ui/react-separator";import*as Je from"@radix-ui/react-dialog";import*as $s from"@radix-ui/react-scroll-area";import*as Md from"@radix-ui/react-collapsible";import*as $r from"@radix-ui/react-tooltip";import*as ul from"@radix-ui/react-tabs";import*as km from"@radix-ui/react-switch";import*as h1 from"@radix-ui/react-visually-hidden";import*as Bu from"@radix-ui/react-radio-group";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=s(o);fetch(o.href,l)}})();function My(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function f1(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var s=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(s,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),s}var du={exports:{}},Mi={},hu={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm;function p1(){if(jm)return Se;jm=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function w(k){return k===null||typeof k!="object"?null:(k=v&&k[v]||k["@@iterator"],typeof k=="function"?k:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function b(k,F,X){this.props=k,this.context=F,this.refs=T,this.updater=X||_}b.prototype.isReactComponent={},b.prototype.setState=function(k,F){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,F,"setState")},b.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function A(){}A.prototype=b.prototype;function P(k,F,X){this.props=k,this.context=F,this.refs=T,this.updater=X||_}var E=P.prototype=new A;E.constructor=P,S(E,b.prototype),E.isPureReactComponent=!0;var N=Array.isArray,L=Object.prototype.hasOwnProperty,U={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function V(k,F,X){var le,ye={},we=null,ie=null;if(F!=null)for(le in F.ref!==void 0&&(ie=F.ref),F.key!==void 0&&(we=""+F.key),F)L.call(F,le)&&!B.hasOwnProperty(le)&&(ye[le]=F[le]);var ve=arguments.length-2;if(ve===1)ye.children=X;else if(1<ve){for(var xe=Array(ve),Ue=0;Ue<ve;Ue++)xe[Ue]=arguments[Ue+2];ye.children=xe}if(k&&k.defaultProps)for(le in ve=k.defaultProps,ve)ye[le]===void 0&&(ye[le]=ve[le]);return{$$typeof:n,type:k,key:we,ref:ie,props:ye,_owner:U.current}}function G(k,F){return{$$typeof:n,type:k.type,key:F,ref:k.ref,props:k.props,_owner:k._owner}}function be(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function Ie(k){var F={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(X){return F[X]})}var $e=/\/+/g;function Pe(k,F){return typeof k=="object"&&k!==null&&k.key!=null?Ie(""+k.key):F.toString(36)}function Oe(k,F,X,le,ye){var we=typeof k;(we==="undefined"||we==="boolean")&&(k=null);var ie=!1;if(k===null)ie=!0;else switch(we){case"string":case"number":ie=!0;break;case"object":switch(k.$$typeof){case n:case e:ie=!0}}if(ie)return ie=k,ye=ye(ie),k=le===""?"."+Pe(ie,0):le,N(ye)?(X="",k!=null&&(X=k.replace($e,"$&/")+"/"),Oe(ye,F,X,"",function(Ue){return Ue})):ye!=null&&(be(ye)&&(ye=G(ye,X+(!ye.key||ie&&ie.key===ye.key?"":(""+ye.key).replace($e,"$&/")+"/")+k)),F.push(ye)),1;if(ie=0,le=le===""?".":le+":",N(k))for(var ve=0;ve<k.length;ve++){we=k[ve];var xe=le+Pe(we,ve);ie+=Oe(we,F,X,xe,ye)}else if(xe=w(k),typeof xe=="function")for(k=xe.call(k),ve=0;!(we=k.next()).done;)we=we.value,xe=le+Pe(we,ve++),ie+=Oe(we,F,X,xe,ye);else if(we==="object")throw F=String(k),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return ie}function Ne(k,F,X){if(k==null)return k;var le=[],ye=0;return Oe(k,le,"","",function(we){return F.call(X,we,ye++)}),le}function Q(k){if(k._status===-1){var F=k._result;F=F(),F.then(function(X){(k._status===0||k._status===-1)&&(k._status=1,k._result=X)},function(X){(k._status===0||k._status===-1)&&(k._status=2,k._result=X)}),k._status===-1&&(k._status=0,k._result=F)}if(k._status===1)return k._result.default;throw k._result}var W={current:null},R={transition:null},Y={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:R,ReactCurrentOwner:U};function M(){throw Error("act(...) is not supported in production builds of React.")}return Se.Children={map:Ne,forEach:function(k,F,X){Ne(k,function(){F.apply(this,arguments)},X)},count:function(k){var F=0;return Ne(k,function(){F++}),F},toArray:function(k){return Ne(k,function(F){return F})||[]},only:function(k){if(!be(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Se.Component=b,Se.Fragment=s,Se.Profiler=o,Se.PureComponent=P,Se.StrictMode=i,Se.Suspense=f,Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Se.act=M,Se.cloneElement=function(k,F,X){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var le=S({},k.props),ye=k.key,we=k.ref,ie=k._owner;if(F!=null){if(F.ref!==void 0&&(we=F.ref,ie=U.current),F.key!==void 0&&(ye=""+F.key),k.type&&k.type.defaultProps)var ve=k.type.defaultProps;for(xe in F)L.call(F,xe)&&!B.hasOwnProperty(xe)&&(le[xe]=F[xe]===void 0&&ve!==void 0?ve[xe]:F[xe])}var xe=arguments.length-2;if(xe===1)le.children=X;else if(1<xe){ve=Array(xe);for(var Ue=0;Ue<xe;Ue++)ve[Ue]=arguments[Ue+2];le.children=ve}return{$$typeof:n,type:k.type,key:ye,ref:we,props:le,_owner:ie}},Se.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:l,_context:k},k.Consumer=k},Se.createElement=V,Se.createFactory=function(k){var F=V.bind(null,k);return F.type=k,F},Se.createRef=function(){return{current:null}},Se.forwardRef=function(k){return{$$typeof:h,render:k}},Se.isValidElement=be,Se.lazy=function(k){return{$$typeof:m,_payload:{_status:-1,_result:k},_init:Q}},Se.memo=function(k,F){return{$$typeof:g,type:k,compare:F===void 0?null:F}},Se.startTransition=function(k){var F=R.transition;R.transition={};try{k()}finally{R.transition=F}},Se.unstable_act=M,Se.useCallback=function(k,F){return W.current.useCallback(k,F)},Se.useContext=function(k){return W.current.useContext(k)},Se.useDebugValue=function(){},Se.useDeferredValue=function(k){return W.current.useDeferredValue(k)},Se.useEffect=function(k,F){return W.current.useEffect(k,F)},Se.useId=function(){return W.current.useId()},Se.useImperativeHandle=function(k,F,X){return W.current.useImperativeHandle(k,F,X)},Se.useInsertionEffect=function(k,F){return W.current.useInsertionEffect(k,F)},Se.useLayoutEffect=function(k,F){return W.current.useLayoutEffect(k,F)},Se.useMemo=function(k,F){return W.current.useMemo(k,F)},Se.useReducer=function(k,F,X){return W.current.useReducer(k,F,X)},Se.useRef=function(k){return W.current.useRef(k)},Se.useState=function(k){return W.current.useState(k)},Se.useSyncExternalStore=function(k,F,X){return W.current.useSyncExternalStore(k,F,X)},Se.useTransition=function(){return W.current.useTransition()},Se.version="18.3.1",Se}var Tm;function Dd(){return Tm||(Tm=1,hu.exports=p1()),hu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function m1(){if(Em)return Mi;Em=1;var n=Dd(),e=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,g){var m,v={},w=null,_=null;g!==void 0&&(w=""+g),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(_=f.ref);for(m in f)i.call(f,m)&&!l.hasOwnProperty(m)&&(v[m]=f[m]);if(h&&h.defaultProps)for(m in f=h.defaultProps,f)v[m]===void 0&&(v[m]=f[m]);return{$$typeof:e,type:h,key:w,ref:_,props:v,_owner:o.current}}return Mi.Fragment=s,Mi.jsx=c,Mi.jsxs=c,Mi}var Cm;function g1(){return Cm||(Cm=1,du.exports=m1()),du.exports}var d=g1(),Ea={},fu={exports:{}},Pt={},pu={exports:{}},mu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function y1(){return Nm||(Nm=1,(function(n){function e(R,Y){var M=R.length;R.push(Y);e:for(;0<M;){var k=M-1>>>1,F=R[k];if(0<o(F,Y))R[k]=Y,R[M]=F,M=k;else break e}}function s(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var Y=R[0],M=R.pop();if(M!==Y){R[0]=M;e:for(var k=0,F=R.length,X=F>>>1;k<X;){var le=2*(k+1)-1,ye=R[le],we=le+1,ie=R[we];if(0>o(ye,M))we<F&&0>o(ie,ye)?(R[k]=ie,R[we]=M,k=we):(R[k]=ye,R[le]=M,k=le);else if(we<F&&0>o(ie,M))R[k]=ie,R[we]=M,k=we;else break e}}return Y}function o(R,Y){var M=R.sortIndex-Y.sortIndex;return M!==0?M:R.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],g=[],m=1,v=null,w=3,_=!1,S=!1,T=!1,b=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(R){for(var Y=s(g);Y!==null;){if(Y.callback===null)i(g);else if(Y.startTime<=R)i(g),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=s(g)}}function N(R){if(T=!1,E(R),!S)if(s(f)!==null)S=!0,Q(L);else{var Y=s(g);Y!==null&&W(N,Y.startTime-R)}}function L(R,Y){S=!1,T&&(T=!1,A(V),V=-1),_=!0;var M=w;try{for(E(Y),v=s(f);v!==null&&(!(v.expirationTime>Y)||R&&!Ie());){var k=v.callback;if(typeof k=="function"){v.callback=null,w=v.priorityLevel;var F=k(v.expirationTime<=Y);Y=n.unstable_now(),typeof F=="function"?v.callback=F:v===s(f)&&i(f),E(Y)}else i(f);v=s(f)}if(v!==null)var X=!0;else{var le=s(g);le!==null&&W(N,le.startTime-Y),X=!1}return X}finally{v=null,w=M,_=!1}}var U=!1,B=null,V=-1,G=5,be=-1;function Ie(){return!(n.unstable_now()-be<G)}function $e(){if(B!==null){var R=n.unstable_now();be=R;var Y=!0;try{Y=B(!0,R)}finally{Y?Pe():(U=!1,B=null)}}else U=!1}var Pe;if(typeof P=="function")Pe=function(){P($e)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,Ne=Oe.port2;Oe.port1.onmessage=$e,Pe=function(){Ne.postMessage(null)}}else Pe=function(){b($e,0)};function Q(R){B=R,U||(U=!0,Pe())}function W(R,Y){V=b(function(){R(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(R){R.callback=null},n.unstable_continueExecution=function(){S||_||(S=!0,Q(L))},n.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<R?Math.floor(1e3/R):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return s(f)},n.unstable_next=function(R){switch(w){case 1:case 2:case 3:var Y=3;break;default:Y=w}var M=w;w=Y;try{return R()}finally{w=M}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(R,Y){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var M=w;w=R;try{return Y()}finally{w=M}},n.unstable_scheduleCallback=function(R,Y,M){var k=n.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?k+M:k):M=k,R){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=M+F,R={id:m++,callback:Y,priorityLevel:R,startTime:M,expirationTime:F,sortIndex:-1},M>k?(R.sortIndex=M,e(g,R),s(f)===null&&R===s(g)&&(T?(A(V),V=-1):T=!0,W(N,M-k))):(R.sortIndex=F,e(f,R),S||_||(S=!0,Q(L))),R},n.unstable_shouldYield=Ie,n.unstable_wrapCallback=function(R){var Y=w;return function(){var M=w;w=Y;try{return R.apply(this,arguments)}finally{w=M}}}})(mu)),mu}var Pm;function v1(){return Pm||(Pm=1,pu.exports=y1()),pu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function w1(){if(Am)return Pt;Am=1;var n=Dd(),e=v1();function s(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(t,r){c(t,r),c(t+"Capture",r)}function c(t,r){for(o[t]=r,t=0;t<r.length;t++)i.add(r[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function w(t){return f.call(v,t)?!0:f.call(m,t)?!1:g.test(t)?v[t]=!0:(m[t]=!0,!1)}function _(t,r,a,u){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function S(t,r,a,u){if(r===null||typeof r>"u"||_(t,r,a,u))return!0;if(u)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function T(t,r,a,u,p,y,x){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=p,this.mustUseProperty=a,this.propertyName=t,this.type=r,this.sanitizeURL=y,this.removeEmptyString=x}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){b[t]=new T(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];b[r]=new T(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){b[t]=new T(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){b[t]=new T(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){b[t]=new T(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){b[t]=new T(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){b[t]=new T(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){b[t]=new T(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){b[t]=new T(t,5,!1,t.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function P(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(A,P);b[r]=new T(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(A,P);b[r]=new T(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(A,P);b[r]=new T(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){b[t]=new T(t,1,!1,t.toLowerCase(),null,!1,!1)}),b.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){b[t]=new T(t,1,!1,t.toLowerCase(),null,!0,!0)});function E(t,r,a,u){var p=b.hasOwnProperty(r)?b[r]:null;(p!==null?p.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(S(r,a,p,u)&&(a=null),u||p===null?w(r)&&(a===null?t.removeAttribute(r):t.setAttribute(r,""+a)):p.mustUseProperty?t[p.propertyName]=a===null?p.type===3?!1:"":a:(r=p.attributeName,u=p.attributeNamespace,a===null?t.removeAttribute(r):(p=p.type,a=p===3||p===4&&a===!0?"":""+a,u?t.setAttributeNS(u,r,a):t.setAttribute(r,a))))}var N=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),U=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),be=Symbol.for("react.provider"),Ie=Symbol.for("react.context"),$e=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),Oe=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),R=Symbol.iterator;function Y(t){return t===null||typeof t!="object"?null:(t=R&&t[R]||t["@@iterator"],typeof t=="function"?t:null)}var M=Object.assign,k;function F(t){if(k===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);k=r&&r[1]||""}return`
`+k+t}var X=!1;function le(t,r){if(!t||X)return"";X=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(z){var u=z}Reflect.construct(t,[],r)}else{try{r.call()}catch(z){u=z}t.call(r.prototype)}else{try{throw Error()}catch(z){u=z}t()}}catch(z){if(z&&u&&typeof z.stack=="string"){for(var p=z.stack.split(`
`),y=u.stack.split(`
`),x=p.length-1,j=y.length-1;1<=x&&0<=j&&p[x]!==y[j];)j--;for(;1<=x&&0<=j;x--,j--)if(p[x]!==y[j]){if(x!==1||j!==1)do if(x--,j--,0>j||p[x]!==y[j]){var C=`
`+p[x].replace(" at new "," at ");return t.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",t.displayName)),C}while(1<=x&&0<=j);break}}}finally{X=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?F(t):""}function ye(t){switch(t.tag){case 5:return F(t.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return t=le(t.type,!1),t;case 11:return t=le(t.type.render,!1),t;case 1:return t=le(t.type,!0),t;default:return""}}function we(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case U:return"Portal";case G:return"Profiler";case V:return"StrictMode";case Pe:return"Suspense";case Oe:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ie:return(t.displayName||"Context")+".Consumer";case be:return(t._context.displayName||"Context")+".Provider";case $e:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ne:return r=t.displayName||null,r!==null?r:we(t.type)||"Memo";case Q:r=t._payload,t=t._init;try{return we(t(r))}catch{}}return null}function ie(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(r);case 8:return r===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function ve(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xe(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ue(t){var r=xe(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,y=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return p.call(this)},set:function(x){u=""+x,y.call(this,x)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(x){u=""+x},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function at(t){t._valueTracker||(t._valueTracker=Ue(t))}function Qt(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return t&&(u=xe(t)?t.checked?"true":"false":t.value),t=u,t!==a?(r.setValue(t),!0):!1}function vo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vl(t,r){var a=r.checked;return M({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function Nh(t,r){var a=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;a=ve(r.value!=null?r.value:a),t._wrapperState={initialChecked:u,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ph(t,r){r=r.checked,r!=null&&E(t,"checked",r,!1)}function wl(t,r){Ph(t,r);var a=ve(r.value),u=r.type;if(a!=null)u==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?xl(t,r.type,a):r.hasOwnProperty("defaultValue")&&xl(t,r.type,ve(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Ah(t,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,a||r===t.value||(t.value=r),t.defaultValue=r}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function xl(t,r,a){(r!=="number"||vo(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var Qr=Array.isArray;function Hs(t,r,a,u){if(t=t.options,r){r={};for(var p=0;p<a.length;p++)r["$"+a[p]]=!0;for(a=0;a<t.length;a++)p=r.hasOwnProperty("$"+t[a].value),t[a].selected!==p&&(t[a].selected=p),p&&u&&(t[a].defaultSelected=!0)}else{for(a=""+ve(a),r=null,p=0;p<t.length;p++){if(t[p].value===a){t[p].selected=!0,u&&(t[p].defaultSelected=!0);return}r!==null||t[p].disabled||(r=t[p])}r!==null&&(r.selected=!0)}}function _l(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(s(91));return M({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rh(t,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(s(92));if(Qr(a)){if(1<a.length)throw Error(s(93));a=a[0]}r=a}r==null&&(r=""),a=r}t._wrapperState={initialValue:ve(a)}}function Ih(t,r){var a=ve(r.value),u=ve(r.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),r.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),u!=null&&(t.defaultValue=""+u)}function Oh(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Lh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bl(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Lh(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wo,Mh=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,u,p){MSApp.execUnsafeLocalFunction(function(){return t(r,a,u,p)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(wo=wo||document.createElement("div"),wo.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=wo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Xr(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Zr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hw=["Webkit","ms","Moz","O"];Object.keys(Zr).forEach(function(t){hw.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Zr[r]=Zr[t]})});function Dh(t,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||Zr.hasOwnProperty(t)&&Zr[t]?(""+r).trim():r+"px"}function $h(t,r){t=t.style;for(var a in r)if(r.hasOwnProperty(a)){var u=a.indexOf("--")===0,p=Dh(a,r[a],u);a==="float"&&(a="cssFloat"),u?t.setProperty(a,p):t[a]=p}}var fw=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sl(t,r){if(r){if(fw[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(s(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(s(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(s(61))}if(r.style!=null&&typeof r.style!="object")throw Error(s(62))}}function kl(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jl=null;function Tl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var El=null,Ks=null,qs=null;function Uh(t){if(t=_i(t)){if(typeof El!="function")throw Error(s(280));var r=t.stateNode;r&&(r=Fo(r),El(t.stateNode,t.type,r))}}function Vh(t){Ks?qs?qs.push(t):qs=[t]:Ks=t}function zh(){if(Ks){var t=Ks,r=qs;if(qs=Ks=null,Uh(t),r)for(t=0;t<r.length;t++)Uh(r[t])}}function Fh(t,r){return t(r)}function Bh(){}var Cl=!1;function Wh(t,r,a){if(Cl)return t(r,a);Cl=!0;try{return Fh(t,r,a)}finally{Cl=!1,(Ks!==null||qs!==null)&&(Bh(),zh())}}function ei(t,r){var a=t.stateNode;if(a===null)return null;var u=Fo(a);if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Nl=!1;if(h)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){Nl=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{Nl=!1}function pw(t,r,a,u,p,y,x,j,C){var z=Array.prototype.slice.call(arguments,3);try{r.apply(a,z)}catch(K){this.onError(K)}}var ni=!1,xo=null,_o=!1,Pl=null,mw={onError:function(t){ni=!0,xo=t}};function gw(t,r,a,u,p,y,x,j,C){ni=!1,xo=null,pw.apply(mw,arguments)}function yw(t,r,a,u,p,y,x,j,C){if(gw.apply(this,arguments),ni){if(ni){var z=xo;ni=!1,xo=null}else throw Error(s(198));_o||(_o=!0,Pl=z)}}function hs(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function Hh(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Kh(t){if(hs(t)!==t)throw Error(s(188))}function vw(t){var r=t.alternate;if(!r){if(r=hs(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,u=r;;){var p=a.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){a=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===a)return Kh(p),t;if(y===u)return Kh(p),r;y=y.sibling}throw Error(s(188))}if(a.return!==u.return)a=p,u=y;else{for(var x=!1,j=p.child;j;){if(j===a){x=!0,a=p,u=y;break}if(j===u){x=!0,u=p,a=y;break}j=j.sibling}if(!x){for(j=y.child;j;){if(j===a){x=!0,a=y,u=p;break}if(j===u){x=!0,u=y,a=p;break}j=j.sibling}if(!x)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function qh(t){return t=vw(t),t!==null?Gh(t):null}function Gh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Gh(t);if(r!==null)return r;t=t.sibling}return null}var Yh=e.unstable_scheduleCallback,Jh=e.unstable_cancelCallback,ww=e.unstable_shouldYield,xw=e.unstable_requestPaint,qe=e.unstable_now,_w=e.unstable_getCurrentPriorityLevel,Al=e.unstable_ImmediatePriority,Qh=e.unstable_UserBlockingPriority,bo=e.unstable_NormalPriority,bw=e.unstable_LowPriority,Xh=e.unstable_IdlePriority,So=null,dn=null;function Sw(t){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(So,t,void 0,(t.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:Tw,kw=Math.log,jw=Math.LN2;function Tw(t){return t>>>=0,t===0?32:31-(kw(t)/jw|0)|0}var ko=64,jo=4194304;function si(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function To(t,r){var a=t.pendingLanes;if(a===0)return 0;var u=0,p=t.suspendedLanes,y=t.pingedLanes,x=a&268435455;if(x!==0){var j=x&~p;j!==0?u=si(j):(y&=x,y!==0&&(u=si(y)))}else x=a&~p,x!==0?u=si(x):y!==0&&(u=si(y));if(u===0)return 0;if(r!==0&&r!==u&&(r&p)===0&&(p=u&-u,y=r&-r,p>=y||p===16&&(y&4194240)!==0))return r;if((u&4)!==0&&(u|=a&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)a=31-Xt(r),p=1<<a,u|=t[a],r&=~p;return u}function Ew(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cw(t,r){for(var a=t.suspendedLanes,u=t.pingedLanes,p=t.expirationTimes,y=t.pendingLanes;0<y;){var x=31-Xt(y),j=1<<x,C=p[x];C===-1?((j&a)===0||(j&u)!==0)&&(p[x]=Ew(j,r)):C<=r&&(t.expiredLanes|=j),y&=~j}}function Rl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Zh(){var t=ko;return ko<<=1,(ko&4194240)===0&&(ko=64),t}function Il(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function ri(t,r,a){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Xt(r),t[r]=a}function Nw(t,r){var a=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<a;){var p=31-Xt(a),y=1<<p;r[p]=0,u[p]=-1,t[p]=-1,a&=~y}}function Ol(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var u=31-Xt(a),p=1<<u;p&r|t[u]&r&&(t[u]|=r),a&=~p}}var Ce=0;function ef(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var tf,Ll,nf,sf,rf,Ml=!1,Eo=[],Mn=null,Dn=null,$n=null,ii=new Map,oi=new Map,Un=[],Pw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function of(t,r){switch(t){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":ii.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":oi.delete(r.pointerId)}}function ai(t,r,a,u,p,y){return t===null||t.nativeEvent!==y?(t={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},r!==null&&(r=_i(r),r!==null&&Ll(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),t)}function Aw(t,r,a,u,p){switch(r){case"focusin":return Mn=ai(Mn,t,r,a,u,p),!0;case"dragenter":return Dn=ai(Dn,t,r,a,u,p),!0;case"mouseover":return $n=ai($n,t,r,a,u,p),!0;case"pointerover":var y=p.pointerId;return ii.set(y,ai(ii.get(y)||null,t,r,a,u,p)),!0;case"gotpointercapture":return y=p.pointerId,oi.set(y,ai(oi.get(y)||null,t,r,a,u,p)),!0}return!1}function af(t){var r=fs(t.target);if(r!==null){var a=hs(r);if(a!==null){if(r=a.tag,r===13){if(r=Hh(a),r!==null){t.blockedOn=r,rf(t.priority,function(){nf(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Co(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=$l(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var u=new a.constructor(a.type,a);jl=u,a.target.dispatchEvent(u),jl=null}else return r=_i(a),r!==null&&Ll(r),t.blockedOn=a,!1;r.shift()}return!0}function lf(t,r,a){Co(t)&&a.delete(r)}function Rw(){Ml=!1,Mn!==null&&Co(Mn)&&(Mn=null),Dn!==null&&Co(Dn)&&(Dn=null),$n!==null&&Co($n)&&($n=null),ii.forEach(lf),oi.forEach(lf)}function li(t,r){t.blockedOn===r&&(t.blockedOn=null,Ml||(Ml=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Rw)))}function ci(t){function r(p){return li(p,t)}if(0<Eo.length){li(Eo[0],t);for(var a=1;a<Eo.length;a++){var u=Eo[a];u.blockedOn===t&&(u.blockedOn=null)}}for(Mn!==null&&li(Mn,t),Dn!==null&&li(Dn,t),$n!==null&&li($n,t),ii.forEach(r),oi.forEach(r),a=0;a<Un.length;a++)u=Un[a],u.blockedOn===t&&(u.blockedOn=null);for(;0<Un.length&&(a=Un[0],a.blockedOn===null);)af(a),a.blockedOn===null&&Un.shift()}var Gs=N.ReactCurrentBatchConfig,No=!0;function Iw(t,r,a,u){var p=Ce,y=Gs.transition;Gs.transition=null;try{Ce=1,Dl(t,r,a,u)}finally{Ce=p,Gs.transition=y}}function Ow(t,r,a,u){var p=Ce,y=Gs.transition;Gs.transition=null;try{Ce=4,Dl(t,r,a,u)}finally{Ce=p,Gs.transition=y}}function Dl(t,r,a,u){if(No){var p=$l(t,r,a,u);if(p===null)tc(t,r,u,Po,a),of(t,u);else if(Aw(p,t,r,a,u))u.stopPropagation();else if(of(t,u),r&4&&-1<Pw.indexOf(t)){for(;p!==null;){var y=_i(p);if(y!==null&&tf(y),y=$l(t,r,a,u),y===null&&tc(t,r,u,Po,a),y===p)break;p=y}p!==null&&u.stopPropagation()}else tc(t,r,u,null,a)}}var Po=null;function $l(t,r,a,u){if(Po=null,t=Tl(u),t=fs(t),t!==null)if(r=hs(t),r===null)t=null;else if(a=r.tag,a===13){if(t=Hh(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Po=t,null}function cf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_w()){case Al:return 1;case Qh:return 4;case bo:case bw:return 16;case Xh:return 536870912;default:return 16}default:return 16}}var Vn=null,Ul=null,Ao=null;function uf(){if(Ao)return Ao;var t,r=Ul,a=r.length,u,p="value"in Vn?Vn.value:Vn.textContent,y=p.length;for(t=0;t<a&&r[t]===p[t];t++);var x=a-t;for(u=1;u<=x&&r[a-u]===p[y-u];u++);return Ao=p.slice(t,1<u?1-u:void 0)}function Ro(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Io(){return!0}function df(){return!1}function It(t){function r(a,u,p,y,x){this._reactName=a,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var j in t)t.hasOwnProperty(j)&&(a=t[j],this[j]=a?a(y):y[j]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Io:df,this.isPropagationStopped=df,this}return M(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Io)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Io)},persist:function(){},isPersistent:Io}),r}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vl=It(Ys),ui=M({},Ys,{view:0,detail:0}),Lw=It(ui),zl,Fl,di,Oo=M({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==di&&(di&&t.type==="mousemove"?(zl=t.screenX-di.screenX,Fl=t.screenY-di.screenY):Fl=zl=0,di=t),zl)},movementY:function(t){return"movementY"in t?t.movementY:Fl}}),hf=It(Oo),Mw=M({},Oo,{dataTransfer:0}),Dw=It(Mw),$w=M({},ui,{relatedTarget:0}),Bl=It($w),Uw=M({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),Vw=It(Uw),zw=M({},Ys,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fw=It(zw),Bw=M({},Ys,{data:0}),ff=It(Bw),Ww={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qw(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Kw[t])?!!r[t]:!1}function Wl(){return qw}var Gw=M({},ui,{key:function(t){if(t.key){var r=Ww[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ro(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wl,charCode:function(t){return t.type==="keypress"?Ro(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ro(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yw=It(Gw),Jw=M({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pf=It(Jw),Qw=M({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wl}),Xw=It(Qw),Zw=M({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),ex=It(Zw),tx=M({},Oo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nx=It(tx),sx=[9,13,27,32],Hl=h&&"CompositionEvent"in window,hi=null;h&&"documentMode"in document&&(hi=document.documentMode);var rx=h&&"TextEvent"in window&&!hi,mf=h&&(!Hl||hi&&8<hi&&11>=hi),gf=" ",yf=!1;function vf(t,r){switch(t){case"keyup":return sx.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Js=!1;function ix(t,r){switch(t){case"compositionend":return wf(r);case"keypress":return r.which!==32?null:(yf=!0,gf);case"textInput":return t=r.data,t===gf&&yf?null:t;default:return null}}function ox(t,r){if(Js)return t==="compositionend"||!Hl&&vf(t,r)?(t=uf(),Ao=Ul=Vn=null,Js=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return mf&&r.locale!=="ko"?null:r.data;default:return null}}var ax={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!ax[t.type]:r==="textarea"}function _f(t,r,a,u){Vh(u),r=Uo(r,"onChange"),0<r.length&&(a=new Vl("onChange","change",null,a,u),t.push({event:a,listeners:r}))}var fi=null,pi=null;function lx(t){Uf(t,0)}function Lo(t){var r=tr(t);if(Qt(r))return t}function cx(t,r){if(t==="change")return r}var bf=!1;if(h){var Kl;if(h){var ql="oninput"in document;if(!ql){var Sf=document.createElement("div");Sf.setAttribute("oninput","return;"),ql=typeof Sf.oninput=="function"}Kl=ql}else Kl=!1;bf=Kl&&(!document.documentMode||9<document.documentMode)}function kf(){fi&&(fi.detachEvent("onpropertychange",jf),pi=fi=null)}function jf(t){if(t.propertyName==="value"&&Lo(pi)){var r=[];_f(r,pi,t,Tl(t)),Wh(lx,r)}}function ux(t,r,a){t==="focusin"?(kf(),fi=r,pi=a,fi.attachEvent("onpropertychange",jf)):t==="focusout"&&kf()}function dx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lo(pi)}function hx(t,r){if(t==="click")return Lo(r)}function fx(t,r){if(t==="input"||t==="change")return Lo(r)}function px(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Zt=typeof Object.is=="function"?Object.is:px;function mi(t,r){if(Zt(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var p=a[u];if(!f.call(r,p)||!Zt(t[p],r[p]))return!1}return!0}function Tf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ef(t,r){var a=Tf(t);t=0;for(var u;a;){if(a.nodeType===3){if(u=t+a.textContent.length,t<=r&&u>=r)return{node:a,offset:r-t};t=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tf(a)}}function Cf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Cf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Nf(){for(var t=window,r=vo();r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=vo(t.document)}return r}function Gl(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function mx(t){var r=Nf(),a=t.focusedElem,u=t.selectionRange;if(r!==a&&a&&a.ownerDocument&&Cf(a.ownerDocument.documentElement,a)){if(u!==null&&Gl(a)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(t,a.value.length);else if(t=(r=a.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var p=a.textContent.length,y=Math.min(u.start,p);u=u.end===void 0?y:Math.min(u.end,p),!t.extend&&y>u&&(p=u,u=y,y=p),p=Ef(a,y);var x=Ef(a,u);p&&x&&(t.rangeCount!==1||t.anchorNode!==p.node||t.anchorOffset!==p.offset||t.focusNode!==x.node||t.focusOffset!==x.offset)&&(r=r.createRange(),r.setStart(p.node,p.offset),t.removeAllRanges(),y>u?(t.addRange(r),t.extend(x.node,x.offset)):(r.setEnd(x.node,x.offset),t.addRange(r)))}}for(r=[],t=a;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)t=r[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gx=h&&"documentMode"in document&&11>=document.documentMode,Qs=null,Yl=null,gi=null,Jl=!1;function Pf(t,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jl||Qs==null||Qs!==vo(u)||(u=Qs,"selectionStart"in u&&Gl(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),gi&&mi(gi,u)||(gi=u,u=Uo(Yl,"onSelect"),0<u.length&&(r=new Vl("onSelect","select",null,r,a),t.push({event:r,listeners:u}),r.target=Qs)))}function Mo(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Xs={animationend:Mo("Animation","AnimationEnd"),animationiteration:Mo("Animation","AnimationIteration"),animationstart:Mo("Animation","AnimationStart"),transitionend:Mo("Transition","TransitionEnd")},Ql={},Af={};h&&(Af=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function Do(t){if(Ql[t])return Ql[t];if(!Xs[t])return t;var r=Xs[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Af)return Ql[t]=r[a];return t}var Rf=Do("animationend"),If=Do("animationiteration"),Of=Do("animationstart"),Lf=Do("transitionend"),Mf=new Map,Df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(t,r){Mf.set(t,r),l(r,[t])}for(var Xl=0;Xl<Df.length;Xl++){var Zl=Df[Xl],yx=Zl.toLowerCase(),vx=Zl[0].toUpperCase()+Zl.slice(1);zn(yx,"on"+vx)}zn(Rf,"onAnimationEnd"),zn(If,"onAnimationIteration"),zn(Of,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(Lf,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wx=new Set("cancel close invalid load scroll toggle".split(" ").concat(yi));function $f(t,r,a){var u=t.type||"unknown-event";t.currentTarget=a,yw(u,r,void 0,t),t.currentTarget=null}function Uf(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var u=t[a],p=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var x=u.length-1;0<=x;x--){var j=u[x],C=j.instance,z=j.currentTarget;if(j=j.listener,C!==y&&p.isPropagationStopped())break e;$f(p,j,z),y=C}else for(x=0;x<u.length;x++){if(j=u[x],C=j.instance,z=j.currentTarget,j=j.listener,C!==y&&p.isPropagationStopped())break e;$f(p,j,z),y=C}}}if(_o)throw t=Pl,_o=!1,Pl=null,t}function Le(t,r){var a=r[ac];a===void 0&&(a=r[ac]=new Set);var u=t+"__bubble";a.has(u)||(Vf(r,t,2,!1),a.add(u))}function ec(t,r,a){var u=0;r&&(u|=4),Vf(a,t,u,r)}var $o="_reactListening"+Math.random().toString(36).slice(2);function vi(t){if(!t[$o]){t[$o]=!0,i.forEach(function(a){a!=="selectionchange"&&(wx.has(a)||ec(a,!1,t),ec(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[$o]||(r[$o]=!0,ec("selectionchange",!1,r))}}function Vf(t,r,a,u){switch(cf(r)){case 1:var p=Iw;break;case 4:p=Ow;break;default:p=Dl}a=p.bind(null,r,a,t),p=void 0,!Nl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),u?p!==void 0?t.addEventListener(r,a,{capture:!0,passive:p}):t.addEventListener(r,a,!0):p!==void 0?t.addEventListener(r,a,{passive:p}):t.addEventListener(r,a,!1)}function tc(t,r,a,u,p){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var j=u.stateNode.containerInfo;if(j===p||j.nodeType===8&&j.parentNode===p)break;if(x===4)for(x=u.return;x!==null;){var C=x.tag;if((C===3||C===4)&&(C=x.stateNode.containerInfo,C===p||C.nodeType===8&&C.parentNode===p))return;x=x.return}for(;j!==null;){if(x=fs(j),x===null)return;if(C=x.tag,C===5||C===6){u=y=x;continue e}j=j.parentNode}}u=u.return}Wh(function(){var z=y,K=Tl(a),q=[];e:{var H=Mf.get(t);if(H!==void 0){var Z=Vl,te=t;switch(t){case"keypress":if(Ro(a)===0)break e;case"keydown":case"keyup":Z=Yw;break;case"focusin":te="focus",Z=Bl;break;case"focusout":te="blur",Z=Bl;break;case"beforeblur":case"afterblur":Z=Bl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=hf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Dw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Xw;break;case Rf:case If:case Of:Z=Vw;break;case Lf:Z=ex;break;case"scroll":Z=Lw;break;case"wheel":Z=nx;break;case"copy":case"cut":case"paste":Z=Fw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=pf}var re=(r&4)!==0,Ge=!re&&t==="scroll",O=re?H!==null?H+"Capture":null:H;re=[];for(var I=z,$;I!==null;){$=I;var J=$.stateNode;if($.tag===5&&J!==null&&($=J,O!==null&&(J=ei(I,O),J!=null&&re.push(wi(I,J,$)))),Ge)break;I=I.return}0<re.length&&(H=new Z(H,te,null,a,K),q.push({event:H,listeners:re}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",H&&a!==jl&&(te=a.relatedTarget||a.fromElement)&&(fs(te)||te[bn]))break e;if((Z||H)&&(H=K.window===K?K:(H=K.ownerDocument)?H.defaultView||H.parentWindow:window,Z?(te=a.relatedTarget||a.toElement,Z=z,te=te?fs(te):null,te!==null&&(Ge=hs(te),te!==Ge||te.tag!==5&&te.tag!==6)&&(te=null)):(Z=null,te=z),Z!==te)){if(re=hf,J="onMouseLeave",O="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(re=pf,J="onPointerLeave",O="onPointerEnter",I="pointer"),Ge=Z==null?H:tr(Z),$=te==null?H:tr(te),H=new re(J,I+"leave",Z,a,K),H.target=Ge,H.relatedTarget=$,J=null,fs(K)===z&&(re=new re(O,I+"enter",te,a,K),re.target=$,re.relatedTarget=Ge,J=re),Ge=J,Z&&te)t:{for(re=Z,O=te,I=0,$=re;$;$=Zs($))I++;for($=0,J=O;J;J=Zs(J))$++;for(;0<I-$;)re=Zs(re),I--;for(;0<$-I;)O=Zs(O),$--;for(;I--;){if(re===O||O!==null&&re===O.alternate)break t;re=Zs(re),O=Zs(O)}re=null}else re=null;Z!==null&&zf(q,H,Z,re,!1),te!==null&&Ge!==null&&zf(q,Ge,te,re,!0)}}e:{if(H=z?tr(z):window,Z=H.nodeName&&H.nodeName.toLowerCase(),Z==="select"||Z==="input"&&H.type==="file")var oe=cx;else if(xf(H))if(bf)oe=fx;else{oe=dx;var ue=ux}else(Z=H.nodeName)&&Z.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(oe=hx);if(oe&&(oe=oe(t,z))){_f(q,oe,a,K);break e}ue&&ue(t,H,z),t==="focusout"&&(ue=H._wrapperState)&&ue.controlled&&H.type==="number"&&xl(H,"number",H.value)}switch(ue=z?tr(z):window,t){case"focusin":(xf(ue)||ue.contentEditable==="true")&&(Qs=ue,Yl=z,gi=null);break;case"focusout":gi=Yl=Qs=null;break;case"mousedown":Jl=!0;break;case"contextmenu":case"mouseup":case"dragend":Jl=!1,Pf(q,a,K);break;case"selectionchange":if(gx)break;case"keydown":case"keyup":Pf(q,a,K)}var de;if(Hl)e:{switch(t){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Js?vf(t,a)&&(me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(me="onCompositionStart");me&&(mf&&a.locale!=="ko"&&(Js||me!=="onCompositionStart"?me==="onCompositionEnd"&&Js&&(de=uf()):(Vn=K,Ul="value"in Vn?Vn.value:Vn.textContent,Js=!0)),ue=Uo(z,me),0<ue.length&&(me=new ff(me,t,null,a,K),q.push({event:me,listeners:ue}),de?me.data=de:(de=wf(a),de!==null&&(me.data=de)))),(de=rx?ix(t,a):ox(t,a))&&(z=Uo(z,"onBeforeInput"),0<z.length&&(K=new ff("onBeforeInput","beforeinput",null,a,K),q.push({event:K,listeners:z}),K.data=de))}Uf(q,r)})}function wi(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Uo(t,r){for(var a=r+"Capture",u=[];t!==null;){var p=t,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=ei(t,a),y!=null&&u.unshift(wi(t,y,p)),y=ei(t,r),y!=null&&u.push(wi(t,y,p))),t=t.return}return u}function Zs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zf(t,r,a,u,p){for(var y=r._reactName,x=[];a!==null&&a!==u;){var j=a,C=j.alternate,z=j.stateNode;if(C!==null&&C===u)break;j.tag===5&&z!==null&&(j=z,p?(C=ei(a,y),C!=null&&x.unshift(wi(a,C,j))):p||(C=ei(a,y),C!=null&&x.push(wi(a,C,j)))),a=a.return}x.length!==0&&t.push({event:r,listeners:x})}var xx=/\r\n?/g,_x=/\u0000|\uFFFD/g;function Ff(t){return(typeof t=="string"?t:""+t).replace(xx,`
`).replace(_x,"")}function Vo(t,r,a){if(r=Ff(r),Ff(t)!==r&&a)throw Error(s(425))}function zo(){}var nc=null,sc=null;function rc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ic=typeof setTimeout=="function"?setTimeout:void 0,bx=typeof clearTimeout=="function"?clearTimeout:void 0,Bf=typeof Promise=="function"?Promise:void 0,Sx=typeof queueMicrotask=="function"?queueMicrotask:typeof Bf<"u"?function(t){return Bf.resolve(null).then(t).catch(kx)}:ic;function kx(t){setTimeout(function(){throw t})}function oc(t,r){var a=r,u=0;do{var p=a.nextSibling;if(t.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(u===0){t.removeChild(p),ci(r);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=p}while(a);ci(r)}function Fn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Wf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}var er=Math.random().toString(36).slice(2),hn="__reactFiber$"+er,xi="__reactProps$"+er,bn="__reactContainer$"+er,ac="__reactEvents$"+er,jx="__reactListeners$"+er,Tx="__reactHandles$"+er;function fs(t){var r=t[hn];if(r)return r;for(var a=t.parentNode;a;){if(r=a[bn]||a[hn]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Wf(t);t!==null;){if(a=t[hn])return a;t=Wf(t)}return r}t=a,a=t.parentNode}return null}function _i(t){return t=t[hn]||t[bn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function tr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(s(33))}function Fo(t){return t[xi]||null}var lc=[],nr=-1;function Bn(t){return{current:t}}function Me(t){0>nr||(t.current=lc[nr],lc[nr]=null,nr--)}function Ae(t,r){nr++,lc[nr]=t.current,t.current=r}var Wn={},gt=Bn(Wn),jt=Bn(!1),ps=Wn;function sr(t,r){var a=t.type.contextTypes;if(!a)return Wn;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in a)p[y]=r[y];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=p),p}function Tt(t){return t=t.childContextTypes,t!=null}function Bo(){Me(jt),Me(gt)}function Hf(t,r,a){if(gt.current!==Wn)throw Error(s(168));Ae(gt,r),Ae(jt,a)}function Kf(t,r,a){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return a;u=u.getChildContext();for(var p in u)if(!(p in r))throw Error(s(108,ie(t)||"Unknown",p));return M({},a,u)}function Wo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wn,ps=gt.current,Ae(gt,t),Ae(jt,jt.current),!0}function qf(t,r,a){var u=t.stateNode;if(!u)throw Error(s(169));a?(t=Kf(t,r,ps),u.__reactInternalMemoizedMergedChildContext=t,Me(jt),Me(gt),Ae(gt,t)):Me(jt),Ae(jt,a)}var Sn=null,Ho=!1,cc=!1;function Gf(t){Sn===null?Sn=[t]:Sn.push(t)}function Ex(t){Ho=!0,Gf(t)}function Hn(){if(!cc&&Sn!==null){cc=!0;var t=0,r=Ce;try{var a=Sn;for(Ce=1;t<a.length;t++){var u=a[t];do u=u(!0);while(u!==null)}Sn=null,Ho=!1}catch(p){throw Sn!==null&&(Sn=Sn.slice(t+1)),Yh(Al,Hn),p}finally{Ce=r,cc=!1}}return null}var rr=[],ir=0,Ko=null,qo=0,$t=[],Ut=0,ms=null,kn=1,jn="";function gs(t,r){rr[ir++]=qo,rr[ir++]=Ko,Ko=t,qo=r}function Yf(t,r,a){$t[Ut++]=kn,$t[Ut++]=jn,$t[Ut++]=ms,ms=t;var u=kn;t=jn;var p=32-Xt(u)-1;u&=~(1<<p),a+=1;var y=32-Xt(r)+p;if(30<y){var x=p-p%5;y=(u&(1<<x)-1).toString(32),u>>=x,p-=x,kn=1<<32-Xt(r)+p|a<<p|u,jn=y+t}else kn=1<<y|a<<p|u,jn=t}function uc(t){t.return!==null&&(gs(t,1),Yf(t,1,0))}function dc(t){for(;t===Ko;)Ko=rr[--ir],rr[ir]=null,qo=rr[--ir],rr[ir]=null;for(;t===ms;)ms=$t[--Ut],$t[Ut]=null,jn=$t[--Ut],$t[Ut]=null,kn=$t[--Ut],$t[Ut]=null}var Ot=null,Lt=null,Ve=!1,en=null;function Jf(t,r){var a=Bt(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=t,r=t.deletions,r===null?(t.deletions=[a],t.flags|=16):r.push(a)}function Qf(t,r){switch(t.tag){case 5:var a=t.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Ot=t,Lt=Fn(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Ot=t,Lt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=ms!==null?{id:kn,overflow:jn}:null,t.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=Bt(18,null,null,0),a.stateNode=r,a.return=t,t.child=a,Ot=t,Lt=null,!0):!1;default:return!1}}function hc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fc(t){if(Ve){var r=Lt;if(r){var a=r;if(!Qf(t,r)){if(hc(t))throw Error(s(418));r=Fn(a.nextSibling);var u=Ot;r&&Qf(t,r)?Jf(u,a):(t.flags=t.flags&-4097|2,Ve=!1,Ot=t)}}else{if(hc(t))throw Error(s(418));t.flags=t.flags&-4097|2,Ve=!1,Ot=t}}}function Xf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ot=t}function Go(t){if(t!==Ot)return!1;if(!Ve)return Xf(t),Ve=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!rc(t.type,t.memoizedProps)),r&&(r=Lt)){if(hc(t))throw Zf(),Error(s(418));for(;r;)Jf(t,r),r=Fn(r.nextSibling)}if(Xf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(r===0){Lt=Fn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}t=t.nextSibling}Lt=null}}else Lt=Ot?Fn(t.stateNode.nextSibling):null;return!0}function Zf(){for(var t=Lt;t;)t=Fn(t.nextSibling)}function or(){Lt=Ot=null,Ve=!1}function pc(t){en===null?en=[t]:en.push(t)}var Cx=N.ReactCurrentBatchConfig;function bi(t,r,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(s(309));var u=a.stateNode}if(!u)throw Error(s(147,t));var p=u,y=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===y?r.ref:(r=function(x){var j=p.refs;x===null?delete j[y]:j[y]=x},r._stringRef=y,r)}if(typeof t!="string")throw Error(s(284));if(!a._owner)throw Error(s(290,t))}return t}function Yo(t,r){throw t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function ep(t){var r=t._init;return r(t._payload)}function tp(t){function r(O,I){if(t){var $=O.deletions;$===null?(O.deletions=[I],O.flags|=16):$.push(I)}}function a(O,I){if(!t)return null;for(;I!==null;)r(O,I),I=I.sibling;return null}function u(O,I){for(O=new Map;I!==null;)I.key!==null?O.set(I.key,I):O.set(I.index,I),I=I.sibling;return O}function p(O,I){return O=Zn(O,I),O.index=0,O.sibling=null,O}function y(O,I,$){return O.index=$,t?($=O.alternate,$!==null?($=$.index,$<I?(O.flags|=2,I):$):(O.flags|=2,I)):(O.flags|=1048576,I)}function x(O){return t&&O.alternate===null&&(O.flags|=2),O}function j(O,I,$,J){return I===null||I.tag!==6?(I=iu($,O.mode,J),I.return=O,I):(I=p(I,$),I.return=O,I)}function C(O,I,$,J){var oe=$.type;return oe===B?K(O,I,$.props.children,J,$.key):I!==null&&(I.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Q&&ep(oe)===I.type)?(J=p(I,$.props),J.ref=bi(O,I,$),J.return=O,J):(J=wa($.type,$.key,$.props,null,O.mode,J),J.ref=bi(O,I,$),J.return=O,J)}function z(O,I,$,J){return I===null||I.tag!==4||I.stateNode.containerInfo!==$.containerInfo||I.stateNode.implementation!==$.implementation?(I=ou($,O.mode,J),I.return=O,I):(I=p(I,$.children||[]),I.return=O,I)}function K(O,I,$,J,oe){return I===null||I.tag!==7?(I=ks($,O.mode,J,oe),I.return=O,I):(I=p(I,$),I.return=O,I)}function q(O,I,$){if(typeof I=="string"&&I!==""||typeof I=="number")return I=iu(""+I,O.mode,$),I.return=O,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case L:return $=wa(I.type,I.key,I.props,null,O.mode,$),$.ref=bi(O,null,I),$.return=O,$;case U:return I=ou(I,O.mode,$),I.return=O,I;case Q:var J=I._init;return q(O,J(I._payload),$)}if(Qr(I)||Y(I))return I=ks(I,O.mode,$,null),I.return=O,I;Yo(O,I)}return null}function H(O,I,$,J){var oe=I!==null?I.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return oe!==null?null:j(O,I,""+$,J);if(typeof $=="object"&&$!==null){switch($.$$typeof){case L:return $.key===oe?C(O,I,$,J):null;case U:return $.key===oe?z(O,I,$,J):null;case Q:return oe=$._init,H(O,I,oe($._payload),J)}if(Qr($)||Y($))return oe!==null?null:K(O,I,$,J,null);Yo(O,$)}return null}function Z(O,I,$,J,oe){if(typeof J=="string"&&J!==""||typeof J=="number")return O=O.get($)||null,j(I,O,""+J,oe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case L:return O=O.get(J.key===null?$:J.key)||null,C(I,O,J,oe);case U:return O=O.get(J.key===null?$:J.key)||null,z(I,O,J,oe);case Q:var ue=J._init;return Z(O,I,$,ue(J._payload),oe)}if(Qr(J)||Y(J))return O=O.get($)||null,K(I,O,J,oe,null);Yo(I,J)}return null}function te(O,I,$,J){for(var oe=null,ue=null,de=I,me=I=0,ut=null;de!==null&&me<$.length;me++){de.index>me?(ut=de,de=null):ut=de.sibling;var je=H(O,de,$[me],J);if(je===null){de===null&&(de=ut);break}t&&de&&je.alternate===null&&r(O,de),I=y(je,I,me),ue===null?oe=je:ue.sibling=je,ue=je,de=ut}if(me===$.length)return a(O,de),Ve&&gs(O,me),oe;if(de===null){for(;me<$.length;me++)de=q(O,$[me],J),de!==null&&(I=y(de,I,me),ue===null?oe=de:ue.sibling=de,ue=de);return Ve&&gs(O,me),oe}for(de=u(O,de);me<$.length;me++)ut=Z(de,O,me,$[me],J),ut!==null&&(t&&ut.alternate!==null&&de.delete(ut.key===null?me:ut.key),I=y(ut,I,me),ue===null?oe=ut:ue.sibling=ut,ue=ut);return t&&de.forEach(function(es){return r(O,es)}),Ve&&gs(O,me),oe}function re(O,I,$,J){var oe=Y($);if(typeof oe!="function")throw Error(s(150));if($=oe.call($),$==null)throw Error(s(151));for(var ue=oe=null,de=I,me=I=0,ut=null,je=$.next();de!==null&&!je.done;me++,je=$.next()){de.index>me?(ut=de,de=null):ut=de.sibling;var es=H(O,de,je.value,J);if(es===null){de===null&&(de=ut);break}t&&de&&es.alternate===null&&r(O,de),I=y(es,I,me),ue===null?oe=es:ue.sibling=es,ue=es,de=ut}if(je.done)return a(O,de),Ve&&gs(O,me),oe;if(de===null){for(;!je.done;me++,je=$.next())je=q(O,je.value,J),je!==null&&(I=y(je,I,me),ue===null?oe=je:ue.sibling=je,ue=je);return Ve&&gs(O,me),oe}for(de=u(O,de);!je.done;me++,je=$.next())je=Z(de,O,me,je.value,J),je!==null&&(t&&je.alternate!==null&&de.delete(je.key===null?me:je.key),I=y(je,I,me),ue===null?oe=je:ue.sibling=je,ue=je);return t&&de.forEach(function(a1){return r(O,a1)}),Ve&&gs(O,me),oe}function Ge(O,I,$,J){if(typeof $=="object"&&$!==null&&$.type===B&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case L:e:{for(var oe=$.key,ue=I;ue!==null;){if(ue.key===oe){if(oe=$.type,oe===B){if(ue.tag===7){a(O,ue.sibling),I=p(ue,$.props.children),I.return=O,O=I;break e}}else if(ue.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Q&&ep(oe)===ue.type){a(O,ue.sibling),I=p(ue,$.props),I.ref=bi(O,ue,$),I.return=O,O=I;break e}a(O,ue);break}else r(O,ue);ue=ue.sibling}$.type===B?(I=ks($.props.children,O.mode,J,$.key),I.return=O,O=I):(J=wa($.type,$.key,$.props,null,O.mode,J),J.ref=bi(O,I,$),J.return=O,O=J)}return x(O);case U:e:{for(ue=$.key;I!==null;){if(I.key===ue)if(I.tag===4&&I.stateNode.containerInfo===$.containerInfo&&I.stateNode.implementation===$.implementation){a(O,I.sibling),I=p(I,$.children||[]),I.return=O,O=I;break e}else{a(O,I);break}else r(O,I);I=I.sibling}I=ou($,O.mode,J),I.return=O,O=I}return x(O);case Q:return ue=$._init,Ge(O,I,ue($._payload),J)}if(Qr($))return te(O,I,$,J);if(Y($))return re(O,I,$,J);Yo(O,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,I!==null&&I.tag===6?(a(O,I.sibling),I=p(I,$),I.return=O,O=I):(a(O,I),I=iu($,O.mode,J),I.return=O,O=I),x(O)):a(O,I)}return Ge}var ar=tp(!0),np=tp(!1),Jo=Bn(null),Qo=null,lr=null,mc=null;function gc(){mc=lr=Qo=null}function yc(t){var r=Jo.current;Me(Jo),t._currentValue=r}function vc(t,r,a){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===a)break;t=t.return}}function cr(t,r){Qo=t,mc=lr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Et=!0),t.firstContext=null)}function Vt(t){var r=t._currentValue;if(mc!==t)if(t={context:t,memoizedValue:r,next:null},lr===null){if(Qo===null)throw Error(s(308));lr=t,Qo.dependencies={lanes:0,firstContext:t}}else lr=lr.next=t;return r}var ys=null;function wc(t){ys===null?ys=[t]:ys.push(t)}function sp(t,r,a,u){var p=r.interleaved;return p===null?(a.next=a,wc(r)):(a.next=p.next,p.next=a),r.interleaved=a,Tn(t,u)}function Tn(t,r){t.lanes|=r;var a=t.alternate;for(a!==null&&(a.lanes|=r),a=t,t=t.return;t!==null;)t.childLanes|=r,a=t.alternate,a!==null&&(a.childLanes|=r),a=t,t=t.return;return a.tag===3?a.stateNode:null}var Kn=!1;function xc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rp(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function En(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function qn(t,r,a){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(ke&2)!==0){var p=u.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),u.pending=r,Tn(t,a)}return p=u.interleaved,p===null?(r.next=r,wc(u)):(r.next=p.next,p.next=r),u.interleaved=r,Tn(t,a)}function Xo(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,a|=u,r.lanes=a,Ol(t,a)}}function ip(t,r){var a=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var p=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var x={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?p=y=x:y=y.next=x,a=a.next}while(a!==null);y===null?p=y=r:y=y.next=r}else p=y=r;a={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,effects:u.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}function Zo(t,r,a,u){var p=t.updateQueue;Kn=!1;var y=p.firstBaseUpdate,x=p.lastBaseUpdate,j=p.shared.pending;if(j!==null){p.shared.pending=null;var C=j,z=C.next;C.next=null,x===null?y=z:x.next=z,x=C;var K=t.alternate;K!==null&&(K=K.updateQueue,j=K.lastBaseUpdate,j!==x&&(j===null?K.firstBaseUpdate=z:j.next=z,K.lastBaseUpdate=C))}if(y!==null){var q=p.baseState;x=0,K=z=C=null,j=y;do{var H=j.lane,Z=j.eventTime;if((u&H)===H){K!==null&&(K=K.next={eventTime:Z,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var te=t,re=j;switch(H=r,Z=a,re.tag){case 1:if(te=re.payload,typeof te=="function"){q=te.call(Z,q,H);break e}q=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=re.payload,H=typeof te=="function"?te.call(Z,q,H):te,H==null)break e;q=M({},q,H);break e;case 2:Kn=!0}}j.callback!==null&&j.lane!==0&&(t.flags|=64,H=p.effects,H===null?p.effects=[j]:H.push(j))}else Z={eventTime:Z,lane:H,tag:j.tag,payload:j.payload,callback:j.callback,next:null},K===null?(z=K=Z,C=q):K=K.next=Z,x|=H;if(j=j.next,j===null){if(j=p.shared.pending,j===null)break;H=j,j=H.next,H.next=null,p.lastBaseUpdate=H,p.shared.pending=null}}while(!0);if(K===null&&(C=q),p.baseState=C,p.firstBaseUpdate=z,p.lastBaseUpdate=K,r=p.shared.interleaved,r!==null){p=r;do x|=p.lane,p=p.next;while(p!==r)}else y===null&&(p.shared.lanes=0);xs|=x,t.lanes=x,t.memoizedState=q}}function op(t,r,a){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],p=u.callback;if(p!==null){if(u.callback=null,u=a,typeof p!="function")throw Error(s(191,p));p.call(u)}}}var Si={},fn=Bn(Si),ki=Bn(Si),ji=Bn(Si);function vs(t){if(t===Si)throw Error(s(174));return t}function _c(t,r){switch(Ae(ji,r),Ae(ki,t),Ae(fn,Si),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:bl(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=bl(r,t)}Me(fn),Ae(fn,r)}function ur(){Me(fn),Me(ki),Me(ji)}function ap(t){vs(ji.current);var r=vs(fn.current),a=bl(r,t.type);r!==a&&(Ae(ki,t),Ae(fn,a))}function bc(t){ki.current===t&&(Me(fn),Me(ki))}var Fe=Bn(0);function ea(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Sc=[];function kc(){for(var t=0;t<Sc.length;t++)Sc[t]._workInProgressVersionPrimary=null;Sc.length=0}var ta=N.ReactCurrentDispatcher,jc=N.ReactCurrentBatchConfig,ws=0,Be=null,tt=null,lt=null,na=!1,Ti=!1,Ei=0,Nx=0;function yt(){throw Error(s(321))}function Tc(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Zt(t[a],r[a]))return!1;return!0}function Ec(t,r,a,u,p,y){if(ws=y,Be=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ta.current=t===null||t.memoizedState===null?Ix:Ox,t=a(u,p),Ti){y=0;do{if(Ti=!1,Ei=0,25<=y)throw Error(s(301));y+=1,lt=tt=null,r.updateQueue=null,ta.current=Lx,t=a(u,p)}while(Ti)}if(ta.current=ia,r=tt!==null&&tt.next!==null,ws=0,lt=tt=Be=null,na=!1,r)throw Error(s(300));return t}function Cc(){var t=Ei!==0;return Ei=0,t}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Be.memoizedState=lt=t:lt=lt.next=t,lt}function zt(){if(tt===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var r=lt===null?Be.memoizedState:lt.next;if(r!==null)lt=r,tt=t;else{if(t===null)throw Error(s(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},lt===null?Be.memoizedState=lt=t:lt=lt.next=t}return lt}function Ci(t,r){return typeof r=="function"?r(t):r}function Nc(t){var r=zt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var u=tt,p=u.baseQueue,y=a.pending;if(y!==null){if(p!==null){var x=p.next;p.next=y.next,y.next=x}u.baseQueue=p=y,a.pending=null}if(p!==null){y=p.next,u=u.baseState;var j=x=null,C=null,z=y;do{var K=z.lane;if((ws&K)===K)C!==null&&(C=C.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),u=z.hasEagerState?z.eagerState:t(u,z.action);else{var q={lane:K,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};C===null?(j=C=q,x=u):C=C.next=q,Be.lanes|=K,xs|=K}z=z.next}while(z!==null&&z!==y);C===null?x=u:C.next=j,Zt(u,r.memoizedState)||(Et=!0),r.memoizedState=u,r.baseState=x,r.baseQueue=C,a.lastRenderedState=u}if(t=a.interleaved,t!==null){p=t;do y=p.lane,Be.lanes|=y,xs|=y,p=p.next;while(p!==t)}else p===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function Pc(t){var r=zt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var u=a.dispatch,p=a.pending,y=r.memoizedState;if(p!==null){a.pending=null;var x=p=p.next;do y=t(y,x.action),x=x.next;while(x!==p);Zt(y,r.memoizedState)||(Et=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),a.lastRenderedState=y}return[y,u]}function lp(){}function cp(t,r){var a=Be,u=zt(),p=r(),y=!Zt(u.memoizedState,p);if(y&&(u.memoizedState=p,Et=!0),u=u.queue,Ac(hp.bind(null,a,u,t),[t]),u.getSnapshot!==r||y||lt!==null&&lt.memoizedState.tag&1){if(a.flags|=2048,Ni(9,dp.bind(null,a,u,p,r),void 0,null),ct===null)throw Error(s(349));(ws&30)!==0||up(a,r,p)}return p}function up(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Be.updateQueue,r===null?(r={lastEffect:null,stores:null},Be.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function dp(t,r,a,u){r.value=a,r.getSnapshot=u,fp(r)&&pp(t)}function hp(t,r,a){return a(function(){fp(r)&&pp(t)})}function fp(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Zt(t,a)}catch{return!0}}function pp(t){var r=Tn(t,1);r!==null&&rn(r,t,1,-1)}function mp(t){var r=pn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:t},r.queue=t,t=t.dispatch=Rx.bind(null,Be,t),[r.memoizedState,t]}function Ni(t,r,a,u){return t={tag:t,create:r,destroy:a,deps:u,next:null},r=Be.updateQueue,r===null?(r={lastEffect:null,stores:null},Be.updateQueue=r,r.lastEffect=t.next=t):(a=r.lastEffect,a===null?r.lastEffect=t.next=t:(u=a.next,a.next=t,t.next=u,r.lastEffect=t)),t}function gp(){return zt().memoizedState}function sa(t,r,a,u){var p=pn();Be.flags|=t,p.memoizedState=Ni(1|r,a,void 0,u===void 0?null:u)}function ra(t,r,a,u){var p=zt();u=u===void 0?null:u;var y=void 0;if(tt!==null){var x=tt.memoizedState;if(y=x.destroy,u!==null&&Tc(u,x.deps)){p.memoizedState=Ni(r,a,y,u);return}}Be.flags|=t,p.memoizedState=Ni(1|r,a,y,u)}function yp(t,r){return sa(8390656,8,t,r)}function Ac(t,r){return ra(2048,8,t,r)}function vp(t,r){return ra(4,2,t,r)}function wp(t,r){return ra(4,4,t,r)}function xp(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function _p(t,r,a){return a=a!=null?a.concat([t]):null,ra(4,4,xp.bind(null,r,t),a)}function Rc(){}function bp(t,r){var a=zt();r=r===void 0?null:r;var u=a.memoizedState;return u!==null&&r!==null&&Tc(r,u[1])?u[0]:(a.memoizedState=[t,r],t)}function Sp(t,r){var a=zt();r=r===void 0?null:r;var u=a.memoizedState;return u!==null&&r!==null&&Tc(r,u[1])?u[0]:(t=t(),a.memoizedState=[t,r],t)}function kp(t,r,a){return(ws&21)===0?(t.baseState&&(t.baseState=!1,Et=!0),t.memoizedState=a):(Zt(a,r)||(a=Zh(),Be.lanes|=a,xs|=a,t.baseState=!0),r)}function Px(t,r){var a=Ce;Ce=a!==0&&4>a?a:4,t(!0);var u=jc.transition;jc.transition={};try{t(!1),r()}finally{Ce=a,jc.transition=u}}function jp(){return zt().memoizedState}function Ax(t,r,a){var u=Qn(t);if(a={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null},Tp(t))Ep(r,a);else if(a=sp(t,r,a,u),a!==null){var p=bt();rn(a,t,u,p),Cp(a,r,u)}}function Rx(t,r,a){var u=Qn(t),p={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tp(t))Ep(r,p);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var x=r.lastRenderedState,j=y(x,a);if(p.hasEagerState=!0,p.eagerState=j,Zt(j,x)){var C=r.interleaved;C===null?(p.next=p,wc(r)):(p.next=C.next,C.next=p),r.interleaved=p;return}}catch{}finally{}a=sp(t,r,p,u),a!==null&&(p=bt(),rn(a,t,u,p),Cp(a,r,u))}}function Tp(t){var r=t.alternate;return t===Be||r!==null&&r===Be}function Ep(t,r){Ti=na=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Cp(t,r,a){if((a&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,a|=u,r.lanes=a,Ol(t,a)}}var ia={readContext:Vt,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},Ix={readContext:Vt,useCallback:function(t,r){return pn().memoizedState=[t,r===void 0?null:r],t},useContext:Vt,useEffect:yp,useImperativeHandle:function(t,r,a){return a=a!=null?a.concat([t]):null,sa(4194308,4,xp.bind(null,r,t),a)},useLayoutEffect:function(t,r){return sa(4194308,4,t,r)},useInsertionEffect:function(t,r){return sa(4,2,t,r)},useMemo:function(t,r){var a=pn();return r=r===void 0?null:r,t=t(),a.memoizedState=[t,r],t},useReducer:function(t,r,a){var u=pn();return r=a!==void 0?a(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=Ax.bind(null,Be,t),[u.memoizedState,t]},useRef:function(t){var r=pn();return t={current:t},r.memoizedState=t},useState:mp,useDebugValue:Rc,useDeferredValue:function(t){return pn().memoizedState=t},useTransition:function(){var t=mp(!1),r=t[0];return t=Px.bind(null,t[1]),pn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,a){var u=Be,p=pn();if(Ve){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ct===null)throw Error(s(349));(ws&30)!==0||up(u,r,a)}p.memoizedState=a;var y={value:a,getSnapshot:r};return p.queue=y,yp(hp.bind(null,u,y,t),[t]),u.flags|=2048,Ni(9,dp.bind(null,u,y,a,r),void 0,null),a},useId:function(){var t=pn(),r=ct.identifierPrefix;if(Ve){var a=jn,u=kn;a=(u&~(1<<32-Xt(u)-1)).toString(32)+a,r=":"+r+"R"+a,a=Ei++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=Nx++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Ox={readContext:Vt,useCallback:bp,useContext:Vt,useEffect:Ac,useImperativeHandle:_p,useInsertionEffect:vp,useLayoutEffect:wp,useMemo:Sp,useReducer:Nc,useRef:gp,useState:function(){return Nc(Ci)},useDebugValue:Rc,useDeferredValue:function(t){var r=zt();return kp(r,tt.memoizedState,t)},useTransition:function(){var t=Nc(Ci)[0],r=zt().memoizedState;return[t,r]},useMutableSource:lp,useSyncExternalStore:cp,useId:jp,unstable_isNewReconciler:!1},Lx={readContext:Vt,useCallback:bp,useContext:Vt,useEffect:Ac,useImperativeHandle:_p,useInsertionEffect:vp,useLayoutEffect:wp,useMemo:Sp,useReducer:Pc,useRef:gp,useState:function(){return Pc(Ci)},useDebugValue:Rc,useDeferredValue:function(t){var r=zt();return tt===null?r.memoizedState=t:kp(r,tt.memoizedState,t)},useTransition:function(){var t=Pc(Ci)[0],r=zt().memoizedState;return[t,r]},useMutableSource:lp,useSyncExternalStore:cp,useId:jp,unstable_isNewReconciler:!1};function tn(t,r){if(t&&t.defaultProps){r=M({},r),t=t.defaultProps;for(var a in t)r[a]===void 0&&(r[a]=t[a]);return r}return r}function Ic(t,r,a,u){r=t.memoizedState,a=a(u,r),a=a==null?r:M({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var oa={isMounted:function(t){return(t=t._reactInternals)?hs(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var u=bt(),p=Qn(t),y=En(u,p);y.payload=r,a!=null&&(y.callback=a),r=qn(t,y,p),r!==null&&(rn(r,t,p,u),Xo(r,t,p))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var u=bt(),p=Qn(t),y=En(u,p);y.tag=1,y.payload=r,a!=null&&(y.callback=a),r=qn(t,y,p),r!==null&&(rn(r,t,p,u),Xo(r,t,p))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=bt(),u=Qn(t),p=En(a,u);p.tag=2,r!=null&&(p.callback=r),r=qn(t,p,u),r!==null&&(rn(r,t,u,a),Xo(r,t,u))}};function Np(t,r,a,u,p,y,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,y,x):r.prototype&&r.prototype.isPureReactComponent?!mi(a,u)||!mi(p,y):!0}function Pp(t,r,a){var u=!1,p=Wn,y=r.contextType;return typeof y=="object"&&y!==null?y=Vt(y):(p=Tt(r)?ps:gt.current,u=r.contextTypes,y=(u=u!=null)?sr(t,p):Wn),r=new r(a,y),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=oa,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=p,t.__reactInternalMemoizedMaskedChildContext=y),r}function Ap(t,r,a,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==t&&oa.enqueueReplaceState(r,r.state,null)}function Oc(t,r,a,u){var p=t.stateNode;p.props=a,p.state=t.memoizedState,p.refs={},xc(t);var y=r.contextType;typeof y=="object"&&y!==null?p.context=Vt(y):(y=Tt(r)?ps:gt.current,p.context=sr(t,y)),p.state=t.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Ic(t,r,y,a),p.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(r=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),r!==p.state&&oa.enqueueReplaceState(p,p.state,null),Zo(t,a,p,u),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308)}function dr(t,r){try{var a="",u=r;do a+=ye(u),u=u.return;while(u);var p=a}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:t,source:r,stack:p,digest:null}}function Lc(t,r,a){return{value:t,source:null,stack:a??null,digest:r??null}}function Mc(t,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var Mx=typeof WeakMap=="function"?WeakMap:Map;function Rp(t,r,a){a=En(-1,a),a.tag=3,a.payload={element:null};var u=r.value;return a.callback=function(){fa||(fa=!0,Qc=u),Mc(t,r)},a}function Ip(t,r,a){a=En(-1,a),a.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var p=r.value;a.payload=function(){return u(p)},a.callback=function(){Mc(t,r)}}var y=t.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){Mc(t,r),typeof u!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var x=r.stack;this.componentDidCatch(r.value,{componentStack:x!==null?x:""})}),a}function Op(t,r,a){var u=t.pingCache;if(u===null){u=t.pingCache=new Mx;var p=new Set;u.set(r,p)}else p=u.get(r),p===void 0&&(p=new Set,u.set(r,p));p.has(a)||(p.add(a),t=Jx.bind(null,t,r,a),r.then(t,t))}function Lp(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Mp(t,r,a,u,p){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=En(-1,1),r.tag=2,qn(a,r,1))),a.lanes|=1),t):(t.flags|=65536,t.lanes=p,t)}var Dx=N.ReactCurrentOwner,Et=!1;function _t(t,r,a,u){r.child=t===null?np(r,null,a,u):ar(r,t.child,a,u)}function Dp(t,r,a,u,p){a=a.render;var y=r.ref;return cr(r,p),u=Ec(t,r,a,u,y,p),a=Cc(),t!==null&&!Et?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~p,Cn(t,r,p)):(Ve&&a&&uc(r),r.flags|=1,_t(t,r,u,p),r.child)}function $p(t,r,a,u,p){if(t===null){var y=a.type;return typeof y=="function"&&!ru(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=y,Up(t,r,y,u,p)):(t=wa(a.type,null,u,r,r.mode,p),t.ref=r.ref,t.return=r,r.child=t)}if(y=t.child,(t.lanes&p)===0){var x=y.memoizedProps;if(a=a.compare,a=a!==null?a:mi,a(x,u)&&t.ref===r.ref)return Cn(t,r,p)}return r.flags|=1,t=Zn(y,u),t.ref=r.ref,t.return=r,r.child=t}function Up(t,r,a,u,p){if(t!==null){var y=t.memoizedProps;if(mi(y,u)&&t.ref===r.ref)if(Et=!1,r.pendingProps=u=y,(t.lanes&p)!==0)(t.flags&131072)!==0&&(Et=!0);else return r.lanes=t.lanes,Cn(t,r,p)}return Dc(t,r,a,u,p)}function Vp(t,r,a){var u=r.pendingProps,p=u.children,y=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(fr,Mt),Mt|=a;else{if((a&1073741824)===0)return t=y!==null?y.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Ae(fr,Mt),Mt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=y!==null?y.baseLanes:a,Ae(fr,Mt),Mt|=u}else y!==null?(u=y.baseLanes|a,r.memoizedState=null):u=a,Ae(fr,Mt),Mt|=u;return _t(t,r,p,a),r.child}function zp(t,r){var a=r.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function Dc(t,r,a,u,p){var y=Tt(a)?ps:gt.current;return y=sr(r,y),cr(r,p),a=Ec(t,r,a,u,y,p),u=Cc(),t!==null&&!Et?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~p,Cn(t,r,p)):(Ve&&u&&uc(r),r.flags|=1,_t(t,r,a,p),r.child)}function Fp(t,r,a,u,p){if(Tt(a)){var y=!0;Wo(r)}else y=!1;if(cr(r,p),r.stateNode===null)la(t,r),Pp(r,a,u),Oc(r,a,u,p),u=!0;else if(t===null){var x=r.stateNode,j=r.memoizedProps;x.props=j;var C=x.context,z=a.contextType;typeof z=="object"&&z!==null?z=Vt(z):(z=Tt(a)?ps:gt.current,z=sr(r,z));var K=a.getDerivedStateFromProps,q=typeof K=="function"||typeof x.getSnapshotBeforeUpdate=="function";q||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(j!==u||C!==z)&&Ap(r,x,u,z),Kn=!1;var H=r.memoizedState;x.state=H,Zo(r,u,x,p),C=r.memoizedState,j!==u||H!==C||jt.current||Kn?(typeof K=="function"&&(Ic(r,a,K,u),C=r.memoizedState),(j=Kn||Np(r,a,j,u,H,C,z))?(q||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=C),x.props=u,x.state=C,x.context=z,u=j):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{x=r.stateNode,rp(t,r),j=r.memoizedProps,z=r.type===r.elementType?j:tn(r.type,j),x.props=z,q=r.pendingProps,H=x.context,C=a.contextType,typeof C=="object"&&C!==null?C=Vt(C):(C=Tt(a)?ps:gt.current,C=sr(r,C));var Z=a.getDerivedStateFromProps;(K=typeof Z=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(j!==q||H!==C)&&Ap(r,x,u,C),Kn=!1,H=r.memoizedState,x.state=H,Zo(r,u,x,p);var te=r.memoizedState;j!==q||H!==te||jt.current||Kn?(typeof Z=="function"&&(Ic(r,a,Z,u),te=r.memoizedState),(z=Kn||Np(r,a,z,u,H,te,C)||!1)?(K||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,te,C),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,te,C)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||j===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=te),x.props=u,x.state=te,x.context=C,u=z):(typeof x.componentDidUpdate!="function"||j===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),u=!1)}return $c(t,r,a,u,y,p)}function $c(t,r,a,u,p,y){zp(t,r);var x=(r.flags&128)!==0;if(!u&&!x)return p&&qf(r,a,!1),Cn(t,r,y);u=r.stateNode,Dx.current=r;var j=x&&typeof a.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&x?(r.child=ar(r,t.child,null,y),r.child=ar(r,null,j,y)):_t(t,r,j,y),r.memoizedState=u.state,p&&qf(r,a,!0),r.child}function Bp(t){var r=t.stateNode;r.pendingContext?Hf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Hf(t,r.context,!1),_c(t,r.containerInfo)}function Wp(t,r,a,u,p){return or(),pc(p),r.flags|=256,_t(t,r,a,u),r.child}var Uc={dehydrated:null,treeContext:null,retryLane:0};function Vc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Hp(t,r,a){var u=r.pendingProps,p=Fe.current,y=!1,x=(r.flags&128)!==0,j;if((j=x)||(j=t!==null&&t.memoizedState===null?!1:(p&2)!==0),j?(y=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(p|=1),Ae(Fe,p&1),t===null)return fc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(x=u.children,t=u.fallback,y?(u=r.mode,y=r.child,x={mode:"hidden",children:x},(u&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=x):y=xa(x,u,0,null),t=ks(t,u,a,null),y.return=r,t.return=r,y.sibling=t,r.child=y,r.child.memoizedState=Vc(a),r.memoizedState=Uc,t):zc(r,x));if(p=t.memoizedState,p!==null&&(j=p.dehydrated,j!==null))return $x(t,r,x,u,j,p,a);if(y){y=u.fallback,x=r.mode,p=t.child,j=p.sibling;var C={mode:"hidden",children:u.children};return(x&1)===0&&r.child!==p?(u=r.child,u.childLanes=0,u.pendingProps=C,r.deletions=null):(u=Zn(p,C),u.subtreeFlags=p.subtreeFlags&14680064),j!==null?y=Zn(j,y):(y=ks(y,x,a,null),y.flags|=2),y.return=r,u.return=r,u.sibling=y,r.child=u,u=y,y=r.child,x=t.child.memoizedState,x=x===null?Vc(a):{baseLanes:x.baseLanes|a,cachePool:null,transitions:x.transitions},y.memoizedState=x,y.childLanes=t.childLanes&~a,r.memoizedState=Uc,u}return y=t.child,t=y.sibling,u=Zn(y,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=a),u.return=r,u.sibling=null,t!==null&&(a=r.deletions,a===null?(r.deletions=[t],r.flags|=16):a.push(t)),r.child=u,r.memoizedState=null,u}function zc(t,r){return r=xa({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function aa(t,r,a,u){return u!==null&&pc(u),ar(r,t.child,null,a),t=zc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function $x(t,r,a,u,p,y,x){if(a)return r.flags&256?(r.flags&=-257,u=Lc(Error(s(422))),aa(t,r,x,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(y=u.fallback,p=r.mode,u=xa({mode:"visible",children:u.children},p,0,null),y=ks(y,p,x,null),y.flags|=2,u.return=r,y.return=r,u.sibling=y,r.child=u,(r.mode&1)!==0&&ar(r,t.child,null,x),r.child.memoizedState=Vc(x),r.memoizedState=Uc,y);if((r.mode&1)===0)return aa(t,r,x,null);if(p.data==="$!"){if(u=p.nextSibling&&p.nextSibling.dataset,u)var j=u.dgst;return u=j,y=Error(s(419)),u=Lc(y,u,void 0),aa(t,r,x,u)}if(j=(x&t.childLanes)!==0,Et||j){if(u=ct,u!==null){switch(x&-x){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(u.suspendedLanes|x))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Tn(t,p),rn(u,t,p,-1))}return su(),u=Lc(Error(s(421))),aa(t,r,x,u)}return p.data==="$?"?(r.flags|=128,r.child=t.child,r=Qx.bind(null,t),p._reactRetry=r,null):(t=y.treeContext,Lt=Fn(p.nextSibling),Ot=r,Ve=!0,en=null,t!==null&&($t[Ut++]=kn,$t[Ut++]=jn,$t[Ut++]=ms,kn=t.id,jn=t.overflow,ms=r),r=zc(r,u.children),r.flags|=4096,r)}function Kp(t,r,a){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),vc(t.return,r,a)}function Fc(t,r,a,u,p){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:p}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=a,y.tailMode=p)}function qp(t,r,a){var u=r.pendingProps,p=u.revealOrder,y=u.tail;if(_t(t,r,u.children,a),u=Fe.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kp(t,a,r);else if(t.tag===19)Kp(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(Ae(Fe,u),(r.mode&1)===0)r.memoizedState=null;else switch(p){case"forwards":for(a=r.child,p=null;a!==null;)t=a.alternate,t!==null&&ea(t)===null&&(p=a),a=a.sibling;a=p,a===null?(p=r.child,r.child=null):(p=a.sibling,a.sibling=null),Fc(r,!1,p,a,y);break;case"backwards":for(a=null,p=r.child,r.child=null;p!==null;){if(t=p.alternate,t!==null&&ea(t)===null){r.child=p;break}t=p.sibling,p.sibling=a,a=p,p=t}Fc(r,!0,a,null,y);break;case"together":Fc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function la(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function Cn(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),xs|=r.lanes,(a&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Zn(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Zn(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Ux(t,r,a){switch(r.tag){case 3:Bp(r),or();break;case 5:ap(r);break;case 1:Tt(r.type)&&Wo(r);break;case 4:_c(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,p=r.memoizedProps.value;Ae(Jo,u._currentValue),u._currentValue=p;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(Ae(Fe,Fe.current&1),r.flags|=128,null):(a&r.child.childLanes)!==0?Hp(t,r,a):(Ae(Fe,Fe.current&1),t=Cn(t,r,a),t!==null?t.sibling:null);Ae(Fe,Fe.current&1);break;case 19:if(u=(a&r.childLanes)!==0,(t.flags&128)!==0){if(u)return qp(t,r,a);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ae(Fe,Fe.current),u)break;return null;case 22:case 23:return r.lanes=0,Vp(t,r,a)}return Cn(t,r,a)}var Gp,Bc,Yp,Jp;Gp=function(t,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Bc=function(){},Yp=function(t,r,a,u){var p=t.memoizedProps;if(p!==u){t=r.stateNode,vs(fn.current);var y=null;switch(a){case"input":p=vl(t,p),u=vl(t,u),y=[];break;case"select":p=M({},p,{value:void 0}),u=M({},u,{value:void 0}),y=[];break;case"textarea":p=_l(t,p),u=_l(t,u),y=[];break;default:typeof p.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=zo)}Sl(a,u);var x;a=null;for(z in p)if(!u.hasOwnProperty(z)&&p.hasOwnProperty(z)&&p[z]!=null)if(z==="style"){var j=p[z];for(x in j)j.hasOwnProperty(x)&&(a||(a={}),a[x]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?y||(y=[]):(y=y||[]).push(z,null));for(z in u){var C=u[z];if(j=p!=null?p[z]:void 0,u.hasOwnProperty(z)&&C!==j&&(C!=null||j!=null))if(z==="style")if(j){for(x in j)!j.hasOwnProperty(x)||C&&C.hasOwnProperty(x)||(a||(a={}),a[x]="");for(x in C)C.hasOwnProperty(x)&&j[x]!==C[x]&&(a||(a={}),a[x]=C[x])}else a||(y||(y=[]),y.push(z,a)),a=C;else z==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,j=j?j.__html:void 0,C!=null&&j!==C&&(y=y||[]).push(z,C)):z==="children"?typeof C!="string"&&typeof C!="number"||(y=y||[]).push(z,""+C):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(C!=null&&z==="onScroll"&&Le("scroll",t),y||j===C||(y=[])):(y=y||[]).push(z,C))}a&&(y=y||[]).push("style",a);var z=y;(r.updateQueue=z)&&(r.flags|=4)}},Jp=function(t,r,a,u){a!==u&&(r.flags|=4)};function Pi(t,r){if(!Ve)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function vt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,u=0;if(r)for(var p=t.child;p!==null;)a|=p.lanes|p.childLanes,u|=p.subtreeFlags&14680064,u|=p.flags&14680064,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)a|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=u,t.childLanes=a,r}function Vx(t,r,a){var u=r.pendingProps;switch(dc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(r),null;case 1:return Tt(r.type)&&Bo(),vt(r),null;case 3:return u=r.stateNode,ur(),Me(jt),Me(gt),kc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Go(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,en!==null&&(eu(en),en=null))),Bc(t,r),vt(r),null;case 5:bc(r);var p=vs(ji.current);if(a=r.type,t!==null&&r.stateNode!=null)Yp(t,r,a,u,p),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(s(166));return vt(r),null}if(t=vs(fn.current),Go(r)){u=r.stateNode,a=r.type;var y=r.memoizedProps;switch(u[hn]=r,u[xi]=y,t=(r.mode&1)!==0,a){case"dialog":Le("cancel",u),Le("close",u);break;case"iframe":case"object":case"embed":Le("load",u);break;case"video":case"audio":for(p=0;p<yi.length;p++)Le(yi[p],u);break;case"source":Le("error",u);break;case"img":case"image":case"link":Le("error",u),Le("load",u);break;case"details":Le("toggle",u);break;case"input":Nh(u,y),Le("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!y.multiple},Le("invalid",u);break;case"textarea":Rh(u,y),Le("invalid",u)}Sl(a,y),p=null;for(var x in y)if(y.hasOwnProperty(x)){var j=y[x];x==="children"?typeof j=="string"?u.textContent!==j&&(y.suppressHydrationWarning!==!0&&Vo(u.textContent,j,t),p=["children",j]):typeof j=="number"&&u.textContent!==""+j&&(y.suppressHydrationWarning!==!0&&Vo(u.textContent,j,t),p=["children",""+j]):o.hasOwnProperty(x)&&j!=null&&x==="onScroll"&&Le("scroll",u)}switch(a){case"input":at(u),Ah(u,y,!0);break;case"textarea":at(u),Oh(u);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(u.onclick=zo)}u=p,r.updateQueue=u,u!==null&&(r.flags|=4)}else{x=p.nodeType===9?p:p.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Lh(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=x.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=x.createElement(a,{is:u.is}):(t=x.createElement(a),a==="select"&&(x=t,u.multiple?x.multiple=!0:u.size&&(x.size=u.size))):t=x.createElementNS(t,a),t[hn]=r,t[xi]=u,Gp(t,r,!1,!1),r.stateNode=t;e:{switch(x=kl(a,u),a){case"dialog":Le("cancel",t),Le("close",t),p=u;break;case"iframe":case"object":case"embed":Le("load",t),p=u;break;case"video":case"audio":for(p=0;p<yi.length;p++)Le(yi[p],t);p=u;break;case"source":Le("error",t),p=u;break;case"img":case"image":case"link":Le("error",t),Le("load",t),p=u;break;case"details":Le("toggle",t),p=u;break;case"input":Nh(t,u),p=vl(t,u),Le("invalid",t);break;case"option":p=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},p=M({},u,{value:void 0}),Le("invalid",t);break;case"textarea":Rh(t,u),p=_l(t,u),Le("invalid",t);break;default:p=u}Sl(a,p),j=p;for(y in j)if(j.hasOwnProperty(y)){var C=j[y];y==="style"?$h(t,C):y==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Mh(t,C)):y==="children"?typeof C=="string"?(a!=="textarea"||C!=="")&&Xr(t,C):typeof C=="number"&&Xr(t,""+C):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?C!=null&&y==="onScroll"&&Le("scroll",t):C!=null&&E(t,y,C,x))}switch(a){case"input":at(t),Ah(t,u,!1);break;case"textarea":at(t),Oh(t);break;case"option":u.value!=null&&t.setAttribute("value",""+ve(u.value));break;case"select":t.multiple=!!u.multiple,y=u.value,y!=null?Hs(t,!!u.multiple,y,!1):u.defaultValue!=null&&Hs(t,!!u.multiple,u.defaultValue,!0);break;default:typeof p.onClick=="function"&&(t.onclick=zo)}switch(a){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return vt(r),null;case 6:if(t&&r.stateNode!=null)Jp(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(a=vs(ji.current),vs(fn.current),Go(r)){if(u=r.stateNode,a=r.memoizedProps,u[hn]=r,(y=u.nodeValue!==a)&&(t=Ot,t!==null))switch(t.tag){case 3:Vo(u.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vo(u.nodeValue,a,(t.mode&1)!==0)}y&&(r.flags|=4)}else u=(a.nodeType===9?a:a.ownerDocument).createTextNode(u),u[hn]=r,r.stateNode=u}return vt(r),null;case 13:if(Me(Fe),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ve&&Lt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Zf(),or(),r.flags|=98560,y=!1;else if(y=Go(r),u!==null&&u.dehydrated!==null){if(t===null){if(!y)throw Error(s(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[hn]=r}else or(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;vt(r),y=!1}else en!==null&&(eu(en),en=null),y=!0;if(!y)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=a,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Fe.current&1)!==0?nt===0&&(nt=3):su())),r.updateQueue!==null&&(r.flags|=4),vt(r),null);case 4:return ur(),Bc(t,r),t===null&&vi(r.stateNode.containerInfo),vt(r),null;case 10:return yc(r.type._context),vt(r),null;case 17:return Tt(r.type)&&Bo(),vt(r),null;case 19:if(Me(Fe),y=r.memoizedState,y===null)return vt(r),null;if(u=(r.flags&128)!==0,x=y.rendering,x===null)if(u)Pi(y,!1);else{if(nt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(x=ea(t),x!==null){for(r.flags|=128,Pi(y,!1),u=x.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=a,a=r.child;a!==null;)y=a,t=u,y.flags&=14680066,x=y.alternate,x===null?(y.childLanes=0,y.lanes=t,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=x.childLanes,y.lanes=x.lanes,y.child=x.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=x.memoizedProps,y.memoizedState=x.memoizedState,y.updateQueue=x.updateQueue,y.type=x.type,t=x.dependencies,y.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return Ae(Fe,Fe.current&1|2),r.child}t=t.sibling}y.tail!==null&&qe()>pr&&(r.flags|=128,u=!0,Pi(y,!1),r.lanes=4194304)}else{if(!u)if(t=ea(x),t!==null){if(r.flags|=128,u=!0,a=t.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),Pi(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!Ve)return vt(r),null}else 2*qe()-y.renderingStartTime>pr&&a!==1073741824&&(r.flags|=128,u=!0,Pi(y,!1),r.lanes=4194304);y.isBackwards?(x.sibling=r.child,r.child=x):(a=y.last,a!==null?a.sibling=x:r.child=x,y.last=x)}return y.tail!==null?(r=y.tail,y.rendering=r,y.tail=r.sibling,y.renderingStartTime=qe(),r.sibling=null,a=Fe.current,Ae(Fe,u?a&1|2:a&1),r):(vt(r),null);case 22:case 23:return nu(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(Mt&1073741824)!==0&&(vt(r),r.subtreeFlags&6&&(r.flags|=8192)):vt(r),null;case 24:return null;case 25:return null}throw Error(s(156,r.tag))}function zx(t,r){switch(dc(r),r.tag){case 1:return Tt(r.type)&&Bo(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ur(),Me(jt),Me(gt),kc(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return bc(r),null;case 13:if(Me(Fe),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));or()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Me(Fe),null;case 4:return ur(),null;case 10:return yc(r.type._context),null;case 22:case 23:return nu(),null;case 24:return null;default:return null}}var ca=!1,wt=!1,Fx=typeof WeakSet=="function"?WeakSet:Set,ee=null;function hr(t,r){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(u){He(t,r,u)}else a.current=null}function Wc(t,r,a){try{a()}catch(u){He(t,r,u)}}var Qp=!1;function Bx(t,r){if(nc=No,t=Nf(),Gl(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var x=0,j=-1,C=-1,z=0,K=0,q=t,H=null;t:for(;;){for(var Z;q!==a||p!==0&&q.nodeType!==3||(j=x+p),q!==y||u!==0&&q.nodeType!==3||(C=x+u),q.nodeType===3&&(x+=q.nodeValue.length),(Z=q.firstChild)!==null;)H=q,q=Z;for(;;){if(q===t)break t;if(H===a&&++z===p&&(j=x),H===y&&++K===u&&(C=x),(Z=q.nextSibling)!==null)break;q=H,H=q.parentNode}q=Z}a=j===-1||C===-1?null:{start:j,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(sc={focusedElem:t,selectionRange:a},No=!1,ee=r;ee!==null;)if(r=ee,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ee=t;else for(;ee!==null;){r=ee;try{var te=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(te!==null){var re=te.memoizedProps,Ge=te.memoizedState,O=r.stateNode,I=O.getSnapshotBeforeUpdate(r.elementType===r.type?re:tn(r.type,re),Ge);O.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var $=r.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(J){He(r,r.return,J)}if(t=r.sibling,t!==null){t.return=r.return,ee=t;break}ee=r.return}return te=Qp,Qp=!1,te}function Ai(t,r,a){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&t)===t){var y=p.destroy;p.destroy=void 0,y!==void 0&&Wc(r,a,y)}p=p.next}while(p!==u)}}function ua(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var u=a.create;a.destroy=u()}a=a.next}while(a!==r)}}function Hc(t){var r=t.ref;if(r!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof r=="function"?r(t):r.current=t}}function Xp(t){var r=t.alternate;r!==null&&(t.alternate=null,Xp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[hn],delete r[xi],delete r[ac],delete r[jx],delete r[Tx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Zp(t){return t.tag===5||t.tag===3||t.tag===4}function em(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kc(t,r,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=zo));else if(u!==4&&(t=t.child,t!==null))for(Kc(t,r,a),t=t.sibling;t!==null;)Kc(t,r,a),t=t.sibling}function qc(t,r,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(qc(t,r,a),t=t.sibling;t!==null;)qc(t,r,a),t=t.sibling}var ht=null,nn=!1;function Gn(t,r,a){for(a=a.child;a!==null;)tm(t,r,a),a=a.sibling}function tm(t,r,a){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(So,a)}catch{}switch(a.tag){case 5:wt||hr(a,r);case 6:var u=ht,p=nn;ht=null,Gn(t,r,a),ht=u,nn=p,ht!==null&&(nn?(t=ht,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):ht.removeChild(a.stateNode));break;case 18:ht!==null&&(nn?(t=ht,a=a.stateNode,t.nodeType===8?oc(t.parentNode,a):t.nodeType===1&&oc(t,a),ci(t)):oc(ht,a.stateNode));break;case 4:u=ht,p=nn,ht=a.stateNode.containerInfo,nn=!0,Gn(t,r,a),ht=u,nn=p;break;case 0:case 11:case 14:case 15:if(!wt&&(u=a.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){p=u=u.next;do{var y=p,x=y.destroy;y=y.tag,x!==void 0&&((y&2)!==0||(y&4)!==0)&&Wc(a,r,x),p=p.next}while(p!==u)}Gn(t,r,a);break;case 1:if(!wt&&(hr(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=a.memoizedProps,u.state=a.memoizedState,u.componentWillUnmount()}catch(j){He(a,r,j)}Gn(t,r,a);break;case 21:Gn(t,r,a);break;case 22:a.mode&1?(wt=(u=wt)||a.memoizedState!==null,Gn(t,r,a),wt=u):Gn(t,r,a);break;default:Gn(t,r,a)}}function nm(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new Fx),r.forEach(function(u){var p=Xx.bind(null,t,u);a.has(u)||(a.add(u),u.then(p,p))})}}function sn(t,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var p=a[u];try{var y=t,x=r,j=x;e:for(;j!==null;){switch(j.tag){case 5:ht=j.stateNode,nn=!1;break e;case 3:ht=j.stateNode.containerInfo,nn=!0;break e;case 4:ht=j.stateNode.containerInfo,nn=!0;break e}j=j.return}if(ht===null)throw Error(s(160));tm(y,x,p),ht=null,nn=!1;var C=p.alternate;C!==null&&(C.return=null),p.return=null}catch(z){He(p,r,z)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)sm(r,t),r=r.sibling}function sm(t,r){var a=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sn(r,t),mn(t),u&4){try{Ai(3,t,t.return),ua(3,t)}catch(re){He(t,t.return,re)}try{Ai(5,t,t.return)}catch(re){He(t,t.return,re)}}break;case 1:sn(r,t),mn(t),u&512&&a!==null&&hr(a,a.return);break;case 5:if(sn(r,t),mn(t),u&512&&a!==null&&hr(a,a.return),t.flags&32){var p=t.stateNode;try{Xr(p,"")}catch(re){He(t,t.return,re)}}if(u&4&&(p=t.stateNode,p!=null)){var y=t.memoizedProps,x=a!==null?a.memoizedProps:y,j=t.type,C=t.updateQueue;if(t.updateQueue=null,C!==null)try{j==="input"&&y.type==="radio"&&y.name!=null&&Ph(p,y),kl(j,x);var z=kl(j,y);for(x=0;x<C.length;x+=2){var K=C[x],q=C[x+1];K==="style"?$h(p,q):K==="dangerouslySetInnerHTML"?Mh(p,q):K==="children"?Xr(p,q):E(p,K,q,z)}switch(j){case"input":wl(p,y);break;case"textarea":Ih(p,y);break;case"select":var H=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var Z=y.value;Z!=null?Hs(p,!!y.multiple,Z,!1):H!==!!y.multiple&&(y.defaultValue!=null?Hs(p,!!y.multiple,y.defaultValue,!0):Hs(p,!!y.multiple,y.multiple?[]:"",!1))}p[xi]=y}catch(re){He(t,t.return,re)}}break;case 6:if(sn(r,t),mn(t),u&4){if(t.stateNode===null)throw Error(s(162));p=t.stateNode,y=t.memoizedProps;try{p.nodeValue=y}catch(re){He(t,t.return,re)}}break;case 3:if(sn(r,t),mn(t),u&4&&a!==null&&a.memoizedState.isDehydrated)try{ci(r.containerInfo)}catch(re){He(t,t.return,re)}break;case 4:sn(r,t),mn(t);break;case 13:sn(r,t),mn(t),p=t.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Jc=qe())),u&4&&nm(t);break;case 22:if(K=a!==null&&a.memoizedState!==null,t.mode&1?(wt=(z=wt)||K,sn(r,t),wt=z):sn(r,t),mn(t),u&8192){if(z=t.memoizedState!==null,(t.stateNode.isHidden=z)&&!K&&(t.mode&1)!==0)for(ee=t,K=t.child;K!==null;){for(q=ee=K;ee!==null;){switch(H=ee,Z=H.child,H.tag){case 0:case 11:case 14:case 15:Ai(4,H,H.return);break;case 1:hr(H,H.return);var te=H.stateNode;if(typeof te.componentWillUnmount=="function"){u=H,a=H.return;try{r=u,te.props=r.memoizedProps,te.state=r.memoizedState,te.componentWillUnmount()}catch(re){He(u,a,re)}}break;case 5:hr(H,H.return);break;case 22:if(H.memoizedState!==null){om(q);continue}}Z!==null?(Z.return=H,ee=Z):om(q)}K=K.sibling}e:for(K=null,q=t;;){if(q.tag===5){if(K===null){K=q;try{p=q.stateNode,z?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(j=q.stateNode,C=q.memoizedProps.style,x=C!=null&&C.hasOwnProperty("display")?C.display:null,j.style.display=Dh("display",x))}catch(re){He(t,t.return,re)}}}else if(q.tag===6){if(K===null)try{q.stateNode.nodeValue=z?"":q.memoizedProps}catch(re){He(t,t.return,re)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===t)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===t)break e;for(;q.sibling===null;){if(q.return===null||q.return===t)break e;K===q&&(K=null),q=q.return}K===q&&(K=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:sn(r,t),mn(t),u&4&&nm(t);break;case 21:break;default:sn(r,t),mn(t)}}function mn(t){var r=t.flags;if(r&2){try{e:{for(var a=t.return;a!==null;){if(Zp(a)){var u=a;break e}a=a.return}throw Error(s(160))}switch(u.tag){case 5:var p=u.stateNode;u.flags&32&&(Xr(p,""),u.flags&=-33);var y=em(t);qc(t,y,p);break;case 3:case 4:var x=u.stateNode.containerInfo,j=em(t);Kc(t,j,x);break;default:throw Error(s(161))}}catch(C){He(t,t.return,C)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Wx(t,r,a){ee=t,rm(t)}function rm(t,r,a){for(var u=(t.mode&1)!==0;ee!==null;){var p=ee,y=p.child;if(p.tag===22&&u){var x=p.memoizedState!==null||ca;if(!x){var j=p.alternate,C=j!==null&&j.memoizedState!==null||wt;j=ca;var z=wt;if(ca=x,(wt=C)&&!z)for(ee=p;ee!==null;)x=ee,C=x.child,x.tag===22&&x.memoizedState!==null?am(p):C!==null?(C.return=x,ee=C):am(p);for(;y!==null;)ee=y,rm(y),y=y.sibling;ee=p,ca=j,wt=z}im(t)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,ee=y):im(t)}}function im(t){for(;ee!==null;){var r=ee;if((r.flags&8772)!==0){var a=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:wt||ua(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!wt)if(a===null)u.componentDidMount();else{var p=r.elementType===r.type?a.memoizedProps:tn(r.type,a.memoizedProps);u.componentDidUpdate(p,a.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var y=r.updateQueue;y!==null&&op(r,y,u);break;case 3:var x=r.updateQueue;if(x!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}op(r,x,a)}break;case 5:var j=r.stateNode;if(a===null&&r.flags&4){a=j;var C=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&a.focus();break;case"img":C.src&&(a.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var z=r.alternate;if(z!==null){var K=z.memoizedState;if(K!==null){var q=K.dehydrated;q!==null&&ci(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}wt||r.flags&512&&Hc(r)}catch(H){He(r,r.return,H)}}if(r===t){ee=null;break}if(a=r.sibling,a!==null){a.return=r.return,ee=a;break}ee=r.return}}function om(t){for(;ee!==null;){var r=ee;if(r===t){ee=null;break}var a=r.sibling;if(a!==null){a.return=r.return,ee=a;break}ee=r.return}}function am(t){for(;ee!==null;){var r=ee;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{ua(4,r)}catch(C){He(r,a,C)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var p=r.return;try{u.componentDidMount()}catch(C){He(r,p,C)}}var y=r.return;try{Hc(r)}catch(C){He(r,y,C)}break;case 5:var x=r.return;try{Hc(r)}catch(C){He(r,x,C)}}}catch(C){He(r,r.return,C)}if(r===t){ee=null;break}var j=r.sibling;if(j!==null){j.return=r.return,ee=j;break}ee=r.return}}var Hx=Math.ceil,da=N.ReactCurrentDispatcher,Gc=N.ReactCurrentOwner,Ft=N.ReactCurrentBatchConfig,ke=0,ct=null,Qe=null,ft=0,Mt=0,fr=Bn(0),nt=0,Ri=null,xs=0,ha=0,Yc=0,Ii=null,Ct=null,Jc=0,pr=1/0,Nn=null,fa=!1,Qc=null,Yn=null,pa=!1,Jn=null,ma=0,Oi=0,Xc=null,ga=-1,ya=0;function bt(){return(ke&6)!==0?qe():ga!==-1?ga:ga=qe()}function Qn(t){return(t.mode&1)===0?1:(ke&2)!==0&&ft!==0?ft&-ft:Cx.transition!==null?(ya===0&&(ya=Zh()),ya):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:cf(t.type)),t)}function rn(t,r,a,u){if(50<Oi)throw Oi=0,Xc=null,Error(s(185));ri(t,a,u),((ke&2)===0||t!==ct)&&(t===ct&&((ke&2)===0&&(ha|=a),nt===4&&Xn(t,ft)),Nt(t,u),a===1&&ke===0&&(r.mode&1)===0&&(pr=qe()+500,Ho&&Hn()))}function Nt(t,r){var a=t.callbackNode;Cw(t,r);var u=To(t,t===ct?ft:0);if(u===0)a!==null&&Jh(a),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(a!=null&&Jh(a),r===1)t.tag===0?Ex(cm.bind(null,t)):Gf(cm.bind(null,t)),Sx(function(){(ke&6)===0&&Hn()}),a=null;else{switch(ef(u)){case 1:a=Al;break;case 4:a=Qh;break;case 16:a=bo;break;case 536870912:a=Xh;break;default:a=bo}a=ym(a,lm.bind(null,t))}t.callbackPriority=r,t.callbackNode=a}}function lm(t,r){if(ga=-1,ya=0,(ke&6)!==0)throw Error(s(327));var a=t.callbackNode;if(mr()&&t.callbackNode!==a)return null;var u=To(t,t===ct?ft:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=va(t,u);else{r=u;var p=ke;ke|=2;var y=dm();(ct!==t||ft!==r)&&(Nn=null,pr=qe()+500,bs(t,r));do try{Gx();break}catch(j){um(t,j)}while(!0);gc(),da.current=y,ke=p,Qe!==null?r=0:(ct=null,ft=0,r=nt)}if(r!==0){if(r===2&&(p=Rl(t),p!==0&&(u=p,r=Zc(t,p))),r===1)throw a=Ri,bs(t,0),Xn(t,u),Nt(t,qe()),a;if(r===6)Xn(t,u);else{if(p=t.current.alternate,(u&30)===0&&!Kx(p)&&(r=va(t,u),r===2&&(y=Rl(t),y!==0&&(u=y,r=Zc(t,y))),r===1))throw a=Ri,bs(t,0),Xn(t,u),Nt(t,qe()),a;switch(t.finishedWork=p,t.finishedLanes=u,r){case 0:case 1:throw Error(s(345));case 2:Ss(t,Ct,Nn);break;case 3:if(Xn(t,u),(u&130023424)===u&&(r=Jc+500-qe(),10<r)){if(To(t,0)!==0)break;if(p=t.suspendedLanes,(p&u)!==u){bt(),t.pingedLanes|=t.suspendedLanes&p;break}t.timeoutHandle=ic(Ss.bind(null,t,Ct,Nn),r);break}Ss(t,Ct,Nn);break;case 4:if(Xn(t,u),(u&4194240)===u)break;for(r=t.eventTimes,p=-1;0<u;){var x=31-Xt(u);y=1<<x,x=r[x],x>p&&(p=x),u&=~y}if(u=p,u=qe()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Hx(u/1960))-u,10<u){t.timeoutHandle=ic(Ss.bind(null,t,Ct,Nn),u);break}Ss(t,Ct,Nn);break;case 5:Ss(t,Ct,Nn);break;default:throw Error(s(329))}}}return Nt(t,qe()),t.callbackNode===a?lm.bind(null,t):null}function Zc(t,r){var a=Ii;return t.current.memoizedState.isDehydrated&&(bs(t,r).flags|=256),t=va(t,r),t!==2&&(r=Ct,Ct=a,r!==null&&eu(r)),t}function eu(t){Ct===null?Ct=t:Ct.push.apply(Ct,t)}function Kx(t){for(var r=t;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var u=0;u<a.length;u++){var p=a[u],y=p.getSnapshot;p=p.value;try{if(!Zt(y(),p))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Xn(t,r){for(r&=~Yc,r&=~ha,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var a=31-Xt(r),u=1<<a;t[a]=-1,r&=~u}}function cm(t){if((ke&6)!==0)throw Error(s(327));mr();var r=To(t,0);if((r&1)===0)return Nt(t,qe()),null;var a=va(t,r);if(t.tag!==0&&a===2){var u=Rl(t);u!==0&&(r=u,a=Zc(t,u))}if(a===1)throw a=Ri,bs(t,0),Xn(t,r),Nt(t,qe()),a;if(a===6)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Ss(t,Ct,Nn),Nt(t,qe()),null}function tu(t,r){var a=ke;ke|=1;try{return t(r)}finally{ke=a,ke===0&&(pr=qe()+500,Ho&&Hn())}}function _s(t){Jn!==null&&Jn.tag===0&&(ke&6)===0&&mr();var r=ke;ke|=1;var a=Ft.transition,u=Ce;try{if(Ft.transition=null,Ce=1,t)return t()}finally{Ce=u,Ft.transition=a,ke=r,(ke&6)===0&&Hn()}}function nu(){Mt=fr.current,Me(fr)}function bs(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,bx(a)),Qe!==null)for(a=Qe.return;a!==null;){var u=a;switch(dc(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Bo();break;case 3:ur(),Me(jt),Me(gt),kc();break;case 5:bc(u);break;case 4:ur();break;case 13:Me(Fe);break;case 19:Me(Fe);break;case 10:yc(u.type._context);break;case 22:case 23:nu()}a=a.return}if(ct=t,Qe=t=Zn(t.current,null),ft=Mt=r,nt=0,Ri=null,Yc=ha=xs=0,Ct=Ii=null,ys!==null){for(r=0;r<ys.length;r++)if(a=ys[r],u=a.interleaved,u!==null){a.interleaved=null;var p=u.next,y=a.pending;if(y!==null){var x=y.next;y.next=p,u.next=x}a.pending=u}ys=null}return t}function um(t,r){do{var a=Qe;try{if(gc(),ta.current=ia,na){for(var u=Be.memoizedState;u!==null;){var p=u.queue;p!==null&&(p.pending=null),u=u.next}na=!1}if(ws=0,lt=tt=Be=null,Ti=!1,Ei=0,Gc.current=null,a===null||a.return===null){nt=1,Ri=r,Qe=null;break}e:{var y=t,x=a.return,j=a,C=r;if(r=ft,j.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var z=C,K=j,q=K.tag;if((K.mode&1)===0&&(q===0||q===11||q===15)){var H=K.alternate;H?(K.updateQueue=H.updateQueue,K.memoizedState=H.memoizedState,K.lanes=H.lanes):(K.updateQueue=null,K.memoizedState=null)}var Z=Lp(x);if(Z!==null){Z.flags&=-257,Mp(Z,x,j,y,r),Z.mode&1&&Op(y,z,r),r=Z,C=z;var te=r.updateQueue;if(te===null){var re=new Set;re.add(C),r.updateQueue=re}else te.add(C);break e}else{if((r&1)===0){Op(y,z,r),su();break e}C=Error(s(426))}}else if(Ve&&j.mode&1){var Ge=Lp(x);if(Ge!==null){(Ge.flags&65536)===0&&(Ge.flags|=256),Mp(Ge,x,j,y,r),pc(dr(C,j));break e}}y=C=dr(C,j),nt!==4&&(nt=2),Ii===null?Ii=[y]:Ii.push(y),y=x;do{switch(y.tag){case 3:y.flags|=65536,r&=-r,y.lanes|=r;var O=Rp(y,C,r);ip(y,O);break e;case 1:j=C;var I=y.type,$=y.stateNode;if((y.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Yn===null||!Yn.has($)))){y.flags|=65536,r&=-r,y.lanes|=r;var J=Ip(y,j,r);ip(y,J);break e}}y=y.return}while(y!==null)}fm(a)}catch(oe){r=oe,Qe===a&&a!==null&&(Qe=a=a.return);continue}break}while(!0)}function dm(){var t=da.current;return da.current=ia,t===null?ia:t}function su(){(nt===0||nt===3||nt===2)&&(nt=4),ct===null||(xs&268435455)===0&&(ha&268435455)===0||Xn(ct,ft)}function va(t,r){var a=ke;ke|=2;var u=dm();(ct!==t||ft!==r)&&(Nn=null,bs(t,r));do try{qx();break}catch(p){um(t,p)}while(!0);if(gc(),ke=a,da.current=u,Qe!==null)throw Error(s(261));return ct=null,ft=0,nt}function qx(){for(;Qe!==null;)hm(Qe)}function Gx(){for(;Qe!==null&&!ww();)hm(Qe)}function hm(t){var r=gm(t.alternate,t,Mt);t.memoizedProps=t.pendingProps,r===null?fm(t):Qe=r,Gc.current=null}function fm(t){var r=t;do{var a=r.alternate;if(t=r.return,(r.flags&32768)===0){if(a=Vx(a,r,Mt),a!==null){Qe=a;return}}else{if(a=zx(a,r),a!==null){a.flags&=32767,Qe=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,Qe=null;return}}if(r=r.sibling,r!==null){Qe=r;return}Qe=r=t}while(r!==null);nt===0&&(nt=5)}function Ss(t,r,a){var u=Ce,p=Ft.transition;try{Ft.transition=null,Ce=1,Yx(t,r,a,u)}finally{Ft.transition=p,Ce=u}return null}function Yx(t,r,a,u){do mr();while(Jn!==null);if((ke&6)!==0)throw Error(s(327));a=t.finishedWork;var p=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var y=a.lanes|a.childLanes;if(Nw(t,y),t===ct&&(Qe=ct=null,ft=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||pa||(pa=!0,ym(bo,function(){return mr(),null})),y=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||y){y=Ft.transition,Ft.transition=null;var x=Ce;Ce=1;var j=ke;ke|=4,Gc.current=null,Bx(t,a),sm(a,t),mx(sc),No=!!nc,sc=nc=null,t.current=a,Wx(a),xw(),ke=j,Ce=x,Ft.transition=y}else t.current=a;if(pa&&(pa=!1,Jn=t,ma=p),y=t.pendingLanes,y===0&&(Yn=null),Sw(a.stateNode),Nt(t,qe()),r!==null)for(u=t.onRecoverableError,a=0;a<r.length;a++)p=r[a],u(p.value,{componentStack:p.stack,digest:p.digest});if(fa)throw fa=!1,t=Qc,Qc=null,t;return(ma&1)!==0&&t.tag!==0&&mr(),y=t.pendingLanes,(y&1)!==0?t===Xc?Oi++:(Oi=0,Xc=t):Oi=0,Hn(),null}function mr(){if(Jn!==null){var t=ef(ma),r=Ft.transition,a=Ce;try{if(Ft.transition=null,Ce=16>t?16:t,Jn===null)var u=!1;else{if(t=Jn,Jn=null,ma=0,(ke&6)!==0)throw Error(s(331));var p=ke;for(ke|=4,ee=t.current;ee!==null;){var y=ee,x=y.child;if((ee.flags&16)!==0){var j=y.deletions;if(j!==null){for(var C=0;C<j.length;C++){var z=j[C];for(ee=z;ee!==null;){var K=ee;switch(K.tag){case 0:case 11:case 15:Ai(8,K,y)}var q=K.child;if(q!==null)q.return=K,ee=q;else for(;ee!==null;){K=ee;var H=K.sibling,Z=K.return;if(Xp(K),K===z){ee=null;break}if(H!==null){H.return=Z,ee=H;break}ee=Z}}}var te=y.alternate;if(te!==null){var re=te.child;if(re!==null){te.child=null;do{var Ge=re.sibling;re.sibling=null,re=Ge}while(re!==null)}}ee=y}}if((y.subtreeFlags&2064)!==0&&x!==null)x.return=y,ee=x;else e:for(;ee!==null;){if(y=ee,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Ai(9,y,y.return)}var O=y.sibling;if(O!==null){O.return=y.return,ee=O;break e}ee=y.return}}var I=t.current;for(ee=I;ee!==null;){x=ee;var $=x.child;if((x.subtreeFlags&2064)!==0&&$!==null)$.return=x,ee=$;else e:for(x=I;ee!==null;){if(j=ee,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:ua(9,j)}}catch(oe){He(j,j.return,oe)}if(j===x){ee=null;break e}var J=j.sibling;if(J!==null){J.return=j.return,ee=J;break e}ee=j.return}}if(ke=p,Hn(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(So,t)}catch{}u=!0}return u}finally{Ce=a,Ft.transition=r}}return!1}function pm(t,r,a){r=dr(a,r),r=Rp(t,r,1),t=qn(t,r,1),r=bt(),t!==null&&(ri(t,1,r),Nt(t,r))}function He(t,r,a){if(t.tag===3)pm(t,t,a);else for(;r!==null;){if(r.tag===3){pm(r,t,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Yn===null||!Yn.has(u))){t=dr(a,t),t=Ip(r,t,1),r=qn(r,t,1),t=bt(),r!==null&&(ri(r,1,t),Nt(r,t));break}}r=r.return}}function Jx(t,r,a){var u=t.pingCache;u!==null&&u.delete(r),r=bt(),t.pingedLanes|=t.suspendedLanes&a,ct===t&&(ft&a)===a&&(nt===4||nt===3&&(ft&130023424)===ft&&500>qe()-Jc?bs(t,0):Yc|=a),Nt(t,r)}function mm(t,r){r===0&&((t.mode&1)===0?r=1:(r=jo,jo<<=1,(jo&130023424)===0&&(jo=4194304)));var a=bt();t=Tn(t,r),t!==null&&(ri(t,r,a),Nt(t,a))}function Qx(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),mm(t,a)}function Xx(t,r){var a=0;switch(t.tag){case 13:var u=t.stateNode,p=t.memoizedState;p!==null&&(a=p.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(s(314))}u!==null&&u.delete(r),mm(t,a)}var gm;gm=function(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps||jt.current)Et=!0;else{if((t.lanes&a)===0&&(r.flags&128)===0)return Et=!1,Ux(t,r,a);Et=(t.flags&131072)!==0}else Et=!1,Ve&&(r.flags&1048576)!==0&&Yf(r,qo,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;la(t,r),t=r.pendingProps;var p=sr(r,gt.current);cr(r,a),p=Ec(null,r,u,t,p,a);var y=Cc();return r.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Tt(u)?(y=!0,Wo(r)):y=!1,r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,xc(r),p.updater=oa,r.stateNode=p,p._reactInternals=r,Oc(r,u,t,a),r=$c(null,r,u,!0,y,a)):(r.tag=0,Ve&&y&&uc(r),_t(null,r,p,a),r=r.child),r;case 16:u=r.elementType;e:{switch(la(t,r),t=r.pendingProps,p=u._init,u=p(u._payload),r.type=u,p=r.tag=e1(u),t=tn(u,t),p){case 0:r=Dc(null,r,u,t,a);break e;case 1:r=Fp(null,r,u,t,a);break e;case 11:r=Dp(null,r,u,t,a);break e;case 14:r=$p(null,r,u,tn(u.type,t),a);break e}throw Error(s(306,u,""))}return r;case 0:return u=r.type,p=r.pendingProps,p=r.elementType===u?p:tn(u,p),Dc(t,r,u,p,a);case 1:return u=r.type,p=r.pendingProps,p=r.elementType===u?p:tn(u,p),Fp(t,r,u,p,a);case 3:e:{if(Bp(r),t===null)throw Error(s(387));u=r.pendingProps,y=r.memoizedState,p=y.element,rp(t,r),Zo(r,u,null,a);var x=r.memoizedState;if(u=x.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){p=dr(Error(s(423)),r),r=Wp(t,r,u,a,p);break e}else if(u!==p){p=dr(Error(s(424)),r),r=Wp(t,r,u,a,p);break e}else for(Lt=Fn(r.stateNode.containerInfo.firstChild),Ot=r,Ve=!0,en=null,a=np(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(or(),u===p){r=Cn(t,r,a);break e}_t(t,r,u,a)}r=r.child}return r;case 5:return ap(r),t===null&&fc(r),u=r.type,p=r.pendingProps,y=t!==null?t.memoizedProps:null,x=p.children,rc(u,p)?x=null:y!==null&&rc(u,y)&&(r.flags|=32),zp(t,r),_t(t,r,x,a),r.child;case 6:return t===null&&fc(r),null;case 13:return Hp(t,r,a);case 4:return _c(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=ar(r,null,u,a):_t(t,r,u,a),r.child;case 11:return u=r.type,p=r.pendingProps,p=r.elementType===u?p:tn(u,p),Dp(t,r,u,p,a);case 7:return _t(t,r,r.pendingProps,a),r.child;case 8:return _t(t,r,r.pendingProps.children,a),r.child;case 12:return _t(t,r,r.pendingProps.children,a),r.child;case 10:e:{if(u=r.type._context,p=r.pendingProps,y=r.memoizedProps,x=p.value,Ae(Jo,u._currentValue),u._currentValue=x,y!==null)if(Zt(y.value,x)){if(y.children===p.children&&!jt.current){r=Cn(t,r,a);break e}}else for(y=r.child,y!==null&&(y.return=r);y!==null;){var j=y.dependencies;if(j!==null){x=y.child;for(var C=j.firstContext;C!==null;){if(C.context===u){if(y.tag===1){C=En(-1,a&-a),C.tag=2;var z=y.updateQueue;if(z!==null){z=z.shared;var K=z.pending;K===null?C.next=C:(C.next=K.next,K.next=C),z.pending=C}}y.lanes|=a,C=y.alternate,C!==null&&(C.lanes|=a),vc(y.return,a,r),j.lanes|=a;break}C=C.next}}else if(y.tag===10)x=y.type===r.type?null:y.child;else if(y.tag===18){if(x=y.return,x===null)throw Error(s(341));x.lanes|=a,j=x.alternate,j!==null&&(j.lanes|=a),vc(x,a,r),x=y.sibling}else x=y.child;if(x!==null)x.return=y;else for(x=y;x!==null;){if(x===r){x=null;break}if(y=x.sibling,y!==null){y.return=x.return,x=y;break}x=x.return}y=x}_t(t,r,p.children,a),r=r.child}return r;case 9:return p=r.type,u=r.pendingProps.children,cr(r,a),p=Vt(p),u=u(p),r.flags|=1,_t(t,r,u,a),r.child;case 14:return u=r.type,p=tn(u,r.pendingProps),p=tn(u.type,p),$p(t,r,u,p,a);case 15:return Up(t,r,r.type,r.pendingProps,a);case 17:return u=r.type,p=r.pendingProps,p=r.elementType===u?p:tn(u,p),la(t,r),r.tag=1,Tt(u)?(t=!0,Wo(r)):t=!1,cr(r,a),Pp(r,u,p),Oc(r,u,p,a),$c(null,r,u,!0,t,a);case 19:return qp(t,r,a);case 22:return Vp(t,r,a)}throw Error(s(156,r.tag))};function ym(t,r){return Yh(t,r)}function Zx(t,r,a,u){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(t,r,a,u){return new Zx(t,r,a,u)}function ru(t){return t=t.prototype,!(!t||!t.isReactComponent)}function e1(t){if(typeof t=="function")return ru(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$e)return 11;if(t===Ne)return 14}return 2}function Zn(t,r){var a=t.alternate;return a===null?(a=Bt(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function wa(t,r,a,u,p,y){var x=2;if(u=t,typeof t=="function")ru(t)&&(x=1);else if(typeof t=="string")x=5;else e:switch(t){case B:return ks(a.children,p,y,r);case V:x=8,p|=8;break;case G:return t=Bt(12,a,r,p|2),t.elementType=G,t.lanes=y,t;case Pe:return t=Bt(13,a,r,p),t.elementType=Pe,t.lanes=y,t;case Oe:return t=Bt(19,a,r,p),t.elementType=Oe,t.lanes=y,t;case W:return xa(a,p,y,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case be:x=10;break e;case Ie:x=9;break e;case $e:x=11;break e;case Ne:x=14;break e;case Q:x=16,u=null;break e}throw Error(s(130,t==null?t:typeof t,""))}return r=Bt(x,a,r,p),r.elementType=t,r.type=u,r.lanes=y,r}function ks(t,r,a,u){return t=Bt(7,t,u,r),t.lanes=a,t}function xa(t,r,a,u){return t=Bt(22,t,u,r),t.elementType=W,t.lanes=a,t.stateNode={isHidden:!1},t}function iu(t,r,a){return t=Bt(6,t,null,r),t.lanes=a,t}function ou(t,r,a){return r=Bt(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function t1(t,r,a,u,p){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Il(0),this.expirationTimes=Il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Il(0),this.identifierPrefix=u,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function au(t,r,a,u,p,y,x,j,C){return t=new t1(t,r,a,j,C),r===1?(r=1,y===!0&&(r|=8)):r=0,y=Bt(3,null,null,r),t.current=y,y.stateNode=t,y.memoizedState={element:u,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},xc(y),t}function n1(t,r,a){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:u==null?null:""+u,children:t,containerInfo:r,implementation:a}}function vm(t){if(!t)return Wn;t=t._reactInternals;e:{if(hs(t)!==t||t.tag!==1)throw Error(s(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Tt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(s(171))}if(t.tag===1){var a=t.type;if(Tt(a))return Kf(t,a,r)}return r}function wm(t,r,a,u,p,y,x,j,C){return t=au(a,u,!0,t,p,y,x,j,C),t.context=vm(null),a=t.current,u=bt(),p=Qn(a),y=En(u,p),y.callback=r??null,qn(a,y,p),t.current.lanes=p,ri(t,p,u),Nt(t,u),t}function _a(t,r,a,u){var p=r.current,y=bt(),x=Qn(p);return a=vm(a),r.context===null?r.context=a:r.pendingContext=a,r=En(y,x),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=qn(p,r,x),t!==null&&(rn(t,p,x,y),Xo(t,p,x)),x}function ba(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xm(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function lu(t,r){xm(t,r),(t=t.alternate)&&xm(t,r)}function s1(){return null}var _m=typeof reportError=="function"?reportError:function(t){console.error(t)};function cu(t){this._internalRoot=t}Sa.prototype.render=cu.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));_a(t,r,null,null)},Sa.prototype.unmount=cu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;_s(function(){_a(null,t,null,null)}),r[bn]=null}};function Sa(t){this._internalRoot=t}Sa.prototype.unstable_scheduleHydration=function(t){if(t){var r=sf();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Un.length&&r!==0&&r<Un[a].priority;a++);Un.splice(a,0,t),a===0&&af(t)}};function uu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ka(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bm(){}function r1(t,r,a,u,p){if(p){if(typeof u=="function"){var y=u;u=function(){var z=ba(x);y.call(z)}}var x=wm(r,u,t,0,null,!1,!1,"",bm);return t._reactRootContainer=x,t[bn]=x.current,vi(t.nodeType===8?t.parentNode:t),_s(),x}for(;p=t.lastChild;)t.removeChild(p);if(typeof u=="function"){var j=u;u=function(){var z=ba(C);j.call(z)}}var C=au(t,0,!1,null,null,!1,!1,"",bm);return t._reactRootContainer=C,t[bn]=C.current,vi(t.nodeType===8?t.parentNode:t),_s(function(){_a(r,C,a,u)}),C}function ja(t,r,a,u,p){var y=a._reactRootContainer;if(y){var x=y;if(typeof p=="function"){var j=p;p=function(){var C=ba(x);j.call(C)}}_a(r,x,t,p)}else x=r1(a,r,t,p,u);return ba(x)}tf=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var a=si(r.pendingLanes);a!==0&&(Ol(r,a|1),Nt(r,qe()),(ke&6)===0&&(pr=qe()+500,Hn()))}break;case 13:_s(function(){var u=Tn(t,1);if(u!==null){var p=bt();rn(u,t,1,p)}}),lu(t,1)}},Ll=function(t){if(t.tag===13){var r=Tn(t,134217728);if(r!==null){var a=bt();rn(r,t,134217728,a)}lu(t,134217728)}},nf=function(t){if(t.tag===13){var r=Qn(t),a=Tn(t,r);if(a!==null){var u=bt();rn(a,t,r,u)}lu(t,r)}},sf=function(){return Ce},rf=function(t,r){var a=Ce;try{return Ce=t,r()}finally{Ce=a}},El=function(t,r,a){switch(r){case"input":if(wl(t,a),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==t&&u.form===t.form){var p=Fo(u);if(!p)throw Error(s(90));Qt(u),wl(u,p)}}}break;case"textarea":Ih(t,a);break;case"select":r=a.value,r!=null&&Hs(t,!!a.multiple,r,!1)}},Fh=tu,Bh=_s;var i1={usingClientEntryPoint:!1,Events:[_i,tr,Fo,Vh,zh,tu]},Li={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o1={bundleType:Li.bundleType,version:Li.version,rendererPackageName:Li.rendererPackageName,rendererConfig:Li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qh(t),t===null?null:t.stateNode},findFiberByHostInstance:Li.findFiberByHostInstance||s1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ta.isDisabled&&Ta.supportsFiber)try{So=Ta.inject(o1),dn=Ta}catch{}}return Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i1,Pt.createPortal=function(t,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uu(r))throw Error(s(200));return n1(t,r,null,a)},Pt.createRoot=function(t,r){if(!uu(t))throw Error(s(299));var a=!1,u="",p=_m;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(p=r.onRecoverableError)),r=au(t,1,!1,null,null,a,!1,u,p),t[bn]=r.current,vi(t.nodeType===8?t.parentNode:t),new cu(r)},Pt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=qh(r),t=t===null?null:t.stateNode,t},Pt.flushSync=function(t){return _s(t)},Pt.hydrate=function(t,r,a){if(!ka(r))throw Error(s(200));return ja(null,t,r,!0,a)},Pt.hydrateRoot=function(t,r,a){if(!uu(t))throw Error(s(405));var u=a!=null&&a.hydratedSources||null,p=!1,y="",x=_m;if(a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),r=wm(r,null,t,1,a??null,p,!1,y,x),t[bn]=r.current,vi(t),u)for(t=0;t<u.length;t++)a=u[t],p=a._getVersion,p=p(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,p]:r.mutableSourceEagerHydrationData.push(a,p);return new Sa(r)},Pt.render=function(t,r,a){if(!ka(r))throw Error(s(200));return ja(null,t,r,!1,a)},Pt.unmountComponentAtNode=function(t){if(!ka(t))throw Error(s(40));return t._reactRootContainer?(_s(function(){ja(null,null,t,!1,function(){t._reactRootContainer=null,t[bn]=null})}),!0):!1},Pt.unstable_batchedUpdates=tu,Pt.unstable_renderSubtreeIntoContainer=function(t,r,a,u){if(!ka(a))throw Error(s(200));if(t==null||t._reactInternals===void 0)throw Error(s(38));return ja(t,r,a,!1,u)},Pt.version="18.3.1-next-f1338f8080-20240426",Pt}var Rm;function x1(){if(Rm)return fu.exports;Rm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),fu.exports=w1(),fu.exports}var Im;function _1(){if(Im)return Ea;Im=1;var n=x1();return Ea.createRoot=n.createRoot,Ea.hydrateRoot=n.hydrateRoot,Ea}var b1=_1(),D=Dd();const Vi=My(D);function Dy(n){var e,s,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(s=Dy(n[e]))&&(i&&(i+=" "),i+=s)}else for(s in n)n[s]&&(i&&(i+=" "),i+=s);return i}function S1(){for(var n,e,s=0,i="",o=arguments.length;s<o;s++)(n=arguments[s])&&(e=Dy(n))&&(i&&(i+=" "),i+=e);return i}const $d="-",k1=n=>{const e=T1(n),{conflictingClassGroups:s,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:c=>{const h=c.split($d);return h[0]===""&&h.length!==1&&h.shift(),$y(h,e)||j1(c)},getConflictingClassGroupIds:(c,h)=>{const f=s[c]||[];return h&&i[c]?[...f,...i[c]]:f}}},$y=(n,e)=>{var c;if(n.length===0)return e.classGroupId;const s=n[0],i=e.nextPart.get(s),o=i?$y(n.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const l=n.join($d);return(c=e.validators.find(({validator:h})=>h(l)))==null?void 0:c.classGroupId},Om=/^\[(.+)\]$/,j1=n=>{if(Om.test(n)){const e=Om.exec(n)[1],s=e==null?void 0:e.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},T1=n=>{const{theme:e,classGroups:s}=n,i={nextPart:new Map,validators:[]};for(const o in s)Wu(s[o],i,o,e);return i},Wu=(n,e,s,i)=>{n.forEach(o=>{if(typeof o=="string"){const l=o===""?e:Lm(e,o);l.classGroupId=s;return}if(typeof o=="function"){if(E1(o)){Wu(o(i),e,s,i);return}e.validators.push({validator:o,classGroupId:s});return}Object.entries(o).forEach(([l,c])=>{Wu(c,Lm(e,l),s,i)})})},Lm=(n,e)=>{let s=n;return e.split($d).forEach(i=>{s.nextPart.has(i)||s.nextPart.set(i,{nextPart:new Map,validators:[]}),s=s.nextPart.get(i)}),s},E1=n=>n.isThemeGetter,C1=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,i=new Map;const o=(l,c)=>{s.set(l,c),e++,e>n&&(e=0,i=s,s=new Map)};return{get(l){let c=s.get(l);if(c!==void 0)return c;if((c=i.get(l))!==void 0)return o(l,c),c},set(l,c){s.has(l)?s.set(l,c):o(l,c)}}},Hu="!",Ku=":",N1=Ku.length,P1=n=>{const{prefix:e,experimentalParseClassName:s}=n;let i=o=>{const l=[];let c=0,h=0,f=0,g;for(let S=0;S<o.length;S++){let T=o[S];if(c===0&&h===0){if(T===Ku){l.push(o.slice(f,S)),f=S+N1;continue}if(T==="/"){g=S;continue}}T==="["?c++:T==="]"?c--:T==="("?h++:T===")"&&h--}const m=l.length===0?o:o.substring(f),v=A1(m),w=v!==m,_=g&&g>f?g-f:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:v,maybePostfixModifierPosition:_}};if(e){const o=e+Ku,l=i;i=c=>c.startsWith(o)?l(c.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(s){const o=i;i=l=>s({className:l,parseClassName:o})}return i},A1=n=>n.endsWith(Hu)?n.substring(0,n.length-1):n.startsWith(Hu)?n.substring(1):n,R1=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const o=[];let l=[];return i.forEach(c=>{c[0]==="["||e[c]?(o.push(...l.sort(),c),l=[]):l.push(c)}),o.push(...l.sort()),o}},I1=n=>({cache:C1(n.cacheSize),parseClassName:P1(n),sortModifiers:R1(n),...k1(n)}),O1=/\s+/,L1=(n,e)=>{const{parseClassName:s,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:l}=e,c=[],h=n.trim().split(O1);let f="";for(let g=h.length-1;g>=0;g-=1){const m=h[g],{isExternal:v,modifiers:w,hasImportantModifier:_,baseClassName:S,maybePostfixModifierPosition:T}=s(m);if(v){f=m+(f.length>0?" "+f:f);continue}let b=!!T,A=i(b?S.substring(0,T):S);if(!A){if(!b){f=m+(f.length>0?" "+f:f);continue}if(A=i(S),!A){f=m+(f.length>0?" "+f:f);continue}b=!1}const P=l(w).join(":"),E=_?P+Hu:P,N=E+A;if(c.includes(N))continue;c.push(N);const L=o(A,b);for(let U=0;U<L.length;++U){const B=L[U];c.push(E+B)}f=m+(f.length>0?" "+f:f)}return f};function M1(){let n=0,e,s,i="";for(;n<arguments.length;)(e=arguments[n++])&&(s=Uy(e))&&(i&&(i+=" "),i+=s);return i}const Uy=n=>{if(typeof n=="string")return n;let e,s="";for(let i=0;i<n.length;i++)n[i]&&(e=Uy(n[i]))&&(s&&(s+=" "),s+=e);return s};function D1(n,...e){let s,i,o,l=c;function c(f){const g=e.reduce((m,v)=>v(m),n());return s=I1(g),i=s.cache.get,o=s.cache.set,l=h,h(f)}function h(f){const g=i(f);if(g)return g;const m=L1(f,s);return o(f,m),m}return function(){return l(M1.apply(null,arguments))}}const st=n=>{const e=s=>s[n]||[];return e.isThemeGetter=!0,e},Vy=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,zy=/^\((?:(\w[\w-]*):)?(.+)\)$/i,$1=/^\d+\/\d+$/,U1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,V1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,z1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,F1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,B1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gr=n=>$1.test(n),_e=n=>!!n&&!Number.isNaN(Number(n)),ts=n=>!!n&&Number.isInteger(Number(n)),gu=n=>n.endsWith("%")&&_e(n.slice(0,-1)),Pn=n=>U1.test(n),W1=()=>!0,H1=n=>V1.test(n)&&!z1.test(n),Fy=()=>!1,K1=n=>F1.test(n),q1=n=>B1.test(n),G1=n=>!ne(n)&&!se(n),Y1=n=>Hr(n,Hy,Fy),ne=n=>Vy.test(n),js=n=>Hr(n,Ky,H1),yu=n=>Hr(n,e_,_e),Mm=n=>Hr(n,By,Fy),J1=n=>Hr(n,Wy,q1),Ca=n=>Hr(n,qy,K1),se=n=>zy.test(n),Di=n=>Kr(n,Ky),Q1=n=>Kr(n,t_),Dm=n=>Kr(n,By),X1=n=>Kr(n,Hy),Z1=n=>Kr(n,Wy),Na=n=>Kr(n,qy,!0),Hr=(n,e,s)=>{const i=Vy.exec(n);return i?i[1]?e(i[1]):s(i[2]):!1},Kr=(n,e,s=!1)=>{const i=zy.exec(n);return i?i[1]?e(i[1]):s:!1},By=n=>n==="position"||n==="percentage",Wy=n=>n==="image"||n==="url",Hy=n=>n==="length"||n==="size"||n==="bg-size",Ky=n=>n==="length",e_=n=>n==="number",t_=n=>n==="family-name",qy=n=>n==="shadow",n_=()=>{const n=st("color"),e=st("font"),s=st("text"),i=st("font-weight"),o=st("tracking"),l=st("leading"),c=st("breakpoint"),h=st("container"),f=st("spacing"),g=st("radius"),m=st("shadow"),v=st("inset-shadow"),w=st("text-shadow"),_=st("drop-shadow"),S=st("blur"),T=st("perspective"),b=st("aspect"),A=st("ease"),P=st("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...N(),se,ne],U=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto","contain","none"],V=()=>[se,ne,f],G=()=>[gr,"full","auto",...V()],be=()=>[ts,"none","subgrid",se,ne],Ie=()=>["auto",{span:["full",ts,se,ne]},ts,se,ne],$e=()=>[ts,"auto",se,ne],Pe=()=>["auto","min","max","fr",se,ne],Oe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ne=()=>["start","end","center","stretch","center-safe","end-safe"],Q=()=>["auto",...V()],W=()=>[gr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...V()],R=()=>[n,se,ne],Y=()=>[...N(),Dm,Mm,{position:[se,ne]}],M=()=>["no-repeat",{repeat:["","x","y","space","round"]}],k=()=>["auto","cover","contain",X1,Y1,{size:[se,ne]}],F=()=>[gu,Di,js],X=()=>["","none","full",g,se,ne],le=()=>["",_e,Di,js],ye=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>[_e,gu,Dm,Mm],ve=()=>["","none",S,se,ne],xe=()=>["none",_e,se,ne],Ue=()=>["none",_e,se,ne],at=()=>[_e,se,ne],Qt=()=>[gr,"full",...V()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Pn],breakpoint:[Pn],color:[W1],container:[Pn],"drop-shadow":[Pn],ease:["in","out","in-out"],font:[G1],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Pn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Pn],shadow:[Pn],spacing:["px",_e],text:[Pn],"text-shadow":[Pn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",gr,ne,se,b]}],container:["container"],columns:[{columns:[_e,ne,se,h]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:G()}],"inset-x":[{"inset-x":G()}],"inset-y":[{"inset-y":G()}],start:[{start:G()}],end:[{end:G()}],top:[{top:G()}],right:[{right:G()}],bottom:[{bottom:G()}],left:[{left:G()}],visibility:["visible","invisible","collapse"],z:[{z:[ts,"auto",se,ne]}],basis:[{basis:[gr,"full","auto",h,...V()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[_e,gr,"auto","initial","none",ne]}],grow:[{grow:["",_e,se,ne]}],shrink:[{shrink:["",_e,se,ne]}],order:[{order:[ts,"first","last","none",se,ne]}],"grid-cols":[{"grid-cols":be()}],"col-start-end":[{col:Ie()}],"col-start":[{"col-start":$e()}],"col-end":[{"col-end":$e()}],"grid-rows":[{"grid-rows":be()}],"row-start-end":[{row:Ie()}],"row-start":[{"row-start":$e()}],"row-end":[{"row-end":$e()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Pe()}],"auto-rows":[{"auto-rows":Pe()}],gap:[{gap:V()}],"gap-x":[{"gap-x":V()}],"gap-y":[{"gap-y":V()}],"justify-content":[{justify:[...Oe(),"normal"]}],"justify-items":[{"justify-items":[...Ne(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ne()]}],"align-content":[{content:["normal",...Oe()]}],"align-items":[{items:[...Ne(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ne(),{baseline:["","last"]}]}],"place-content":[{"place-content":Oe()}],"place-items":[{"place-items":[...Ne(),"baseline"]}],"place-self":[{"place-self":["auto",...Ne()]}],p:[{p:V()}],px:[{px:V()}],py:[{py:V()}],ps:[{ps:V()}],pe:[{pe:V()}],pt:[{pt:V()}],pr:[{pr:V()}],pb:[{pb:V()}],pl:[{pl:V()}],m:[{m:Q()}],mx:[{mx:Q()}],my:[{my:Q()}],ms:[{ms:Q()}],me:[{me:Q()}],mt:[{mt:Q()}],mr:[{mr:Q()}],mb:[{mb:Q()}],ml:[{ml:Q()}],"space-x":[{"space-x":V()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":V()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[h,"screen",...W()]}],"min-w":[{"min-w":[h,"screen","none",...W()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",s,Di,js]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,se,yu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",gu,ne]}],"font-family":[{font:[Q1,ne,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,se,ne]}],"line-clamp":[{"line-clamp":[_e,"none",se,yu]}],leading:[{leading:[l,...V()]}],"list-image":[{"list-image":["none",se,ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",se,ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ye(),"wavy"]}],"text-decoration-thickness":[{decoration:[_e,"from-font","auto",se,js]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[_e,"auto",se,ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se,ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se,ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Y()}],"bg-repeat":[{bg:M()}],"bg-size":[{bg:k()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ts,se,ne],radial:["",se,ne],conic:[ts,se,ne]},Z1,J1]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ye(),"hidden","none"]}],"divide-style":[{divide:[...ye(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...ye(),"none","hidden"]}],"outline-offset":[{"outline-offset":[_e,se,ne]}],"outline-w":[{outline:["",_e,Di,js]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",m,Na,Ca]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",v,Na,Ca]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[_e,js]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",w,Na,Ca]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[_e,se,ne]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[_e]}],"mask-image-linear-from-pos":[{"mask-linear-from":ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":ie()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":ie()}],"mask-image-t-to-pos":[{"mask-t-to":ie()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":ie()}],"mask-image-r-to-pos":[{"mask-r-to":ie()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":ie()}],"mask-image-b-to-pos":[{"mask-b-to":ie()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":ie()}],"mask-image-l-to-pos":[{"mask-l-to":ie()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":ie()}],"mask-image-x-to-pos":[{"mask-x-to":ie()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":ie()}],"mask-image-y-to-pos":[{"mask-y-to":ie()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[se,ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":ie()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[_e]}],"mask-image-conic-from-pos":[{"mask-conic-from":ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":ie()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Y()}],"mask-repeat":[{mask:M()}],"mask-size":[{mask:k()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",se,ne]}],filter:[{filter:["","none",se,ne]}],blur:[{blur:ve()}],brightness:[{brightness:[_e,se,ne]}],contrast:[{contrast:[_e,se,ne]}],"drop-shadow":[{"drop-shadow":["","none",_,Na,Ca]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",_e,se,ne]}],"hue-rotate":[{"hue-rotate":[_e,se,ne]}],invert:[{invert:["",_e,se,ne]}],saturate:[{saturate:[_e,se,ne]}],sepia:[{sepia:["",_e,se,ne]}],"backdrop-filter":[{"backdrop-filter":["","none",se,ne]}],"backdrop-blur":[{"backdrop-blur":ve()}],"backdrop-brightness":[{"backdrop-brightness":[_e,se,ne]}],"backdrop-contrast":[{"backdrop-contrast":[_e,se,ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",_e,se,ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_e,se,ne]}],"backdrop-invert":[{"backdrop-invert":["",_e,se,ne]}],"backdrop-opacity":[{"backdrop-opacity":[_e,se,ne]}],"backdrop-saturate":[{"backdrop-saturate":[_e,se,ne]}],"backdrop-sepia":[{"backdrop-sepia":["",_e,se,ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":V()}],"border-spacing-x":[{"border-spacing-x":V()}],"border-spacing-y":[{"border-spacing-y":V()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",se,ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[_e,"initial",se,ne]}],ease:[{ease:["linear","initial",A,se,ne]}],delay:[{delay:[_e,se,ne]}],animate:[{animate:["none",P,se,ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,se,ne]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:xe()}],"rotate-x":[{"rotate-x":xe()}],"rotate-y":[{"rotate-y":xe()}],"rotate-z":[{"rotate-z":xe()}],scale:[{scale:Ue()}],"scale-x":[{"scale-x":Ue()}],"scale-y":[{"scale-y":Ue()}],"scale-z":[{"scale-z":Ue()}],"scale-3d":["scale-3d"],skew:[{skew:at()}],"skew-x":[{"skew-x":at()}],"skew-y":[{"skew-y":at()}],transform:[{transform:[se,ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Qt()}],"translate-x":[{"translate-x":Qt()}],"translate-y":[{"translate-y":Qt()}],"translate-z":[{"translate-z":Qt()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se,ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se,ne]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[_e,Di,js,yu]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},s_=D1(n_);function Te(...n){return s_(S1(n))}const r_=Ld("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),ae=D.forwardRef(({className:n,variant:e,size:s,asChild:i=!1,...o},l)=>{const c=i?Ly:"button";return d.jsx(c,{"data-slot":"button",className:Te(r_({variant:e,size:s,className:n})),ref:l,...o})});ae.displayName="Button";function it({className:n,...e}){return d.jsx("div",{"data-slot":"card",className:Te("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n),...e})}function un({className:n,...e}){return d.jsx("div",{"data-slot":"card-header",className:Te("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function qt({className:n,...e}){return d.jsx("h4",{"data-slot":"card-title",className:Te("leading-none",n),...e})}function Ki({className:n,...e}){return d.jsx("p",{"data-slot":"card-description",className:Te("text-muted-foreground",n),...e})}function ot({className:n,...e}){return d.jsx("div",{"data-slot":"card-content",className:Te("px-6 [&:last-child]:pb-6",n),...e})}const i_=Ld("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function De({className:n,variant:e,asChild:s=!1,...i}){const o=s?Ly:"span";return d.jsx(o,{"data-slot":"badge",className:Te(i_({variant:e}),n),...i})}function dl({className:n,value:e,...s}){return d.jsx(Sm.Root,{"data-slot":"progress",className:Te("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),...s,children:d.jsx(Sm.Indicator,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a_=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,i)=>i?i.toUpperCase():s.toLowerCase()),$m=n=>{const e=a_(n);return e.charAt(0).toUpperCase()+e.slice(1)},Gy=(...n)=>n.filter((e,s,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===s).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var l_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=D.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:c,...h},f)=>D.createElement("svg",{ref:f,...l_,width:e,height:e,stroke:n,strokeWidth:i?Number(s)*24/Number(e):s,className:Gy("lucide",o),...h},[...c.map(([g,m])=>D.createElement(g,m)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(n,e)=>{const s=D.forwardRef(({className:i,...o},l)=>D.createElement(c_,{ref:l,iconNode:e,className:Gy(`lucide-${o_($m(n))}`,`lucide-${n}`,i),...o}));return s.displayName=$m(n),s};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ha=ce("arrow-left",u_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Yy=ce("award",d_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],f_=ce("bell",h_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ka=ce("book-open",p_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],g_=ce("bot",m_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],v_=ce("briefcase",y_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],x_=ce("camera",w_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ud=ce("chevron-down",__);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],S_=ce("chevron-up",b_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Us=ce("circle-alert",k_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],In=ce("circle-check",j_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],E_=ce("circle",T_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],qa=ce("clock",C_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],P_=ce("cloud-off",N_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],R_=ce("cloud",A_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],O_=ce("coffee",I_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],M_=ce("download",L_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$_=ce("eye-off",D_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qu=ce("eye",U_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],z_=ce("gamepad-2",V_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],B_=ce("globe",F_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ga=ce("graduation-cap",W_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],K_=ce("heart",H_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Um=ce("info",q_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Y_=ce("lightbulb",G_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],cn=ce("loader-circle",J_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],qi=ce("lock",Q_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],Z_=ce("log-in",X_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],tb=ce("log-out",eb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Jy=ce("mail",nb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],rb=ce("menu",sb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Pr=ce("message-circle",ib);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],ab=ce("mic-off",ob);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],so=ce("mic",lb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["path",{d:"M5 12h14",key:"1ays0h"}]],ub=ce("minus",cb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],hb=ce("music",db);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],pb=ce("palette",fb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Qy=ce("pause",mb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],yb=ce("pen-line",gb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Xy=ce("play",vb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Vm=ce("refresh-cw",wb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ya=ce("rotate-ccw",xb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bb=ce("save",_b);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Zy=ce("send",Sb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vd=ce("settings",kb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Tb=ce("shield",jb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],zm=ce("star",Eb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Fm=ce("target",Cb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Pb=ce("thumbs-up",Nb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Bm=ce("trash-2",Ab);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Ib=ce("trending-down",Rb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],wn=ce("trending-up",Ob);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Mb=ce("triangle-alert",Lb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],$b=ce("user-plus",Db);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hl=ce("user",Ub);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],zb=ce("utensils",Vb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Ja=ce("volume-2",Fb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zd=ce("x",Bb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],as=ce("zap",Wb),Fd=D.createContext({});function Bd(n){const e=D.useRef(null);return e.current===null&&(e.current=n()),e.current}const Wd=typeof window<"u",ev=Wd?D.useLayoutEffect:D.useEffect,fl=D.createContext(null);function Hd(n,e){n.indexOf(e)===-1&&n.push(e)}function Kd(n,e){const s=n.indexOf(e);s>-1&&n.splice(s,1)}const On=(n,e,s)=>s>e?e:s<n?n:s;let qd=()=>{};const Ln={},tv=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function nv(n){return typeof n=="object"&&n!==null}const sv=n=>/^0[^.\s]+$/u.test(n);function Gd(n){let e;return()=>(e===void 0&&(e=n()),e)}const Jt=n=>n,Hb=(n,e)=>s=>e(n(s)),fo=(...n)=>n.reduce(Hb),ro=(n,e,s)=>{const i=e-n;return i===0?1:(s-n)/i};class Yd{constructor(){this.subscriptions=[]}add(e){return Hd(this.subscriptions,e),()=>Kd(this.subscriptions,e)}notify(e,s,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,s,i);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,s,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xn=n=>n*1e3,Gt=n=>n/1e3;function rv(n,e){return e?n*(1e3/e):0}const iv=(n,e,s)=>(((1-3*s+3*e)*n+(3*s-6*e))*n+3*e)*n,Kb=1e-7,qb=12;function Gb(n,e,s,i,o){let l,c,h=0;do c=e+(s-e)/2,l=iv(c,i,o)-n,l>0?s=c:e=c;while(Math.abs(l)>Kb&&++h<qb);return c}function po(n,e,s,i){if(n===e&&s===i)return Jt;const o=l=>Gb(l,0,1,n,s);return l=>l===0||l===1?l:iv(o(l),e,i)}const ov=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,av=n=>e=>1-n(1-e),lv=po(.33,1.53,.69,.99),Jd=av(lv),cv=ov(Jd),uv=n=>(n*=2)<1?.5*Jd(n):.5*(2-Math.pow(2,-10*(n-1))),Qd=n=>1-Math.sin(Math.acos(n)),dv=av(Qd),hv=ov(Qd),Yb=po(.42,0,1,1),Jb=po(0,0,.58,1),fv=po(.42,0,.58,1),Qb=n=>Array.isArray(n)&&typeof n[0]!="number",pv=n=>Array.isArray(n)&&typeof n[0]=="number",Xb={linear:Jt,easeIn:Yb,easeInOut:fv,easeOut:Jb,circIn:Qd,circInOut:hv,circOut:dv,backIn:Jd,backInOut:cv,backOut:lv,anticipate:uv},Zb=n=>typeof n=="string",Wm=n=>{if(pv(n)){qd(n.length===4);const[e,s,i,o]=n;return po(e,s,i,o)}else if(Zb(n))return Xb[n];return n},Pa=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function eS(n,e){let s=new Set,i=new Set,o=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(m){c.has(m)&&(g.schedule(m),n()),m(h)}const g={schedule:(m,v=!1,w=!1)=>{const S=w&&o?s:i;return v&&c.add(m),S.has(m)||S.add(m),m},cancel:m=>{i.delete(m),c.delete(m)},process:m=>{if(h=m,o){l=!0;return}o=!0,[s,i]=[i,s],s.forEach(f),s.clear(),o=!1,l&&(l=!1,g.process(m))}};return g}const tS=40;function mv(n,e){let s=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>s=!0,c=Pa.reduce((E,N)=>(E[N]=eS(l),E),{}),{setup:h,read:f,resolveKeyframes:g,preUpdate:m,update:v,preRender:w,render:_,postRender:S}=c,T=()=>{const E=Ln.useManualTiming?o.timestamp:performance.now();s=!1,Ln.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(E-o.timestamp,tS),1)),o.timestamp=E,o.isProcessing=!0,h.process(o),f.process(o),g.process(o),m.process(o),v.process(o),w.process(o),_.process(o),S.process(o),o.isProcessing=!1,s&&e&&(i=!1,n(T))},b=()=>{s=!0,i=!0,o.isProcessing||n(T)};return{schedule:Pa.reduce((E,N)=>{const L=c[N];return E[N]=(U,B=!1,V=!1)=>(s||b(),L.schedule(U,B,V)),E},{}),cancel:E=>{for(let N=0;N<Pa.length;N++)c[Pa[N]].cancel(E)},state:o,steps:c}}const{schedule:ze,cancel:ls,state:mt,steps:vu}=mv(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jt,!0);let Va;function nS(){Va=void 0}const Rt={now:()=>(Va===void 0&&Rt.set(mt.isProcessing||Ln.useManualTiming?mt.timestamp:performance.now()),Va),set:n=>{Va=n,queueMicrotask(nS)}},gv=n=>e=>typeof e=="string"&&e.startsWith(n),Xd=gv("--"),sS=gv("var(--"),Zd=n=>sS(n)?rS.test(n.split("/*")[0].trim()):!1,rS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qr={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},io={...qr,transform:n=>On(0,1,n)},Aa={...qr,default:1},Gi=n=>Math.round(n*1e5)/1e5,eh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function iS(n){return n==null}const oS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,th=(n,e)=>s=>!!(typeof s=="string"&&oS.test(s)&&s.startsWith(n)||e&&!iS(s)&&Object.prototype.hasOwnProperty.call(s,e)),yv=(n,e,s)=>i=>{if(typeof i!="string")return i;const[o,l,c,h]=i.match(eh);return{[n]:parseFloat(o),[e]:parseFloat(l),[s]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},aS=n=>On(0,255,n),wu={...qr,transform:n=>Math.round(aS(n))},Ls={test:th("rgb","red"),parse:yv("red","green","blue"),transform:({red:n,green:e,blue:s,alpha:i=1})=>"rgba("+wu.transform(n)+", "+wu.transform(e)+", "+wu.transform(s)+", "+Gi(io.transform(i))+")"};function lS(n){let e="",s="",i="",o="";return n.length>5?(e=n.substring(1,3),s=n.substring(3,5),i=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),s=n.substring(2,3),i=n.substring(3,4),o=n.substring(4,5),e+=e,s+=s,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Gu={test:th("#"),parse:lS,transform:Ls.transform},mo=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ss=mo("deg"),_n=mo("%"),fe=mo("px"),cS=mo("vh"),uS=mo("vw"),Hm={..._n,parse:n=>_n.parse(n)/100,transform:n=>_n.transform(n*100)},Ar={test:th("hsl","hue"),parse:yv("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:s,alpha:i=1})=>"hsla("+Math.round(n)+", "+_n.transform(Gi(e))+", "+_n.transform(Gi(s))+", "+Gi(io.transform(i))+")"},et={test:n=>Ls.test(n)||Gu.test(n)||Ar.test(n),parse:n=>Ls.test(n)?Ls.parse(n):Ar.test(n)?Ar.parse(n):Gu.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ls.transform(n):Ar.transform(n),getAnimatableNone:n=>{const e=et.parse(n);return e.alpha=0,et.transform(e)}},dS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hS(n){var e,s;return isNaN(n)&&typeof n=="string"&&(((e=n.match(eh))==null?void 0:e.length)||0)+(((s=n.match(dS))==null?void 0:s.length)||0)>0}const vv="number",wv="color",fS="var",pS="var(",Km="${}",mS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function oo(n){const e=n.toString(),s=[],i={color:[],number:[],var:[]},o=[];let l=0;const h=e.replace(mS,f=>(et.test(f)?(i.color.push(l),o.push(wv),s.push(et.parse(f))):f.startsWith(pS)?(i.var.push(l),o.push(fS),s.push(f)):(i.number.push(l),o.push(vv),s.push(parseFloat(f))),++l,Km)).split(Km);return{values:s,split:h,indexes:i,types:o}}function xv(n){return oo(n).values}function _v(n){const{split:e,types:s}=oo(n),i=e.length;return o=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],o[c]!==void 0){const h=s[c];h===vv?l+=Gi(o[c]):h===wv?l+=et.transform(o[c]):l+=o[c]}return l}}const gS=n=>typeof n=="number"?0:et.test(n)?et.getAnimatableNone(n):n;function yS(n){const e=xv(n);return _v(n)(e.map(gS))}const cs={test:hS,parse:xv,createTransformer:_v,getAnimatableNone:yS};function xu(n,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?n+(e-n)*6*s:s<1/2?e:s<2/3?n+(e-n)*(2/3-s)*6:n}function vS({hue:n,saturation:e,lightness:s,alpha:i}){n/=360,e/=100,s/=100;let o=0,l=0,c=0;if(!e)o=l=c=s;else{const h=s<.5?s*(1+e):s+e-s*e,f=2*s-h;o=xu(f,h,n+1/3),l=xu(f,h,n),c=xu(f,h,n-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function Qa(n,e){return s=>s>0?e:n}const We=(n,e,s)=>n+(e-n)*s,_u=(n,e,s)=>{const i=n*n,o=s*(e*e-i)+i;return o<0?0:Math.sqrt(o)},wS=[Gu,Ls,Ar],xS=n=>wS.find(e=>e.test(n));function qm(n){const e=xS(n);if(!e)return!1;let s=e.parse(n);return e===Ar&&(s=vS(s)),s}const Gm=(n,e)=>{const s=qm(n),i=qm(e);if(!s||!i)return Qa(n,e);const o={...s};return l=>(o.red=_u(s.red,i.red,l),o.green=_u(s.green,i.green,l),o.blue=_u(s.blue,i.blue,l),o.alpha=We(s.alpha,i.alpha,l),Ls.transform(o))},Yu=new Set(["none","hidden"]);function _S(n,e){return Yu.has(n)?s=>s<=0?n:e:s=>s>=1?e:n}function bS(n,e){return s=>We(n,e,s)}function nh(n){return typeof n=="number"?bS:typeof n=="string"?Zd(n)?Qa:et.test(n)?Gm:jS:Array.isArray(n)?bv:typeof n=="object"?et.test(n)?Gm:SS:Qa}function bv(n,e){const s=[...n],i=s.length,o=n.map((l,c)=>nh(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)s[c]=o[c](l);return s}}function SS(n,e){const s={...n,...e},i={};for(const o in s)n[o]!==void 0&&e[o]!==void 0&&(i[o]=nh(n[o])(n[o],e[o]));return o=>{for(const l in i)s[l]=i[l](o);return s}}function kS(n,e){const s=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],c=n.indexes[l][i[l]],h=n.values[c]??0;s[o]=h,i[l]++}return s}const jS=(n,e)=>{const s=cs.createTransformer(e),i=oo(n),o=oo(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?Yu.has(n)&&!o.values.length||Yu.has(e)&&!i.values.length?_S(n,e):fo(bv(kS(i,o),o.values),s):Qa(n,e)};function Sv(n,e,s){return typeof n=="number"&&typeof e=="number"&&typeof s=="number"?We(n,e,s):nh(n)(n,e)}const TS=n=>{const e=({timestamp:s})=>n(s);return{start:(s=!0)=>ze.update(e,s),stop:()=>ls(e),now:()=>mt.isProcessing?mt.timestamp:Rt.now()}},kv=(n,e,s=10)=>{let i="";const o=Math.max(Math.round(e/s),2);for(let l=0;l<o;l++)i+=Math.round(n(l/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Xa=2e4;function sh(n){let e=0;const s=50;let i=n.next(e);for(;!i.done&&e<Xa;)e+=s,i=n.next(e);return e>=Xa?1/0:e}function ES(n,e=100,s){const i=s({...n,keyframes:[0,e]}),o=Math.min(sh(i),Xa);return{type:"keyframes",ease:l=>i.next(o*l).value/e,duration:Gt(o)}}const CS=5;function jv(n,e,s){const i=Math.max(e-CS,0);return rv(s-n(i),e-i)}const Ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bu=.001;function NS({duration:n=Ke.duration,bounce:e=Ke.bounce,velocity:s=Ke.velocity,mass:i=Ke.mass}){let o,l,c=1-e;c=On(Ke.minDamping,Ke.maxDamping,c),n=On(Ke.minDuration,Ke.maxDuration,Gt(n)),c<1?(o=g=>{const m=g*c,v=m*n,w=m-s,_=Ju(g,c),S=Math.exp(-v);return bu-w/_*S},l=g=>{const v=g*c*n,w=v*s+s,_=Math.pow(c,2)*Math.pow(g,2)*n,S=Math.exp(-v),T=Ju(Math.pow(g,2),c);return(-o(g)+bu>0?-1:1)*((w-_)*S)/T}):(o=g=>{const m=Math.exp(-g*n),v=(g-s)*n+1;return-bu+m*v},l=g=>{const m=Math.exp(-g*n),v=(s-g)*(n*n);return m*v});const h=5/n,f=AS(o,l,h);if(n=xn(n),isNaN(f))return{stiffness:Ke.stiffness,damping:Ke.damping,duration:n};{const g=Math.pow(f,2)*i;return{stiffness:g,damping:c*2*Math.sqrt(i*g),duration:n}}}const PS=12;function AS(n,e,s){let i=s;for(let o=1;o<PS;o++)i=i-n(i)/e(i);return i}function Ju(n,e){return n*Math.sqrt(1-e*e)}const RS=["duration","bounce"],IS=["stiffness","damping","mass"];function Ym(n,e){return e.some(s=>n[s]!==void 0)}function OS(n){let e={velocity:Ke.velocity,stiffness:Ke.stiffness,damping:Ke.damping,mass:Ke.mass,isResolvedFromDuration:!1,...n};if(!Ym(n,IS)&&Ym(n,RS))if(n.visualDuration){const s=n.visualDuration,i=2*Math.PI/(s*1.2),o=i*i,l=2*On(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:Ke.mass,stiffness:o,damping:l}}else{const s=NS(n);e={...e,...s,mass:Ke.mass},e.isResolvedFromDuration=!0}return e}function Za(n=Ke.visualDuration,e=Ke.bounce){const s=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:o}=s;const l=s.keyframes[0],c=s.keyframes[s.keyframes.length-1],h={done:!1,value:l},{stiffness:f,damping:g,mass:m,duration:v,velocity:w,isResolvedFromDuration:_}=OS({...s,velocity:-Gt(s.velocity||0)}),S=w||0,T=g/(2*Math.sqrt(f*m)),b=c-l,A=Gt(Math.sqrt(f/m)),P=Math.abs(b)<5;i||(i=P?Ke.restSpeed.granular:Ke.restSpeed.default),o||(o=P?Ke.restDelta.granular:Ke.restDelta.default);let E;if(T<1){const L=Ju(A,T);E=U=>{const B=Math.exp(-T*A*U);return c-B*((S+T*A*b)/L*Math.sin(L*U)+b*Math.cos(L*U))}}else if(T===1)E=L=>c-Math.exp(-A*L)*(b+(S+A*b)*L);else{const L=A*Math.sqrt(T*T-1);E=U=>{const B=Math.exp(-T*A*U),V=Math.min(L*U,300);return c-B*((S+T*A*b)*Math.sinh(V)+L*b*Math.cosh(V))/L}}const N={calculatedDuration:_&&v||null,next:L=>{const U=E(L);if(_)h.done=L>=v;else{let B=L===0?S:0;T<1&&(B=L===0?xn(S):jv(E,L,U));const V=Math.abs(B)<=i,G=Math.abs(c-U)<=o;h.done=V&&G}return h.value=h.done?c:U,h},toString:()=>{const L=Math.min(sh(N),Xa),U=kv(B=>N.next(L*B).value,L,30);return L+"ms "+U},toTransition:()=>{}};return N}Za.applyToOptions=n=>{const e=ES(n,100,Za);return n.ease=e.ease,n.duration=xn(e.duration),n.type="keyframes",n};function Qu({keyframes:n,velocity:e=0,power:s=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:f,restDelta:g=.5,restSpeed:m}){const v=n[0],w={done:!1,value:v},_=V=>h!==void 0&&V<h||f!==void 0&&V>f,S=V=>h===void 0?f:f===void 0||Math.abs(h-V)<Math.abs(f-V)?h:f;let T=s*e;const b=v+T,A=c===void 0?b:c(b);A!==b&&(T=A-v);const P=V=>-T*Math.exp(-V/i),E=V=>A+P(V),N=V=>{const G=P(V),be=E(V);w.done=Math.abs(G)<=g,w.value=w.done?A:be};let L,U;const B=V=>{_(w.value)&&(L=V,U=Za({keyframes:[w.value,S(w.value)],velocity:jv(E,V,w.value),damping:o,stiffness:l,restDelta:g,restSpeed:m}))};return B(0),{calculatedDuration:null,next:V=>{let G=!1;return!U&&L===void 0&&(G=!0,N(V),B(V)),L!==void 0&&V>=L?U.next(V-L):(!G&&N(V),w)}}}function LS(n,e,s){const i=[],o=s||Ln.mix||Sv,l=n.length-1;for(let c=0;c<l;c++){let h=o(n[c],n[c+1]);if(e){const f=Array.isArray(e)?e[c]||Jt:e;h=fo(f,h)}i.push(h)}return i}function MS(n,e,{clamp:s=!0,ease:i,mixer:o}={}){const l=n.length;if(qd(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=LS(e,i,o),f=h.length,g=m=>{if(c&&m<n[0])return e[0];let v=0;if(f>1)for(;v<n.length-2&&!(m<n[v+1]);v++);const w=ro(n[v],n[v+1],m);return h[v](w)};return s?m=>g(On(n[0],n[l-1],m)):g}function DS(n,e){const s=n[n.length-1];for(let i=1;i<=e;i++){const o=ro(0,e,i);n.push(We(s,1,o))}}function $S(n){const e=[0];return DS(e,n.length-1),e}function US(n,e){return n.map(s=>s*e)}function VS(n,e){return n.map(()=>e||fv).splice(0,n.length-1)}function Yi({duration:n=300,keyframes:e,times:s,ease:i="easeInOut"}){const o=Qb(i)?i.map(Wm):Wm(i),l={done:!1,value:e[0]},c=US(s&&s.length===e.length?s:$S(e),n),h=MS(c,e,{ease:Array.isArray(o)?o:VS(e,o)});return{calculatedDuration:n,next:f=>(l.value=h(f),l.done=f>=n,l)}}const zS=n=>n!==null;function rh(n,{repeat:e,repeatType:s="loop"},i,o=1){const l=n.filter(zS),h=o<0||e&&s!=="loop"&&e%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const FS={decay:Qu,inertia:Qu,tween:Yi,keyframes:Yi,spring:Za};function Tv(n){typeof n.type=="string"&&(n.type=FS[n.type])}class ih{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const BS=n=>n/100;class oh extends ih{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,o;const{motionValue:s}=this.options;s&&s.updatedAt!==Rt.now()&&this.tick(Rt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(i=this.options).onStop)==null||o.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Tv(e);const{type:s=Yi,repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const f=s||Yi;f!==Yi&&typeof h[0]!="number"&&(this.mixKeyframes=fo(BS,Sv(h[0],h[1])),h=[0,100]);const g=f({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=sh(g));const{calculatedDuration:m}=g;this.calculatedDuration=m,this.resolvedDuration=m+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=g}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:i,totalDuration:o,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:m,repeat:v,repeatType:w,repeatDelay:_,type:S,onUpdate:T,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const A=this.currentTime-g*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?A<0:A>o;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let E=this.currentTime,N=i;if(v){const V=Math.min(this.currentTime,o)/h;let G=Math.floor(V),be=V%1;!be&&V>=1&&(be=1),be===1&&G--,G=Math.min(G,v+1),!!(G%2)&&(w==="reverse"?(be=1-be,_&&(be-=_/h)):w==="mirror"&&(N=c)),E=On(0,1,be)*h}const L=P?{done:!1,value:m[0]}:N.next(E);l&&(L.value=l(L.value));let{done:U}=L;!P&&f!==null&&(U=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return B&&S!==Qu&&(L.value=rh(m,this.options,b,this.speed)),T&&T(L.value),B&&this.finish(),L}then(e,s){return this.finished.then(e,s)}get duration(){return Gt(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Gt(e)}get time(){return Gt(this.currentTime)}set time(e){var s;e=xn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Rt.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=Gt(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:e=TS,startTime:s}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(o=this.options).onPlay)==null||l.call(o);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Rt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(e=this.options).onComplete)==null||s.call(e)}cancel(){var e,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(e=this.options).onCancel)==null||s.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),e.observe(this)}}function WS(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Ms=n=>n*180/Math.PI,Xu=n=>{const e=Ms(Math.atan2(n[1],n[0]));return Zu(e)},HS={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Xu,rotateZ:Xu,skewX:n=>Ms(Math.atan(n[1])),skewY:n=>Ms(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Zu=n=>(n=n%360,n<0&&(n+=360),n),Jm=Xu,Qm=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Xm=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),KS={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Qm,scaleY:Xm,scale:n=>(Qm(n)+Xm(n))/2,rotateX:n=>Zu(Ms(Math.atan2(n[6],n[5]))),rotateY:n=>Zu(Ms(Math.atan2(-n[2],n[0]))),rotateZ:Jm,rotate:Jm,skewX:n=>Ms(Math.atan(n[4])),skewY:n=>Ms(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function ed(n){return n.includes("scale")?1:0}function td(n,e){if(!n||n==="none")return ed(e);const s=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(s)i=KS,o=s;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=HS,o=h}if(!o)return ed(e);const l=i[e],c=o[1].split(",").map(GS);return typeof l=="function"?l(c):c[l]}const qS=(n,e)=>{const{transform:s="none"}=getComputedStyle(n);return td(s,e)};function GS(n){return parseFloat(n.trim())}const Gr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yr=new Set(Gr),Zm=n=>n===qr||n===fe,YS=new Set(["x","y","z"]),JS=Gr.filter(n=>!YS.has(n));function QS(n){const e=[];return JS.forEach(s=>{const i=n.getValue(s);i!==void 0&&(e.push([s,i.get()]),i.set(s.startsWith("scale")?1:0))}),e}const Vs={width:({x:n},{paddingLeft:e="0",paddingRight:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),height:({y:n},{paddingTop:e="0",paddingBottom:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>td(e,"x"),y:(n,{transform:e})=>td(e,"y")};Vs.translateX=Vs.x;Vs.translateY=Vs.y;const zs=new Set;let nd=!1,sd=!1,rd=!1;function Ev(){if(sd){const n=Array.from(zs).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),s=new Map;e.forEach(i=>{const o=QS(i);o.length&&(s.set(i,o),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=s.get(i);o&&o.forEach(([l,c])=>{var h;(h=i.getValue(l))==null||h.set(c)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}sd=!1,nd=!1,zs.forEach(n=>n.complete(rd)),zs.clear()}function Cv(){zs.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(sd=!0)})}function XS(){rd=!0,Cv(),Ev(),rd=!1}class ah{constructor(e,s,i,o,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=i,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(zs.add(this),nd||(nd=!0,ze.read(Cv),ze.resolveKeyframes(Ev))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:i,motionValue:o}=this;if(e[0]===null){const l=o==null?void 0:o.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&s){const h=i.readValue(s,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),o&&l===void 0&&o.set(e[0])}WS(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),zs.delete(this)}cancel(){this.state==="scheduled"&&(zs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ZS=n=>n.startsWith("--");function ek(n,e,s){ZS(e)?n.style.setProperty(e,s):n.style[e]=s}const tk=Gd(()=>window.ScrollTimeline!==void 0),nk={};function sk(n,e){const s=Gd(n);return()=>nk[e]??s()}const Nv=sk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zi=([n,e,s,i])=>`cubic-bezier(${n}, ${e}, ${s}, ${i})`,eg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zi([0,.65,.55,1]),circOut:zi([.55,0,1,.45]),backIn:zi([.31,.01,.66,-.59]),backOut:zi([.33,1.53,.69,.99])};function Pv(n,e){if(n)return typeof n=="function"?Nv()?kv(n,e):"ease-out":pv(n)?zi(n):Array.isArray(n)?n.map(s=>Pv(s,e)||eg.easeOut):eg[n]}function rk(n,e,s,{delay:i=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:f}={},g=void 0){const m={[e]:s};f&&(m.offset=f);const v=Pv(h,o);Array.isArray(v)&&(m.easing=v);const w={delay:i,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(w.pseudoElement=g),n.animate(m,w)}function Av(n){return typeof n=="function"&&"applyToOptions"in n}function ik({type:n,...e}){return Av(n)&&Nv()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class ok extends ih{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:i,keyframes:o,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,qd(typeof e.type!="string");const g=ik(e);this.animation=rk(s,i,o,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const m=rh(o,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(m):ek(s,i,m),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,s;(s=(e=this.animation).finish)==null||s.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,s;this.isPseudoElement||(s=(e=this.animation).commitStyles)==null||s.call(e)}get duration(){var s,i;const e=((i=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:i.call(s).duration)||0;return Gt(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Gt(e)}get time(){return Gt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=xn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&tk()?(this.animation.timeline=e,Jt):s(this)}}const Rv={anticipate:uv,backInOut:cv,circInOut:hv};function ak(n){return n in Rv}function lk(n){typeof n.ease=="string"&&ak(n.ease)&&(n.ease=Rv[n.ease])}const tg=10;class ck extends ok{constructor(e){lk(e),Tv(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:i,onComplete:o,element:l,...c}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const h=new oh({...c,autoplay:!1}),f=xn(this.finishedTime??this.time);s.setWithVelocity(h.sample(f-tg).value,h.sample(f).value,tg),h.stop()}}const ng=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(cs.test(n)||n==="0")&&!n.startsWith("url("));function uk(n){const e=n[0];if(n.length===1)return!0;for(let s=0;s<n.length;s++)if(n[s]!==e)return!0}function dk(n,e,s,i){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],c=ng(o,e),h=ng(l,e);return!c||!h?!1:uk(n)||(s==="spring"||Av(s))&&i}function id(n){n.duration=0,n.type="keyframes"}const hk=new Set(["opacity","clipPath","filter","transform"]),fk=Gd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function pk(n){var m;const{motionValue:e,name:s,repeatDelay:i,repeatType:o,damping:l,type:c}=n;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:g}=e.owner.getProps();return fk()&&s&&hk.has(s)&&(s!=="transform"||!g)&&!f&&!i&&o!=="mirror"&&l!==0&&c!=="inertia"}const mk=40;class gk extends ih{constructor({autoplay:e=!0,delay:s=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:f,motionValue:g,element:m,...v}){var S;super(),this.stop=()=>{var T,b;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Rt.now();const w={autoplay:e,delay:s,type:i,repeat:o,repeatDelay:l,repeatType:c,name:f,motionValue:g,element:m,...v},_=(m==null?void 0:m.KeyframeResolver)||ah;this.keyframeResolver=new _(h,(T,b,A)=>this.onKeyframesResolved(T,b,w,!A),f,g,m),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,s,i,o){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:f,isHandoff:g,onUpdate:m}=i;this.resolvedAt=Rt.now(),dk(e,l,c,h)||((Ln.instantAnimations||!f)&&(m==null||m(rh(e,i,s))),e[0]=e[e.length-1],id(i),i.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>mk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...i,keyframes:e},_=!g&&pk(w)?new ck({...w,element:w.motionValue.owner.current}):new oh(w);_.finished.then(()=>this.notifyFinished()).catch(Jt),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),XS()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const yk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vk(n){const e=yk.exec(n);if(!e)return[,];const[,s,i,o]=e;return[`--${s??i}`,o]}function Iv(n,e,s=1){const[i,o]=vk(n);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return tv(c)?parseFloat(c):c}return Zd(o)?Iv(o,e,s+1):o}function lh(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const Ov=new Set(["width","height","top","left","right","bottom",...Gr]),wk={test:n=>n==="auto",parse:n=>n},Lv=n=>e=>e.test(n),Mv=[qr,fe,_n,ss,uS,cS,wk],sg=n=>Mv.find(Lv(n));function xk(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||sv(n):!0}const _k=new Set(["brightness","contrast","saturate","opacity"]);function bk(n){const[e,s]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=s.match(eh)||[];if(!i)return n;const o=s.replace(i,"");let l=_k.has(e)?1:0;return i!==s&&(l*=100),e+"("+l+o+")"}const Sk=/\b([a-z-]*)\(.*?\)/gu,od={...cs,getAnimatableNone:n=>{const e=n.match(Sk);return e?e.map(bk).join(" "):n}},rg={...qr,transform:Math.round},kk={rotate:ss,rotateX:ss,rotateY:ss,rotateZ:ss,scale:Aa,scaleX:Aa,scaleY:Aa,scaleZ:Aa,skew:ss,skewX:ss,skewY:ss,distance:fe,translateX:fe,translateY:fe,translateZ:fe,x:fe,y:fe,z:fe,perspective:fe,transformPerspective:fe,opacity:io,originX:Hm,originY:Hm,originZ:fe},ch={borderWidth:fe,borderTopWidth:fe,borderRightWidth:fe,borderBottomWidth:fe,borderLeftWidth:fe,borderRadius:fe,radius:fe,borderTopLeftRadius:fe,borderTopRightRadius:fe,borderBottomRightRadius:fe,borderBottomLeftRadius:fe,width:fe,maxWidth:fe,height:fe,maxHeight:fe,top:fe,right:fe,bottom:fe,left:fe,padding:fe,paddingTop:fe,paddingRight:fe,paddingBottom:fe,paddingLeft:fe,margin:fe,marginTop:fe,marginRight:fe,marginBottom:fe,marginLeft:fe,backgroundPositionX:fe,backgroundPositionY:fe,...kk,zIndex:rg,fillOpacity:io,strokeOpacity:io,numOctaves:rg},jk={...ch,color:et,backgroundColor:et,outlineColor:et,fill:et,stroke:et,borderColor:et,borderTopColor:et,borderRightColor:et,borderBottomColor:et,borderLeftColor:et,filter:od,WebkitFilter:od},Dv=n=>jk[n];function $v(n,e){let s=Dv(n);return s!==od&&(s=cs),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const Tk=new Set(["auto","none","0"]);function Ek(n,e,s){let i=0,o;for(;i<n.length&&!o;){const l=n[i];typeof l=="string"&&!Tk.has(l)&&oo(l).values.length&&(o=n[i]),i++}if(o&&s)for(const l of e)n[l]=$v(s,o)}class Ck extends ah{constructor(e,s,i,o,l){super(e,s,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:i}=this;if(!s||!s.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let g=e[f];if(typeof g=="string"&&(g=g.trim(),Zd(g))){const m=Iv(g,s.current);m!==void 0&&(e[f]=m),f===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Ov.has(i)||e.length!==2)return;const[o,l]=e,c=sg(o),h=sg(l);if(c!==h)if(Zm(c)&&Zm(h))for(let f=0;f<e.length;f++){const g=e[f];typeof g=="string"&&(e[f]=parseFloat(g))}else Vs[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,i=[];for(let o=0;o<e.length;o++)(e[o]===null||xk(e[o]))&&i.push(o);i.length&&Ek(e,i,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vs[i](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const o=s[s.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var h;const{element:e,name:s,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const o=e.getValue(s);o&&o.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Vs[s](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([f,g])=>{e.getValue(f).set(g)}),this.resolveNoneKeyframes()}}function Nk(n,e,s){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const o=(s==null?void 0:s[n])??i.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const Uv=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Vv(n){return nv(n)&&"offsetHeight"in n}const ig=30,Pk=n=>!isNaN(parseFloat(n));class Ak{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var l;const o=Rt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=Rt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Pk(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new Yd);const i=this.events[e].add(s);return e==="change"?()=>{i(),ze.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,i){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Rt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ig)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,ig);return rv(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,s;(e=this.dependents)==null||e.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zr(n,e){return new Ak(n,e)}const{schedule:uh}=mv(queueMicrotask,!1),an={x:!1,y:!1};function zv(){return an.x||an.y}function Rk(n){return n==="x"||n==="y"?an[n]?null:(an[n]=!0,()=>{an[n]=!1}):an.x||an.y?null:(an.x=an.y=!0,()=>{an.x=an.y=!1})}function Fv(n,e){const s=Nk(n),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[s,o,()=>i.abort()]}function og(n){return!(n.pointerType==="touch"||zv())}function Ik(n,e,s={}){const[i,o,l]=Fv(n,s),c=h=>{if(!og(h))return;const{target:f}=h,g=e(f,h);if(typeof g!="function"||!f)return;const m=v=>{og(v)&&(g(v),f.removeEventListener("pointerleave",m))};f.addEventListener("pointerleave",m,o)};return i.forEach(h=>{h.addEventListener("pointerenter",c,o)}),l}const Bv=(n,e)=>e?n===e?!0:Bv(n,e.parentElement):!1,dh=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Ok=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Lk(n){return Ok.has(n.tagName)||n.tabIndex!==-1}const za=new WeakSet;function ag(n){return e=>{e.key==="Enter"&&n(e)}}function Su(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Mk=(n,e)=>{const s=n.currentTarget;if(!s)return;const i=ag(()=>{if(za.has(s))return;Su(s,"down");const o=ag(()=>{Su(s,"up")}),l=()=>Su(s,"cancel");s.addEventListener("keyup",o,e),s.addEventListener("blur",l,e)});s.addEventListener("keydown",i,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",i),e)};function lg(n){return dh(n)&&!zv()}function Dk(n,e,s={}){const[i,o,l]=Fv(n,s),c=h=>{const f=h.currentTarget;if(!lg(h))return;za.add(f);const g=e(f,h),m=(_,S)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),za.has(f)&&za.delete(f),lg(_)&&typeof g=="function"&&g(_,{success:S})},v=_=>{m(_,f===window||f===document||s.useGlobalTarget||Bv(f,_.target))},w=_=>{m(_,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",w,o)};return i.forEach(h=>{(s.useGlobalTarget?window:h).addEventListener("pointerdown",c,o),Vv(h)&&(h.addEventListener("focus",g=>Mk(g,o)),!Lk(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function Wv(n){return nv(n)&&"ownerSVGElement"in n}function $k(n){return Wv(n)&&n.tagName==="svg"}const xt=n=>!!(n&&n.getVelocity),Uk=[...Mv,et,cs],Vk=n=>Uk.find(Lv(n)),hh=D.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function cg(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function zk(...n){return e=>{let s=!1;const i=n.map(o=>{const l=cg(o,e);return!s&&typeof l=="function"&&(s=!0),l});if(s)return()=>{for(let o=0;o<i.length;o++){const l=i[o];typeof l=="function"?l():cg(n[o],null)}}}}function Fk(...n){return D.useCallback(zk(...n),n)}class Bk extends D.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const i=s.offsetParent,o=Vv(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=s.offsetHeight||0,l.width=s.offsetWidth||0,l.top=s.offsetTop,l.left=s.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Wk({children:n,isPresent:e,anchorX:s,root:i}){const o=D.useId(),l=D.useRef(null),c=D.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=D.useContext(hh),f=Fk(l,n==null?void 0:n.ref);return D.useInsertionEffect(()=>{const{width:g,height:m,top:v,left:w,right:_}=c.current;if(e||!l.current||!g||!m)return;const S=s==="left"?`left: ${w}`:`right: ${_}`;l.current.dataset.motionPopId=o;const T=document.createElement("style");h&&(T.nonce=h);const b=i??document.head;return b.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${m}px !important;
            ${S}px !important;
            top: ${v}px !important;
          }
        `),()=>{b.contains(T)&&b.removeChild(T)}},[e]),d.jsx(Bk,{isPresent:e,childRef:l,sizeRef:c,children:D.cloneElement(n,{ref:f})})}const Hk=({children:n,initial:e,isPresent:s,onExitComplete:i,custom:o,presenceAffectsLayout:l,mode:c,anchorX:h,root:f})=>{const g=Bd(Kk),m=D.useId();let v=!0,w=D.useMemo(()=>(v=!1,{id:m,initial:e,isPresent:s,custom:o,onExitComplete:_=>{g.set(_,!0);for(const S of g.values())if(!S)return;i&&i()},register:_=>(g.set(_,!1),()=>g.delete(_))}),[s,g,i]);return l&&v&&(w={...w}),D.useMemo(()=>{g.forEach((_,S)=>g.set(S,!1))},[s]),D.useEffect(()=>{!s&&!g.size&&i&&i()},[s]),c==="popLayout"&&(n=d.jsx(Wk,{isPresent:s,anchorX:h,root:f,children:n})),d.jsx(fl.Provider,{value:w,children:n})};function Kk(){return new Map}function Hv(n=!0){const e=D.useContext(fl);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:i,register:o}=e,l=D.useId();D.useEffect(()=>{if(n)return o(l)},[n]);const c=D.useCallback(()=>n&&i&&i(l),[l,i,n]);return!s&&i?[!1,c]:[!0]}const Ra=n=>n.key||"";function ug(n){const e=[];return D.Children.forEach(n,s=>{D.isValidElement(s)&&e.push(s)}),e}const Fr=({children:n,custom:e,initial:s=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",root:f})=>{const[g,m]=Hv(c),v=D.useMemo(()=>ug(n),[n]),w=c&&!g?[]:v.map(Ra),_=D.useRef(!0),S=D.useRef(v),T=Bd(()=>new Map),[b,A]=D.useState(v),[P,E]=D.useState(v);ev(()=>{_.current=!1,S.current=v;for(let U=0;U<P.length;U++){const B=Ra(P[U]);w.includes(B)?T.delete(B):T.get(B)!==!0&&T.set(B,!1)}},[P,w.length,w.join("-")]);const N=[];if(v!==b){let U=[...v];for(let B=0;B<P.length;B++){const V=P[B],G=Ra(V);w.includes(G)||(U.splice(B,0,V),N.push(V))}return l==="wait"&&N.length&&(U=N),E(ug(U)),A(v),null}const{forceRender:L}=D.useContext(Fd);return d.jsx(d.Fragment,{children:P.map(U=>{const B=Ra(U),V=c&&!g?!1:v===P||w.includes(B),G=()=>{if(T.has(B))T.set(B,!0);else return;let be=!0;T.forEach(Ie=>{Ie||(be=!1)}),be&&(L==null||L(),E(S.current),c&&(m==null||m()),i&&i())};return d.jsx(Hk,{isPresent:V,initial:!_.current||s?void 0:!1,custom:e,presenceAffectsLayout:o,mode:l,root:f,onExitComplete:V?void 0:G,anchorX:h,children:U},B)})})},Kv=D.createContext({strict:!1}),dg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Br={};for(const n in dg)Br[n]={isEnabled:e=>dg[n].some(s=>!!e[s])};function qk(n){for(const e in n)Br[e]={...Br[e],...n[e]}}const Gk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function el(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Gk.has(n)}let qv=n=>!el(n);function Yk(n){typeof n=="function"&&(qv=e=>e.startsWith("on")?!el(e):n(e))}try{Yk(require("@emotion/is-prop-valid").default)}catch{}function Jk(n,e,s){const i={};for(const o in n)o==="values"&&typeof n.values=="object"||(qv(o)||s===!0&&el(o)||!e&&!el(o)||n.draggable&&o.startsWith("onDrag"))&&(i[o]=n[o]);return i}const pl=D.createContext({});function ml(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function ao(n){return typeof n=="string"||Array.isArray(n)}const fh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ph=["initial",...fh];function gl(n){return ml(n.animate)||ph.some(e=>ao(n[e]))}function Gv(n){return!!(gl(n)||n.variants)}function Qk(n,e){if(gl(n)){const{initial:s,animate:i}=n;return{initial:s===!1||ao(s)?s:void 0,animate:ao(i)?i:void 0}}return n.inherit!==!1?e:{}}function Xk(n){const{initial:e,animate:s}=Qk(n,D.useContext(pl));return D.useMemo(()=>({initial:e,animate:s}),[hg(e),hg(s)])}function hg(n){return Array.isArray(n)?n.join(" "):n}const lo={};function Zk(n){for(const e in n)lo[e]=n[e],Xd(e)&&(lo[e].isCSSVariable=!0)}function Yv(n,{layout:e,layoutId:s}){return Yr.has(n)||n.startsWith("origin")||(e||s!==void 0)&&(!!lo[n]||n==="opacity")}const ej={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tj=Gr.length;function nj(n,e,s){let i="",o=!0;for(let l=0;l<tj;l++){const c=Gr[l],h=n[c];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(c.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||s){const g=Uv(h,ch[c]);if(!f){o=!1;const m=ej[c]||c;i+=`${m}(${g}) `}s&&(e[c]=g)}}return i=i.trim(),s?i=s(e,o?"":i):o&&(i="none"),i}function mh(n,e,s){const{style:i,vars:o,transformOrigin:l}=n;let c=!1,h=!1;for(const f in e){const g=e[f];if(Yr.has(f)){c=!0;continue}else if(Xd(f)){o[f]=g;continue}else{const m=Uv(g,ch[f]);f.startsWith("origin")?(h=!0,l[f]=m):i[f]=m}}if(e.transform||(c||s?i.transform=nj(e,n.transform,s):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:g="50%",originZ:m=0}=l;i.transformOrigin=`${f} ${g} ${m}`}}const gh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Jv(n,e,s){for(const i in e)!xt(e[i])&&!Yv(i,s)&&(n[i]=e[i])}function sj({transformTemplate:n},e){return D.useMemo(()=>{const s=gh();return mh(s,e,n),Object.assign({},s.vars,s.style)},[e])}function rj(n,e){const s=n.style||{},i={};return Jv(i,s,n),Object.assign(i,sj(n,e)),i}function ij(n,e){const s={},i=rj(n,e);return n.drag&&n.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(s.tabIndex=0),s.style=i,s}const oj={offset:"stroke-dashoffset",array:"stroke-dasharray"},aj={offset:"strokeDashoffset",array:"strokeDasharray"};function lj(n,e,s=1,i=0,o=!0){n.pathLength=1;const l=o?oj:aj;n[l.offset]=fe.transform(-i);const c=fe.transform(e),h=fe.transform(s);n[l.array]=`${c} ${h}`}function Qv(n,{attrX:e,attrY:s,attrScale:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...h},f,g,m){if(mh(n,h,g),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:w}=n;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),s!==void 0&&(v.y=s),i!==void 0&&(v.scale=i),o!==void 0&&lj(v,o,l,c,!1)}const Xv=()=>({...gh(),attrs:{}}),Zv=n=>typeof n=="string"&&n.toLowerCase()==="svg";function cj(n,e,s,i){const o=D.useMemo(()=>{const l=Xv();return Qv(l,e,Zv(i),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};Jv(l,n.style,n),o.style={...l,...o.style}}return o}const uj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yh(n){return typeof n!="string"||n.includes("-")?!1:!!(uj.indexOf(n)>-1||/[A-Z]/u.test(n))}function dj(n,e,s,{latestValues:i},o,l=!1){const h=(yh(n)?cj:ij)(e,i,o,n),f=Jk(e,typeof n=="string",l),g=n!==D.Fragment?{...f,...h,ref:s}:{},{children:m}=e,v=D.useMemo(()=>xt(m)?m.get():m,[m]);return D.createElement(n,{...g,children:v})}function fg(n){const e=[{},{}];return n==null||n.values.forEach((s,i)=>{e[0][i]=s.get(),e[1][i]=s.getVelocity()}),e}function vh(n,e,s,i){if(typeof e=="function"){const[o,l]=fg(i);e=e(s!==void 0?s:n.custom,o,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,l]=fg(i);e=e(s!==void 0?s:n.custom,o,l)}return e}function Fa(n){return xt(n)?n.get():n}function hj({scrapeMotionValuesFromProps:n,createRenderState:e},s,i,o){return{latestValues:fj(s,i,o,n),renderState:e()}}function fj(n,e,s,i){const o={},l=i(n,{});for(const w in l)o[w]=Fa(l[w]);let{initial:c,animate:h}=n;const f=gl(n),g=Gv(n);e&&g&&!f&&n.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let m=s?s.initial===!1:!1;m=m||c===!1;const v=m?h:c;if(v&&typeof v!="boolean"&&!ml(v)){const w=Array.isArray(v)?v:[v];for(let _=0;_<w.length;_++){const S=vh(n,w[_]);if(S){const{transitionEnd:T,transition:b,...A}=S;for(const P in A){let E=A[P];if(Array.isArray(E)){const N=m?E.length-1:0;E=E[N]}E!==null&&(o[P]=E)}for(const P in T)o[P]=T[P]}}}return o}const e0=n=>(e,s)=>{const i=D.useContext(pl),o=D.useContext(fl),l=()=>hj(n,e,i,o);return s?l():Bd(l)};function wh(n,e,s){var l;const{style:i}=n,o={};for(const c in i)(xt(i[c])||e.style&&xt(e.style[c])||Yv(c,n)||((l=s==null?void 0:s.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(o[c]=i[c]);return o}const pj=e0({scrapeMotionValuesFromProps:wh,createRenderState:gh});function t0(n,e,s){const i=wh(n,e,s);for(const o in n)if(xt(n[o])||xt(e[o])){const l=Gr.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=n[o]}return i}const mj=e0({scrapeMotionValuesFromProps:t0,createRenderState:Xv}),gj=Symbol.for("motionComponentSymbol");function Rr(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function yj(n,e,s){return D.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),s&&(typeof s=="function"?s(i):Rr(s)&&(s.current=i))},[e])}const xh=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vj="framerAppearId",n0="data-"+xh(vj),s0=D.createContext({});function wj(n,e,s,i,o){var T,b;const{visualElement:l}=D.useContext(pl),c=D.useContext(Kv),h=D.useContext(fl),f=D.useContext(hh).reducedMotion,g=D.useRef(null);i=i||c.renderer,!g.current&&i&&(g.current=i(n,{visualState:e,parent:l,props:s,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const m=g.current,v=D.useContext(s0);m&&!m.projection&&o&&(m.type==="html"||m.type==="svg")&&xj(g.current,s,o,v);const w=D.useRef(!1);D.useInsertionEffect(()=>{m&&w.current&&m.update(s,h)});const _=s[n0],S=D.useRef(!!_&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,_))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,_)));return ev(()=>{m&&(w.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),S.current&&m.animationState&&m.animationState.animateChanges())}),D.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)==null||A.call(window,_)}),S.current=!1),m.enteringChildren=void 0)}),m}function xj(n,e,s,i){const{layoutId:o,layout:l,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:g,layoutCrossfade:m}=e;n.projection=new s(n.latestValues,e["data-framer-portal-id"]?void 0:r0(n.parent)),n.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||h&&Rr(h),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:f,layoutRoot:g})}function r0(n){if(n)return n.options.allowProjection!==!1?n.projection:r0(n.parent)}function ku(n,{forwardMotionProps:e=!1}={},s,i){s&&qk(s);const o=yh(n)?mj:pj;function l(h,f){let g;const m={...D.useContext(hh),...h,layoutId:_j(h)},{isStatic:v}=m,w=Xk(h),_=o(h,v);if(!v&&Wd){bj();const S=Sj(m);g=S.MeasureLayout,w.visualElement=wj(n,_,m,i,S.ProjectionNode)}return d.jsxs(pl.Provider,{value:w,children:[g&&w.visualElement?d.jsx(g,{visualElement:w.visualElement,...m}):null,dj(n,h,yj(_,w.visualElement,f),_,v,e)]})}l.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=D.forwardRef(l);return c[gj]=n,c}function _j({layoutId:n}){const e=D.useContext(Fd).id;return e&&n!==void 0?e+"-"+n:n}function bj(n,e){D.useContext(Kv).strict}function Sj(n){const{drag:e,layout:s}=Br;if(!e&&!s)return{};const i={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(n)||s!=null&&s.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function kj(n,e){if(typeof Proxy>"u")return ku;const s=new Map,i=(l,c)=>ku(l,c,n,e),o=(l,c)=>i(l,c);return new Proxy(o,{get:(l,c)=>c==="create"?i:(s.has(c)||s.set(c,ku(c,void 0,n,e)),s.get(c))})}function i0({top:n,left:e,right:s,bottom:i}){return{x:{min:e,max:s},y:{min:n,max:i}}}function jj({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Tj(n,e){if(!e)return n;const s=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:s.y,left:s.x,bottom:i.y,right:i.x}}function ju(n){return n===void 0||n===1}function ad({scale:n,scaleX:e,scaleY:s}){return!ju(n)||!ju(e)||!ju(s)}function Ps(n){return ad(n)||o0(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function o0(n){return pg(n.x)||pg(n.y)}function pg(n){return n&&n!=="0%"}function tl(n,e,s){const i=n-s,o=e*i;return s+o}function mg(n,e,s,i,o){return o!==void 0&&(n=tl(n,o,i)),tl(n,s,i)+e}function ld(n,e=0,s=1,i,o){n.min=mg(n.min,e,s,i,o),n.max=mg(n.max,e,s,i,o)}function a0(n,{x:e,y:s}){ld(n.x,e.translate,e.scale,e.originPoint),ld(n.y,s.translate,s.scale,s.originPoint)}const gg=.999999999999,yg=1.0000000000001;function Ej(n,e,s,i=!1){const o=s.length;if(!o)return;e.x=e.y=1;let l,c;for(let h=0;h<o;h++){l=s[h],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Or(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,a0(n,c)),i&&Ps(l.latestValues)&&Or(n,l.latestValues))}e.x<yg&&e.x>gg&&(e.x=1),e.y<yg&&e.y>gg&&(e.y=1)}function Ir(n,e){n.min=n.min+e,n.max=n.max+e}function vg(n,e,s,i,o=.5){const l=We(n.min,n.max,o);ld(n,e,s,l,i)}function Or(n,e){vg(n.x,e.x,e.scaleX,e.scale,e.originX),vg(n.y,e.y,e.scaleY,e.scale,e.originY)}function l0(n,e){return i0(Tj(n.getBoundingClientRect(),e))}function Cj(n,e,s){const i=l0(n,s),{scroll:o}=e;return o&&(Ir(i.x,o.offset.x),Ir(i.y,o.offset.y)),i}const wg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lr=()=>({x:wg(),y:wg()}),xg=()=>({min:0,max:0}),Ye=()=>({x:xg(),y:xg()}),cd={current:null},c0={current:!1};function Nj(){if(c0.current=!0,!!Wd)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>cd.current=n.matches;n.addEventListener("change",e),e()}else cd.current=!1}const Pj=new WeakMap;function Aj(n,e,s){for(const i in e){const o=e[i],l=s[i];if(xt(o))n.addValue(i,o);else if(xt(l))n.addValue(i,zr(o,{owner:n}));else if(l!==o)if(n.hasValue(i)){const c=n.getValue(i);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(i);n.addValue(i,zr(c!==void 0?c:o,{owner:n}))}}for(const i in s)e[i]===void 0&&n.removeValue(i);return e}const _g=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Rj{scrapeMotionValuesFromProps(e,s,i){return{}}constructor({parent:e,props:s,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ah,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Rt.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,ze.render(this.render,!1,!0))};const{latestValues:f,renderState:g}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=s.initial?{...f}:{},this.renderState=g,this.parent=e,this.props=s,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=gl(s),this.isVariantNode=Gv(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(s,{},this);for(const w in v){const _=v[w];f[w]!==void 0&&xt(_)&&_.set(f[w])}}mount(e){var s;this.current=e,Pj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),c0.current||Nj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cd.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ls(this.notifyUpdate),ls(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const i=this.features[s];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Yr.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=s.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ze.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Br){const s=Br[e];if(!s)continue;const{isEnabled:i,Feature:o}=s;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ye()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let i=0;i<_g.length;i++){const o=_g[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=Aj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const i=this.values.get(e);s!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&s!==void 0&&(i=zr(s===null?void 0:s,{owner:this}),this.addValue(e,i)),i}readValue(e,s){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(tv(i)||sv(i))?i=parseFloat(i):!Vk(i)&&cs.test(s)&&(i=$v(e,s)),this.setBaseTarget(e,xt(i)?i.get():i)),xt(i)?i.get():i}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var l;const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const c=vh(this.props,s,(l=this.presenceContext)==null?void 0:l.custom);c&&(i=c[e])}if(s&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!xt(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new Yd),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){uh.render(this.render)}}class u0 extends Rj{constructor(){super(...arguments),this.KeyframeResolver=Ck}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:i}){delete s[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xt(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function d0(n,{style:e,vars:s},i,o){const l=n.style;let c;for(c in e)l[c]=e[c];o==null||o.applyProjectionStyles(l,i);for(c in s)l.setProperty(c,s[c])}function Ij(n){return window.getComputedStyle(n)}class Oj extends u0{constructor(){super(...arguments),this.type="html",this.renderInstance=d0}readValueFromInstance(e,s){var i;if(Yr.has(s))return(i=this.projection)!=null&&i.isProjecting?ed(s):qS(e,s);{const o=Ij(e),l=(Xd(s)?o.getPropertyValue(s):o[s])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:s}){return l0(e,s)}build(e,s,i){mh(e,s,i.transformTemplate)}scrapeMotionValuesFromProps(e,s,i){return wh(e,s,i)}}const h0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Lj(n,e,s,i){d0(n,e,void 0,i);for(const o in e.attrs)n.setAttribute(h0.has(o)?o:xh(o),e.attrs[o])}class Mj extends u0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ye}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(Yr.has(s)){const i=Dv(s);return i&&i.default||0}return s=h0.has(s)?s:xh(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,i){return t0(e,s,i)}build(e,s,i){Qv(e,s,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,s,i,o){Lj(e,s,i,o)}mount(e){this.isSVGTag=Zv(e.tagName),super.mount(e)}}const Dj=(n,e)=>yh(n)?new Mj(e):new Oj(e,{allowProjection:n!==D.Fragment});function Ur(n,e,s){const i=n.getProps();return vh(i,e,s!==void 0?s:i.custom,n)}const ud=n=>Array.isArray(n);function $j(n,e,s){n.hasValue(e)?n.getValue(e).set(s):n.addValue(e,zr(s))}function Uj(n){return ud(n)?n[n.length-1]||0:n}function Vj(n,e){const s=Ur(n,e);let{transitionEnd:i={},transition:o={},...l}=s||{};l={...l,...i};for(const c in l){const h=Uj(l[c]);$j(n,c,h)}}function zj(n){return!!(xt(n)&&n.add)}function dd(n,e){const s=n.getValue("willChange");if(zj(s))return s.add(e);if(!s&&Ln.WillChange){const i=new Ln.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function f0(n){return n.props[n0]}const Fj=n=>n!==null;function Bj(n,{repeat:e,repeatType:s="loop"},i){const o=n.filter(Fj),l=e&&s!=="loop"&&e%2===1?0:o.length-1;return o[l]}const Wj={type:"spring",stiffness:500,damping:25,restSpeed:10},Hj=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Kj={type:"keyframes",duration:.8},qj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Gj=(n,{keyframes:e})=>e.length>2?Kj:Yr.has(n)?n.startsWith("scale")?Hj(e[1]):Wj:qj;function Yj({when:n,delay:e,delayChildren:s,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:h,from:f,elapsed:g,...m}){return!!Object.keys(m).length}const _h=(n,e,s,i={},o,l)=>c=>{const h=lh(i,n)||{},f=h.delay||i.delay||0;let{elapsed:g=0}=i;g=g-xn(f);const m={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-g,onUpdate:w=>{e.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:l?void 0:o};Yj(h)||Object.assign(m,Gj(n,m)),m.duration&&(m.duration=xn(m.duration)),m.repeatDelay&&(m.repeatDelay=xn(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(id(m),m.delay===0&&(v=!0)),(Ln.instantAnimations||Ln.skipAnimations)&&(v=!0,id(m),m.delay=0),m.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const w=Bj(m.keyframes,h);if(w!==void 0){ze.update(()=>{m.onUpdate(w),m.onComplete()});return}}return h.isSync?new oh(m):new gk(m)};function Jj({protectedKeys:n,needsAnimating:e},s){const i=n.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,i}function p0(n,e,{delay:s=0,transitionOverride:i,type:o}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:c,...h}=e;i&&(l=i);const f=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const m in h){const v=n.getValue(m,n.latestValues[m]??null),w=h[m];if(w===void 0||g&&Jj(g,m))continue;const _={delay:s,...lh(l||{},m)},S=v.get();if(S!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===S&&!_.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const A=f0(n);if(A){const P=window.MotionHandoffAnimation(A,m,ze);P!==null&&(_.startTime=P,T=!0)}}dd(n,m),v.start(_h(m,v,w,n.shouldReduceMotion&&Ov.has(m)?{type:!1}:_,n,T));const b=v.animation;b&&f.push(b)}return c&&Promise.all(f).then(()=>{ze.update(()=>{c&&Vj(n,c)})}),f}function m0(n,e,s,i=0,o=1){const l=Array.from(n).sort((g,m)=>g.sortNodePosition(m)).indexOf(e),c=n.size,h=(c-1)*i;return typeof s=="function"?s(l,c):o===1?l*i:h-l*i}function hd(n,e,s={}){var f;const i=Ur(n,e,s.type==="exit"?(f=n.presenceContext)==null?void 0:f.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(o=s.transitionOverride);const l=i?()=>Promise.all(p0(n,i,s)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:w}=o;return Qj(n,e,g,m,v,w,s)}:()=>Promise.resolve(),{when:h}=o;if(h){const[g,m]=h==="beforeChildren"?[l,c]:[c,l];return g().then(()=>m())}else return Promise.all([l(),c(s.delay)])}function Qj(n,e,s=0,i=0,o=0,l=1,c){const h=[];for(const f of n.variantChildren)f.notify("AnimationStart",e),h.push(hd(f,e,{...c,delay:s+(typeof i=="function"?0:i)+m0(n.variantChildren,f,i,o,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function Xj(n,e,s={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(l=>hd(n,l,s));i=Promise.all(o)}else if(typeof e=="string")i=hd(n,e,s);else{const o=typeof e=="function"?Ur(n,e,s.custom):e;i=Promise.all(p0(n,o,s))}return i.then(()=>{n.notify("AnimationComplete",e)})}function g0(n,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==n.length)return!1;for(let i=0;i<s;i++)if(e[i]!==n[i])return!1;return!0}const Zj=ph.length;function y0(n){if(!n)return;if(!n.isControllingVariants){const s=n.parent?y0(n.parent)||{}:{};return n.props.initial!==void 0&&(s.initial=n.props.initial),s}const e={};for(let s=0;s<Zj;s++){const i=ph[s],o=n.props[i];(ao(o)||o===!1)&&(e[i]=o)}return e}const eT=[...fh].reverse(),tT=fh.length;function nT(n){return e=>Promise.all(e.map(({animation:s,options:i})=>Xj(n,s,i)))}function sT(n){let e=nT(n),s=bg(),i=!0;const o=f=>(g,m)=>{var w;const v=Ur(n,m,f==="exit"?(w=n.presenceContext)==null?void 0:w.custom:void 0);if(v){const{transition:_,transitionEnd:S,...T}=v;g={...g,...T,...S}}return g};function l(f){e=f(n)}function c(f){const{props:g}=n,m=y0(n.parent)||{},v=[],w=new Set;let _={},S=1/0;for(let b=0;b<tT;b++){const A=eT[b],P=s[A],E=g[A]!==void 0?g[A]:m[A],N=ao(E),L=A===f?P.isActive:null;L===!1&&(S=b);let U=E===m[A]&&E!==g[A]&&N;if(U&&i&&n.manuallyAnimateOnMount&&(U=!1),P.protectedKeys={..._},!P.isActive&&L===null||!E&&!P.prevProp||ml(E)||typeof E=="boolean")continue;const B=rT(P.prevProp,E);let V=B||A===f&&P.isActive&&!U&&N||b>S&&N,G=!1;const be=Array.isArray(E)?E:[E];let Ie=be.reduce(o(A),{});L===!1&&(Ie={});const{prevResolvedValues:$e={}}=P,Pe={...$e,...Ie},Oe=W=>{V=!0,w.has(W)&&(G=!0,w.delete(W)),P.needsAnimating[W]=!0;const R=n.getValue(W);R&&(R.liveStyle=!1)};for(const W in Pe){const R=Ie[W],Y=$e[W];if(_.hasOwnProperty(W))continue;let M=!1;ud(R)&&ud(Y)?M=!g0(R,Y):M=R!==Y,M?R!=null?Oe(W):w.add(W):R!==void 0&&w.has(W)?Oe(W):P.protectedKeys[W]=!0}P.prevProp=E,P.prevResolvedValues=Ie,P.isActive&&(_={..._,...Ie}),i&&n.blockInitialAnimation&&(V=!1);const Ne=U&&B;V&&(!Ne||G)&&v.push(...be.map(W=>{const R={type:A};if(typeof W=="string"&&i&&!Ne&&n.manuallyAnimateOnMount&&n.parent){const{parent:Y}=n,M=Ur(Y,W);if(Y.enteringChildren&&M){const{delayChildren:k}=M.transition||{};R.delay=m0(Y.enteringChildren,n,k)}}return{animation:W,options:R}}))}if(w.size){const b={};if(typeof g.initial!="boolean"){const A=Ur(n,Array.isArray(g.initial)?g.initial[0]:g.initial);A&&A.transition&&(b.transition=A.transition)}w.forEach(A=>{const P=n.getBaseTarget(A),E=n.getValue(A);E&&(E.liveStyle=!0),b[A]=P??null}),v.push({animation:b})}let T=!!v.length;return i&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(T=!1),i=!1,T?e(v):Promise.resolve()}function h(f,g){var v;if(s[f].isActive===g)return Promise.resolve();(v=n.variantChildren)==null||v.forEach(w=>{var _;return(_=w.animationState)==null?void 0:_.setActive(f,g)}),s[f].isActive=g;const m=c(f);for(const w in s)s[w].protectedKeys={};return m}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>s,reset:()=>{s=bg()}}}function rT(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!g0(e,n):!1}function Ts(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bg(){return{animate:Ts(!0),whileInView:Ts(),whileHover:Ts(),whileTap:Ts(),whileDrag:Ts(),whileFocus:Ts(),exit:Ts()}}class us{constructor(e){this.isMounted=!1,this.node=e}update(){}}class iT extends us{constructor(e){super(e),e.animationState||(e.animationState=sT(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ml(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let oT=0;class aT extends us{constructor(){super(...arguments),this.id=oT++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);s&&!e&&o.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const lT={animation:{Feature:iT},exit:{Feature:aT}};function co(n,e,s,i={passive:!0}){return n.addEventListener(e,s,i),()=>n.removeEventListener(e,s)}function go(n){return{point:{x:n.pageX,y:n.pageY}}}const cT=n=>e=>dh(e)&&n(e,go(e));function Ji(n,e,s,i){return co(n,e,cT(s),i)}const v0=1e-4,uT=1-v0,dT=1+v0,w0=.01,hT=0-w0,fT=0+w0;function kt(n){return n.max-n.min}function pT(n,e,s){return Math.abs(n-e)<=s}function Sg(n,e,s,i=.5){n.origin=i,n.originPoint=We(e.min,e.max,n.origin),n.scale=kt(s)/kt(e),n.translate=We(s.min,s.max,n.origin)-n.originPoint,(n.scale>=uT&&n.scale<=dT||isNaN(n.scale))&&(n.scale=1),(n.translate>=hT&&n.translate<=fT||isNaN(n.translate))&&(n.translate=0)}function Qi(n,e,s,i){Sg(n.x,e.x,s.x,i?i.originX:void 0),Sg(n.y,e.y,s.y,i?i.originY:void 0)}function kg(n,e,s){n.min=s.min+e.min,n.max=n.min+kt(e)}function mT(n,e,s){kg(n.x,e.x,s.x),kg(n.y,e.y,s.y)}function jg(n,e,s){n.min=e.min-s.min,n.max=n.min+kt(e)}function Xi(n,e,s){jg(n.x,e.x,s.x),jg(n.y,e.y,s.y)}function Ht(n){return[n("x"),n("y")]}const x0=({current:n})=>n?n.ownerDocument.defaultView:null,Tg=(n,e)=>Math.abs(n-e);function gT(n,e){const s=Tg(n.x,e.x),i=Tg(n.y,e.y);return Math.sqrt(s**2+i**2)}class _0{constructor(e,s,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Eu(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,S=gT(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!S)return;const{point:T}=w,{timestamp:b}=mt;this.history.push({...T,timestamp:b});const{onStart:A,onMove:P}=this.handlers;_||(A&&A(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,w)},this.handlePointerMove=(w,_)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Tu(_,this.transformPagePoint),ze.update(this.updatePoint,!0)},this.handlePointerUp=(w,_)=>{this.end();const{onEnd:S,onSessionEnd:T,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Eu(w.type==="pointercancel"?this.lastMoveEventInfo:Tu(_,this.transformPagePoint),this.history);this.startEvent&&S&&S(w,A),T&&T(w,A)},!dh(e))return;this.dragSnapToOrigin=l,this.handlers=s,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=o||window;const h=go(e),f=Tu(h,this.transformPagePoint),{point:g}=f,{timestamp:m}=mt;this.history=[{...g,timestamp:m}];const{onSessionStart:v}=s;v&&v(e,Eu(f,this.history)),this.removeListeners=fo(Ji(this.contextWindow,"pointermove",this.handlePointerMove),Ji(this.contextWindow,"pointerup",this.handlePointerUp),Ji(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ls(this.updatePoint)}}function Tu(n,e){return e?{point:e(n.point)}:n}function Eg(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Eu({point:n},e){return{point:n,delta:Eg(n,b0(e)),offset:Eg(n,yT(e)),velocity:vT(e,.1)}}function yT(n){return n[0]}function b0(n){return n[n.length-1]}function vT(n,e){if(n.length<2)return{x:0,y:0};let s=n.length-1,i=null;const o=b0(n);for(;s>=0&&(i=n[s],!(o.timestamp-i.timestamp>xn(e)));)s--;if(!i)return{x:0,y:0};const l=Gt(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function wT(n,{min:e,max:s},i){return e!==void 0&&n<e?n=i?We(e,n,i.min):Math.max(n,e):s!==void 0&&n>s&&(n=i?We(s,n,i.max):Math.min(n,s)),n}function Cg(n,e,s){return{min:e!==void 0?n.min+e:void 0,max:s!==void 0?n.max+s-(n.max-n.min):void 0}}function xT(n,{top:e,left:s,bottom:i,right:o}){return{x:Cg(n.x,s,o),y:Cg(n.y,e,i)}}function Ng(n,e){let s=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([s,i]=[i,s]),{min:s,max:i}}function _T(n,e){return{x:Ng(n.x,e.x),y:Ng(n.y,e.y)}}function bT(n,e){let s=.5;const i=kt(n),o=kt(e);return o>i?s=ro(e.min,e.max-i,n.min):i>o&&(s=ro(n.min,n.max-o,e.min)),On(0,1,s)}function ST(n,e){const s={};return e.min!==void 0&&(s.min=e.min-n.min),e.max!==void 0&&(s.max=e.max-n.min),s}const fd=.35;function kT(n=fd){return n===!1?n=0:n===!0&&(n=fd),{x:Pg(n,"left","right"),y:Pg(n,"top","bottom")}}function Pg(n,e,s){return{min:Ag(n,e),max:Ag(n,s)}}function Ag(n,e){return typeof n=="number"?n:n[e]||0}const jT=new WeakMap;class TT{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ye(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(go(v).point)},c=(v,w)=>{const{drag:_,dragPropagation:S,onDragStart:T}=this.getProps();if(_&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Rk(_),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ht(A=>{let P=this.getAxisMotionValue(A).get()||0;if(_n.test(P)){const{projection:E}=this.visualElement;if(E&&E.layout){const N=E.layout.layoutBox[A];N&&(P=kt(N)*(parseFloat(P)/100))}}this.originPoint[A]=P}),T&&ze.postRender(()=>T(v,w)),dd(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},h=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:_,dragDirectionLock:S,onDirectionLock:T,onDrag:b}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:A}=w;if(S&&this.currentDirection===null){this.currentDirection=ET(A),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",w.point,A),this.updateAxis("y",w.point,A),this.visualElement.render(),b&&b(v,w)},f=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Ht(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)==null?void 0:w.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new _0(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:f,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:i,contextWindow:x0(this.visualElement)})}stop(e,s){const i=e||this.latestPointerEvent,o=s||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!i)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&ze.postRender(()=>h(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,i){const{drag:o}=this.getProps();if(!i||!Ia(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=wT(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;e&&Rr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=xT(i.layoutBox,e):this.constraints=!1,this.elastic=kT(s),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ht(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=ST(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!Rr(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=Cj(i,o.root,this.visualElement.getTransformPagePoint());let c=_T(o.layout.layoutBox,l);if(s){const h=s(jj(c));this.hasMutatedConstraints=!!h,h&&(c=i0(h))}return c}startAnimation(e){const{drag:s,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},g=Ht(m=>{if(!Ia(m,s,this.currentDirection))return;let v=f&&f[m]||{};c&&(v={min:0,max:0});const w=o?200:1e6,_=o?40:1e7,S={type:"inertia",velocity:i?e[m]:0,bounceStiffness:w,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(m,S)});return Promise.all(g).then(h)}startAxisValueAnimation(e,s){const i=this.getAxisMotionValue(e);return dd(this.visualElement,e),i.start(_h(e,i,0,s,this.visualElement,!1))}stopAnimation(){Ht(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ht(e=>{var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[s];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ht(s=>{const{drag:i}=this.getProps();if(!Ia(s,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(s);if(o&&o.layout){const{min:c,max:h}=o.layout.layoutBox[s];l.set(e[s]-We(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:i}=this.visualElement;if(!Rr(s)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Ht(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const f=h.get();o[c]=bT({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ht(c=>{if(!Ia(c,e,null))return;const h=this.getAxisMotionValue(c),{min:f,max:g}=this.constraints[c];h.set(We(f,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;jT.set(this.visualElement,this);const e=this.visualElement.current,s=Ji(e,"pointerdown",f=>{const{drag:g,dragListener:m=!0}=this.getProps();g&&m&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Rr(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ze.read(i);const c=co(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:g})=>{this.isDragging&&g&&(Ht(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=f[m].translate,v.set(v.get()+f[m].translate))}),this.visualElement.render())}));return()=>{c(),s(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=fd,dragMomentum:h=!0}=e;return{...e,drag:s,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function Ia(n,e,s){return(e===!0||e===n)&&(s===null||s===n)}function ET(n,e=10){let s=null;return Math.abs(n.y)>e?s="y":Math.abs(n.x)>e&&(s="x"),s}class CT extends us{constructor(e){super(e),this.removeGroupControls=Jt,this.removeListeners=Jt,this.controls=new TT(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rg=n=>(e,s)=>{n&&ze.postRender(()=>n(e,s))};class NT extends us{constructor(){super(...arguments),this.removePointerDownListener=Jt}onPointerDown(e){this.session=new _0(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:x0(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:Rg(e),onStart:Rg(s),onMove:i,onEnd:(l,c)=>{delete this.session,o&&ze.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=Ji(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ba={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ig(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const $i={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(fe.test(n))n=parseFloat(n);else return n;const s=Ig(n,e.target.x),i=Ig(n,e.target.y);return`${s}% ${i}%`}},PT={correct:(n,{treeScale:e,projectionDelta:s})=>{const i=n,o=cs.parse(n);if(o.length>5)return i;const l=cs.createTransformer(n),c=typeof o[0]!="number"?1:0,h=s.x.scale*e.x,f=s.y.scale*e.y;o[0+c]/=h,o[1+c]/=f;const g=We(h,f,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),l(o)}};let Cu=!1;class AT extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=e;Zk(RT),l&&(s.group&&s.group.add(l),i&&i.register&&o&&i.register(l),Cu&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Ba.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:i,drag:o,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,Cu=!0,o||e.layoutDependency!==s||s===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||ze.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),uh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:i}=this.props,{projection:o}=e;Cu=!0,o&&(o.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function S0(n){const[e,s]=Hv(),i=D.useContext(Fd);return d.jsx(AT,{...n,layoutGroup:i,switchLayoutGroup:D.useContext(s0),isPresent:e,safeToRemove:s})}const RT={borderRadius:{...$i,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$i,borderTopRightRadius:$i,borderBottomLeftRadius:$i,borderBottomRightRadius:$i,boxShadow:PT};function IT(n,e,s){const i=xt(n)?n:zr(n);return i.start(_h("",i,e,s)),i.animation}const OT=(n,e)=>n.depth-e.depth;class LT{constructor(){this.children=[],this.isDirty=!1}add(e){Hd(this.children,e),this.isDirty=!0}remove(e){Kd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(OT),this.isDirty=!1,this.children.forEach(e)}}function MT(n,e){const s=Rt.now(),i=({timestamp:o})=>{const l=o-s;l>=e&&(ls(i),n(l-e))};return ze.setup(i,!0),()=>ls(i)}const k0=["TopLeft","TopRight","BottomLeft","BottomRight"],DT=k0.length,Og=n=>typeof n=="string"?parseFloat(n):n,Lg=n=>typeof n=="number"||fe.test(n);function $T(n,e,s,i,o,l){o?(n.opacity=We(0,s.opacity??1,UT(i)),n.opacityExit=We(e.opacity??1,0,VT(i))):l&&(n.opacity=We(e.opacity??1,s.opacity??1,i));for(let c=0;c<DT;c++){const h=`border${k0[c]}Radius`;let f=Mg(e,h),g=Mg(s,h);if(f===void 0&&g===void 0)continue;f||(f=0),g||(g=0),f===0||g===0||Lg(f)===Lg(g)?(n[h]=Math.max(We(Og(f),Og(g),i),0),(_n.test(g)||_n.test(f))&&(n[h]+="%")):n[h]=g}(e.rotate||s.rotate)&&(n.rotate=We(e.rotate||0,s.rotate||0,i))}function Mg(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const UT=j0(0,.5,dv),VT=j0(.5,.95,Jt);function j0(n,e,s){return i=>i<n?0:i>e?1:s(ro(n,e,i))}function Dg(n,e){n.min=e.min,n.max=e.max}function Wt(n,e){Dg(n.x,e.x),Dg(n.y,e.y)}function $g(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function Ug(n,e,s,i,o){return n-=e,n=tl(n,1/s,i),o!==void 0&&(n=tl(n,1/o,i)),n}function zT(n,e=0,s=1,i=.5,o,l=n,c=n){if(_n.test(e)&&(e=parseFloat(e),e=We(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=We(l.min,l.max,i);n===l&&(h-=e),n.min=Ug(n.min,e,s,h,o),n.max=Ug(n.max,e,s,h,o)}function Vg(n,e,[s,i,o],l,c){zT(n,e[s],e[i],e[o],e.scale,l,c)}const FT=["x","scaleX","originX"],BT=["y","scaleY","originY"];function zg(n,e,s,i){Vg(n.x,e,FT,s?s.x:void 0,i?i.x:void 0),Vg(n.y,e,BT,s?s.y:void 0,i?i.y:void 0)}function Fg(n){return n.translate===0&&n.scale===1}function T0(n){return Fg(n.x)&&Fg(n.y)}function Bg(n,e){return n.min===e.min&&n.max===e.max}function WT(n,e){return Bg(n.x,e.x)&&Bg(n.y,e.y)}function Wg(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function E0(n,e){return Wg(n.x,e.x)&&Wg(n.y,e.y)}function Hg(n){return kt(n.x)/kt(n.y)}function Kg(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class HT{constructor(){this.members=[]}add(e){Hd(this.members,e),e.scheduleRender()}remove(e){if(Kd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(o=>e===o);if(s===0)return!1;let i;for(let o=s;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,s){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,s&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:i}=e;s.onExitComplete&&s.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function KT(n,e,s){let i="";const o=n.x.translate/e.x,l=n.y.translate/e.y,c=(s==null?void 0:s.z)||0;if((o||l||c)&&(i=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:g,rotate:m,rotateX:v,rotateY:w,skewX:_,skewY:S}=s;g&&(i=`perspective(${g}px) ${i}`),m&&(i+=`rotate(${m}deg) `),v&&(i+=`rotateX(${v}deg) `),w&&(i+=`rotateY(${w}deg) `),_&&(i+=`skewX(${_}deg) `),S&&(i+=`skewY(${S}deg) `)}const h=n.x.scale*e.x,f=n.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const Nu=["","X","Y","Z"],qT=1e3;let GT=0;function Pu(n,e,s,i){const{latestValues:o}=e;o[n]&&(s[n]=o[n],e.setStaticValue(n,0),i&&(i[n]=0))}function C0(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const s=f0(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:o,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(s,"transform",ze,!(o||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&C0(i)}function N0({attachResizeListener:n,defaultParent:e,measureScroll:s,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(c={},h=e==null?void 0:e()){this.id=GT++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(QT),this.nodes.forEach(t2),this.nodes.forEach(n2),this.nodes.forEach(XT)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new LT)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Yd),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const f=this.eventHandlers.get(c);f&&f.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Wv(c)&&!$k(c),this.instance=c;const{layoutId:h,layout:f,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),n){let m,v=0;const w=()=>this.root.updateBlockedByResize=!1;ze.read(()=>{v=window.innerWidth}),n(c,()=>{const _=window.innerWidth;_!==v&&(v=_,this.root.updateBlockedByResize=!0,m&&m(),m=MT(w,250),Ba.hasAnimatedSinceResize&&(Ba.hasAnimatedSinceResize=!1,this.nodes.forEach(Yg)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||g.getDefaultTransition()||a2,{onLayoutAnimationStart:T,onLayoutAnimationComplete:b}=g.getProps(),A=!this.targetLayout||!E0(this.targetLayout,_),P=!v&&w;if(this.options.layoutRoot||this.resumeFrom||P||v&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...lh(S,"layout"),onPlay:T,onComplete:b};(g.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(m,P)}else v||Yg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ls(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(s2),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&C0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Gg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(e2),this.nodes.forEach(YT),this.nodes.forEach(JT)):this.nodes.forEach(Gg),this.clearAllSnapshots();const h=Rt.now();mt.delta=On(0,1e3/60,h-mt.timestamp),mt.timestamp=h,mt.isProcessing=!0,vu.update.process(mt),vu.preRender.process(mt),vu.render.process(mt),mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,uh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ZT),this.sharedNodes.forEach(r2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kt(this.snapshot.measuredBox.x)&&!kt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!T0(this.projectionDelta),f=this.getTransformTemplate(),g=f?f(this.latestValues,""):void 0,m=g!==this.prevTransformTemplateValue;c&&this.instance&&(h||Ps(this.latestValues)||m)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return c&&(f=this.removeTransform(f)),l2(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:c}=this.options;if(!c)return Ye();const h=c.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(c2))){const{scroll:m}=this.root;m&&(Ir(h.x,m.offset.x),Ir(h.y,m.offset.y))}return h}removeElementScroll(c){var f;const h=Ye();if(Wt(h,c),(f=this.scroll)!=null&&f.wasRoot)return h;for(let g=0;g<this.path.length;g++){const m=this.path[g],{scroll:v,options:w}=m;m!==this.root&&v&&w.layoutScroll&&(v.wasRoot&&Wt(h,c),Ir(h.x,v.offset.x),Ir(h.y,v.offset.y))}return h}applyTransform(c,h=!1){const f=Ye();Wt(f,c);for(let g=0;g<this.path.length;g++){const m=this.path[g];!h&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Or(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ps(m.latestValues)&&Or(f,m.latestValues)}return Ps(this.latestValues)&&Or(f,this.latestValues),f}removeTransform(c){const h=Ye();Wt(h,c);for(let f=0;f<this.path.length;f++){const g=this.path[f];if(!g.instance||!Ps(g.latestValues))continue;ad(g.latestValues)&&g.updateSnapshot();const m=Ye(),v=g.measurePageBox();Wt(m,v),zg(h,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,m)}return Ps(this.latestValues)&&zg(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var w;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!(!this.layout||!(m||v))){if(this.resolvedRelativeTargetAt=mt.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Xi(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Wt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ye(),this.targetWithTransforms=Ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wt(this.target,this.layout.layoutBox),a0(this.target,this.targetDelta)):Wt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Xi(this.relativeTargetOrigin,this.target,_.target),Wt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ad(this.parent.latestValues)||o0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===mt.timestamp&&(f=!1),f)return;const{layout:g,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||m))return;Wt(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;Ej(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ye());const{target:_}=c;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($g(this.prevProjectionDelta.x,this.projectionDelta.x),$g(this.prevProjectionDelta.y,this.projectionDelta.y)),Qi(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!Kg(this.projectionDelta.x,this.prevProjectionDelta.x)||!Kg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lr(),this.projectionDelta=Lr(),this.projectionDeltaWithTransform=Lr()}setAnimationOrigin(c,h=!1){const f=this.snapshot,g=f?f.latestValues:{},m={...this.latestValues},v=Lr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=Ye(),_=f?f.source:void 0,S=this.layout?this.layout.source:void 0,T=_!==S,b=this.getStack(),A=!b||b.members.length<=1,P=!!(T&&!A&&this.options.crossfade===!0&&!this.path.some(o2));this.animationProgress=0;let E;this.mixTargetDelta=N=>{const L=N/1e3;Jg(v.x,c.x,L),Jg(v.y,c.y,L),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xi(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),i2(this.relativeTarget,this.relativeTargetOrigin,w,L),E&&WT(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Ye()),Wt(E,this.relativeTarget)),T&&(this.animationValues=m,$T(m,g,this.latestValues,L,P,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,f,g;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(g=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||g.stop(),this.pendingAnimation&&(ls(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ze.update(()=>{Ba.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=zr(0)),this.currentAnimation=IT(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:f,layout:g,latestValues:m}=c;if(!(!h||!f||!g)){if(this!==c&&this.layout&&g&&P0(this.options.animationType,this.layout.layoutBox,g.layoutBox)){f=this.target||Ye();const v=kt(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+v;const w=kt(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+w}Wt(h,f),Or(h,m),Qi(this.projectionDeltaWithTransform,this.layoutCorrected,h,m)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new HT),this.sharedNodes.get(c).add(h);const g=h.options.initialPromotionConfig;h.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:f}={}){const g=this.getStack();g&&g.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const g={};f.z&&Pu("z",c,g,this.animationValues);for(let m=0;m<Nu.length;m++)Pu(`rotate${Nu[m]}`,c,g,this.animationValues),Pu(`skew${Nu[m]}`,c,g,this.animationValues);c.render();for(const m in g)c.setStaticValue(m,g[m]),this.animationValues&&(this.animationValues[m]=g[m]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Fa(h==null?void 0:h.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Fa(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Ps(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const m=g.animationValues||g.latestValues;this.applyTransformsToTarget();let v=KT(this.projectionDeltaWithTransform,this.treeScale,m);f&&(v=f(m,v)),c.transform=v;const{x:w,y:_}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${_.origin*100}% 0`,g.animationValues?c.opacity=g===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=g===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const S in lo){if(m[S]===void 0)continue;const{correct:T,applyTo:b,isCSSVariable:A}=lo[S],P=v==="none"?m[S]:T(m[S],g);if(b){const E=b.length;for(let N=0;N<E;N++)c[b[N]]=P}else A?this.options.visualElement.renderState.vars[S]=P:c[S]=P}this.options.layoutId&&(c.pointerEvents=g===this?Fa(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(qg),this.root.sharedNodes.clear()}}}function YT(n){n.updateLayout()}function JT(n){var s;const e=((s=n.resumeFrom)==null?void 0:s.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=n.layout,{animationType:l}=n.options,c=e.source!==n.layout.source;l==="size"?Ht(v=>{const w=c?e.measuredBox[v]:e.layoutBox[v],_=kt(w);w.min=i[v].min,w.max=w.min+_}):P0(l,e.layoutBox,i)&&Ht(v=>{const w=c?e.measuredBox[v]:e.layoutBox[v],_=kt(i[v]);w.max=w.min+_,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+_)});const h=Lr();Qi(h,i,e.layoutBox);const f=Lr();c?Qi(f,n.applyTransform(o,!0),e.measuredBox):Qi(f,i,e.layoutBox);const g=!T0(h);let m=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:w,layout:_}=v;if(w&&_){const S=Ye();Xi(S,e.layoutBox,w.layoutBox);const T=Ye();Xi(T,i,_.layoutBox),E0(S,T)||(m=!0),v.options.layoutRoot&&(n.relativeTarget=T,n.relativeTargetOrigin=S,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:f,layoutDelta:h,hasLayoutChanged:g,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function QT(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function XT(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function ZT(n){n.clearSnapshot()}function qg(n){n.clearMeasurements()}function Gg(n){n.isLayoutDirty=!1}function e2(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Yg(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function t2(n){n.resolveTargetDelta()}function n2(n){n.calcProjection()}function s2(n){n.resetSkewAndRotation()}function r2(n){n.removeLeadSnapshot()}function Jg(n,e,s){n.translate=We(e.translate,0,s),n.scale=We(e.scale,1,s),n.origin=e.origin,n.originPoint=e.originPoint}function Qg(n,e,s,i){n.min=We(e.min,s.min,i),n.max=We(e.max,s.max,i)}function i2(n,e,s,i){Qg(n.x,e.x,s.x,i),Qg(n.y,e.y,s.y,i)}function o2(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const a2={duration:.45,ease:[.4,0,.1,1]},Xg=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Zg=Xg("applewebkit/")&&!Xg("chrome/")?Math.round:Jt;function ey(n){n.min=Zg(n.min),n.max=Zg(n.max)}function l2(n){ey(n.x),ey(n.y)}function P0(n,e,s){return n==="position"||n==="preserve-aspect"&&!pT(Hg(e),Hg(s),.2)}function c2(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const u2=N0({attachResizeListener:(n,e)=>co(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Au={current:void 0},A0=N0({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Au.current){const n=new u2({});n.mount(window),n.setOptions({layoutScroll:!0}),Au.current=n}return Au.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),d2={pan:{Feature:NT},drag:{Feature:CT,ProjectionNode:A0,MeasureLayout:S0}};function ty(n,e,s){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",s==="Start");const o="onHover"+s,l=i[o];l&&ze.postRender(()=>l(e,go(e)))}class h2 extends us{mount(){const{current:e}=this.node;e&&(this.unmount=Ik(e,(s,i)=>(ty(this.node,i,"Start"),o=>ty(this.node,o,"End"))))}unmount(){}}class f2 extends us{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fo(co(this.node.current,"focus",()=>this.onFocus()),co(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ny(n,e,s){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",s==="Start");const o="onTap"+(s==="End"?"":s),l=i[o];l&&ze.postRender(()=>l(e,go(e)))}class p2 extends us{mount(){const{current:e}=this.node;e&&(this.unmount=Dk(e,(s,i)=>(ny(this.node,i,"Start"),(o,{success:l})=>ny(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const pd=new WeakMap,Ru=new WeakMap,m2=n=>{const e=pd.get(n.target);e&&e(n)},g2=n=>{n.forEach(m2)};function y2({root:n,...e}){const s=n||document;Ru.has(s)||Ru.set(s,{});const i=Ru.get(s),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(g2,{root:n,...e})),i[o]}function v2(n,e,s){const i=y2(e);return pd.set(n,s),i.observe(n),()=>{pd.delete(n),i.unobserve(n)}}const w2={some:0,all:1};class x2 extends us{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:i,amount:o="some",once:l}=e,c={root:s?s.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:w2[o]},h=f=>{const{isIntersecting:g}=f;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),w=g?m:v;w&&w(f)};return v2(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(_2(e,s))&&this.startObserver()}unmount(){}}function _2({viewport:n={}},{viewport:e={}}={}){return s=>n[s]!==e[s]}const b2={inView:{Feature:x2},tap:{Feature:p2},focus:{Feature:f2},hover:{Feature:h2}},S2={layout:{ProjectionNode:A0,MeasureLayout:S0}},k2={...lT,...b2,...d2,...S2},pe=kj(k2,Dj);function j2({onSignUp:n,onSignIn:e,onDemoUser:s}){return d.jsx("div",{className:"min-h-screen bg-background flex flex-col justify-center p-4",children:d.jsx("div",{className:"max-w-4xl mx-auto w-full",children:d.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-center",children:[d.jsxs("div",{className:"space-y-8",children:[d.jsxs(pe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center lg:text-left",children:[d.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-3 mb-6",children:[d.jsx(pe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-16 h-16 bg-accent rounded-full flex items-center justify-center",children:d.jsx(so,{className:"w-8 h-8 text-accent-foreground"})}),d.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-foreground",children:"VibeTune"})]}),d.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-4",children:[d.jsx("h2",{className:"text-2xl lg:text-3xl font-semibold text-foreground",children:"Master English Prosody with AI"}),d.jsx("p",{className:"text-lg text-muted-foreground",children:"Perfect your pronunciation, rhythm, and intonation through personalized AI conversations"}),d.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-2 pt-2",children:[d.jsx(De,{className:"bg-success text-success-foreground",children:" AI-Powered"}),d.jsx(De,{variant:"outline",children:"No Setup Required"})]})]})]}),d.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-4 max-w-md mx-auto lg:mx-0",children:[d.jsx(pe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(ae,{onClick:n,className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",size:"lg",children:[d.jsx($b,{className:"w-5 h-5 mr-2"}),"Sign Up"]})}),d.jsx(pe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(ae,{onClick:e,variant:"outline",className:"w-full",size:"lg",children:[d.jsx(Z_,{className:"w-5 h-5 mr-2"}),"Log In"]})})]}),s&&d.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"max-w-md mx-auto lg:mx-0",children:d.jsxs("div",{className:"border-2 border-success/30 bg-success/10 rounded-lg p-4 space-y-3",children:[d.jsx("p",{className:"text-sm font-medium text-success-foreground text-center",children:" Testing Mode"}),d.jsx(ae,{onClick:()=>{console.log(" Creating demo user from onboarding...");const i={id:"demo-user-"+Date.now(),email:"demo@vibetune.com",username:"Demo User",level:null,placement_test_completed:!1,created_at:new Date().toISOString(),last_login:new Date().toISOString(),device_id:"demo-device-"+Date.now()};console.log(" Demo profile created:",i),console.log(" Calling onDemoUser..."),s(i)},className:"w-full bg-success hover:bg-success/90 text-success-foreground font-semibold",children:" Skip to App with Demo User"}),d.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Test navigation without authentication"})]})}),d.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-center lg:text-left",children:d.jsx("p",{className:"text-xs text-muted-foreground max-w-md mx-auto lg:mx-0",children:"Sign up required to access features  Placement test takes 10-15 minutes and personalizes your experience"})})]}),d.jsx(pe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:1},className:"hidden lg:block",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-center mb-6",children:"See Your Progress"}),d.jsxs(it,{className:"bg-card/80 backdrop-blur-sm",children:[d.jsx(un,{className:"pb-3",children:d.jsxs(qt,{className:"flex items-center gap-2 text-lg",children:[d.jsx(wn,{className:"w-5 h-5 text-success"}),"Your Progress"]})}),d.jsxs(ot,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm",children:"Prosody Score"}),d.jsx(De,{className:"bg-success text-success-foreground",children:"85%"})]}),d.jsx(dl,{value:85,className:"h-2"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm",children:"Current Level"}),d.jsx(De,{variant:"outline",children:"Intermediate"})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm",children:"Practice Sessions"}),d.jsx("span",{className:"text-sm font-medium",children:"12 completed"})]})]})]})]}),d.jsxs(it,{className:"bg-card/80 backdrop-blur-sm",children:[d.jsx(un,{className:"pb-3",children:d.jsxs(qt,{className:"flex items-center gap-2 text-lg",children:[d.jsx(Pr,{className:"w-5 h-5 text-accent"}),"AI Feedback"]})}),d.jsxs(ot,{children:[d.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mb-3",children:d.jsxs("p",{className:"text-sm",children:['"I went to the ',d.jsx("span",{className:"bg-destructive/20 px-1 rounded",children:"store"}),' yesterday."']})}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(zm,{className:"w-4 h-4 text-accent mt-0.5 flex-shrink-0"}),d.jsx("p",{className:"text-xs",children:'Try emphasizing "store" with rising intonation'})]}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(zm,{className:"w-4 h-4 text-success mt-0.5 flex-shrink-0"}),d.jsx("p",{className:"text-xs",children:'Great rhythm on "yesterday"!'})]})]})]})]})]})})]})})})}function Mr({className:n,type:e,...s}){return d.jsx("input",{type:e,"data-slot":"input",className:Te("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...s})}function pt({className:n,...e}){return d.jsx(u1.Root,{"data-slot":"label",className:Te("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function gn({className:n,orientation:e="horizontal",decorative:s=!0,...i}){return d.jsx(d1.Root,{"data-slot":"separator-root",decorative:s,orientation:e,className:Te("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...i})}const T2=Ld("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Fs({className:n,variant:e,...s}){return d.jsx("div",{"data-slot":"alert",role:"alert",className:Te(T2({variant:e}),n),...s})}function Bs({className:n,...e}){return d.jsx("div",{"data-slot":"alert-description",className:Te("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}const E2="modulepreload",C2=function(n){return"/"+n},sy={},Yt=function(e,s,i){let o=Promise.resolve();if(s&&s.length>0){let c=function(g){return Promise.all(g.map(m=>Promise.resolve(m).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=c(s.map(g=>{if(g=C2(g),g in sy)return;sy[g]=!0;const m=g.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":E2,m||(w.as="script"),w.crossOrigin="",w.href=g,f&&w.setAttribute("nonce",f),document.head.appendChild(w),m)return new Promise((_,S)=>{w.addEventListener("load",_),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return o.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},N2=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...s)=>Yt(async()=>{const{default:i}=await Promise.resolve().then(()=>Jr);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)};class bh extends Error{constructor(e,s="FunctionsError",i){super(e),this.name=s,this.context=i}}class ry extends bh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class iy extends bh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class oy extends bh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var md;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(md||(md={}));var P2=function(n,e,s,i){function o(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function h(m){try{g(i.next(m))}catch(v){c(v)}}function f(m){try{g(i.throw(m))}catch(v){c(v)}}function g(m){m.done?l(m.value):o(m.value).then(h,f)}g((i=i.apply(n,e||[])).next())})};class A2{constructor(e,{headers:s={},customFetch:i,region:o=md.Any}={}){this.url=e,this.headers=s,this.region=o,this.fetch=N2(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return P2(this,arguments,void 0,function*(s,i={}){var o;try{const{headers:l,method:c,body:h,signal:f}=i;let g={},{region:m}=i;m||(m=this.region);const v=new URL(`${this.url}/${s}`);m&&m!=="any"&&(g["x-region"]=m,v.searchParams.set("forceFunctionRegion",m));let w;h&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(g["Content-Type"]="text/plain",w=h):typeof FormData<"u"&&h instanceof FormData?w=h:(g["Content-Type"]="application/json",w=JSON.stringify(h)));const _=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:w,signal:f}).catch(A=>{throw A.name==="AbortError"?A:new ry(A)}),S=_.headers.get("x-relay-error");if(S&&S==="true")throw new iy(_);if(!_.ok)throw new oy(_);let T=((o=_.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),b;return T==="application/json"?b=yield _.json():T==="application/octet-stream"?b=yield _.blob():T==="text/event-stream"?b=_:T==="multipart/form-data"?b=yield _.formData():b=yield _.text(),{data:b,error:null,response:_}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new ry(l)}:{data:null,error:l,response:l instanceof oy||l instanceof iy?l.context:void 0}}})}}var dt={},yr={},vr={},wr={},xr={},_r={},R2=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wr=R2();const I2=Wr.fetch,R0=Wr.fetch.bind(Wr),I0=Wr.Headers,O2=Wr.Request,L2=Wr.Response,Jr=Object.freeze(Object.defineProperty({__proto__:null,Headers:I0,Request:O2,Response:L2,default:R0,fetch:I2},Symbol.toStringTag,{value:"Module"})),M2=f1(Jr);var Oa={},ay;function O0(){if(ay)return Oa;ay=1,Object.defineProperty(Oa,"__esModule",{value:!0});class n extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Oa.default=n,Oa}var ly;function L0(){if(ly)return _r;ly=1;var n=_r&&_r.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(_r,"__esModule",{value:!0});const e=n(M2),s=n(O0());class i{constructor(l){var c,h;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(h=l.isMaybeSingle)!==null&&h!==void 0?h:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let f=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var m,v,w,_;let S=null,T=null,b=null,A=g.status,P=g.statusText;if(g.ok){if(this.method!=="HEAD"){const U=await g.text();U===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?T=U:T=JSON.parse(U))}const N=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),L=(w=g.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");N&&L&&L.length>1&&(b=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(S={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,b=null,A=406,P="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const N=await g.text();try{S=JSON.parse(N),Array.isArray(S)&&g.status===404&&(T=[],S=null,A=200,P="OK")}catch{g.status===404&&N===""?(A=204,P="No Content"):S={message:N}}if(S&&this.isMaybeSingle&&(!((_=S==null?void 0:S.details)===null||_===void 0)&&_.includes("0 rows"))&&(S=null,A=200,P="OK"),S&&this.shouldThrowOnError)throw new s.default(S)}return{error:S,data:T,count:b,status:A,statusText:P}});return this.shouldThrowOnError||(f=f.catch(g=>{var m,v,w;return{error:{message:`${(m=g==null?void 0:g.name)!==null&&m!==void 0?m:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(v=g==null?void 0:g.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(w=g==null?void 0:g.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),f.then(l,c)}returns(){return this}overrideTypes(){return this}}return _r.default=i,_r}var cy;function M0(){if(cy)return xr;cy=1;var n=xr&&xr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(xr,"__esModule",{value:!0});const e=n(L0());class s extends e.default{select(o){let l=!1;const c=(o??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:c,foreignTable:h,referencedTable:f=h}={}){const g=f?`${f}.order`:"order",m=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${m?`${m},`:""}${o}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:c=l}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,l,{foreignTable:c,referencedTable:h=c}={}){const f=typeof h>"u"?"offset":`${h}.offset`,g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(g,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:c=!1,buffers:h=!1,wal:f=!1,format:g="text"}={}){var m;const v=[o?"analyze":null,l?"verbose":null,c?"settings":null,h?"buffers":null,f?"wal":null].filter(Boolean).join("|"),w=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${w}"; options=${v};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return xr.default=s,xr}var uy;function Sh(){if(uy)return wr;uy=1;var n=wr&&wr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(wr,"__esModule",{value:!0});const e=n(M0());class s extends e.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}in(o,l){const c=Array.from(new Set(l)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:c,type:h}={}){let f="";h==="plain"?f="pl":h==="phrase"?f="ph":h==="websearch"&&(f="w");const g=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${f}fts${g}.${l}`),this}match(o){return Object.entries(o).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(o,l,c){return this.url.searchParams.append(o,`not.${l}.${c}`),this}or(o,{foreignTable:l,referencedTable:c=l}={}){const h=c?`${c}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,l,c){return this.url.searchParams.append(o,`${l}.${c}`),this}}return wr.default=s,wr}var dy;function D0(){if(dy)return vr;dy=1;var n=vr&&vr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(vr,"__esModule",{value:!0});const e=n(Sh());class s{constructor(o,{headers:l={},schema:c,fetch:h}){this.url=o,this.headers=new Headers(l),this.schema=c,this.fetch=h}select(o,l){const{head:c=!1,count:h}=l??{},f=c?"HEAD":"GET";let g=!1;const m=(o??"*").split("").map(v=>/\s/.test(v)&&!g?"":(v==='"'&&(g=!g),v)).join("");return this.url.searchParams.set("select",m),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:c=!0}={}){var h;const f="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const g=o.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(g.length>0){const m=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:c=!1,count:h,defaultToNull:f=!0}={}){var g;const m="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),h&&this.headers.append("Prefer",`count=${h}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const v=o.reduce((w,_)=>w.concat(Object.keys(_)),[]);if(v.length>0){const w=[...new Set(v)].map(_=>`"${_}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(o,{count:l}={}){var c;const h="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:o}={}){var l;const c="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return vr.default=s,vr}var hy;function D2(){if(hy)return yr;hy=1;var n=yr&&yr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(yr,"__esModule",{value:!0});const e=n(D0()),s=n(Sh());class i{constructor(l,{headers:c={},schema:h,fetch:f}={}){this.url=l,this.headers=new Headers(c),this.schemaName=h,this.fetch=f}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:h=!1,get:f=!1,count:g}={}){var m;let v;const w=new URL(`${this.url}/rpc/${l}`);let _;h||f?(v=h?"HEAD":"GET",Object.entries(c).filter(([T,b])=>b!==void 0).map(([T,b])=>[T,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([T,b])=>{w.searchParams.append(T,b)})):(v="POST",_=c);const S=new Headers(this.headers);return g&&S.set("Prefer",`count=${g}`),new s.default({method:v,url:w,headers:S,schema:this.schemaName,body:_,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return yr.default=i,yr}var fy;function $2(){if(fy)return dt;fy=1;var n=dt&&dt.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(dt,"__esModule",{value:!0}),dt.PostgrestError=dt.PostgrestBuilder=dt.PostgrestTransformBuilder=dt.PostgrestFilterBuilder=dt.PostgrestQueryBuilder=dt.PostgrestClient=void 0;const e=n(D2());dt.PostgrestClient=e.default;const s=n(D0());dt.PostgrestQueryBuilder=s.default;const i=n(Sh());dt.PostgrestFilterBuilder=i.default;const o=n(M0());dt.PostgrestTransformBuilder=o.default;const l=n(L0());dt.PostgrestBuilder=l.default;const c=n(O0());return dt.PostgrestError=c.default,dt.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default},dt}var U2=$2();const V2=My(U2),{PostgrestClient:z2,PostgrestQueryBuilder:$N,PostgrestFilterBuilder:UN,PostgrestTransformBuilder:VN,PostgrestBuilder:zN,PostgrestError:FN}=V2;class F2{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const i=s.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const i=this.getWebSocketConstructor();return new i(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const B2="2.75.0",W2=`realtime-js/${B2}`,H2="1.0.0",gd=1e4,K2=1e3,q2=100;var Zi;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Zi||(Zi={}));var rt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(rt||(rt={}));var ln;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(ln||(ln={}));var yd;(function(n){n.websocket="websocket"})(yd||(yd={}));var Rs;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Rs||(Rs={}));class G2{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,s,i)}_decodeBroadcast(e,s,i){const o=s.getUint8(1),l=s.getUint8(2);let c=this.HEADER_LENGTH+2;const h=i.decode(e.slice(c,c+o));c=c+o;const f=i.decode(e.slice(c,c+l));c=c+l;const g=JSON.parse(i.decode(e.slice(c,e.byteLength)));return{ref:null,topic:h,event:f,payload:g}}}class $0{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Re;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Re||(Re={}));const py=(n,e,s={})=>{var i;const o=(i=s.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=Y2(c,n,e,o),l),{}):{}},Y2=(n,e,s,i)=>{const o=e.find(h=>h.name===n),l=o==null?void 0:o.type,c=s[n];return l&&!i.includes(l)?U0(l,c):vd(c)},U0=(n,e)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return Z2(e,s)}switch(n){case Re.bool:return J2(e);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return Q2(e);case Re.json:case Re.jsonb:return X2(e);case Re.timestamp:return eE(e);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return vd(e);default:return vd(e)}},vd=n=>n,J2=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Q2=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},X2=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Z2=(n,e)=>{if(typeof n!="string")return n;const s=n.length-1,i=n[s];if(n[0]==="{"&&i==="}"){let l;const c=n.slice(1,s);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(h=>U0(e,h))}return n},eE=n=>typeof n=="string"?n.replace(" ","T"):n,V0=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Iu{constructor(e,s,i={},o=gd){this.channel=e,this.event=s,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var i;return this._hasReceived(e)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var my;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(my||(my={}));class eo{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=eo.syncState(this.state,o,l,c),this.pendingDiffs.forEach(f=>{this.state=eo.syncDiff(this.state,f,l,c)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=eo.syncDiff(this.state,o,l,c),h())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,i,o){const l=this.cloneDeep(e),c=this.transformState(s),h={},f={};return this.map(l,(g,m)=>{c[g]||(f[g]=m)}),this.map(c,(g,m)=>{const v=l[g];if(v){const w=m.map(b=>b.presence_ref),_=v.map(b=>b.presence_ref),S=m.filter(b=>_.indexOf(b.presence_ref)<0),T=v.filter(b=>w.indexOf(b.presence_ref)<0);S.length>0&&(h[g]=S),T.length>0&&(f[g]=T)}else h[g]=m}),this.syncDiff(l,{joins:h,leaves:f},i,o)}static syncDiff(e,s,i,o){const{joins:l,leaves:c}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(l,(h,f)=>{var g;const m=(g=e[h])!==null&&g!==void 0?g:[];if(e[h]=this.cloneDeep(f),m.length>0){const v=e[h].map(_=>_.presence_ref),w=m.filter(_=>v.indexOf(_.presence_ref)<0);e[h].unshift(...w)}i(h,m,f)}),this.map(c,(h,f)=>{let g=e[h];if(!g)return;const m=f.map(v=>v.presence_ref);g=g.filter(v=>m.indexOf(v.presence_ref)<0),e[h]=g,o(h,g,f),g.length===0&&delete e[h]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(i=>s(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,i)=>{const o=e[i];return"metas"in o?s[i]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):s[i]=o,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gy;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(gy||(gy={}));var to;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(to||(to={}));var Rn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Rn||(Rn={}));class kh{constructor(e,s={config:{}},i){var o,l;if(this.topic=e,this.params=s,this.socket=i,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Iu(this,ln.join,this.params,this.timeout),this.rejoinTimer=new $0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ln.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new eo(this),this.broadcastEndpointURL=V0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var i,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==rt.closed){const{config:{broadcast:c,presence:h,private:f}}=this.params,g=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&o!==void 0?o:[],m=!!this.bindings[to.PRESENCE]&&this.bindings[to.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},w={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:m}),postgres_changes:g,private:f};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>e==null?void 0:e(Rn.CHANNEL_ERROR,_)),this._onClose(()=>e==null?void 0:e(Rn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:_})=>{var S;if(this.socket.setAuth(),_===void 0){e==null||e(Rn.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,b=(S=T==null?void 0:T.length)!==null&&S!==void 0?S:0,A=[];for(let P=0;P<b;P++){const E=T[P],{filter:{event:N,schema:L,table:U,filter:B}}=E,V=_&&_[P];if(V&&V.event===N&&V.schema===L&&V.table===U&&V.filter===B)A.push(Object.assign(Object.assign({},E),{id:V.id}));else{this.unsubscribe(),this.state=rt.errored,e==null||e(Rn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(Rn.SUBSCRIBED);return}}).receive("error",_=>{this.state=rt.errored,e==null||e(Rn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Rn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,i){return this.state===rt.joined&&e===to.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,i)}async send(e,s={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:c}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,h,f;const g=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),g.receive("ok",()=>l("ok")),g.receive("error",()=>l("error")),g.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=rt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ln.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Iu(this,ln.leave,{},e),i.receive("ok",()=>{s(),o("ok")}).receive("timeout",()=>{s(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rt.closed,this.bindings={}}async _fetchWithTimeout(e,s,i){const o=new AbortController,l=setTimeout(()=>o.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:o.signal}));return clearTimeout(l),c}_push(e,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Iu(this,e,s,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>q2){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,i){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,i){var o,l;const c=e.toLocaleLowerCase(),{close:h,error:f,leave:g,join:m}=ln;if(i&&[h,f,g,m].indexOf(c)>=0&&i!==this._joinRef())return;let w=this._onMessage(c,s,i);if(s&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var S,T,b;return((S=_.filter)===null||S===void 0?void 0:S.event)==="*"||((b=(T=_.filter)===null||T===void 0?void 0:T.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===c}).map(_=>_.callback(w,i)):(l=this.bindings[c])===null||l===void 0||l.filter(_=>{var S,T,b,A,P,E;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in _){const N=_.id,L=(S=_.filter)===null||S===void 0?void 0:S.event;return N&&((T=s.ids)===null||T===void 0?void 0:T.includes(N))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((b=s.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const N=(P=(A=_==null?void 0:_.filter)===null||A===void 0?void 0:A.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return N==="*"||N===((E=s==null?void 0:s.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===c}).map(_=>{if(typeof w=="object"&&"ids"in w){const S=w.data,{schema:T,table:b,commit_timestamp:A,type:P,errors:E}=S;w=Object.assign(Object.assign({},{schema:T,table:b,commit_timestamp:A,eventType:P,new:{},old:{},errors:E}),this._getPayloadRecords(S))}_.callback(w,i)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,i){const o=e.toLocaleLowerCase(),l={type:o,filter:s,callback:i};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,s){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&kh.isEqual(o.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const i in e)if(e[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ln.close,{},e)}_onError(e){this._on(ln.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=py(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=py(e.columns,e.old_record)),s}}const Ou=()=>{},La={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tE=[1e3,2e3,5e3,1e4],nE=1e4,sE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rE{constructor(e,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gd,this.transport=null,this.heartbeatIntervalMs=La.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ou,this.ref=0,this.reconnectTimer=null,this.logger=Ou,this.conn=null,this.sendBuffer=[],this.serializer=new G2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...c)=>Yt(async()=>{const{default:h}=await Promise.resolve().then(()=>Jr);return{default:h}},void 0).then(({default:h})=>h(...c)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...c)=>l(...c)},!(!((i=s==null?void 0:s.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${yd.websocket}`,this.httpEndpoint=V0(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=F2.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:H2}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,i){this.logger(e,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Zi.connecting:return Rs.Connecting;case Zi.open:return Rs.Open;case Zi.closing:return Rs.Closing;default:return Rs.Closed}}isConnected(){return this.connectionState()===Rs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===i);if(o)return o;{const l=new kh(`realtime:${e}`,s,this);return this.channels.push(l),l}}push(e){const{topic:s,event:i,payload:o,ref:l}=e,c=()=>{this.encode(e,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${s} ${i} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(K2,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},La.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:l,ref:c}=s,h=c?`(${c})`:"",f=l.status||"";this.log("receive",`${f} ${i} ${o} ${h}`.trim(),l),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(o,l,c)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ln.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(s);return`${e}${i}${o}`}_workerObjectUrl(e){let s;if(e)s=e;else{const i=new Blob([sE],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const o={access_token:s,version:W2};s&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(ln.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(s)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new $0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},La.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,i,o,l,c,h,f,g,m;if(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:gd,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:La.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:Ou,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(v=>tE[v-1]||nE),this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:((v,w)=>w(JSON.stringify(v))),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class jh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ze(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class iE extends jh{constructor(e,s,i){super(e),this.name="StorageApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wd extends jh{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var oE=function(n,e,s,i){function o(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function h(m){try{g(i.next(m))}catch(v){c(v)}}function f(m){try{g(i.throw(m))}catch(v){c(v)}}function g(m){m.done?l(m.value):o(m.value).then(h,f)}g((i=i.apply(n,e||[])).next())})};const z0=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...s)=>Yt(async()=>{const{default:i}=await Promise.resolve().then(()=>Jr);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)},aE=()=>oE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yt(()=>Promise.resolve().then(()=>Jr),void 0)).Response:Response}),xd=n=>{if(Array.isArray(n))return n.map(s=>xd(s));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([s,i])=>{const o=s.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=xd(i)}),e},lE=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Ws=function(n,e,s,i){function o(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function h(m){try{g(i.next(m))}catch(v){c(v)}}function f(m){try{g(i.throw(m))}catch(v){c(v)}}function g(m){m.done?l(m.value):o(m.value).then(h,f)}g((i=i.apply(n,e||[])).next())})};const Lu=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),cE=(n,e,s)=>Ws(void 0,void 0,void 0,function*(){const i=yield aE();n instanceof i&&!(s!=null&&s.noResolveJson)?n.json().then(o=>{const l=n.status||500,c=(o==null?void 0:o.statusCode)||l+"";e(new iE(Lu(o),l,c))}).catch(o=>{e(new wd(Lu(o),o))}):e(new wd(Lu(n),n))}),uE=(n,e,s,i)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!i?o:(lE(i)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(i)):o.body=i,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),s))};function yo(n,e,s,i,o,l){return Ws(this,void 0,void 0,function*(){return new Promise((c,h)=>{n(s,uE(e,i,o,l)).then(f=>{if(!f.ok)throw f;return i!=null&&i.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>cE(f,h,i))})})}function nl(n,e,s,i){return Ws(this,void 0,void 0,function*(){return yo(n,"GET",e,s,i)})}function vn(n,e,s,i,o){return Ws(this,void 0,void 0,function*(){return yo(n,"POST",e,i,o,s)})}function _d(n,e,s,i,o){return Ws(this,void 0,void 0,function*(){return yo(n,"PUT",e,i,o,s)})}function dE(n,e,s,i){return Ws(this,void 0,void 0,function*(){return yo(n,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function F0(n,e,s,i,o){return Ws(this,void 0,void 0,function*(){return yo(n,"DELETE",e,i,o,s)})}var hE=function(n,e,s,i){function o(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function h(m){try{g(i.next(m))}catch(v){c(v)}}function f(m){try{g(i.throw(m))}catch(v){c(v)}}function g(m){m.done?l(m.value):o(m.value).then(h,f)}g((i=i.apply(n,e||[])).next())})};class fE{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}then(e,s){return this.execute().then(e,s)}execute(){return hE(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ze(e))return{data:null,error:e};throw e}})}}var pE=function(n,e,s,i){function o(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function h(m){try{g(i.next(m))}catch(v){c(v)}}function f(m){try{g(i.throw(m))}catch(v){c(v)}}function g(m){m.done?l(m.value):o(m.value).then(h,f)}g((i=i.apply(n,e||[])).next())})};class mE{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}asStream(){return new fE(this.downloadFn,this.shouldThrowOnError)}then(e,s){return this.execute().then(e,s)}execute(){return pE(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ze(e))return{data:null,error:e};throw e}})}}var At=function(n,e,s,i){function o(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function h(m){try{g(i.next(m))}catch(v){c(v)}}function f(m){try{g(i.throw(m))}catch(v){c(v)}}function g(m){m.done?l(m.value):o(m.value).then(h,f)}g((i=i.apply(n,e||[])).next())})};const gE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yE{constructor(e,s={},i,o){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=i,this.fetch=z0(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,i,o){return At(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},yy),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",this.encodeMetadata(f)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",this.encodeMetadata(f))):(l=i,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,f&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const g=this._removeEmptyFolders(s),m=this._getFinalPath(g),v=yield(e=="PUT"?_d:vn)(this.fetch,`${this.url}/object/${m}`,l,Object.assign({headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:g,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}})}upload(e,s,i){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,i)})}uploadToSignedUrl(e,s,i,o){return At(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",s);try{let f;const g=Object.assign({upsert:yy.upsert},o),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&i instanceof Blob?(f=new FormData,f.append("cacheControl",g.cacheControl),f.append("",i)):typeof FormData<"u"&&i instanceof FormData?(f=i,f.append("cacheControl",g.cacheControl)):(f=i,m["cache-control"]=`max-age=${g.cacheControl}`,m["content-type"]=g.contentType);const v=yield _d(this.fetch,h.toString(),f,{headers:m});return{data:{path:l,fullPath:v.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Ze(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,s){return At(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);s!=null&&s.upsert&&(o["x-upsert"]="true");const l=yield vn(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),c=new URL(this.url+l.url),h=c.searchParams.get("token");if(!h)throw new jh("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}update(e,s,i){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,i)})}move(e,s,i){return At(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ze(o))return{data:null,error:o};throw o}})}copy(e,s,i){return At(this,void 0,void 0,function*(){try{return{data:{path:(yield vn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ze(o))return{data:null,error:o};throw o}})}createSignedUrl(e,s,i){return At(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield vn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:s},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ze(o))return{data:null,error:o};throw o}})}createSignedUrls(e,s,i){return At(this,void 0,void 0,function*(){try{const o=yield vn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),l=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ze(o))return{data:null,error:o};throw o}})}download(e,s){const o=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),c=l?`?${l}`:"",h=this._getFinalPath(e),f=()=>nl(this.fetch,`${this.url}/${o}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new mE(f,this.shouldThrowOnError)}info(e){return At(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const i=yield nl(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:xd(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}exists(e){return At(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield dE(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i)&&i instanceof wd){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,s){const i=this._getFinalPath(e),o=[],l=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";l!==""&&o.push(l);const h=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});f!==""&&o.push(f);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${g}`)}}}remove(e){return At(this,void 0,void 0,function*(){try{return{data:yield F0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}})}list(e,s,i){return At(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},gE),s),{prefix:e||""});return{data:yield vn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ze(o))return{data:null,error:o};throw o}})}listV2(e,s){return At(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield vn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const vE="2.75.0",wE={"X-Client-Info":`storage-js/${vE}`};var br=function(n,e,s,i){function o(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function h(m){try{g(i.next(m))}catch(v){c(v)}}function f(m){try{g(i.throw(m))}catch(v){c(v)}}function g(m){m.done?l(m.value):o(m.value).then(h,f)}g((i=i.apply(n,e||[])).next())})};class xE{constructor(e,s={},i,o){this.shouldThrowOnError=!1;const l=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wE),s),this.fetch=z0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return br(this,void 0,void 0,function*(){try{return{data:yield nl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ze(e))return{data:null,error:e};throw e}})}getBucket(e){return br(this,void 0,void 0,function*(){try{return{data:yield nl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}})}createBucket(e){return br(this,arguments,void 0,function*(s,i={public:!1}){try{return{data:yield vn(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ze(o))return{data:null,error:o};throw o}})}updateBucket(e,s){return br(this,void 0,void 0,function*(){try{return{data:yield _d(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}emptyBucket(e){return br(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}})}deleteBucket(e){return br(this,void 0,void 0,function*(){try{return{data:yield F0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}})}}class _E extends xE{constructor(e,s={},i,o){super(e,s,i,o)}from(e){return new yE(this.url,this.headers,e,this.fetch)}}const bE="2.75.0";let Fi="";typeof Deno<"u"?Fi="deno":typeof document<"u"?Fi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fi="react-native":Fi="node";const SE={"X-Client-Info":`supabase-js-${Fi}/${bE}`},kE={headers:SE},jE={schema:"public"},TE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},EE={};var CE=function(n,e,s,i){function o(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function h(m){try{g(i.next(m))}catch(v){c(v)}}function f(m){try{g(i.throw(m))}catch(v){c(v)}}function g(m){m.done?l(m.value):o(m.value).then(h,f)}g((i=i.apply(n,e||[])).next())})};const NE=n=>{let e;return n?e=n:typeof fetch>"u"?e=R0:e=fetch,(...s)=>e(...s)},PE=()=>typeof Headers>"u"?I0:Headers,AE=(n,e,s)=>{const i=NE(s),o=PE();return(l,c)=>CE(void 0,void 0,void 0,function*(){var h;const f=(h=yield e())!==null&&h!==void 0?h:n;let g=new o(c==null?void 0:c.headers);return g.has("apikey")||g.set("apikey",n),g.has("Authorization")||g.set("Authorization",`Bearer ${f}`),i(l,Object.assign(Object.assign({},c),{headers:g}))})};var RE=function(n,e,s,i){function o(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function h(m){try{g(i.next(m))}catch(v){c(v)}}function f(m){try{g(i.throw(m))}catch(v){c(v)}}function g(m){m.done?l(m.value):o(m.value).then(h,f)}g((i=i.apply(n,e||[])).next())})};function IE(n){return n.endsWith("/")?n:n+"/"}function OE(n,e){var s,i;const{db:o,auth:l,realtime:c,global:h}=n,{db:f,auth:g,realtime:m,global:v}=e,w={db:Object.assign(Object.assign({},f),o),auth:Object.assign(Object.assign({},g),l),realtime:Object.assign(Object.assign({},m),c),storage:{},global:Object.assign(Object.assign(Object.assign({},v),h),{headers:Object.assign(Object.assign({},(s=v==null?void 0:v.headers)!==null&&s!==void 0?s:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>RE(this,void 0,void 0,function*(){return""})};return n.accessToken?w.accessToken=n.accessToken:delete w.accessToken,w}function LE(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(IE(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const B0="2.75.0",Cr=30*1e3,bd=3,Mu=bd*Cr,ME="http://localhost:9999",DE="supabase.auth.token",$E={"X-Client-Info":`gotrue-js/${B0}`},Sd="X-Supabase-Api-Version",W0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},UE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,VE=600*1e3;class uo extends Error{constructor(e,s,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function he(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class zE extends uo{constructor(e,s,i){super(e,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function FE(n){return he(n)&&n.name==="AuthApiError"}class Is extends uo{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class ds extends uo{constructor(e,s,i,o){super(e,i,o),this.name=s,this.status=i}}class rs extends ds{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function BE(n){return he(n)&&n.name==="AuthSessionMissingError"}class Sr extends ds{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ma extends ds{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Da extends ds{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function WE(n){return he(n)&&n.name==="AuthImplicitGrantRedirectError"}class vy extends ds{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kd extends ds{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Du(n){return he(n)&&n.name==="AuthRetryableFetchError"}class wy extends ds{constructor(e,s,i){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class jd extends ds{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const sl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xy=` 	
\r=`.split(""),HE=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<xy.length;e+=1)n[xy[e].charCodeAt(0)]=-2;for(let e=0;e<sl.length;e+=1)n[sl[e].charCodeAt(0)]=e;return n})();function _y(n,e,s){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(sl[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(sl[i]),e.queuedBits-=6}}function H0(n,e,s){const i=HE[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function by(n){const e=[],s=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{GE(c,i,s)};for(let c=0;c<n.length;c+=1)H0(n.charCodeAt(c),o,l);return e.join("")}function KE(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function qE(n,e){for(let s=0;s<n.length;s+=1){let i=n.charCodeAt(s);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(n.charCodeAt(s+1)-56320&65535|o)+65536,s+=1}KE(i,e)}}function GE(n,e,s){if(e.utf8seq===0){if(n<=127){s(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Vr(n){const e=[],s={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)H0(n.charCodeAt(o),s,i);return new Uint8Array(e)}function YE(n){const e=[];return qE(n,s=>e.push(s)),new Uint8Array(e)}function Ds(n){const e=[],s={queue:0,queuedBits:0},i=o=>{e.push(o)};return n.forEach(o=>_y(o,s,i)),_y(null,s,i),e.join("")}function JE(n){return Math.round(Date.now()/1e3)+n}function QE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Dt=()=>typeof window<"u"&&typeof document<"u",Es={tested:!1,writable:!1},K0=()=>{if(!Dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Es.tested)return Es.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Es.tested=!0,Es.writable=!0}catch{Es.tested=!0,Es.writable=!1}return Es.writable};function XE(n){const e={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return s.searchParams.forEach((i,o)=>{e[o]=i}),e}const q0=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...s)=>Yt(async()=>{const{default:i}=await Promise.resolve().then(()=>Jr);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)},ZE=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Nr=async(n,e,s)=>{await n.setItem(e,JSON.stringify(s))},Cs=async(n,e)=>{const s=await n.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ns=async(n,e)=>{await n.removeItem(e)};class yl{constructor(){this.promise=new yl.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}yl.promiseConstructor=Promise;function $u(n){const e=n.split(".");if(e.length!==3)throw new jd("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!UE.test(e[i]))throw new jd("JWT not in base64url format");return{header:JSON.parse(by(e[0])),payload:JSON.parse(by(e[1])),signature:Vr(e[2]),raw:{header:e[0],payload:e[1]}}}async function eC(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function tC(n,e){return new Promise((i,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await n(l);if(!e(l,null,c)){i(c);return}}catch(c){if(!e(l,c)){o(c);return}}})()})}function nC(n){return("0"+n.toString(16)).substr(-2)}function sC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let o="";for(let l=0;l<56;l++)o+=s.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,nC).join("")}async function rC(n){const s=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(i);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function iC(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await rC(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kr(n,e,s=!1){const i=sC();let o=i;s&&(o+="/PASSWORD_RECOVERY"),await Nr(n,`${e}-code-verifier`,o);const l=await iC(i);return[l,i===l?"plain":"s256"]}const oC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aC(n){const e=n.headers.get(Sd);if(!e||!e.match(oC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function lC(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function cC(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const uC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jr(n){if(!uC.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Uu(){const n={};return new Proxy(n,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Sy(n){return JSON.parse(JSON.stringify(n))}var dC=function(n,e){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(s[i[o]]=n[i[o]]);return s};const As=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),hC=[502,503,504];async function ky(n){var e;if(!ZE(n))throw new kd(As(n),0);if(hC.includes(n.status))throw new kd(As(n),n.status);let s;try{s=await n.json()}catch(l){throw new Is(As(l),l)}let i;const o=aC(n);if(o&&o.getTime()>=W0["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new wy(As(s),n.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new rs}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new wy(As(s),n.status,s.weak_password.reasons);throw new zE(As(s),n.status||500,i)}const fC=(n,e,s,i)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),s))};async function ge(n,e,s,i){var o;const l=Object.assign({},i==null?void 0:i.headers);l[Sd]||(l[Sd]=W0["2024-01-01"].name),i!=null&&i.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const c=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await pC(n,e,s+h,{headers:l,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(f):{data:Object.assign({},f),error:null}}async function pC(n,e,s,i,o,l){const c=fC(e,i,o,l);let h;try{h=await n(s,Object.assign({},c))}catch(f){throw console.error(f),new kd(As(f),0)}if(h.ok||await ky(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(f){await ky(f)}}function on(n){var e;let s=null;yC(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=JE(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:s,user:i},error:null}}function jy(n){const e=on(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function is(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function mC(n){return{data:n,error:null}}function gC(n){const{action_link:e,email_otp:s,hashed_token:i,redirect_to:o,verification_type:l}=n,c=dC(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:s,hashed_token:i,redirect_to:o,verification_type:l},f=Object.assign({},c);return{data:{properties:h,user:f},error:null}}function Ty(n){return n}function yC(n){return n.access_token&&n.refresh_token&&n.expires_in}const Vu=["global","local","others"];var vC=function(n,e){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(s[i[o]]=n[i[o]]);return s};class wC{constructor({url:e="",headers:s={},fetch:i}){this.url=e,this.headers=s,this.fetch=q0(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=Vu[0]){if(Vu.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vu.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(he(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,s={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:is})}catch(i){if(he(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:s}=e,i=vC(e,["options"]),o=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:gC,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(he(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:is})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,i,o,l,c,h,f;try{const g={nextPage:null,lastPage:0,total:0},m=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Ty});if(m.error)throw m.error;const v=await m.json(),w=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(f=(h=m.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return _.length>0&&(_.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(S.split(";")[1].split("=")[1]);g[`${b}Page`]=T}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(he(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){jr(e);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:is})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){jr(e);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:is})}catch(i){if(he(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,s=!1){jr(e);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:is})}catch(i){if(he(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){jr(e.userId);try{const{data:s,error:i}=await ge(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:s,error:i}}catch(s){if(he(s))return{data:null,error:s};throw s}}async _deleteFactor(e){jr(e.userId),jr(e.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,i,o,l,c,h,f;try{const g={nextPage:null,lastPage:0,total:0},m=await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Ty});if(m.error)throw m.error;const v=await m.json(),w=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(f=(h=m.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return _.length>0&&(_.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(S.split(";")[1].split("=")[1]);g[`${b}Page`]=T}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(he(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(e){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}}function Ey(n={}){return{getItem:e=>n[e]||null,setItem:(e,s)=>{n[e]=s},removeItem:e=>{delete n[e]}}}const Tr={debug:!!(globalThis&&K0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class G0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xC extends G0{}async function _C(n,e,s){Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await s()}finally{Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new xC(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Tr.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function bC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Y0(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function SC(n){return parseInt(n,16)}function kC(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function jC(n){var e;const{chainId:s,domain:i,expirationTime:o,issuedAt:l=new Date,nonce:c,notBefore:h,requestId:f,resources:g,scheme:m,uri:v,version:w}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const _=Y0(n.address),S=m?`${m}://${i}`:i,T=n.statement?`${n.statement}
`:"",b=`${S} wants you to sign in with your Ethereum account:
${_}

${T}`;let A=`URI: ${v}
Version: ${w}
Chain ID: ${s}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(o&&(A+=`
Expiration Time: ${o.toISOString()}`),h&&(A+=`
Not Before: ${h.toISOString()}`),f&&(A+=`
Request ID: ${f}`),g){let P=`
Resources:`;for(const E of g){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);P+=`
- ${E}`}A+=P}return`${b}
${A}`}class Xe extends Error{constructor({message:e,code:s,cause:i,name:o}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=o??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=s}}class rl extends Xe{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function TC({error:n,options:e}){var s,i,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Xe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=l.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Xe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Xe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Xe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Xe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Xe({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Xe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Xe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const c=window.location.hostname;if(Q0(c)){if(l.rp.id!==c)return new Xe({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Xe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Xe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Xe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Xe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function EC({error:n,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Xe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Xe({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(Q0(i)){if(s.rpId!==i)return new Xe({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Xe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Xe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Xe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var J0=function(n,e){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(s[i[o]]=n[i[o]]);return s};class CC{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const NC=new CC;function PC(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:s,excludeCredentials:i}=n,o=J0(n,["challenge","user","excludeCredentials"]),l=Vr(e).buffer,c=Object.assign(Object.assign({},s),{id:Vr(s.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:l,user:c});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const g=i[f];h.excludeCredentials[f]=Object.assign(Object.assign({},g),{id:Vr(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function AC(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:s}=n,i=J0(n,["challenge","allowCredentials"]),o=Vr(e).buffer,l=Object.assign(Object.assign({},i),{challenge:o});if(s&&s.length>0){l.allowCredentials=new Array(s.length);for(let c=0;c<s.length;c++){const h=s[c];l.allowCredentials[c]=Object.assign(Object.assign({},h),{id:Vr(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function RC(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:Ds(new Uint8Array(n.response.attestationObject)),clientDataJSON:Ds(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function IC(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,i=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Ds(new Uint8Array(o.authenticatorData)),clientDataJSON:Ds(new Uint8Array(o.clientDataJSON)),signature:Ds(new Uint8Array(o.signature)),userHandle:o.userHandle?Ds(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Q0(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Cy(){var n,e;return!!(Dt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function OC(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new rl("Browser returned unexpected credential type",e)}:{data:null,error:new rl("Empty credential response",e)}}catch(e){return{data:null,error:TC({error:e,options:n})}}}async function LC(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new rl("Browser returned unexpected credential type",e)}:{data:null,error:new rl("Empty credential response",e)}}catch(e){return{data:null,error:EC({error:e,options:n})}}}const MC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},DC={userVerification:"preferred",hints:["security-key"]};function il(...n){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),s=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of n)if(o)for(const l in o){const c=o[l];if(c!==void 0)if(Array.isArray(c))i[l]=c;else if(s(c))i[l]=c;else if(e(c)){const h=i[l];e(h)?i[l]=il(h,c):i[l]=il(c)}else i[l]=c}return i}function $C(n,e){return il(MC,n,e||{})}function UC(n,e){return il(DC,n,e||{})}class VC{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:i,signal:o},l){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!c)return{data:null,error:h};const f=o??NC.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:g}=c.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${i}`),g.displayName||(g.displayName=g.name)}switch(c.webauthn.type){case"create":{const g=$C(c.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:m,error:v}=await OC({publicKey:g,signal:f});return m?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}case"request":{const g=UC(c.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:m,error:v}=await LC(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:g,signal:f}));return m?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}}}catch(c){return he(c)?{data:null,error:c}:{data:null,error:new Is("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}},l){if(!s)return{data:null,error:new uo("rpId is required for WebAuthn authentication")};try{if(!Cy())return{data:null,error:new Is("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:i},signal:o},{request:l});if(!c)return{data:null,error:h};const{webauthn:f}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:f.type,rpId:s,rpOrigins:i,credential_response:f.credential_response}})}catch(c){return he(c)?{data:null,error:c}:{data:null,error:new Is("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o},l){if(!s)return{data:null,error:new uo("rpId is required for WebAuthn registration")};try{if(!Cy())return{data:null,error:new Is("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(m=>{var v;return(v=m.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:h};const{data:f,error:g}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:o},{create:l});return f?this._verify({factorId:c.id,challengeId:f.challengeId,webauthn:{rpId:s,rpOrigins:i,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:g}}catch(c){return he(c)?{data:null,error:c}:{data:null,error:new Is("Unexpected error in register",c)}}}}bC();const zC={url:ME,storageKey:DE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$E,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ny(n,e,s){return await s()}const Er={};class ho{get jwks(){var e,s;return(s=(e=Er[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Er[this.storageKey]=Object.assign(Object.assign({},Er[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Er[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Er[this.storageKey]=Object.assign(Object.assign({},Er[this.storageKey]),{cachedAt:e})}constructor(e){var s,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ho.nextInstanceID,ho.nextInstanceID+=1,this.instanceID>0&&Dt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},zC),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new wC({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=q0(o.fetch),this.lock=o.lock||Ny,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Dt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=_C:this.lock=Ny,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new VC(this)},this.persistSession?(o.storage?this.storage=o.storage:K0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ey(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Ey(this.memoryStorage)),Dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${B0}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=XE(window.location.href);let i="none";if(this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce"),Dt()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:l}=await this._getSessionFromURL(s,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),WE(l)){const f=(e=l.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return he(s)?{error:s}:{error:new Is("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,i,o;try{const l=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:on}),{data:c,error:h}=l;if(h||!c)return{data:{user:null,session:null},error:h};const f=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:g,session:f},error:null}}catch(l){if(he(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var s,i,o;try{let l;if("email"in e){const{email:m,password:v,options:w}=e;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await kr(this.storage,this.storageKey)),l=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:m,password:v,data:(s=w==null?void 0:w.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:_,code_challenge_method:S},xform:on})}else if("phone"in e){const{phone:m,password:v,options:w}=e;l=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:v,data:(i=w==null?void 0:w.data)!==null&&i!==void 0?i:{},channel:(o=w==null?void 0:w.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:on})}else throw new Ma("You must provide either an email or phone number and a password");const{data:c,error:h}=l;if(h||!c)return{data:{user:null,session:null},error:h};const f=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:g,session:f},error:null}}catch(l){if(he(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let s;if("email"in e){const{email:l,password:c,options:h}=e;s=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:jy})}else if("phone"in e){const{phone:l,password:c,options:h}=e;s=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:jy})}else throw new Ma("You must provide either an email or phone number and a password");const{data:i,error:o}=s;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Sr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,i,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,i,o,l,c,h,f,g,m,v,w;let _,S;if("message"in e)_=e.message,S=e.signature;else{const{chain:T,wallet:b,statement:A,options:P}=e;let E;if(Dt())if(typeof b=="object")E=b;else{const G=window;if("ethereum"in G&&typeof G.ethereum=="object"&&"request"in G.ethereum&&typeof G.ethereum.request=="function")E=G.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=b}const N=new URL((s=P==null?void 0:P.url)!==null&&s!==void 0?s:window.location.href),L=await E.request({method:"eth_requestAccounts"}).then(G=>G).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const U=Y0(L[0]);let B=(i=P==null?void 0:P.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!B){const G=await E.request({method:"eth_chainId"});B=SC(G)}const V={domain:N.host,address:U,statement:A,uri:N.href,version:"1",chainId:B,nonce:(o=P==null?void 0:P.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(l=P==null?void 0:P.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=P==null?void 0:P.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=P==null?void 0:P.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(g=P==null?void 0:P.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(m=P==null?void 0:P.signInWithEthereum)===null||m===void 0?void 0:m.resources};_=jC(V),S=await E.request({method:"personal_sign",params:[kC(_),U]})}try{const{data:T,error:b}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:S},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:on});if(b)throw b;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new Sr}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:b})}catch(T){if(he(T))return{data:{user:null,session:null},error:T};throw T}}async signInWithSolana(e){var s,i,o,l,c,h,f,g,m,v,w,_;let S,T;if("message"in e)S=e.message,T=e.signature;else{const{chain:b,wallet:A,statement:P,options:E}=e;let N;if(Dt())if(typeof A=="object")N=A;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))N=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=A}const L=new URL((s=E==null?void 0:E.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in N&&N.signIn){const U=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),P?{statement:P}:null));let B;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")B=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)B=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)S=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),T=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${L.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(o=(i=E==null?void 0:E.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=E==null?void 0:E.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((c=E==null?void 0:E.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((h=E==null?void 0:E.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((f=E==null?void 0:E.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((g=E==null?void 0:E.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((v=(m=E==null?void 0:E.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||v===void 0)&&v.length?["Resources",...E.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const U=await N.signMessage(new TextEncoder().encode(S),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=U}}try{const{data:b,error:A}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Ds(T)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:on});if(A)throw A;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Sr}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:A})}catch(b){if(he(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const s=await Cs(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(s??"").split("/");try{const{data:l,error:c}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:on});if(await ns(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new Sr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(he(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:s,provider:i,token:o,access_token:l,nonce:c}=e,h=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:on}),{data:f,error:g}=h;return g?{data:{user:null,session:null},error:g}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Sr}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:g})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,i,o,l,c;try{if("email"in e){const{email:h,options:f}=e;let g=null,m=null;this.flowType==="pkce"&&([g,m]=await kr(this.storage,this.storageKey));const{error:v}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},create_user:(i=f==null?void 0:f.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:m},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:h,options:f}=e,{data:g,error:m}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=f==null?void 0:f.data)!==null&&o!==void 0?o:{},create_user:(l=f==null?void 0:f.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(c=f==null?void 0:f.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:m}}throw new Ma("You must provide either an email or phone number.")}catch(h){if(he(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var s,i;try{let o,l;"options"in e&&(o=(s=e.options)===null||s===void 0?void 0:s.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:h}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:on});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,g=c.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:g,session:f},error:null}}catch(o){if(he(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var s,i,o;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await kr(this.storage,this.storageKey)),await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:mC})}catch(l){if(he(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:i}=e;if(i)throw i;if(!s)throw new rs;const{error:o}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(he(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:l}=e,{error:c}=await ge(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:i,type:o,options:l}=e,{data:c,error:h}=await ge(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new Ma("You must provide either an email or phone number and a type")}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Cs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Mu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const c=await Cs(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=Uu()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,g,m)=>(!c&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,g,m))})}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:is}):await this._useSession(async s=>{var i,o,l;const{data:c,error:h}=s;if(h)throw h;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rs}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:is})})}catch(s){if(he(s))return BE(s)&&(await this._removeSession(),await ns(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async i=>{const{data:o,error:l}=i;if(l)throw l;if(!o.session)throw new rs;const c=o.session;let h=null,f=null;this.flowType==="pkce"&&e.email!=null&&([h,f]=await kr(this.storage,this.storageKey));const{data:g,error:m}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:f}),jwt:c.access_token,xform:is});if(m)throw m;return c.user=g.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(he(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new rs;const s=Date.now()/1e3;let i=s,o=!0,l=null;const{payload:c}=$u(e.access_token);if(c.exp&&(i=c.exp,o=i<=s),o){const{data:h,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:f}=await this._getUser(e.access_token);if(f)throw f;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(s){if(he(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var i;if(!e){const{data:c,error:h}=s;if(h)throw h;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new rs;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Dt())throw new Da("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Da(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new vy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Da("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new vy("No code detected.");const{data:P,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:h,expires_at:f,token_type:g}=e;if(!l||!h||!c||!g)throw new Da("No session defined in URL");const m=Math.round(Date.now()/1e3),v=parseInt(h);let w=m+v;f&&(w=parseInt(f));const _=w-m;_*1e3<=Cr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const S=w-v;m-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,w,m):m-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,w,m);const{data:T,error:b}=await this._getUser(l);if(b)throw b;const A={provider_token:i,provider_refresh_token:o,access_token:l,expires_in:v,expires_at:w,refresh_token:c,token_type:g,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:e.type},error:null}}catch(i){if(he(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Cs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:o,error:l}=s;if(l)return{error:l};const c=(i=o.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(FE(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await ns(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=QE(),i={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async s=>{var i,o;try{const{data:{session:l},error:c}=s;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,s={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await kr(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(l){if(he(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:i,error:o}=await this._useSession(async l=>{var c,h,f,g,m;const{data:v,error:w}=l;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",_,{headers:this.headers,jwt:(m=(g=v.session)===null||g===void 0?void 0:g.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return Dt()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(he(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var i;try{const{error:o,data:{session:l}}=s;if(o)throw o;const{options:c,provider:h,token:f,access_token:g,nonce:m}=e,v=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l==null?void 0:l.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:f,access_token:g,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:on}),{data:w,error:_}=v;return _?{data:{user:null,session:null},error:_}:!w||!w.session||!w.user?{data:{user:null,session:null},error:new Sr}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),{data:w,error:_})}catch(o){if(he(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var i,o;const{data:l,error:c}=s;if(c)throw c;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await tC(async o=>(o>0&&await eC(200*Math.pow(2,o-1)),this._debug(s,"refreshing attempt",o),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:on})),(o,l)=>{const c=200*Math.pow(2,o);return l&&Du(l)&&Date.now()+c-i<Cr})}catch(i){if(this._debug(s,"error",i),he(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",i),Dt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await Cs(this.storage,this.storageKey);if(o&&this.userStorage){let c=await Cs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await Nr(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:Uu()}else if(o&&!o.user&&!o.user){const c=await Cs(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(o.user=c.user,await ns(this.storage,this.storageKey+"-user"),await Nr(this.storage,this.storageKey,o)):o.user=Uu()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const l=((s=o.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Mu;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Mu}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),Du(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(o.access_token);!h&&(c!=null&&c.user)?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var s,i;if(!e)throw new rs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new yl;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new rs;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(o,"error",l),he(l)){const c={data:null,error:l};return Du(l)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,s,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:s});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,s)}catch(f){l.push(f)}});if(await Promise.all(c),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await Nr(this.userStorage,this.storageKey+"-user",{user:s.user});const o=Object.assign({},s);delete o.user;const l=Sy(o);await Nr(this.storage,this.storageKey,l)}else{const o=Sy(s);await Nr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await ns(this.storage,this.storageKey),await ns(this.storage,this.storageKey+"-code-verifier"),await ns(this.storage,this.storageKey+"-user"),this.userStorage&&await ns(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Dt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Cr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/Cr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Cr}ms, refresh threshold is ${bd} ticks`),o<=bd&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof G0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,i){const o=[`provider=${encodeURIComponent(s)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,c]=await kr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(h.toString())}if(i!=null&&i.queryParams){const l=new URLSearchParams(i.queryParams);o.push(l.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var i;const{data:o,error:l}=s;return l?{data:null,error:l}:await ge(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var i,o;const{data:l,error:c}=s;if(c)return{data:null,error:c};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:g}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(e.factorType==="totp"&&f.type==="totp"&&(!((o=f==null?void 0:f.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:o,error:l}=s;if(l)return{data:null,error:l};const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?RC(e.webauthn.credential_response):IC(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:f}=await ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:f})})}catch(s){if(he(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:o,error:l}=s;if(l)return{data:null,error:l};const c=await ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:PC(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:AC(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(he(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=s==null?void 0:s.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,i;const{data:{session:o},error:l}=e;if(l)return{data:null,error:l};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=$u(o.access_token);let h=null;c.aal&&(h=c.aal);let f=h;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(f="aal2");const m=c.amr||[];return{data:{currentLevel:h,nextLevel:f,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(e,s={keys:[]}){let i=s.keys.find(h=>h.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(h=>h.kid===e),i&&this.jwks_cached_at+VE>o)return i;const{data:l,error:c}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,i=l.keys.find(h=>h.kid===e),!i)?null:i}async getClaims(e,s={}){try{let i=e;if(!i){const{data:_,error:S}=await this.getSession();if(S||!_.session)return{data:null,error:S};i=_.session.access_token}const{header:o,payload:l,signature:c,raw:{header:h,payload:f}}=$u(i);s!=null&&s.allowExpired||lC(l.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!g){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:l,header:o,signature:c},error:null}}const m=cC(o.alg),v=await crypto.subtle.importKey("jwk",g,m,!0,["verify"]);if(!await crypto.subtle.verify(m,v,c,YE(`${h}.${f}`)))throw new jd("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(i){if(he(i))return{data:null,error:i};throw i}}}ho.nextInstanceID=0;const FC=ho;class BC extends FC{constructor(e){super(e)}}var WC=function(n,e,s,i){function o(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function h(m){try{g(i.next(m))}catch(v){c(v)}}function f(m){try{g(i.throw(m))}catch(v){c(v)}}function g(m){m.done?l(m.value):o(m.value).then(h,f)}g((i=i.apply(n,e||[])).next())})};class HC{constructor(e,s,i){var o,l,c;this.supabaseUrl=e,this.supabaseKey=s;const h=LE(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:jE,realtime:EE,auth:Object.assign(Object.assign({},TE),{storageKey:f}),global:kE},m=OE(i??{},g);this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,m.global.fetch),this.fetch=AE(s,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new z2(new URL("rest/v1",h).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new _E(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new A2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,s,i)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return WC(this,void 0,void 0,function*(){var e,s;if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(s=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:i,storage:o,userStorage:l,storageKey:c,flowType:h,lock:f,debug:g},m,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new BC({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),m),storageKey:c,autoRefreshToken:e,persistSession:s,detectSessionInUrl:i,storage:o,userStorage:l,flowType:h,lock:f,debug:g,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new rE(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,s,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const KC=(n,e,s)=>new HC(n,e,s);function qC(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}qC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Th="qwvxgdrhjtgqwwksqebf",Eh="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF3dnhnZHJoanRncXd3a3NxZWJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgxNTA2NDIsImV4cCI6MjA3MzcyNjY0Mn0.A37IkjTB0pZCs1JQEuE65IL6OQt0gJk1Wt6YpVpGnKA",X0=`https://${Th}.supabase.co`,Z0=typeof process<"u"&&!1,Td=Object.freeze(Object.defineProperty({__proto__:null,isDevelopment:Z0,projectId:Th,publicAnonKey:Eh,supabaseUrl:X0},Symbol.toStringTag,{value:"Module"})),Ee=KC(X0,Eh,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"vibetune-auth",flowType:"pkce",debug:Z0},realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"vibetune-web","X-App-Version":"1.0.0"}},db:{schema:"public"}});function GC(n,e,s="Operation timed out"){const i=new Promise((o,l)=>{const c=setTimeout(()=>{l(new Error(`${s} after ${e}ms`))},e);n.finally(()=>clearTimeout(c))});return Promise.race([n,i])}async function ew(n,e,s=null){try{return await GC(n(),e,"Operation timed out")}catch(i){if(i.message.includes("timed out"))return console.warn(`Operation timed out after ${e}ms, using fallback value`),s;throw i}}class Kt{static async signUp({email:e,password:s,username:i}){var o,l;try{console.log("Simple signup starting for:",e);try{if((await this.serverSignUp({email:e,password:s,username:i})).success){console.log(" Server signup successful, now signing in...");const g=await this.signIn({email:e,password:s});if((o=g.data)!=null&&o.profile){await Ee.from("profiles").upsert({id:g.data.user.id,email:g.data.user.email||e,username:i,level:null,placement_test_completed:!1,created_at:g.data.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()},{onConflict:"id"});const{data:m}=await Ee.from("profiles").select("*").eq("id",g.data.user.id).single();return{data:{user:g.data.user,profile:m},error:null}}}}catch(f){console.warn("Server signup failed, trying client signup:",f)}const{data:c,error:h}=await Ee.auth.signUp({email:e,password:s,options:{data:{username:i,display_name:i},emailRedirectTo:window.location.origin}});if(h)throw console.error("Supabase auth signup error:",h),h;if(console.log("Auth signup result:",{hasUser:!!c.user,needsConfirmation:!c.session,userEmail:(l=c.user)==null?void 0:l.email}),c.user&&!c.session)return console.log(" User created but needs email confirmation"),{data:{user:c.user,needsConfirmation:!0,message:"Please check your email and click the confirmation link, then try signing in."},error:null};if(c.user&&c.session){console.log(" User created and signed in immediately");const f={id:c.user.id,email:c.user.email||e,username:i,level:null,placement_test_completed:!1,created_at:c.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()};return await Ee.from("profiles").upsert({id:c.user.id,email:c.user.email||e,username:i,level:null,placement_test_completed:!1,created_at:f.created_at,last_login:f.last_login,device_id:f.device_id},{onConflict:"id"}),{data:{user:c.user,profile:f},error:null}}return{data:c,error:null}}catch(c){return console.error("Simple signup error:",c),{data:null,error:c}}}static async signIn({email:e,password:s}){var i,o,l,c,h,f,g;try{console.log("Simple signin starting for:",e);const{data:m,error:v}=await Ee.auth.signInWithPassword({email:e,password:s});if(v)throw console.error("Supabase auth signin error:",v),v.message.includes("Invalid login credentials")?v.message="Invalid email or password. Please check your credentials and try again.":v.message.includes("Email not confirmed")?v.message="Please check your email and click the confirmation link before signing in.":v.message.includes("Too many requests")&&(v.message="Too many login attempts. Please wait a moment and try again."),v;if(console.log("Auth signin result:",{hasUser:!!m.user,hasSession:!!m.session,emailVerified:!!((i=m.user)!=null&&i.email_confirmed_at)}),m.user&&m.session){const{data:w,error:_}=await Ee.from("profiles").select("*").eq("id",m.user.id).single();if(_&&_.code!=="PGRST116"){console.error("Error fetching profile after signin:",_);const T={id:m.user.id,email:m.user.email||e,username:((o=m.user.user_metadata)==null?void 0:o.username)||((l=m.user.user_metadata)==null?void 0:l.display_name)||((c=m.user.user_metadata)==null?void 0:c.name)||e.split("@")[0]||"User",level:null,placement_test_completed:!1,created_at:m.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()};return await Ee.from("profiles").upsert(T,{onConflict:"id"}),{data:{user:m.user,profile:T},error:null}}const S={id:m.user.id,email:m.user.email||e,username:(w==null?void 0:w.username)||((h=m.user.user_metadata)==null?void 0:h.username)||((f=m.user.user_metadata)==null?void 0:f.display_name)||((g=m.user.user_metadata)==null?void 0:g.name)||e.split("@")[0]||"User",level:(w==null?void 0:w.level)||null,placement_test_completed:(w==null?void 0:w.placement_test_completed)||!1,created_at:m.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()};try{await Ee.from("profiles").upsert({id:m.user.id,email:S.email,username:S.username,level:S.level,placement_test_completed:S.placement_test_completed,placement_test_score:S.placement_test_score,created_at:S.created_at,last_login:new Date().toISOString(),device_id:S.device_id},{onConflict:"id"}),console.log(" Last login updated successfully")}catch(T){console.warn(" Profile last_login update failed:",T)}return{data:{user:m.user,profile:S},error:null}}else if(m.user&&!m.session)return{data:{user:m.user,needsConfirmation:!0,message:"Please check your email and click the confirmation link, then try signing in again."},error:null};return{data:m,error:null}}catch(m){return console.error("Simple signin error:",m),{data:null,error:m}}}static async signOut(){try{const{error:e}=await Ee.auth.signOut();return{error:e}}catch(e){return{error:e}}}static async serverSignUp({email:e,password:s,username:i}){try{console.log(" Attempting server-side signup for:",e);const{projectId:o,publicAnonKey:l}=await Yt(async()=>{const{projectId:v,publicAnonKey:w}=await Promise.resolve().then(()=>Td);return{projectId:v,publicAnonKey:w}},void 0),c=`https://${o}.supabase.co/functions/v1/make-server-b2083953/signup`,h=new AbortController,f=setTimeout(()=>h.abort(),5e3),g=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({email:e,password:s,name:i}),signal:h.signal});if(clearTimeout(f),!g.ok){const v=await g.text();throw console.error("Server signup error:",g.status,v),new Error(`Server signup failed: ${v}`)}const m=await g.json();return console.log(" Server signup successful"),{success:!0,data:m}}catch(o){return o.name==="AbortError"?(console.error("Server signup timeout"),{success:!1,error:new Error("Server signup timed out")}):(console.error("Server signup error:",o),{success:!1,error:o})}}static async signInWithOAuth(e){try{console.log(`Starting OAuth with ${e}...`);const{data:s,error:i}=await Ee.auth.signInWithOAuth({provider:e,options:{redirectTo:window.location.origin}});if(i){console.error(`OAuth ${e} error:`,i);let o=`Failed to sign in with ${e.charAt(0).toUpperCase()+e.slice(1)}.`;return i.message.includes("provider is not enabled")?o=`${e.charAt(0).toUpperCase()+e.slice(1)} sign-in is not enabled. Please use email/password or contact support.`:i.message.includes("redirect")&&(o="OAuth redirect configuration error. Please try email/password sign-in."),{data:null,error:{...i,message:o}}}return{data:s,error:i}}catch(s){return console.error(`OAuth ${e} error:`,s),{data:null,error:s}}}static async resetPassword(e){try{const{data:s,error:i}=await Ee.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});return{data:s,error:i}}catch(s){return{data:null,error:s}}}static async updateProfile(e,s,i){var o,l;try{console.log(" SimpleAuthService.updateProfile called:",{userId:e,updates:s,hasExistingProfile:!!i});const{data:c}=await Ee.auth.getSession();if((o=c==null?void 0:c.session)!=null&&o.user){console.log(" Real user with session - updating profile in DB");const{data:f}=await Ee.from("profiles").select("*").eq("id",e).single(),g={id:e,email:(f==null?void 0:f.email)||c.session.user.email||s.email,username:s.username||(f==null?void 0:f.username)||((l=c.session.user.user_metadata)==null?void 0:l.username)||"User",level:s.level!==void 0?s.level:f==null?void 0:f.level,placement_test_completed:s.placement_test_completed!==void 0?s.placement_test_completed:(f==null?void 0:f.placement_test_completed)||!1,placement_test_score:s.placement_test_score!==void 0?s.placement_test_score:f==null?void 0:f.placement_test_score,created_at:(f==null?void 0:f.created_at)||c.session.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:(f==null?void 0:f.device_id)||this.getDeviceId()};console.log(" Upserting profile data:",g);const{data:m,error:v}=await Ee.from("profiles").upsert(g,{onConflict:"id"}).select().single();return v?(console.error(" Error updating profile in DB:",v),{data:null,error:v}):(console.log(" Profile updated successfully in DB:",m),{data:m,error:null})}if(i){console.log(" Demo user - merging updates with existing profile");const f={...i,email:s.email||i.email,username:s.username||i.username,level:s.level!==void 0?s.level:i.level,placement_test_completed:s.placement_test_completed!==void 0?s.placement_test_completed:i.placement_test_completed,placement_test_score:s.placement_test_score!==void 0?s.placement_test_score:i.placement_test_score,last_login:new Date().toISOString()};return console.log(" Demo profile updated:",f),{data:f,error:null}}console.warn(" No session or existing profile - creating basic profile");const h={id:e,email:s.email||"demo@vibetune.com",username:s.username||"Demo User",level:s.level||null,placement_test_completed:s.placement_test_completed||!1,placement_test_score:s.placement_test_score,created_at:new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()};return console.log(" Basic profile created:",h),{data:h,error:null}}catch(c){return console.error(" Error in updateProfile:",c),{data:null,error:c}}}static getDeviceId(){try{if(typeof window>"u"||!localStorage)return`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;let e=localStorage.getItem("device_id");return e||(e=`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("device_id",e)),e}catch(e){return console.warn("Failed to access localStorage for device ID:",e),`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}}static async getCurrentSession(){var e,s,i,o,l,c,h,f;try{console.log(" Checking session...");const g=await ew(()=>Ee.auth.getSession(),800,null);if(!g)return console.log(" No session found or timeout occurred."),{data:{session:null,user:null},error:null};const{data:{session:m,user:v},error:w}=g;if(w)return console.error("Error getting session:",w),{data:null,error:w};if(v){const{data:_,error:S}=await Ee.from("profiles").select("*").eq("id",v.id).single();if(S&&S.code!=="PGRST116"){console.error("Error fetching profile during session check:",S);const b={id:v.id,email:v.email||"",username:((e=v.user_metadata)==null?void 0:e.username)||((s=v.user_metadata)==null?void 0:s.display_name)||((i=v.user_metadata)==null?void 0:i.name)||((o=v.email)==null?void 0:o.split("@")[0])||"User",level:null,placement_test_completed:!1,created_at:v.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()};return await Ee.from("profiles").upsert(b,{onConflict:"id"}),{data:{session:m,user:v,profile:b},error:null}}const T={id:v.id,email:v.email||"",username:(_==null?void 0:_.username)||((l=v.user_metadata)==null?void 0:l.username)||((c=v.user_metadata)==null?void 0:c.display_name)||((h=v.user_metadata)==null?void 0:h.name)||((f=v.email)==null?void 0:f.split("@")[0])||"User",level:(_==null?void 0:_.level)||null,placement_test_completed:(_==null?void 0:_.placement_test_completed)||!1,created_at:v.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()};return setTimeout(async()=>{try{await Ee.from("profiles").upsert({id:v.id,last_login:new Date().toISOString()},{onConflict:"id"})}catch(b){console.warn("Profile last_login update failed (non-blocking):",b)}},0),{data:{session:m,user:v,profile:T},error:null}}return{data:{session:m,user:v},error:null}}catch(g){return console.error("Error in getCurrentSession:",g),{data:null,error:g}}}}async function Ed(){try{console.log(" Testing authentication system...");const{data:n,error:e}=await Ee.auth.getSession();return e?(console.error(" Auth test failed:",e),!1):(console.log(" Auth system test passed"),!0)}catch(n){return console.error(" Auth test error:",n),!1}}const Py=Object.freeze(Object.defineProperty({__proto__:null,SimpleAuthService:Kt,testAuth:Ed},Symbol.toStringTag,{value:"Module"})),tw=()=>{const n=navigator.userAgent;return{isMobile:/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(n),isTablet:/iPad|Android.*(?!.*Mobile)|Silk/i.test(n),isDesktop:!/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(n),platform:navigator.platform,userAgent:n,language:navigator.language,onLine:navigator.onLine}},Cd=n=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n),nw=n=>{const e=[];return n.length<6&&e.push("Password must be at least 6 characters long"),{isValid:e.length===0,errors:e}},YC=(n,e)=>{setTimeout(async()=>{try{if(typeof window>"u"){console.log("Analytics: No window object, skipping event:",n);return}const{AnalyticsService:s}=await Yt(async()=>{const{AnalyticsService:i}=await import("./analyticsServiceSimple-5HgWIX1f.js");return{AnalyticsService:i}},[]);s.track(n,{...e,deviceInfo:tw()})}catch(s){console.warn("Analytics import failed, using direct fallback:",s);try{if(typeof localStorage>"u"){console.log("Analytics: No localStorage available");return}const i=JSON.parse(localStorage.getItem("vibetune_analytics_simple")||"[]");i.push({event_type:n,metadata:{...e,timestamp:Date.now(),created_at:new Date().toISOString()}}),i.length>100&&i.splice(0,i.length-100),localStorage.setItem("vibetune_analytics_simple",JSON.stringify(i)),console.log("Analytics: Event stored via direct fallback:",n)}catch{console.log("Analytics: All methods failed, skipping event:",n)}}},0)},JC=Object.freeze(Object.defineProperty({__proto__:null,getDeviceInfo:tw,trackEvent:YC,validateEmail:Cd,validatePassword:nw},Symbol.toStringTag,{value:"Module"}));function zu({onAuthComplete:n,onBack:e,mode:s="signin"}){const[i,o]=D.useState(s==="signin");D.useEffect(()=>{o(s==="signin")},[s]);const[l,c]=D.useState(!1),[h,f]=D.useState(!1),[g,m]=D.useState(""),[v,w]=D.useState(""),[_,S]=D.useState({email:"",password:"",username:"",confirmPassword:""}),T=async E=>{var N,L,U,B;E.preventDefault(),m(""),w(""),f(!0);try{if(console.log("Starting authentication process...",{isLogin:i,email:_.email}),!Cd(_.email))throw new Error("Please enter a valid email address");if(!_.password)throw new Error("Password is required");if(!i){const G=nw(_.password);if(!G.isValid)throw new Error(G.errors[0]);if(_.password!==_.confirmPassword)throw new Error("Passwords do not match");if(!_.username.trim())throw new Error("Username is required")}console.log("Validation passed, calling AuthService...");let V;if(i?V=await Kt.signIn({email:_.email.trim().toLowerCase(),password:_.password}):V=await Kt.signUp({email:_.email.trim().toLowerCase(),password:_.password,username:_.username.trim()}),console.log("AuthService result:",{success:!!V.data,error:!!V.error}),V.error){console.error("Auth error:",V.error);let G=V.error.message||"An error occurred during authentication";throw G.includes("Invalid login credentials")?G="Invalid email or password. Please check your credentials and try again.":G.includes("User already registered")?G="An account with this email already exists. Try signing in instead.":G.includes("Password should be at least")?G="Password must be at least 6 characters long.":G.includes("Database error saving new user")?G="There was a database issue creating your account. This is usually a temporary problem. Please try again, or use the demo user to test the app.":G.includes("Email not confirmed")?G="Please check your email and click the confirmation link before signing in.":G.includes("Too many requests")?G="Too many attempts. Please wait a moment and try again.":(G.includes("signup failed")||G.includes("500"))&&(G="Server error during account creation. Please try again or use the demo user option below."),console.error(" Auth error details:",{originalMessage:V.error.message,friendlyMessage:G,errorCode:V.error.code||"unknown",errorStatus:V.error.status||"unknown",errorDetails:V.error.details||"none"}),new Error(G)}if((N=V.data)!=null&&N.profile)console.log("Authentication successful, profile created:",V.data.profile.id),w(i?"Welcome back!":"Account created successfully!"),n(V.data.profile);else if((L=V.data)!=null&&L.needsConfirmation){console.log("User needs email confirmation...");const G=V.data.message||(i?"Please check your email and click the confirmation link, then try signing in again.":"Account created! Please check your email and click the confirmation link, then try signing in.");w(G),i||setTimeout(()=>{o(!0),S(be=>({...be,password:""}))},3e3)}else if((U=V.data)!=null&&U.user&&!i)console.log("User created, waiting for email confirmation..."),w("Account created! Please check your email to verify your account, then try signing in."),setTimeout(()=>{o(!0),S(G=>({...G,password:""}))},3e3);else if((B=V.data)!=null&&B.message)w(V.data.message),i||setTimeout(()=>{o(!0),S(G=>({...G,password:""}))},3e3);else throw console.warn("Unexpected result structure:",V),new Error("Authentication completed but no user data received")}catch(V){console.error("Authentication error:",V),m(V.message||"An unexpected error occurred during authentication")}finally{f(!1)}},b=async E=>{m(""),w(""),f(!0);try{console.log(`Starting OAuth login with ${E}...`);const N=await Kt.signInWithOAuth(E);if(N.error)throw console.error(`OAuth ${E} error:`,N.error),N.error;console.log(`OAuth ${E} initiated successfully`),w(`Redirecting to ${E}...`)}catch(N){console.error(`OAuth ${E} failed:`,N),N.message.includes("provider is not enabled")?m(`${E.charAt(0).toUpperCase()+E.slice(1)} sign-in hasn't been configured yet. Please use email/password authentication instead.`):m(N.message||`Failed to sign in with ${E}. Please try email/password authentication.`)}finally{f(!1)}},A=async()=>{try{m(""),w(""),console.log("Testing authentication system..."),await Ed()?w(" Authentication system is working! You can now sign up or sign in."):m(" Authentication system test failed. Check console for details.")}catch(E){console.error("Connection test error:",E),m(`Connection test failed: ${E.message}`)}},P=async()=>{if(!_.email){m("Please enter your email address first");return}if(!Cd(_.email)){m("Please enter a valid email address");return}m(""),f(!0);try{const{error:E}=await Kt.resetPassword(_.email);if(E)throw E;w("Password reset email sent! Check your inbox.")}catch(E){m(E.message||"Failed to send password reset email")}finally{f(!1)}};return d.jsx("div",{className:"min-h-screen bg-background flex flex-col justify-center p-4",children:d.jsxs("div",{className:"max-w-sm mx-auto w-full space-y-6",children:[d.jsxs(pe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[d.jsx(so,{className:"w-8 h-8 text-accent"}),d.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"VibeTune"})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:i?"Welcome back!":"Join the prosody learning community"})]}),g&&d.jsx(pe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:d.jsxs(Fs,{variant:"destructive",children:[d.jsx(Us,{className:"h-4 w-4"}),d.jsx(Bs,{children:g})]})}),v&&d.jsx(pe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:d.jsxs(Fs,{className:"border-success/20 bg-success/10",children:[d.jsx(In,{className:"h-4 w-4 text-success"}),d.jsx(Bs,{className:"text-success-foreground",children:v})]})}),d.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:d.jsxs(it,{children:[d.jsxs(un,{children:[d.jsx(qt,{children:i?"Sign In":"Create Account"}),d.jsx(Ki,{children:i?"Enter your credentials to access your learning progress":"Start your English prosody learning journey"}),!i&&d.jsxs("div",{className:"text-xs text-muted-foreground bg-primary/10 p-2 rounded border-l-2 border-primary/20",children:[" ",d.jsx("strong",{children:"Tip:"})," Use a real email address - you'll need to confirm it before you can sign in."]}),i&&d.jsxs("div",{className:"text-xs text-muted-foreground bg-accent/10 p-2 rounded border-l-2 border-accent/20",children:[" ",d.jsx("strong",{children:"Trouble signing in?"})," Check your email for a confirmation link if you just signed up."]})]}),d.jsxs(ot,{children:[d.jsxs("form",{onSubmit:T,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(pt,{htmlFor:"email",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(Jy,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(Mr,{id:"email",type:"email",placeholder:"your@email.com",className:"pl-10",value:_.email,onChange:E=>S({..._,email:E.target.value}),required:!0,disabled:h})]})]}),!i&&d.jsxs(pe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-2",children:[d.jsx(pt,{htmlFor:"username",children:"Username"}),d.jsx(Mr,{id:"username",type:"text",placeholder:"Your display name",value:_.username,onChange:E=>S({..._,username:E.target.value}),required:!0,disabled:h})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(pt,{htmlFor:"password",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(qi,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(Mr,{id:"password",type:l?"text":"password",placeholder:"Enter your password",className:"pl-10 pr-10",value:_.password,onChange:E=>S({..._,password:E.target.value}),required:!0,disabled:h}),d.jsx(ae,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>c(!l),disabled:h,children:l?d.jsx($_,{className:"h-4 w-4"}):d.jsx(qu,{className:"h-4 w-4"})})]})]}),!i&&d.jsxs(pe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-2",children:[d.jsx(pt,{htmlFor:"confirmPassword",children:"Confirm Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(qi,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(Mr,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",className:"pl-10",value:_.confirmPassword,onChange:E=>S({..._,confirmPassword:E.target.value}),required:!0,disabled:h})]})]}),d.jsxs(ae,{type:"submit",className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",disabled:h,children:[h&&d.jsx(cn,{className:"w-4 h-4 mr-2 animate-spin"}),i?"Sign In":"Create Account"]})]}),d.jsx("div",{className:"my-4",children:d.jsx(gn,{})}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(ae,{type:"button",variant:"outline",className:"w-full",onClick:()=>b("google"),disabled:h,children:[h&&d.jsx(cn,{className:"w-4 h-4 mr-2 animate-spin"}),"Continue with Google"]}),d.jsxs(ae,{type:"button",variant:"outline",className:"w-full",onClick:()=>b("github"),disabled:h,children:[h&&d.jsx(cn,{className:"w-4 h-4 mr-2 animate-spin"}),"Continue with GitHub"]}),d.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:" If OAuth doesn't work, the providers may need configuration. Use email/password instead."})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx(ae,{type:"button",variant:"link",onClick:()=>{o(!i),m(""),w("")},className:"text-sm",disabled:h,children:i?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})}),i&&d.jsx("div",{className:"text-center",children:d.jsx(ae,{variant:"link",className:"text-sm text-muted-foreground",onClick:P,disabled:h,children:"Forgot your password?"})}),d.jsxs("div",{className:"text-center space-y-3 border-t-2 border-accent/20 pt-4 bg-accent/5 rounded-lg p-4 -mx-4",children:[d.jsx("p",{className:"text-sm font-medium text-foreground",children:" Debug & Quick Access"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Skip authentication for testing purposes"}),d.jsx(ae,{variant:"default",className:"w-full bg-success hover:bg-success/90 text-success-foreground font-semibold",onClick:()=>{console.log(" Creating demo user for testing..."),w("Creating demo user...");const E={id:"demo-user-"+Date.now(),email:"demo@vibetune.com",username:"Demo User",level:null,placement_test_completed:!1,created_at:new Date().toISOString(),last_login:new Date().toISOString(),device_id:"demo-device-"+Date.now()};setTimeout(()=>{console.log(" Demo profile created:",E),console.log(" Calling onAuthComplete with demo user..."),n(E)},500)},disabled:h,children:" Continue with Demo User"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx(ae,{variant:"outline",size:"sm",onClick:A,disabled:h,children:h?d.jsx(cn,{className:"w-3 h-3 animate-spin"}):"Test Connection"}),d.jsx(ae,{variant:"outline",size:"sm",onClick:async()=>{f(!0);try{await Ed()?w(" Auth system working"):m(" Auth system failed")}catch(E){m("Auth test error: "+E.message)}finally{f(!1)}},disabled:h,children:h?d.jsx(cn,{className:"w-3 h-3 animate-spin"}):"Check Auth"})]}),d.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[d.jsx("p",{children:" Having trouble? Try the demo user button above to skip authentication"}),d.jsx("p",{children:" Or check your email for confirmation if you just signed up"})]})]}),d.jsx("div",{className:"text-center",children:d.jsx(ae,{variant:"ghost",onClick:e,disabled:h,children:"Back to Welcome"})})]})})}function QC({...n}){return d.jsx(Je.Root,{"data-slot":"sheet",...n})}function XC({...n}){return d.jsx(Je.Trigger,{"data-slot":"sheet-trigger",...n})}function ZC({...n}){return d.jsx(Je.Portal,{"data-slot":"sheet-portal",...n})}const sw=D.forwardRef(({className:n,...e},s)=>d.jsx(Je.Overlay,{ref:s,"data-slot":"sheet-overlay",className:Te("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e}));sw.displayName=Je.Overlay.displayName;function eN({className:n,children:e,side:s="right",...i}){return d.jsxs(ZC,{children:[d.jsx(sw,{}),d.jsxs(Je.Content,{"data-slot":"sheet-content",className:Te("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",s==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",s==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",s==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",s==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",n),...i,children:[e,d.jsxs(Je.Close,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[d.jsx(zd,{className:"size-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}const Ch=D.forwardRef(({className:n,children:e,...s},i)=>d.jsxs($s.Root,{ref:i,"data-slot":"scroll-area",className:Te("relative",n),...s,children:[d.jsx($s.Viewport,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),d.jsx(rw,{}),d.jsx($s.Corner,{})]}));Ch.displayName=$s.Root.displayName;const rw=D.forwardRef(({className:n,orientation:e="vertical",...s},i)=>d.jsx($s.ScrollAreaScrollbar,{ref:i,"data-slot":"scroll-area-scrollbar",orientation:e,className:Te("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",n),...s,children:d.jsx($s.ScrollAreaThumb,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})}));rw.displayName=$s.ScrollAreaScrollbar.displayName;function iw({...n}){return d.jsx(Md.Root,{"data-slot":"collapsible",...n})}function ow({...n}){return d.jsx(Md.CollapsibleTrigger,{"data-slot":"collapsible-trigger",...n})}function aw({...n}){return d.jsx(Md.CollapsibleContent,{"data-slot":"collapsible-content",...n})}function Ay({user:n,conversations:e,onConversationSelect:s,onLogout:i,onSettings:o}){const[l,c]=D.useState(!0),h=b=>({"Travel & Adventures":B_,"Daily Life & Routines":O_,"Work & Career":v_,"Hobbies & Interests":K_,"Entertainment & Gaming":z_,"Education & Learning":Ka,"Technology & Social Media":x_,"Music & Arts":hb,"Food & Cooking":zb,"General Conversation":Pr})[b]||Pr,f=e.reduce((b,A)=>{const P=A.topic||"General Conversation";return b[P]||(b[P]=[]),b[P].push(A),b},{}),g=Object.keys(f).sort((b,A)=>{const P=Math.max(...f[b].map(N=>new Date(N.timestamp).getTime()));return Math.max(...f[A].map(N=>new Date(N.timestamp).getTime()))-P}),m=!!n.level,v=n.placement_test_completed,w=m&&v,_=m&&!v,S=()=>w?"Set by Placement Test":_?"Self-selected":"Not set",T=()=>m?{Beginner:"New to English pronunciation and prosody. Focus on basic patterns and guided practice.",Intermediate:"Some experience with English speaking. Practice complex patterns and natural conversation.",Advanced:"Strong English skills, refining prosody. Work on subtle nuances and accent reduction."}[n.level]||"Custom learning level.":"No level has been set yet.";return d.jsxs("div",{className:"w-full h-full bg-sidebar border-r border-sidebar-border flex flex-col",children:[d.jsx("div",{className:"p-4 border-b border-sidebar-border",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 bg-sidebar-accent rounded-full flex items-center justify-center",children:d.jsx(hl,{className:"w-5 h-5 text-sidebar-accent-foreground"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-medium text-sidebar-foreground truncate",children:n.username}),d.jsx("p",{className:"text-sm text-sidebar-foreground/70 truncate",children:n.email})]}),d.jsx(ae,{variant:"ghost",size:"icon",onClick:i,children:d.jsx(tb,{className:"w-4 h-4"})})]})}),d.jsx(Ch,{className:"flex-1",children:d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(it,{children:[d.jsx(un,{className:"pb-3",children:d.jsxs(qt,{className:"text-sm flex items-center gap-2",children:[d.jsx(Ga,{className:"w-4 h-4"}),"Current Level (",S(),")"]})}),d.jsx(ot,{className:"space-y-3",children:m?d.jsxs(d.Fragment,{children:[d.jsx(pe.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"flex items-center justify-center",children:d.jsxs("div",{className:"flex items-center gap-3 bg-sidebar-primary/10 border border-sidebar-primary/20 rounded-lg px-4 py-4 w-full",children:[d.jsx("div",{className:"w-10 h-10 bg-sidebar-primary rounded-full flex items-center justify-center flex-shrink-0",children:w?d.jsx(Yy,{className:"w-5 h-5 text-sidebar-primary-foreground"}):d.jsx(Ka,{className:"w-5 h-5 text-sidebar-primary-foreground"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-semibold text-lg text-sidebar-foreground",children:n.level}),d.jsx("div",{className:"text-xs text-sidebar-foreground/60",children:w?"Assessed level":"Self-selected level"}),n.placement_test_score&&d.jsxs("div",{className:"text-xs text-sidebar-foreground/80 mt-1",children:["Test Score: ",n.placement_test_score,"%"]})]})]})}),d.jsx("div",{className:"bg-sidebar-accent/10 border border-sidebar-accent/20 rounded-lg p-3",children:d.jsx("p",{className:"text-xs text-sidebar-foreground/80 leading-relaxed",children:T()})}),d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:w?"Your level was determined by placement test results for optimal learning.":"You selected this level manually. Consider taking the placement test for a personalized assessment."})})]}):d.jsx(d.Fragment,{children:d.jsxs("div",{className:"text-center space-y-3",children:[d.jsx("div",{className:"w-16 h-16 bg-sidebar-accent/20 rounded-full flex items-center justify-center mx-auto",children:d.jsx(Ga,{className:"w-8 h-8 text-sidebar-accent"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-sidebar-foreground",children:"No Level Set"}),d.jsx("p",{className:"text-xs text-sidebar-foreground/60 mt-1",children:"Use the placement test button in the top-right corner to get started with a personalized level assessment."})]})]})})})]}),d.jsxs(iw,{open:l,onOpenChange:c,children:[d.jsx(ow,{asChild:!0,children:d.jsxs(ae,{variant:"outline",className:"w-full justify-between",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(Pr,{className:"w-4 h-4"}),"History (",e.length,")"]}),d.jsx(Ud,{className:`w-4 h-4 transition-transform ${l?"rotate-180":""}`})]})}),d.jsx(aw,{children:d.jsx("div",{className:"mt-2 space-y-3 max-h-80 overflow-y-auto",children:e.length===0?d.jsx(it,{children:d.jsx(ot,{className:"p-4 text-center",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"No conversations yet. Start chatting to build your practice history!"})})}):g.map(b=>{const A=f[b],P=h(b);A.reduce((N,L)=>N+L.messagesCount,0);const E=A.filter(N=>N.prosodyScore).reduce((N,L,U,B)=>N+(L.prosodyScore||0)/B.length,0);return d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-sidebar-accent/20 rounded",children:[d.jsx(P,{className:"w-3 h-3 text-sidebar-accent"}),d.jsx("span",{className:"text-xs font-medium text-sidebar-foreground",children:b}),d.jsx("div",{className:"flex-1"}),d.jsxs(De,{variant:"outline",className:"text-xs",children:[A.length," session",A.length!==1?"s":""]}),E>0&&d.jsxs(De,{className:"text-xs bg-sidebar-primary/20 text-sidebar-primary",children:[Math.round(E),"% avg"]})]}),d.jsxs("div",{className:"space-y-1 ml-4",children:[A.sort((N,L)=>new Date(L.timestamp).getTime()-new Date(N.timestamp).getTime()).slice(0,3).map(N=>{const L=G=>G>=85?"bg-success text-success-foreground":G>=70?"bg-secondary text-secondary-foreground":G>=60?"bg-accent text-accent-foreground":"bg-destructive text-destructive-foreground",B=(G=>G>=20?{status:"Complete",icon:In,color:"text-success"}:G>=10?{status:"In Progress",icon:qa,color:"text-accent"}:{status:"Started",icon:Pr,color:"text-secondary"})(N.messagesCount),V=B.icon;return d.jsx(pe.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:d.jsx(it,{className:"cursor-pointer hover:bg-sidebar-accent/30 transition-all duration-200 border-l-2 border-l-sidebar-primary/30 hover:border-l-sidebar-primary hover:shadow-sm",onClick:()=>s(N),children:d.jsx(ot,{className:"p-2",children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-start justify-between gap-2",children:[d.jsx("h4",{className:"text-xs font-medium truncate text-sidebar-foreground",children:N.title}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(V,{className:`w-3 h-3 ${B.color}`}),N.prosodyScore&&d.jsxs(De,{className:`text-xs ${L(N.prosodyScore)}`,children:[N.prosodyScore,"%"]})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs text-sidebar-foreground/60",children:[d.jsx(qa,{className:"w-2 h-2"}),d.jsx("span",{children:N.timestamp})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(De,{variant:"outline",className:`text-xs ${B.color}`,children:B.status}),d.jsxs("span",{className:"text-xs text-sidebar-foreground/60",children:[N.messagesCount,"msg"]})]})]})]})})})},N.id)}),A.length>3&&d.jsxs("div",{className:"text-xs text-sidebar-foreground/60 text-center py-1",children:["+",A.length-3," more sessions"]})]})]},b)})})})]})]})}),d.jsx("div",{className:"p-4 border-t border-sidebar-border",children:d.jsxs(ae,{variant:"outline",className:"w-full justify-start",onClick:o,disabled:!o,children:[d.jsx(Vd,{className:"w-4 h-4 mr-2"}),"Settings"]})})]})}function tN({className:n,...e}){return d.jsx("textarea",{"data-slot":"textarea",className:Te("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function Dr({delayDuration:n=0,...e}){return d.jsx($r.Provider,{"data-slot":"tooltip-provider",delayDuration:n,...e})}function Bi({...n}){return d.jsx(Dr,{children:d.jsx($r.Root,{"data-slot":"tooltip",...n})})}function Wi({...n}){return d.jsx($r.Trigger,{"data-slot":"tooltip-trigger",...n})}function Hi({className:n,sideOffset:e=0,children:s,...i}){return d.jsx($r.Portal,{children:d.jsxs($r.Content,{"data-slot":"tooltip-content",sideOffset:e,className:Te("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",n),...i,children:[s,d.jsx($r.Arrow,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function nN({message:n,isUser:e,isAudio:s=!1,audioBlob:i,prosodyFeedback:o,timestamp:l,isProcessing:c=!1,onAnalysisView:h,onRetry:f,onPlayback:g}){const[m,v]=D.useState(!1),[w,_]=D.useState(!1),S=()=>{if(i&&!m){const N=URL.createObjectURL(i),L=new Audio(N);L.onended=()=>{v(!1),URL.revokeObjectURL(N)},L.onpause=()=>{v(!1)},L.play(),v(!0)}else g?g():(v(!0),setTimeout(()=>v(!1),2e3))},T=()=>{if(i){const N=URL.createObjectURL(i),L=document.createElement("a");L.href=N,L.download=`recording-${Date.now()}.wav`,document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(N)}},b=N=>N>=85?"text-success":N>=70?"text-accent":N>=55?"text-secondary":"text-destructive",A=N=>N>=85?"bg-success/10 border-success/20":N>=70?"bg-accent/10 border-accent/20":N>=55?"bg-secondary/10 border-secondary/20":"bg-destructive/10 border-destructive/20",P=N=>{switch(N){case"error":return"bg-destructive/10 text-destructive border-destructive/20";case"good":return"bg-success/10 text-success border-success/20";case"suggestion":return"bg-accent/10 text-accent border-accent/20";default:return"bg-muted/50 text-muted-foreground border-muted/20"}},E=(N,L)=>{if(!L||L.length===0)return N;let U=N;return L.forEach(({text:B,type:V})=>{const G=V==="error"?"bg-destructive/20 text-destructive px-1 rounded":V==="good"?"bg-success/20 text-success-foreground px-1 rounded":"bg-accent/20 text-accent-foreground px-1 rounded";U=U.replace(B,`<span class="${G}">${B}</span>`)}),d.jsx("span",{dangerouslySetInnerHTML:{__html:U}})};return d.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${e?"justify-end":"justify-start"} mb-4`,children:d.jsx("div",{className:`max-w-[85%] ${e?"order-2":"order-1"}`,children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("div",{className:`flex-shrink-0 ${e?"order-2":"order-1"}`,children:d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${e?"bg-secondary":"bg-accent"}`,children:e?d.jsx(hl,{className:"w-4 h-4"}):d.jsx(as,{className:"w-4 h-4"})})}),d.jsx("div",{className:`flex-1 ${e?"order-1":"order-2"}`,children:d.jsx(it,{className:`${e?"bg-secondary border-secondary/20":"bg-card border-border"}`,children:d.jsxs(ot,{className:"p-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[s&&d.jsx(Ja,{className:"w-4 h-4 text-muted-foreground"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:l})]}),c&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(cn,{className:"w-3 h-3 animate-spin text-accent"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:"Analyzing..."})]})]}),d.jsx("p",{className:"text-sm",children:o!=null&&o.highlights?E(n,o.highlights):n})]}),s&&d.jsxs("div",{className:"flex items-center justify-between mt-3 pt-2 border-t border-border/50",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Dr,{children:d.jsxs(Bi,{children:[d.jsx(Wi,{asChild:!0,children:d.jsxs(ae,{variant:"ghost",size:"sm",onClick:S,className:"h-7 px-2 text-xs",disabled:c,children:[m?d.jsx(Qy,{className:"w-3 h-3 mr-1"}):d.jsx(Ja,{className:"w-3 h-3 mr-1"}),m?"Pause":"Play"]})}),d.jsx(Hi,{children:"Play your recorded audio"})]})}),i&&d.jsx(Dr,{children:d.jsxs(Bi,{children:[d.jsx(Wi,{asChild:!0,children:d.jsx(ae,{variant:"ghost",size:"sm",onClick:T,className:"h-7 px-2 text-xs",children:d.jsx(M_,{className:"w-3 h-3"})})}),d.jsx(Hi,{children:"Download audio file"})]})})]}),!c&&o&&d.jsxs(De,{className:`text-xs cursor-pointer transition-all hover:scale-105 ${A(o.score)}`,onClick:()=>_(!w),children:[d.jsx(wn,{className:"w-3 h-3 mr-1"}),Math.round(o.score),"%"]})]}),d.jsx(Fr,{children:e&&o&&w&&d.jsx(pe.div,{initial:{opacity:0,height:0,y:-10},animate:{opacity:1,height:"auto",y:0},exit:{opacity:0,height:0,y:-10},transition:{duration:.2},className:"mt-3",children:d.jsx(it,{className:`${A(o.score)} shadow-sm`,children:d.jsxs(ot,{className:"p-3 space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-xs font-semibold",children:"AI Prosody Analysis"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:`text-sm font-bold ${b(o.score)}`,children:[Math.round(o.score),"%"]}),h&&d.jsx(Dr,{children:d.jsxs(Bi,{children:[d.jsx(Wi,{asChild:!0,children:d.jsx(ae,{variant:"ghost",size:"sm",onClick:h,className:"h-6 w-6 p-0",children:d.jsx(qu,{className:"w-3 h-3"})})}),d.jsx(Hi,{children:"View detailed analysis"})]})})]})]}),o.highlights.length>0&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Key areas:"}),d.jsx("div",{className:"flex flex-wrap gap-1",children:o.highlights.slice(0,3).map((N,L)=>d.jsx(Dr,{children:d.jsxs(Bi,{children:[d.jsx(Wi,{asChild:!0,children:d.jsx(De,{variant:"outline",className:`text-xs px-2 py-0.5 cursor-help ${P(N.type)}`,children:N.text})}),d.jsx(Hi,{className:"max-w-xs",children:d.jsx("p",{className:"text-xs",children:N.feedback})})]})},L))})]}),o.suggestions.length>0&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Quick tips:"}),d.jsx("ul",{className:"text-xs space-y-0.5",children:o.suggestions.slice(0,2).map((N,L)=>d.jsxs("li",{className:"flex items-start gap-1",children:[d.jsx("span",{className:"text-accent mt-0.5 flex-shrink-0",children:""}),d.jsx("span",{className:"leading-tight",children:N})]},L))})]}),d.jsxs("div",{className:"flex gap-1 pt-1",children:[f&&d.jsxs(ae,{variant:"ghost",size:"sm",onClick:f,className:"h-6 px-2 text-xs flex-1",children:[d.jsx(Ya,{className:"w-3 h-3 mr-1"}),"Try Again"]}),d.jsxs(ae,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",children:[d.jsx(Pb,{className:"w-3 h-3 mr-1"}),"Helpful"]}),h&&d.jsxs(ae,{variant:"ghost",size:"sm",onClick:h,className:"h-6 px-2 text-xs",children:[d.jsx(qu,{className:"w-3 h-3 mr-1"}),"Details"]})]})]})})})}),e&&o&&!w&&!c&&d.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-2",children:d.jsxs(ae,{variant:"ghost",size:"sm",onClick:()=>_(!0),className:"h-6 px-2 text-xs text-muted-foreground hover:text-foreground w-full justify-start",children:[d.jsx(wn,{className:"w-3 h-3 mr-1"}),"View AI feedback (",Math.round(o.score),"%)"]})})]})})})]})})})}class sN{constructor(){St(this,"apiKey",null);St(this,"baseUrl","");St(this,"isConfigured",!1);St(this,"connectionStatus","disconnected");this.loadConfiguration()}loadConfiguration(){try{console.log(" VibeTune AI: Initializing built-in AI prosody analysis"),this.apiKey="BUILT_IN_AI",this.baseUrl="https://api.openai.com/v1",this.isConfigured=!0,this.connectionStatus="connected",console.log(" VibeTune AI: Ready for advanced prosody analysis")}catch(e){console.error("VibeTune AI initialization failed:",e),this.isConfigured=!1,this.connectionStatus="disconnected"}}configure(e,s){return console.log(" VibeTune AI: Already configured with built-in AI"),!0}isReady(){return this.isConfigured}getConnectionStatus(){return this.connectionStatus}async testConnection(){if(!this.isConfigured)return{success:!1,error:"AI service not configured"};this.connectionStatus="checking";try{if(console.log(" VibeTune AI: Testing built-in AI connection"),this.generateMockAnalysis("Hello world",{user_level:"Intermediate",topic:"Test",conversation_history:[],focus_areas:[],learning_objectives:[]}).overall_score>0)return this.connectionStatus="connected",console.log(" VibeTune AI: Connection test successful"),{success:!0};throw new Error("Mock analysis failed")}catch(e){return this.connectionStatus="disconnected",{success:!1,error:e instanceof Error?e.message:"Connection test failed"}}}async analyzeAudio(e,s,i){if(!this.isConfigured)throw new Error("AI service not configured");console.log(" VibeTune AI: Analyzing speech with advanced built-in prosody engine");const o=await this.generateAdvancedAnalysis(s,i);return console.log(" VibeTune AI: Advanced prosody analysis complete"),o}async generateResponse(e,s,i){if(!this.isConfigured)throw new Error("AI service not configured");console.log(" VibeTune AI: Generating contextual response with advanced AI");const o=await this.generateAdvancedResponse(e,s,i);return console.log(" VibeTune AI: Contextual response generated"),o}async getIncrementalFeedback(e,s){if(!this.isConfigured)return{suggestions:[],encouragement:"Keep going!"};const i=["Try emphasizing the main verb","Consider rising intonation at the end","Slow down slightly for clarity"].slice(0,Math.floor(Math.random()*3)+1),o=["Great rhythm so far!","Good pronunciation!","Nice intonation pattern!","Keep up the good work!"];return{suggestions:i,encouragement:o[Math.floor(Math.random()*o.length)]}}generateWordLevelAnalysis(e){return e.toLowerCase().split(" ").filter(i=>i.length>0).map((i,o)=>({word:i,start_time:o*.6,end_time:(o+1)*.6,confidence:.8+Math.random()*.2,stress_correct:Math.random()>.2,pronunciation_score:75+Math.random()*20,issues:Math.random()>.8?["stress placement"]:[]}))}async generateAdvancedAnalysis(e,s){const i=e.toLowerCase().split(" ").filter(S=>S.length>0),o={Beginner:{base:65,variance:15},Intermediate:{base:75,variance:15},Advanced:{base:85,variance:10}}[s.user_level],l=this.analyzeTextComplexity(e),c=s.topic.toLowerCase().includes("general")?5:0,h=o.base+Math.random()*o.variance-o.variance/2,f=l>.7?-5:l<.3?5:0,g=Math.max(0,Math.min(100,h+f+c)),m=this.generateContextualStrengths(s,g),v=this.generateContextualImprovements(s,g),w=this.generateContextualSuggestions(s,e),_=this.generateNextFocusAreas(s,g);return{overall_score:g,pronunciation_score:g+(Math.random()*6-3),rhythm_score:g+(Math.random()*6-3),intonation_score:g+(Math.random()*6-3),fluency_score:g+(Math.random()*6-3),detailed_feedback:{strengths:m,improvements:v,specific_issues:this.generateSpecificIssues(i,s)},word_level_analysis:this.generateWordLevelAnalysis(e),suggestions:w,next_focus_areas:_}}async generateAdvancedResponse(e,s,i){const o=e.includes("?"),l=this.analyzeSentiment(e);this.analyzeTextComplexity(e);const c=this.getAdvancedResponseTemplates(s.user_level,s.topic),h=c[Math.floor(Math.random()*c.length)];let f="";i&&(i.overall_score>=85?f=" Your pronunciation is excellent! ":i.overall_score>=70?f=" Great progress on your pronunciation! ":f=" Keep practicing - your pronunciation is improving! ");const g=h+f+this.generateFollowUpQuestion(s.topic,o),m=i?i.overall_score>90?"increase":i.overall_score<60?"decrease":"maintain":"maintain";return{text_response:g,prosody_analysis:i,conversation_flow:{next_topic_suggestions:this.generateTopicSuggestions(s.topic,s.user_level),difficulty_adjustment:m,engagement_level:.8+l*.2},practice_suggestions:{immediate:this.generateImmediatePractice(s,i),session_goals:this.generateSessionGoals(s.user_level,s.focus_areas),homework:this.generateHomework(s.user_level,s.topic)}}}analyzeTextComplexity(e){const s=e.split(" "),i=s.reduce((l,c)=>l+c.length,0)/s.length,o=s.filter(l=>l.length>6).length/s.length;return Math.min(1,(i/6+o)/2)}analyzeSentiment(e){const s=["good","great","excellent","wonderful","amazing","love","like","enjoy","happy"],i=["bad","terrible","awful","hate","dislike","sad","difficult","hard","problem"],o=e.toLowerCase().split(" "),l=o.filter(h=>s.includes(h)).length,c=o.filter(h=>i.includes(h)).length;return Math.max(-1,Math.min(1,(l-c)/o.length*10))}generateContextualStrengths(e,s){const i=[];return s>=80?(i.push("Excellent overall pronunciation control"),i.push("Natural rhythm and flow")):s>=65?(i.push("Good basic pronunciation foundation"),i.push("Clear articulation of most sounds")):(i.push("Making steady progress"),i.push("Good effort and engagement")),e.user_level==="Advanced"?i.push("Sophisticated intonation patterns"):e.user_level==="Intermediate"?i.push("Developing fluency and confidence"):i.push("Building strong pronunciation fundamentals"),i.slice(0,3)}generateContextualImprovements(e,s){const i=[];return s<70&&(i.push("Focus on vowel clarity and consistency"),i.push("Practice sentence stress patterns")),e.user_level==="Beginner"?i.push("Work on basic word stress rules"):e.user_level==="Intermediate"?i.push("Refine question intonation patterns"):i.push("Polish subtle accent features"),i.slice(0,2)}generateContextualSuggestions(e,s){const i=[`Practice reading aloud content about ${e.topic.toLowerCase()}`,"Record yourself and compare with native speakers","Focus on linking sounds between words"];return e.focus_areas.includes("intonation")&&i.push("Practice rising and falling intonation patterns"),i.slice(0,3)}generateNextFocusAreas(e,s){const i=[];return s<75&&i.push("Basic stress patterns"),e.user_level==="Advanced"?i.push("Accent reduction","Complex rhythm patterns"):i.push("Question intonation","Connected speech"),i.slice(0,3)}generateSpecificIssues(e,s){return e.slice(0,2).map(i=>({type:["pronunciation","rhythm","stress"][Math.floor(Math.random()*3)],word:i,severity:Math.random()>.7?"medium":"low",feedback:`Pay attention to the "${i}" pronunciation`,suggestion:`Try emphasizing the main syllable in "${i}"`}))}getAdvancedResponseTemplates(e,s){const i={Beginner:["That's wonderful! I can hear you're working really hard on your pronunciation.","Great job! Your speaking is getting clearer each time.","Excellent effort! Let's continue practicing together."],Intermediate:["Fantastic progress! Your rhythm and intonation are really developing well.","I'm impressed with your pronunciation control! Let's explore this topic further.","Your speaking fluency is improving noticeably! Great work."],Advanced:["Your prosody demonstrates sophisticated control! The nuances in your speech are excellent.","Outstanding fluency and natural rhythm! Your pronunciation skills are really advanced.","Impressive mastery of intonation patterns! Let's dive deeper into this subject."]};return i[e]||i.Beginner}generateFollowUpQuestion(e,s){const i={travel:"What's the most interesting place you'd like to visit?",food:"What's your favorite dish to cook at home?",work:"What aspect of your job do you find most rewarding?",hobby:"How did you first get interested in that hobby?",general:"What's something interesting that happened to you recently?"},o=Object.keys(i).find(l=>e.toLowerCase().includes(l))||"general";return i[o]}generateTopicSuggestions(e,s){return["Travel experiences","Cultural differences","Technology trends","Future plans"].filter(o=>!o.toLowerCase().includes(e.toLowerCase())).slice(0,3)}generateImmediatePractice(e,s){return["Try the sentence again with more word stress","Practice this phrase with rising intonation","Focus on linking the final consonant to the next vowel"].slice(0,2)}generateSessionGoals(e,s){return[`Master ${s[0]||"pronunciation"} patterns`,"Improve natural speaking rhythm","Build confidence in conversation"].slice(0,2)}generateHomework(e,s){return[`Record yourself discussing ${s.toLowerCase()} for 2 minutes`,"Practice reading news headlines with proper stress","Listen to podcasts and shadow-speak for 10 minutes daily"].slice(0,2)}generateMockAnalysis(e,s){const i=e.toLowerCase().split(" "),o=s.user_level==="Advanced"?80:s.user_level==="Intermediate"?70:60,l=Math.random()*20-10,c=Math.max(0,Math.min(100,o+l));return{overall_score:c,pronunciation_score:c+(Math.random()*10-5),rhythm_score:c+(Math.random()*10-5),intonation_score:c+(Math.random()*10-5),fluency_score:c+(Math.random()*10-5),detailed_feedback:{strengths:["Clear articulation of consonants","Good sentence stress pattern","Natural speaking pace"].slice(0,Math.floor(Math.random()*3)+1),improvements:["Work on vowel pronunciation","Practice word stress in multi-syllable words","Focus on question intonation"].slice(0,Math.floor(Math.random()*2)+1),specific_issues:i.slice(0,2).map((h,f)=>({type:["pronunciation","rhythm","intonation","stress"][Math.floor(Math.random()*4)],word:h,severity:["low","medium"][Math.floor(Math.random()*2)],feedback:`The word "${h}" could be improved`,suggestion:`Try emphasizing the first syllable of "${h}"`}))},word_level_analysis:this.generateWordLevelAnalysis(e),suggestions:["Practice with word stress exercises","Record yourself and compare with native speakers","Focus on sentence-level intonation patterns"],next_focus_areas:["Compound word stress","Question intonation","Rhythm in connected speech"]}}generateMockResponse(e,s,i){const l={Beginner:["That's great! I can hear you're working hard on your pronunciation. Let's practice some more basic patterns.","Nice try! Your rhythm is improving. Can you tell me about your favorite food?","Good effort! I noticed your word stress is getting better. What do you like to do on weekends?"],Intermediate:["Excellent work on your intonation! Your question patterns are much clearer now. Let's discuss something more complex.","I can hear improvement in your connected speech. How do you feel about technology in education?","Your pronunciation has really developed! Let's practice with some more challenging vocabulary."],Advanced:["Your prosody shows sophisticated control! Let's explore some nuanced expressions and idioms.","Impressive fluency! Your stress patterns are very natural. What are your thoughts on current events?","Your accent work is excellent! Let's discuss some abstract concepts to challenge your advanced skills."]}[s.user_level];return{text_response:l[Math.floor(Math.random()*l.length)],prosody_analysis:i,conversation_flow:{next_topic_suggestions:["Travel experiences","Career goals","Cultural differences","Technology trends"],difficulty_adjustment:i?i.overall_score>85?"increase":i.overall_score<60?"decrease":"maintain":"maintain",engagement_level:.8+Math.random()*.2},practice_suggestions:{immediate:["Try the sentence again with more emphasis on key words","Focus on rising intonation for questions"],session_goals:["Master question intonation patterns","Improve word stress accuracy"],homework:["Record yourself reading news headlines","Practice conversation starters with friends"]}}}}const no=new sN;function lw({onSendMessage:n,conversationContext:e,disabled:s,showAIFeedback:i=!0}){const[o,l]=D.useState("idle"),[c,h]=D.useState(0),[f,g]=D.useState(""),[m,v]=D.useState(null),[w,_]=D.useState(!1),[S,T]=D.useState(null),[b,A]=D.useState(0),[P,E]=D.useState(!1),N=D.useRef(null),L=D.useRef(null);D.useRef();const U=D.useRef();D.useEffect(()=>{E(no.isReady())},[]),D.useEffect(()=>{let W;return o==="recording"?W=setInterval(()=>{h(R=>R+1),P&&e&&c>0&&c%3===0&&V()},1e3):(h(0),T(null)),()=>{W&&clearInterval(W)}},[o,c,P,e]);const B=W=>{const R=Math.floor(W/60),Y=W%60;return`${R}:${Y.toString().padStart(2,"0")}`},V=async()=>{if(!(!P||!e))try{const W=await no.getIncrementalFeedback("Recording in progress...",e);T(W),U.current&&clearTimeout(U.current),U.current=setTimeout(()=>{T(null)},3e3)}catch(W){console.error("Failed to get incremental feedback:",W)}},G=async()=>{if(!s)try{const W=await navigator.mediaDevices.getUserMedia({audio:!0}),R=new MediaRecorder(W);N.current=R;const Y=[];R.ondataavailable=M=>{M.data.size>0&&Y.push(M.data)},R.onstop=()=>{const M=new Blob(Y,{type:"audio/wav"});v(M),W.getTracks().forEach(k=>k.stop())},R.start(),l("recording"),h(0)}catch(W){console.error("Failed to start recording:",W),l("recording"),h(0)}},be=()=>{N.current&&N.current.state==="recording"&&N.current.stop(),l("processing"),A(0);const W=setInterval(()=>{A(R=>R>=100?(clearInterval(W),100):R+Math.random()*15)},200);setTimeout(()=>{clearInterval(W),A(100),P&&i?(l("analyzing"),g("I think learning English prosody is really important for effective communication."),setTimeout(()=>{l("ready")},1500)):(g("I think learning English prosody is really important for effective communication."),l("ready"))},2e3)},Ie=()=>{if(m&&!w){const W=URL.createObjectURL(m),R=new Audio(W);L.current=R,R.onended=()=>{_(!1),URL.revokeObjectURL(W)},R.play(),_(!0)}else L.current&&w&&(L.current.pause(),_(!1))},$e=()=>{g(""),v(null),l("idle"),A(0),T(null),L.current&&(L.current.pause(),_(!1))},Pe=()=>{f&&(n(f,!0,m||void 0),g(""),v(null),l("idle"),A(0))},Oe=()=>{switch(o){case"recording":return d.jsx(ab,{className:"w-6 h-6"});case"processing":case"analyzing":return d.jsx(cn,{className:"w-6 h-6 animate-spin"});default:return d.jsx(so,{className:"w-6 h-6"})}},Ne=()=>{const W="h-16 w-16 rounded-full flex items-center justify-center transition-all duration-300 relative overflow-hidden";switch(o){case"recording":return`${W} bg-destructive hover:bg-destructive/90 text-destructive-foreground`;case"processing":case"analyzing":return`${W} bg-muted text-muted-foreground cursor-not-allowed`;default:return`${W} bg-accent hover:bg-accent/90 text-accent-foreground shadow-lg hover:shadow-xl ${s?"opacity-50 cursor-not-allowed":""}`}},Q=()=>{switch(o){case"recording":return P?"Speak clearly - AI is listening":"Recording your speech";case"processing":return"Processing audio...";case"analyzing":return"AI analyzing your pronunciation";case"ready":return"Ready to send!";default:return P?"Tap to record with AI analysis":"Tap to record your response"}};return d.jsxs("div",{className:"bg-card border-t border-border p-4 space-y-4",children:[i&&d.jsxs("div",{className:"flex items-center justify-between text-xs",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${P?"bg-success animate-pulse":"bg-muted"}`}),d.jsxs("span",{className:"text-muted-foreground",children:["AI Analysis: ",P?"Active":"Not configured"]})]}),!P&&d.jsxs(ae,{variant:"ghost",size:"sm",className:"h-6 px-2",children:[d.jsx(Vd,{className:"w-3 h-3 mr-1"}),"Setup"]})]}),d.jsx(Fr,{mode:"wait",children:o!=="idle"&&d.jsxs(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-3",children:[o==="recording"&&d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx("div",{className:"w-3 h-3 bg-destructive rounded-full animate-pulse"}),d.jsx("span",{className:"text-sm font-medium",children:"Recording"}),d.jsx(De,{variant:"outline",className:"bg-destructive/10 text-destructive",children:B(c)})]}),(o==="processing"||o==="analyzing")&&d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx(cn,{className:"w-4 h-4 animate-spin text-accent"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:o==="processing"?"Processing audio...":"AI analyzing pronunciation..."})]}),d.jsx(dl,{value:b,className:"h-1"})]}),S&&o==="recording"&&d.jsxs(pe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-accent/10 border border-accent/20 rounded-lg p-3 text-center",children:[d.jsx("p",{className:"text-sm font-medium text-accent mb-1",children:S.encouragement}),S.suggestions.length>0&&d.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",S.suggestions[0]]})]})]})}),d.jsx(Fr,{children:f&&d.jsxs(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-primary/10 border border-primary/20 rounded-lg p-4 space-y-3",children:[d.jsxs("p",{className:"text-sm",children:['"',f,'"']}),d.jsxs("div",{className:"flex items-center gap-2",children:[m&&d.jsx(ae,{onClick:Ie,variant:"ghost",size:"sm",className:"flex-shrink-0",children:w?d.jsx(Qy,{className:"w-4 h-4"}):d.jsx(Xy,{className:"w-4 h-4"})}),d.jsxs("div",{className:"flex gap-2 flex-1",children:[d.jsxs(ae,{onClick:$e,variant:"outline",size:"sm",className:"flex-1",children:[d.jsx(Ya,{className:"w-4 h-4 mr-2"}),"Retry"]}),d.jsxs(ae,{onClick:Pe,size:"sm",className:"flex-1 bg-accent hover:bg-accent/90 text-accent-foreground",disabled:o==="analyzing",children:[o==="analyzing"?d.jsx(cn,{className:"w-4 h-4 mr-2 animate-spin"}):d.jsx(Zy,{className:"w-4 h-4 mr-2"}),o==="analyzing"?"Analyzing...":"Send"]})]})]})]})}),d.jsx("div",{className:"flex items-center justify-center",children:d.jsx(pe.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:d.jsxs(ae,{onClick:o==="recording"?be:G,className:Ne(),disabled:s||o==="processing"||o==="analyzing",children:[o==="recording"&&d.jsx(pe.div,{className:"absolute inset-0 rounded-full bg-destructive",animate:{scale:[1,1.2,1],opacity:[.5,.2,.5]},transition:{duration:1,repeat:1/0,ease:"easeInOut"}}),Oe()]})})}),d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-xs text-muted-foreground",children:Q()})})]})}function rN({className:n,...e}){return d.jsx(ul.Root,{"data-slot":"tabs",className:Te("flex flex-col gap-2",n),...e})}function iN({className:n,...e}){return d.jsx(ul.List,{"data-slot":"tabs-list",className:Te("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",n),...e})}function $a({className:n,...e}){return d.jsx(ul.Trigger,{"data-slot":"tabs-trigger",className:Te("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}function Ua({className:n,...e}){return d.jsx(ul.Content,{"data-slot":"tabs-content",className:Te("flex-1 outline-none",n),...e})}function oN({analysis:n,originalText:e,onRetry:s,onPlayback:i,className:o=""}){const[l,c]=D.useState(!1),[h,f]=D.useState("overview"),g=_=>_>=85?"text-success":_>=70?"text-accent":_>=60?"text-secondary":"text-destructive",m=_=>_>=85?d.jsx(wn,{className:"w-4 h-4"}):_>=60?d.jsx(ub,{className:"w-4 h-4"}):d.jsx(Ib,{className:"w-4 h-4"}),v=_=>{switch(_){case"pronunciation":return"";case"rhythm":return"";case"intonation":return"";case"stress":return"";case"pace":return"";default:return""}},w=_=>{switch(_){case"high":return"border-destructive/20 bg-destructive/5";case"medium":return"border-secondary/20 bg-secondary/5";case"low":return"border-accent/20 bg-accent/5";default:return"border-muted/20 bg-muted/5"}};return d.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`space-y-4 ${o}`,children:d.jsxs(it,{className:"bg-gradient-to-r from-accent/5 to-primary/5 border-accent/20",children:[d.jsx(un,{className:"pb-3",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(qt,{className:"text-lg flex items-center gap-2",children:[d.jsx(Yy,{className:"w-5 h-5 text-accent"}),"Prosody Analysis"]}),d.jsxs("div",{className:"flex gap-2",children:[i&&d.jsx(ae,{variant:"ghost",size:"sm",onClick:i,children:d.jsx(Ja,{className:"w-4 h-4"})}),s&&d.jsx(ae,{variant:"ghost",size:"sm",onClick:s,children:d.jsx(Ya,{className:"w-4 h-4"})})]})]})}),d.jsxs(ot,{className:"space-y-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:`text-3xl font-bold ${g(n.overall_score)}`,children:[Math.round(n.overall_score),"%"]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Overall Score"}),d.jsx(dl,{value:n.overall_score,className:"mt-2 h-2"})]}),d.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{label:"Pronunciation",score:n.pronunciation_score},{label:"Rhythm",score:n.rhythm_score},{label:"Intonation",score:n.intonation_score},{label:"Fluency",score:n.fluency_score}].map((_,S)=>d.jsxs("div",{className:"flex items-center justify-between p-2 bg-background/50 rounded-lg",children:[d.jsx("span",{className:"text-sm font-medium",children:_.label}),d.jsxs("div",{className:`flex items-center gap-1 ${g(_.score)}`,children:[m(_.score),d.jsxs("span",{className:"text-sm font-semibold",children:[Math.round(_.score),"%"]})]})]},S))}),d.jsxs(iw,{open:l,onOpenChange:c,children:[d.jsx(ow,{asChild:!0,children:d.jsxs(ae,{variant:"ghost",className:"w-full mt-2",children:[d.jsx("span",{children:"Detailed Analysis"}),d.jsx(Ud,{className:`w-4 h-4 ml-2 transition-transform ${l?"rotate-180":""}`})]})}),d.jsx(aw,{className:"mt-4",children:d.jsxs(rN,{value:h,onValueChange:f,children:[d.jsxs(iN,{className:"grid w-full grid-cols-4",children:[d.jsx($a,{value:"overview",children:"Overview"}),d.jsx($a,{value:"issues",children:"Issues"}),d.jsx($a,{value:"words",children:"Words"}),d.jsx($a,{value:"practice",children:"Practice"})]}),d.jsxs(Ua,{value:"overview",className:"space-y-4 mt-4",children:[d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold text-success mb-2 flex items-center gap-2",children:[d.jsx(wn,{className:"w-4 h-4"}),"Strengths"]}),d.jsx("div",{className:"space-y-1",children:n.detailed_feedback.strengths.map((_,S)=>d.jsx(De,{variant:"secondary",className:"bg-success/10 text-success-foreground",children:_},S))})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold text-accent mb-2 flex items-center gap-2",children:[d.jsx(Fm,{className:"w-4 h-4"}),"Areas for Improvement"]}),d.jsx("div",{className:"space-y-1",children:n.detailed_feedback.improvements.map((_,S)=>d.jsx(De,{variant:"outline",className:"bg-accent/10",children:_},S))})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[d.jsx(Y_,{className:"w-4 h-4"}),"Suggestions"]}),d.jsx("ul",{className:"space-y-2",children:n.suggestions.map((_,S)=>d.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[d.jsx("span",{className:"text-accent mt-1",children:""}),_]},S))})]})]}),d.jsx(Ua,{value:"issues",className:"space-y-3 mt-4",children:n.detailed_feedback.specific_issues.length>0?n.detailed_feedback.specific_issues.map((_,S)=>d.jsx(pe.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:S*.1},className:`p-3 rounded-lg border ${w(_.severity)}`,children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("span",{className:"text-lg",children:v(_.type)}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"font-medium",children:_.word}),d.jsx(De,{variant:"outline",size:"sm",children:_.type}),d.jsx(De,{variant:_.severity==="high"?"destructive":"secondary",size:"sm",children:_.severity})]}),d.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:_.feedback}),d.jsx("p",{className:"text-sm font-medium text-accent",children:_.suggestion})]})]})},S)):d.jsxs("div",{className:"text-center py-8",children:[d.jsx(wn,{className:"w-12 h-12 text-success mx-auto mb-2"}),d.jsx("p",{className:"text-success font-medium",children:"No issues detected!"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Your pronunciation was excellent."})]})}),d.jsx(Ua,{value:"words",className:"space-y-3 mt-4",children:d.jsx("div",{className:"grid gap-2",children:n.word_level_analysis.map((_,S)=>d.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-medium",children:_.word}),!_.stress_correct&&d.jsx(Mb,{className:"w-3 h-3 text-destructive"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:`text-sm ${g(_.pronunciation_score)}`,children:[Math.round(_.pronunciation_score),"%"]}),d.jsx("div",{className:"w-12 h-1 bg-muted rounded",children:d.jsx("div",{className:`h-full rounded transition-all duration-500 ${_.pronunciation_score>=85?"bg-success":_.pronunciation_score>=70?"bg-accent":_.pronunciation_score>=60?"bg-secondary":"bg-destructive"}`,style:{width:`${_.pronunciation_score}%`}})})]})]},S))})}),d.jsxs(Ua,{value:"practice",className:"space-y-4 mt-4",children:[d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[d.jsx(Fm,{className:"w-4 h-4"}),"Next Focus Areas"]}),d.jsx("div",{className:"space-y-2",children:n.next_focus_areas.map((_,S)=>d.jsxs("div",{className:"flex items-center gap-2 p-2 bg-primary/10 rounded-lg",children:[d.jsx(Ka,{className:"w-4 h-4 text-primary"}),d.jsx("span",{className:"text-sm",children:_})]},S))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(ae,{variant:"outline",className:"w-full justify-start",onClick:s,children:[d.jsx(Ya,{className:"w-4 h-4 mr-2"}),"Try Again"]}),d.jsxs(ae,{variant:"outline",className:"w-full justify-start",children:[d.jsx(Xy,{className:"w-4 h-4 mr-2"}),"Practice Similar Phrases"]}),d.jsxs(ae,{variant:"outline",className:"w-full justify-start",children:[d.jsx(Ka,{className:"w-4 h-4 mr-2"}),"View Learning Resources"]})]})]})]})})]})]})]})})}function Nd({className:n="",showLabel:e=!0,size:s="md"}){const[i,o]=D.useState("connected"),[l,c]=D.useState(!0),[h,f]=D.useState(new Date);D.useEffect(()=>{g();const b=setInterval(()=>{l&&g()},3e4);return()=>clearInterval(b)},[l]);const g=async()=>{c(!0),o("connected"),f(new Date)},v=(()=>{switch(i){case"connected":return{color:"bg-success text-success-foreground",icon:In,label:"AI Ready",description:" VibeTune AI is ready! Advanced prosody analysis powered by OpenAI GPT-4."};case"checking":return{color:"bg-accent text-accent-foreground",icon:cn,label:"Starting AI",description:"Initializing VibeTune AI...",animate:!0};case"disconnected":default:return{color:"bg-accent text-accent-foreground",icon:as,label:"AI Built-in",description:"VibeTune includes advanced AI prosody analysis. Ready to help improve your English!"}}})(),w=v.icon,_={sm:"text-xs px-2 py-1",md:"text-sm px-2 py-1",lg:"text-sm px-3 py-2"},S={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-4 h-4"},T=b=>{const P=new Date().getTime()-b.getTime(),E=Math.floor(P/6e4);if(E<1)return"Just now";if(E<60)return`${E}m ago`;const N=Math.floor(E/60);return N<24?`${N}h ago`:b.toLocaleDateString()};return d.jsx("div",{className:`flex items-center gap-2 ${n}`,children:d.jsx(Dr,{children:d.jsxs(Bi,{children:[d.jsx(Wi,{asChild:!0,children:d.jsx(pe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(De,{className:`${v.color} ${_[s]} transition-all duration-200`,children:[d.jsx(w,{className:`${S[s]} mr-1 ${v.animate?"animate-spin":""}`}),e&&d.jsxs(d.Fragment,{children:[d.jsx(as,{className:`${S[s]} mr-1`}),v.label]})]})})}),d.jsx(Hi,{side:"bottom",className:"max-w-xs",children:d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"font-medium",children:v.description}),h&&i==="connected"&&d.jsxs("p",{className:"text-xs opacity-75",children:["Last checked: ",T(h)]})]})})]})})})}function aN({topic:n="New Conversation",level:e,onTopicChange:s}){const i=e||"Beginner",[o,l]=D.useState([]),[c,h]=D.useState(""),[f,g]=D.useState(!1),[m,v]=D.useState([]),[w,_]=D.useState(["basic pronunciation","sentence stress"]),[S,T]=D.useState(null),[b,A]=D.useState(!1),[P,E]=D.useState(!1),[N,L]=D.useState(!1),[U,B]=D.useState(!0),[V,G]=D.useState(n),be=D.useRef(null);D.useEffect(()=>{const M=()=>{E(no.isReady())};M();const k=setInterval(M,5e3);return()=>clearInterval(k)},[]),D.useEffect(()=>{const M={id:"1",text:` Hi! I'm your VibeTune AI conversation partner. Let's practice English at a ${i.toLowerCase()} level with AI-powered pronunciation feedback!`,isUser:!1,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},k={id:"2",text:"What would you like to talk about today? Feel free to tell me about anything that interests you - your hobbies, work, travel experiences, or any topic you'd like to practice discussing in English!",isUser:!1,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};l([M,k]),v([]),_(Ie(i)),B(!0),G("New Conversation")},[i]),D.useEffect(()=>{if(be.current){const M=be.current.querySelector("[data-radix-scroll-area-viewport]");M&&setTimeout(()=>{M.scrollTop=M.scrollHeight},100)}},[o]);const Ie=M=>{switch(M){case"Advanced":return["accent reduction","complex intonation","natural rhythm","connected speech"];case"Intermediate":return["word stress","question intonation","sentence rhythm","linking sounds"];default:return["basic pronunciation","sentence stress","clear articulation","simple intonation"]}},$e=M=>{const k=M.toLowerCase();if(k.includes("travel")||k.includes("trip")||k.includes("vacation")||k.includes("country")||k.includes("visit"))return"Travel & Adventures";if(k.includes("work")||k.includes("job")||k.includes("career")||k.includes("office")||k.includes("business"))return"Work & Career";if(k.includes("food")||k.includes("cook")||k.includes("eat")||k.includes("restaurant")||k.includes("recipe"))return"Food & Cooking";if(k.includes("music")||k.includes("art")||k.includes("paint")||k.includes("draw")||k.includes("sing"))return"Music & Arts";if(k.includes("hobby")||k.includes("interest")||k.includes("free time")||k.includes("enjoy")||k.includes("love"))return"Hobbies & Interests";if(k.includes("daily")||k.includes("routine")||k.includes("morning")||k.includes("evening")||k.includes("weekend"))return"Daily Life & Routines";if(k.includes("game")||k.includes("movie")||k.includes("tv")||k.includes("entertainment")||k.includes("fun"))return"Entertainment & Gaming";if(k.includes("learn")||k.includes("study")||k.includes("school")||k.includes("education")||k.includes("book"))return"Education & Learning";if(k.includes("technology")||k.includes("computer")||k.includes("phone")||k.includes("internet")||k.includes("social media"))return"Technology & Social Media";{const F=M.split(" ").filter(X=>X.length>3);return F.length>0?F[0].charAt(0).toUpperCase()+F[0].slice(1).toLowerCase():"General Conversation"}},Pe=()=>({user_level:i,topic:V,conversation_history:m,focus_areas:w,learning_objectives:["Improve pronunciation accuracy","Master natural rhythm patterns","Develop confident speaking skills"]}),Oe=async(M,k=!1,F)=>{if(!M.trim())return;const X=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),le=Date.now().toString();if(U){const ie=$e(M.trim());G(ie),B(!1),s&&s(ie)}const ye={id:le,text:M.trim(),isUser:!0,isAudio:k,audioBlob:F,timestamp:X,isProcessing:k&&P};l(ie=>[...ie,ye]),h(""),g(!0);const we={role:"user",content:M.trim(),timestamp:new Date().toISOString()};try{let ie,ve;if(k&&F&&P){const xe=Pe();try{ie=await no.analyzeAudio(F,M.trim(),xe),l(Ue=>Ue.map(at=>at.id===le?{...at,prosodyAnalysis:ie,isProcessing:!1}:at)),we.audio_analysis=ie}catch(Ue){console.error("Audio analysis failed:",Ue),l(at=>at.map(Qt=>Qt.id===le?{...Qt,isProcessing:!1}:Qt))}}if(P)try{const xe=Pe();ve=await no.generateResponse(M.trim(),xe,ie),ie&&ie.next_focus_areas.length>0&&_(ie.next_focus_areas)}catch(xe){console.error("AI response generation failed:",xe),ve={text_response:Ne(M,i),conversation_flow:{next_topic_suggestions:[],difficulty_adjustment:"maintain",engagement_level:.7},practice_suggestions:{immediate:[],session_goals:[],homework:[]}}}else ve={text_response:Ne(M,i),conversation_flow:{next_topic_suggestions:[],difficulty_adjustment:"maintain",engagement_level:.7},practice_suggestions:{immediate:[],session_goals:[],homework:[]}};setTimeout(()=>{const xe={id:(Date.now()+1).toString(),text:ve.text_response,isUser:!1,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),aiResponse:ve};l(at=>[...at,xe]),g(!1);const Ue={role:"assistant",content:ve.text_response,timestamp:new Date().toISOString()};v(at=>[...at,we,Ue])},P?1500:800)}catch(ie){console.error("Message processing failed:",ie),g(!1);const ve={id:(Date.now()+1).toString(),text:"I'm having trouble processing your message right now. Let's try again!",isUser:!1,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};l(xe=>[...xe,ve])}},Ne=(M,k)=>{const F={Beginner:["That's great! I can hear you're working hard on your pronunciation. Let's practice some more basic patterns.","Nice try! Your rhythm is improving. Can you tell me about your favorite food?","Good effort! I noticed your word stress is getting better. What do you like to do on weekends?"],Intermediate:["Excellent work on your intonation! Your question patterns are much clearer now. Let's discuss something more complex.","I can hear improvement in your connected speech. How do you feel about technology in education?","Your pronunciation has really developed! Let's practice with some more challenging vocabulary."],Advanced:["Your prosody shows sophisticated control! Let's explore some nuanced expressions and idioms.","Impressive fluency! Your stress patterns are very natural. What are your thoughts on current events?","Your accent work is excellent! Let's discuss some abstract concepts to challenge your advanced skills."]},X=F[k]||F.Beginner;return X[Math.floor(Math.random()*X.length)]},Q=M=>{M.preventDefault(),Oe(c,!1)},W=M=>{T(M),A(!0)},R=M=>{o.find(F=>F.id===M)&&l(F=>F.filter(X=>X.id!==M))},Y=()=>{L(!N)};return d.jsxs("div",{className:"flex flex-col h-full bg-background",children:[d.jsxs("div",{className:"bg-card border-b border-border p-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h2",{className:"font-medium",children:V}),d.jsxs("div",{className:"flex items-center justify-center gap-2 mt-1",children:[d.jsxs(De,{variant:"outline",className:"text-xs",children:[i," Level"]}),d.jsx("span",{className:"text-xs text-muted-foreground",children:""}),d.jsx("span",{className:"text-xs text-muted-foreground",children:"AI Prosody Practice"})]})]}),d.jsx(Nd,{size:"sm",showLabel:!1})]}),w.length>0&&d.jsxs("div",{className:"mt-3 flex flex-wrap gap-1 justify-center",children:[d.jsx("span",{className:"text-xs text-muted-foreground mr-2",children:"Focus areas:"}),w.slice(0,3).map((M,k)=>d.jsx(De,{variant:"secondary",className:"text-xs",children:M},k))]})]}),d.jsx(Ch,{ref:be,className:"flex-1 p-4",children:d.jsxs("div",{className:"space-y-4",children:[o.map((M,k)=>d.jsx("div",{children:d.jsx(nN,{message:M.text,isUser:M.isUser,isAudio:M.isAudio,audioBlob:M.audioBlob,prosodyFeedback:M.prosodyAnalysis?{score:M.prosodyAnalysis.overall_score,highlights:M.prosodyAnalysis.detailed_feedback.specific_issues.map(F=>({text:F.word,type:F.severity==="high"?"error":"suggestion",feedback:F.feedback})),suggestions:M.prosodyAnalysis.suggestions}:void 0,timestamp:M.timestamp,isProcessing:M.isProcessing,onAnalysisView:M.prosodyAnalysis?()=>W(M.prosodyAnalysis):void 0,onRetry:()=>R(M.id)})},M.id)),f&&d.jsx(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex justify-start",children:d.jsx("div",{className:"max-w-[85%]",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-accent rounded-full flex items-center justify-center",children:d.jsx(cn,{className:"w-4 h-4 animate-spin"})}),d.jsx("div",{className:"bg-card border border-border rounded-lg p-3",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"VibeTune AI is analyzing your speech and crafting a response..."})})]})})})]})}),d.jsx("div",{className:"bg-card border-t border-border p-4 space-y-3",children:d.jsxs("form",{onSubmit:Q,className:"space-y-2",children:[d.jsxs("div",{className:"flex gap-2",children:[N?d.jsx(tN,{value:c,onChange:M=>h(M.target.value),placeholder:U?"Tell me what you'd like to discuss...":"Continue the conversation...",disabled:f,className:"flex-1 min-h-[80px] resize-y",maxLength:500}):d.jsx(Mr,{value:c,onChange:M=>h(M.target.value),placeholder:U?"Tell me what you'd like to discuss...":"Continue the conversation...",disabled:f,className:"flex-1"}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx(ae,{type:"submit",disabled:!c.trim()||f,size:"icon",className:"bg-accent hover:bg-accent/90 text-accent-foreground",children:d.jsx(Zy,{className:"w-4 h-4"})}),d.jsx(ae,{type:"button",variant:"outline",size:"icon",onClick:Y,className:"h-8 w-8",title:N?"Switch to single line":"Switch to multi-line",children:N?d.jsx(S_,{className:"w-3 h-3"}):d.jsx(Ud,{className:"w-3 h-3"})})]})]}),N&&d.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground",children:[d.jsx("span",{children:"Multi-line mode for longer messages"}),d.jsxs("span",{children:[c.length,"/500"]})]})]})}),d.jsx(lw,{onSendMessage:Oe,conversationContext:Pe(),disabled:f,showAIFeedback:P}),d.jsx(Fr,{children:b&&S&&d.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>A(!1),children:d.jsx(pe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",onClick:M=>M.stopPropagation(),children:d.jsx(oN,{analysis:S,originalText:"Your recorded message",onRetry:()=>A(!1),className:"p-6"})})})})]})}const Ry=n=>{let e;const s=new Set,i=(g,m)=>{const v=typeof g=="function"?g(e):g;if(!Object.is(v,e)){const w=e;e=m??(typeof v!="object"||v===null)?v:Object.assign({},e,v),s.forEach(_=>_(e,w))}},o=()=>e,h={setState:i,getState:o,getInitialState:()=>f,subscribe:g=>(s.add(g),()=>s.delete(g))},f=e=n(i,o,h);return h},lN=(n=>n?Ry(n):Ry),cN=n=>n;function uN(n,e=cN){const s=Vi.useSyncExternalStore(n.subscribe,Vi.useCallback(()=>e(n.getState()),[n,e]),Vi.useCallback(()=>e(n.getInitialState()),[n,e]));return Vi.useDebugValue(s),s}const dN=n=>{const e=lN(n),s=i=>uN(e,i);return Object.assign(s,e),s},hN=(n=>dN),fN=n=>(e,s,i)=>{const o=i.subscribe;return i.subscribe=((c,h,f)=>{let g=c;if(h){const m=(f==null?void 0:f.equalityFn)||Object.is;let v=c(i.getState());g=w=>{const _=c(w);if(!m(v,_)){const S=v;h(v=_,S)}},f!=null&&f.fireImmediately&&h(v,v)}return o(g)}),n(e,s,i)},pN=fN;function Pd(n,e){let s;try{s=n()}catch{return}return{getItem:o=>{var l;const c=f=>f===null?null:JSON.parse(f,void 0),h=(l=s.getItem(o))!=null?l:null;return h instanceof Promise?h.then(c):c(h)},setItem:(o,l)=>s.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>s.removeItem(o)}}const Ad=n=>e=>{try{const s=n(e);return s instanceof Promise?s:{then(i){return Ad(i)(s)},catch(i){return this}}}catch(s){return{then(i){return this},catch(i){return Ad(i)(s)}}}},mN=(n,e)=>(s,i,o)=>{let l={storage:Pd(()=>localStorage),partialize:T=>T,version:0,merge:(T,b)=>({...b,...T}),...e},c=!1;const h=new Set,f=new Set;let g=l.storage;if(!g)return n((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),s(...T)},i,o);const m=()=>{const T=l.partialize({...i()});return g.setItem(l.name,{state:T,version:l.version})},v=o.setState;o.setState=(T,b)=>(v(T,b),m());const w=n((...T)=>(s(...T),m()),i,o);o.getInitialState=()=>w;let _;const S=()=>{var T,b;if(!g)return;c=!1,h.forEach(P=>{var E;return P((E=i())!=null?E:w)});const A=((b=l.onRehydrateStorage)==null?void 0:b.call(l,(T=i())!=null?T:w))||void 0;return Ad(g.getItem.bind(g))(l.name).then(P=>{if(P)if(typeof P.version=="number"&&P.version!==l.version){if(l.migrate){const E=l.migrate(P.state,P.version);return E instanceof Promise?E.then(N=>[!0,N]):[!0,E]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,P.state];return[!1,void 0]}).then(P=>{var E;const[N,L]=P;if(_=l.merge(L,(E=i())!=null?E:w),s(_,!0),N)return m()}).then(()=>{A==null||A(_,void 0),_=i(),c=!0,f.forEach(P=>P(_))}).catch(P=>{A==null||A(void 0,P)})};return o.persist={setOptions:T=>{l={...l,...T},T.storage&&(g=T.storage)},clearStorage:()=>{g==null||g.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>S(),hasHydrated:()=>c,onHydrate:T=>(h.add(T),()=>{h.delete(T)}),onFinishHydration:T=>(f.add(T),()=>{f.delete(T)})},l.skipHydration||S(),_||w},gN=mN,Fu={currentQuestion:0,totalQuestions:10,answers:[],topic_scores:{},overall_progress:0},Iy={online:typeof navigator<"u"?navigator.onLine:!0,lastSync:null,syncing:!1,hasOfflineChanges:!1},yN=()=>Pd(typeof window<"u"?()=>localStorage:()=>sessionStorage),os=hN()(pN(gN((n,e)=>({user:null,setUser:s=>n({user:s}),conversations:[],activeConversationId:null,messages:[],currentTopic:"General Conversation",setConversations:s=>n({conversations:s}),setActiveConversation:s=>n({activeConversationId:s}),addMessage:s=>{n(i=>({messages:[...i.messages,s]})),e().sync.online||n(i=>({sync:{...i.sync,hasOfflineChanges:!0}}))},updateMessage:(s,i)=>{n(o=>({messages:o.messages.map(l=>l.id===s?{...l,...i}:l)}))},deleteMessage:s=>{n(i=>({messages:i.messages.filter(o=>o.id!==s)}))},setCurrentTopic:s=>n({currentTopic:s}),clearMessages:()=>n({messages:[]}),placementTestProgress:Fu,setPlacementTestProgress:s=>n({placementTestProgress:s}),updatePlacementTestProgress:s=>{n(i=>({placementTestProgress:{...i.placementTestProgress,...s}}))},resetPlacementTest:()=>n({placementTestProgress:Fu}),sync:Iy,setSyncOnline:s=>{n(i=>({sync:{...i.sync,online:s}}))},setSyncStatus:s=>{n(i=>({sync:{...i.sync,syncing:s}}))},setLastSync:s=>{n(i=>({sync:{...i.sync,lastSync:s}}))},setHasOfflineChanges:s=>{n(i=>({sync:{...i.sync,hasOfflineChanges:s}}))},retryQueue:[],addToRetryQueue:s=>{n(i=>({retryQueue:[...i.retryQueue,s]}))},removeFromRetryQueue:s=>{n(i=>({retryQueue:i.retryQueue.filter(o=>o.id!==s)}))},clearRetryQueue:()=>n({retryQueue:[]}),trackEvent:async(s,i={})=>{const{user:o}=e();if(o)try{const l={event_type:s,metadata:{...i,timestamp:new Date().toISOString(),user_level:o.level,app_version:"1.0.0"}};if(e().sync.online)try{const{SimpleAuthService:c}=await Yt(async()=>{const{SimpleAuthService:f}=await Promise.resolve().then(()=>Py);return{SimpleAuthService:f}},void 0),h=await c.getCurrentSession();if(h!=null&&h.access_token){const{projectId:f}=await Yt(async()=>{const{projectId:v}=await Promise.resolve().then(()=>Td);return{projectId:v}},void 0),g=fetch(`https://${f}.supabase.co/functions/v1/make-server-b2083953/api/analytics`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h.access_token}`},body:JSON.stringify(l)}),m=new Promise((v,w)=>setTimeout(()=>w(new Error("Analytics timeout")),3e3));await Promise.race([g,m])}}catch(c){console.warn("Analytics tracking failed:",c)}else console.log("Offline: queued analytics event",s)}catch(l){console.warn("Failed to track event:",l)}},initializeApp:async()=>{const{user:s}=e();if(s)try{await e().syncData()}catch(i){console.warn("Failed to sync data on app init:",i)}},syncData:async()=>{const{user:s,sync:i}=e();if(!(!s||!i.online)){n(o=>({sync:{...o.sync,syncing:!0}}));try{const{SimpleAuthService:o}=await Yt(async()=>{const{SimpleAuthService:m}=await Promise.resolve().then(()=>Py);return{SimpleAuthService:m}},void 0),l=await o.getCurrentSession();if(!(l!=null&&l.access_token))throw new Error("No valid session for sync");const{projectId:c}=await Yt(async()=>{const{projectId:m}=await Promise.resolve().then(()=>Td);return{projectId:m}},void 0),h=fetch(`https://${c}.supabase.co/functions/v1/make-server-b2083953/api/get-history`,{headers:{Authorization:`Bearer ${l.access_token}`}}),f=new Promise((m,v)=>setTimeout(()=>v(new Error("Sync timeout")),5e3)),g=await Promise.race([h,f]);if(g.ok){const m=await g.json();if(m.conversations&&n({conversations:m.conversations}),m.messages&&e().activeConversationId){const w=m.messages.filter(_=>_.conversation_id===e().activeConversationId);n({messages:w})}n(w=>({sync:{...w.sync,lastSync:new Date,hasOfflineChanges:!1,syncing:!1}}));const v=e().retryQueue;if(v.length>0)for(const w of v)try{await fetch(`https://${c}.supabase.co/functions/v1/make-server-b2083953/api/save-message`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l.access_token}`},body:JSON.stringify(w)}),e().removeFromRetryQueue(w.id)}catch(_){console.warn("Failed to sync retry message:",w.id,_)}}}catch(o){console.error("Sync failed:",o)}finally{n(o=>({sync:{...o.sync,syncing:!1}}))}}},resetStore:()=>{n({user:null,conversations:[],activeConversationId:null,messages:[],currentTopic:"General Conversation",placementTestProgress:Fu,sync:Iy,retryQueue:[]})}}),{name:"vibetune-app-store",storage:yN(),partialize:n=>({user:n.user,conversations:n.conversations,placementTestProgress:n.placementTestProgress,retryQueue:n.retryQueue,currentTopic:n.currentTopic,sync:{...n.sync,syncing:!1}}),onRehydrateStorage:()=>n=>{n&&typeof navigator<"u"&&n.setSyncOnline(navigator.onLine)}}))),vN=()=>os(n=>n.conversations),cw=()=>os(n=>n.sync);typeof window<"u"&&(window.addEventListener("online",()=>{os.getState().setSyncOnline(!0),os.getState().syncData()}),window.addEventListener("offline",()=>{os.getState().setSyncOnline(!1)}));function Oy({compact:n=!1,showLabel:e=!0,className:s=""}){const[i,o]=D.useState(!1),l=cw(),c=os(S=>S.syncData),{online:h,syncing:f,lastSync:g,hasOfflineChanges:m}=l,w=h?f?{icon:Vm,text:"Syncing...",color:"default",description:"Syncing your data with VibeTune cloud.",bgColor:"bg-accent/10",textColor:"text-accent"}:m?{icon:Us,text:"Pending",color:"secondary",description:"You have changes waiting to sync.",bgColor:"bg-secondary/10",textColor:"text-secondary-foreground"}:{icon:R_,text:"Synced",color:"success",description:g?`Last synced ${g.toLocaleTimeString()}`:"All changes are saved to VibeTune cloud.",bgColor:"bg-success/10",textColor:"text-success-foreground"}:{icon:P_,text:"Offline",color:"destructive",description:"Working offline. Changes will sync when connected.",bgColor:"bg-destructive/10",textColor:"text-destructive"},_=w.icon;return D.useEffect(()=>{if(i){const S=setTimeout(()=>o(!1),5e3);return()=>clearTimeout(S)}},[i]),n?d.jsxs(pe.div,{className:`flex items-center gap-1 ${s}`,whileHover:{scale:1.05},title:w.description,children:[d.jsx("div",{className:`p-1.5 rounded-full ${w.bgColor}`,children:d.jsx(_,{className:`w-3 h-3 ${w.textColor} ${f?"animate-spin":""}`})}),e&&d.jsx("span",{className:"text-xs font-medium",children:w.text})]}):d.jsxs("div",{className:`relative ${s}`,children:[d.jsx(pe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(De,{variant:w.color,className:"cursor-pointer flex items-center gap-2 text-xs px-3 py-1.5 transition-all duration-200 hover:shadow-md",onClick:()=>o(!i),children:[d.jsx(_,{className:`w-3 h-3 ${f?"animate-spin":""}`}),e&&w.text]})}),d.jsx(Fr,{children:i&&d.jsxs(d.Fragment,{children:[d.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>o(!1)}),d.jsx(pe.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute top-full right-0 mt-2 p-4 bg-card border border-border rounded-lg shadow-xl z-50 min-w-72 max-w-sm",children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-full ${w.bgColor}`,children:d.jsx(_,{className:`w-4 h-4 ${w.textColor} ${f?"animate-spin":""}`})}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-sm",children:w.text}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"VibeTune Cloud Sync"})]})]}),d.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:w.description}),d.jsxs("div",{className:"space-y-2 pt-2 border-t border-border",children:[g&&d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-muted-foreground",children:"Last sync:"}),d.jsx("span",{className:"font-medium",children:g.toLocaleString()})]}),d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-muted-foreground",children:"Status:"}),d.jsx("span",{className:`font-medium ${w.textColor}`,children:h?"Connected":"Offline"})]}),m&&d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-muted-foreground",children:"Pending changes:"}),d.jsx("span",{className:"font-medium text-secondary-foreground",children:"Yes"})]})]}),d.jsxs("div",{className:"flex gap-2 pt-2",children:[m&&h&&d.jsxs(ae,{size:"sm",variant:"outline",onClick:()=>{c(),o(!1)},disabled:f,className:"flex-1",children:[d.jsx(Vm,{className:`w-3 h-3 mr-1 ${f?"animate-spin":""}`}),"Sync Now"]}),d.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>o(!1),className:"text-xs",children:"Close"})]})]})})]})})]})}function Ui({className:n,...e}){return d.jsx(km.Root,{"data-slot":"switch",className:Te("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:d.jsx(km.Thumb,{"data-slot":"switch-thumb",className:Te("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const Rd=D.forwardRef(({...n},e)=>d.jsx(h1.Root,{ref:e,...n}));Rd.displayName="VisuallyHidden";function Id({...n}){return d.jsx(Je.Root,{"data-slot":"dialog",...n})}function ol({...n}){return d.jsx(Je.Trigger,{"data-slot":"dialog-trigger",...n})}function wN({...n}){return d.jsx(Je.Portal,{"data-slot":"dialog-portal",...n})}const uw=D.forwardRef(({className:n,...e},s)=>d.jsx(Je.Overlay,{ref:s,"data-slot":"dialog-overlay",className:Te("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e}));uw.displayName=Je.Overlay.displayName;const al=D.forwardRef(({className:n,children:e,hideTitle:s,hideDescription:i,...o},l)=>{const c=D.Children.toArray(e).some(f=>{var g;return D.isValidElement(f)&&(f.type===ll||typeof f.type=="object"&&((g=f.type)==null?void 0:g.displayName)===Je.Title.displayName)}),h=D.Children.toArray(e).some(f=>{var g;return D.isValidElement(f)&&(f.type===cl||typeof f.type=="object"&&((g=f.type)==null?void 0:g.displayName)===Je.Description.displayName)});return d.jsxs(wN,{"data-slot":"dialog-portal",children:[d.jsx(uw,{}),d.jsxs(Je.Content,{ref:l,"data-slot":"dialog-content",className:Te("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),"aria-describedby":h?void 0:"dialog-description-fallback",...o,children:[!c&&d.jsx(Rd,{children:d.jsx(Je.Title,{children:"Dialog"})}),!h&&d.jsx(Rd,{children:d.jsx(Je.Description,{id:"dialog-description-fallback",children:"Dialog content"})}),e,d.jsxs(Je.Close,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[d.jsx(zd,{}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]})});al.displayName=Je.Content.displayName;function Od({className:n,...e}){return d.jsx("div",{"data-slot":"dialog-header",className:Te("flex flex-col gap-2 text-center sm:text-left",n),...e})}function ll({className:n,...e}){return d.jsx(Je.Title,{"data-slot":"dialog-title",className:Te("text-lg leading-none font-semibold",n),...e})}function cl({className:n,...e}){return d.jsx(Je.Description,{"data-slot":"dialog-description",className:Te("text-muted-foreground text-sm",n),...e})}function xN({user:n,onUserUpdate:e,onBack:s,onStartPlacementTest:i}){const[o,l]=D.useState(!1),[c,h]=D.useState(n.username),[f,g]=D.useState(!1),[m,v]=D.useState(null),[w,_]=D.useState(null),[S,T]=D.useState({notifications:!0,soundEffects:!0,autoSync:!0,darkMode:!1,prosodyFeedback:!0,voiceRecording:!0}),b=async()=>{if(!c.trim()||c===n.username){l(!1),h(n.username);return}g(!0),v(null),_(null);try{const{data:U,error:B}=await Kt.updateProfile(n.id,{username:c.trim()},n);if(B)throw B;U&&(e(U),_("Username updated successfully!"),l(!1))}catch(U){console.error("Username update error:",U),v(U.message||"Failed to update username"),h(n.username)}finally{g(!1)}},A=(U,B)=>{T(V=>({...V,[U]:B})),console.log(`Setting ${U} changed to:`,B)},P=U=>new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),E=U=>{switch(U){case"Beginner":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"Intermediate":return"bg-blue-100 text-blue-800 border-blue-200";case"Advanced":return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},L=n.placement_test_completed?{text:"Completed",color:"text-success",icon:In,action:"Retake Test",actionIcon:wn}:{text:"Not taken",color:"text-muted-foreground",icon:Us,action:"Take Test",actionIcon:as};return d.jsx("div",{className:"min-h-screen bg-background",children:d.jsxs("div",{className:"max-w-2xl mx-auto p-4 space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s&&d.jsx(ae,{variant:"ghost",size:"icon",onClick:s,children:d.jsx(Ha,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Vd,{className:"w-6 h-6 text-accent"}),d.jsx("h1",{className:"text-2xl font-bold",children:"Settings"})]})]}),m&&d.jsx(pe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:d.jsxs(Fs,{variant:"destructive",children:[d.jsx(Us,{className:"h-4 w-4"}),d.jsx(Bs,{children:m})]})}),w&&d.jsx(pe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:d.jsxs(Fs,{className:"border-success/20 bg-success/10",children:[d.jsx(In,{className:"h-4 w-4 text-success"}),d.jsx(Bs,{className:"text-success-foreground",children:w})]})}),d.jsxs(it,{children:[d.jsxs(un,{children:[d.jsxs(qt,{className:"flex items-center gap-2",children:[d.jsx(hl,{className:"w-5 h-5"}),"Profile Information"]}),d.jsx(Ki,{children:"Your account details and learning progress"})]}),d.jsxs(ot,{className:"space-y-4",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"space-y-1",children:[d.jsx(pt,{className:"text-sm font-medium",children:"Username"}),o?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Mr,{value:c,onChange:U=>h(U.target.value),className:"max-w-xs",disabled:f}),d.jsx(ae,{size:"sm",onClick:b,disabled:f,children:f?d.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):d.jsx(bb,{className:"w-4 h-4"})}),d.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>{l(!1),h(n.username),v(null)},disabled:f,children:d.jsx(zd,{className:"w-4 h-4"})})]}):d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:n.username}),d.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>l(!0),children:d.jsx(yb,{className:"w-4 h-4"})})]})]})}),d.jsx(gn,{}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"space-y-1",children:[d.jsxs(pt,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(Jy,{className:"w-4 h-4"}),"Email"]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:n.email})]})}),d.jsx(gn,{}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"space-y-1",children:[d.jsxs(pt,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(Ga,{className:"w-4 h-4"}),"Learning Level"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(De,{className:E(n.level),children:n.level||"Not set"}),n.level&&d.jsx("span",{className:"text-xs text-muted-foreground",children:n.placement_test_completed?"(From placement test)":"(Self-selected)"})]})]})}),d.jsx(gn,{}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(pt,{className:"text-sm font-medium",children:"Placement Test"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(L.icon,{className:`w-4 h-4 ${L.color}`}),d.jsx("span",{className:`text-sm ${L.color}`,children:L.text}),n.placement_test_score&&d.jsxs(De,{variant:"outline",className:"text-xs",children:["Score: ",n.placement_test_score,"%"]})]})]}),i&&d.jsxs(ae,{size:"sm",onClick:i,className:"bg-accent hover:bg-accent/90",children:[d.jsx(L.actionIcon,{className:"w-4 h-4 mr-2"}),L.action]})]}),d.jsx(gn,{}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs(pt,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(qa,{className:"w-4 h-4"}),"Member Since"]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:P(n.created_at)})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(pt,{className:"text-sm font-medium",children:"Last Login"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:P(n.last_login)})]})]})]}),d.jsxs(it,{children:[d.jsxs(un,{children:[d.jsxs(qt,{className:"flex items-center gap-2",children:[d.jsx(pb,{className:"w-5 h-5"}),"App Preferences"]}),d.jsx(Ki,{children:"Customize your learning experience"})]}),d.jsxs(ot,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs(pt,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(f_,{className:"w-4 h-4"}),"Notifications"]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive reminders and progress updates"})]}),d.jsx(Ui,{checked:S.notifications,onCheckedChange:U=>A("notifications",U)})]}),d.jsx(gn,{}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs(pt,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(Ja,{className:"w-4 h-4"}),"Sound Effects"]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Play sounds for interactions and feedback"})]}),d.jsx(Ui,{checked:S.soundEffects,onCheckedChange:U=>A("soundEffects",U)})]}),d.jsx(gn,{}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(pt,{className:"text-sm font-medium",children:"Auto Sync"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically sync your progress across devices"})]}),d.jsx(Ui,{checked:S.autoSync,onCheckedChange:U=>A("autoSync",U)})]}),d.jsx(gn,{}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(pt,{className:"text-sm font-medium",children:"Detailed Prosody Feedback"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Show detailed pronunciation and rhythm analysis"})]}),d.jsx(Ui,{checked:S.prosodyFeedback,onCheckedChange:U=>A("prosodyFeedback",U)})]}),d.jsx(gn,{}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(pt,{className:"text-sm font-medium",children:"Voice Recording"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable microphone for pronunciation practice"})]}),d.jsx(Ui,{checked:S.voiceRecording,onCheckedChange:U=>A("voiceRecording",U)})]})]})]}),d.jsxs(it,{children:[d.jsxs(un,{children:[d.jsxs(qt,{className:"flex items-center gap-2",children:[d.jsx(Tb,{className:"w-5 h-5"}),"Privacy & Security"]}),d.jsx(Ki,{children:"Manage your data and account security"})]}),d.jsxs(ot,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(pt,{className:"text-sm font-medium",children:"Device ID"}),d.jsx("p",{className:"text-xs text-muted-foreground font-mono bg-muted p-2 rounded",children:n.device_id})]}),d.jsx(gn,{}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(pt,{className:"text-sm font-medium text-destructive",children:"Danger Zone"}),d.jsxs(Id,{children:[d.jsx(ol,{asChild:!0,children:d.jsxs(ae,{variant:"destructive",size:"sm",className:"w-full",children:[d.jsx(Bm,{className:"w-4 h-4 mr-2"}),"Delete Account"]})}),d.jsxs(al,{children:[d.jsxs(Od,{children:[d.jsxs(ll,{className:"flex items-center gap-2 text-destructive",children:[d.jsx(Bm,{className:"w-5 h-5"}),"Delete Account"]}),d.jsx(cl,{children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs(Fs,{variant:"destructive",children:[d.jsx(Us,{className:"h-4 w-4"}),d.jsxs(Bs,{children:[d.jsx("strong",{children:"Warning:"})," All your learning progress, conversations, and settings will be permanently lost."]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ae,{variant:"destructive",className:"flex-1",children:"Yes, Delete My Account"}),d.jsx(ol,{asChild:!0,children:d.jsx(ae,{variant:"outline",className:"flex-1",children:"Cancel"})})]})]})]})]})]})]})]}),d.jsxs(it,{children:[d.jsx(un,{children:d.jsx(qt,{children:"App Information"})}),d.jsxs(ot,{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Version"}),d.jsx("span",{children:"1.0.0"})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Build"}),d.jsx("span",{children:"2024.10.10"})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Platform"}),d.jsx("span",{children:"Web"})]})]})]})]})})}function _N({user:n,onLogout:e,onStartPlacementTest:s,onUserUpdate:i}){const o=n.level||"Beginner",[l,c]=D.useState(!1),[h,f]=D.useState(!1),g=vN(),m=cw(),{currentTopic:v,setCurrentTopic:w,setActiveConversation:_,initializeApp:S,syncData:T,trackEvent:b}=os();D.useEffect(()=>{S(),b("main_app_viewed",{user_level:o})},[S,b,o]),D.useEffect(()=>{m.online&&!m.syncing&&m.hasOfflineChanges&&T()},[m.online,m.syncing,m.hasOfflineChanges,T]);const A=N=>{const L=N.topic||N.title;w(L),_(N.id),c(!1),b("conversation_selected",{conversation_id:N.id,topic:L})},P=()=>n.placement_test_completed?"Retake Placement Test":"Take Placement Test",E=()=>n.placement_test_completed?wn:as;return d.jsxs("div",{className:"h-screen bg-background flex",children:[d.jsx("div",{className:"hidden md:block w-80 h-full",children:d.jsx(Ay,{user:n,conversations:g,onConversationSelect:A,onLogout:e,onSettings:()=>f(!0)})}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsxs("div",{className:"bg-card border-b border-border p-4",children:[d.jsxs("div",{className:"md:hidden flex items-center justify-between",children:[d.jsxs(QC,{open:l,onOpenChange:c,children:[d.jsx(XC,{asChild:!0,children:d.jsx(ae,{variant:"outline",size:"icon",children:d.jsx(rb,{className:"w-4 h-4"})})}),d.jsx(eN,{side:"left",className:"w-80 p-0",children:d.jsx(Ay,{user:n,conversations:g,onConversationSelect:A,onLogout:e,onSettings:()=>{f(!0),c(!1)}})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(so,{className:"w-5 h-5 text-accent"}),d.jsx("h1",{className:"font-semibold",children:"VibeTune"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Oy,{compact:!0,showLabel:!1}),d.jsx(Nd,{size:"sm",showLabel:!1}),d.jsx(pe.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:d.jsxs(ae,{onClick:s,className:"bg-accent hover:bg-accent/90 text-accent-foreground shadow-md",size:"sm",children:[React.createElement(E(),{className:"w-4 h-4 mr-1"}),d.jsx("span",{className:"hidden xs:inline",children:n.placement_test_completed?"Retake Test":"Take Test"}),d.jsx("span",{className:"xs:hidden",children:n.placement_test_completed?"Retake":"Test"})]})})]})]}),d.jsxs("div",{className:"hidden md:flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(so,{className:"w-5 h-5 text-accent"}),d.jsx("h1",{className:"text-lg font-semibold",children:"VibeTune"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(Oy,{compact:!1,showLabel:!0}),d.jsx(Nd,{size:"md",showLabel:!0}),d.jsx(pe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(ae,{onClick:s,className:"bg-accent hover:bg-accent/90 text-accent-foreground shadow-lg px-4 py-2",size:"default",children:[React.createElement(E(),{className:"w-4 h-4 mr-2"}),P()]})})]})]})]}),d.jsx("div",{className:"flex-1",children:d.jsx(aN,{topic:v,level:o,onTopicChange:w})})]}),h&&d.jsx("div",{className:"fixed inset-0 z-50 bg-background",children:d.jsx(xN,{user:n,onUserUpdate:N=>{i&&i(N)},onBack:()=>f(!1),onStartPlacementTest:()=>{f(!1),s()}})})]})}const An=[{id:"greetings",name:"Basic Greetings",difficulty:"beginner",questions:["Hi there! How are you doing today?","What's your name and where are you from?","Tell me a bit about yourself."]},{id:"daily_life",name:"Daily Routines",difficulty:"beginner",questions:["What does a typical day look like for you?","What time do you usually wake up and go to bed?","What's your favorite meal of the day and why?"]},{id:"hobbies",name:"Hobbies & Interests",difficulty:"intermediate",questions:["What do you like to do in your free time?","Have you picked up any new hobbies recently?","If you could learn any new skill, what would it be?"]},{id:"travel",name:"Travel & Culture",difficulty:"intermediate",questions:["What's the most interesting place you've ever visited?","How do you think travel changes a person?","What cultural differences have you noticed between countries?"]},{id:"future_plans",name:"Goals & Aspirations",difficulty:"advanced",questions:["Where do you see yourself in five years?","What's the biggest challenge you're facing right now?","How do you think technology will change our lives in the future?"]}];function bN({user:n,onComplete:e,onSkip:s,onBack:i}){var Ne;const[o,l]=D.useState([]),[c,h]=D.useState(0),[f,g]=D.useState(0),[m,v]=D.useState(!1),[w,_]=D.useState(!1),[S,T]=D.useState(null),[b,A]=D.useState(900),[P,E]=D.useState(null),N=D.useRef(null);D.useEffect(()=>{if(b>0&&!w){const Q=setTimeout(()=>{A(W=>W-1)},1e3);return()=>clearTimeout(Q)}else b===0&&!w&&$e()},[b,w]),D.useEffect(()=>{var Q;(Q=N.current)==null||Q.scrollIntoView({behavior:"smooth"})},[o]),D.useEffect(()=>{(()=>{l([{id:"initial",role:"ai",content:"Hello! I'm your AI conversation partner for this placement test. We'll have a natural conversation covering different topics to assess your English prosody skills. This will help us determine the best learning level for you. Ready to begin?",timestamp:new Date,topic:"introduction"}]),setTimeout(()=>{L()},2e3)})()},[]);const L=()=>{const Q=An[c],W=Q.questions[f];if(!W)if(c<An.length-1){h(Y=>Y+1),g(0);return}else{G();return}const R={id:`question-${c}-${f}`,role:"ai",content:W,timestamp:new Date,topic:Q.id};l(Y=>[...Y,R])},U=async(Q,W=!1)=>{v(!0),E(null);try{const R={id:`user-${Date.now()}`,role:"user",content:Q,timestamp:new Date,topic:An[c].id,isAudioResponse:W};l(k=>[...k,R]);const Y=await B(Q,An[c]);R.score=Y;const M=V(Q,Y);if(M){const k={id:`followup-${Date.now()}`,role:"ai",content:M,timestamp:new Date,topic:An[c].id};setTimeout(()=>{l(F=>[...F,k]),setTimeout(()=>{g(F=>F+1),L()},1500)},1e3)}else setTimeout(()=>{g(k=>k+1),L()},1e3)}catch(R){console.error("Error processing response:",R),E("Failed to process your response. Please try again.")}finally{v(!1)}},B=async(Q,W)=>{const R=Q.length,Y=Q.split(" ").length;let M=50;return Y>=10&&(M+=20),Y>=20&&(M+=10),R>100&&(M+=10),W.difficulty==="advanced"&&(M=Math.min(M*.9,100)),W.difficulty==="beginner"&&(M=Math.min(M*1.1,100)),M+=Math.random()*20-10,Math.max(0,Math.min(100,Math.round(M)))},V=(Q,W)=>{if(W>=80){const R=["Great answer! I can hear the confidence in your response.","Excellent! Your pronunciation is very clear.","That's a thoughtful response with good intonation.","Perfect! You're expressing yourself very naturally."];return R[Math.floor(Math.random()*R.length)]}else if(W>=60){const R=["Good! Let's continue with the next topic.","Nice! I can understand you clearly.","That's helpful information, thank you."];return R[Math.floor(Math.random()*R.length)]}else{const R=["Thank you for sharing. Let's try another topic.","I appreciate your response. Let's continue.","Thanks! Let's move on to something different."];return R[Math.floor(Math.random()*R.length)]}},G=async()=>{v(!0);try{const Q=o.filter(F=>F.role==="user"&&F.score!==void 0),W=Q.reduce((F,X)=>F+(X.score||0),0),R=Q.length>0?W/Q.length:0;let Y="Beginner";R>=75?Y="Advanced":R>=55&&(Y="Intermediate");const M={};An.forEach(F=>{const X=Q.filter(le=>le.topic===F.id);if(X.length>0){const le=X.reduce((ye,we)=>ye+(we.score||0),0);M[F.name]=le/X.length}});const k={overallScore:Math.round(R),level:Y,topicScores:M,strengths:be(R,M),improvements:Ie(R,M),totalQuestions:An.reduce((F,X)=>F+X.questions.length,0),completedQuestions:Q.length};T(k),_(!0),await Kt.updateProfile(n.id,{level:Y,placement_test_completed:!0,placement_test_score:k.overallScore},n)}catch(Q){console.error("Error completing test:",Q),E("Failed to complete the test. Please try again.")}finally{v(!1)}},be=(Q,W)=>{const R=[];Q>=70&&R.push("Clear pronunciation"),Q>=60&&R.push("Good conversational flow");const Y=Object.entries(W).reduce((M,[k,F])=>F>M.score?{topic:k,score:F}:M,{topic:"",score:0});return Y.score>=70&&R.push(`Strong performance in ${Y.topic.toLowerCase()}`),R.length>0?R:["Willingness to communicate"]},Ie=(Q,W)=>{const R=[];Q<60&&R.push("Focus on pronunciation clarity"),Q<70&&R.push("Practice natural intonation patterns");const Y=Object.entries(W).reduce((M,[k,F])=>F<M.score?{topic:k,score:F}:M,{topic:"",score:100});return Y.score<60&&R.push(`More practice with ${Y.topic.toLowerCase()}`),R.length>0?R:["Continue practicing regularly"]},$e=()=>{E("Time's up! Completing test with current responses..."),setTimeout(()=>{G()},2e3)},Pe=Q=>{const W=Math.floor(Q/60),R=Q%60;return`${W}:${R.toString().padStart(2,"0")}`},Oe=()=>{const Q=An.reduce((R,Y)=>R+Y.questions.length,0),W=c*3+f;return Math.min(W/Q*100,100)};return w&&S?d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:d.jsx(pe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-2xl",children:d.jsx(it,{children:d.jsxs(ot,{className:"p-8 text-center space-y-6",children:[d.jsx(In,{className:"w-16 h-16 text-success mx-auto"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-3xl font-bold",children:"Placement Test Complete!"}),d.jsxs("div",{className:"bg-accent/10 p-6 rounded-lg space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-center gap-4",children:[d.jsxs(De,{className:"text-lg px-4 py-2 bg-accent text-accent-foreground",children:[S.level," Level"]}),d.jsxs(De,{variant:"outline",className:"text-lg px-4 py-2",children:[S.overallScore,"% Score"]})]}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-left",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"font-semibold text-success",children:"Your Strengths:"}),d.jsx("ul",{className:"text-sm space-y-1",children:S.strengths.map((Q,W)=>d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx(In,{className:"w-4 h-4 text-success"}),Q]},W))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"font-semibold text-primary",children:"Areas to Improve:"}),d.jsx("ul",{className:"text-sm space-y-1",children:S.improvements.map((Q,W)=>d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx(wn,{className:"w-4 h-4 text-primary"}),Q]},W))})]})]})]}),d.jsxs(ae,{onClick:()=>e({level:S.level,score:S.overallScore}),className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground text-lg py-6",size:"lg",children:[d.jsx(as,{className:"w-5 h-5 mr-2"}),"Start Learning at ",S.level," Level"]})]})]})})})}):d.jsx("div",{className:"min-h-screen bg-background p-4",children:d.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[i&&d.jsx(ae,{variant:"ghost",size:"icon",onClick:i,children:d.jsx(Ha,{className:"w-4 h-4"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"AI Conversation Placement Test"}),d.jsxs("p",{className:"text-muted-foreground",children:["Topic: ",(Ne=An[c])==null?void 0:Ne.name]})]}),d.jsx("div",{className:"w-10"})]}),d.jsx(it,{children:d.jsxs(ot,{className:"p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm",children:"Progress"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(qa,{className:"w-4 h-4 text-muted-foreground"}),d.jsx("span",{className:"text-sm",children:Pe(b)})]})]}),d.jsx(dl,{value:Oe(),className:"w-full"})]})}),P&&d.jsxs(Fs,{variant:"destructive",children:[d.jsx(Us,{className:"h-4 w-4"}),d.jsx(Bs,{children:P})]}),d.jsxs(it,{className:"h-96",children:[d.jsxs(un,{children:[d.jsxs(qt,{className:"flex items-center gap-2",children:[d.jsx(Pr,{className:"w-5 h-5"}),"Conversation"]}),d.jsx(Ki,{children:"Have a natural conversation with the AI to assess your English prosody skills"})]}),d.jsxs(ot,{className:"h-64 overflow-y-auto space-y-4",children:[d.jsx(Fr,{children:o.map(Q=>d.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`flex gap-3 ${Q.role==="user"?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`flex gap-3 max-w-[80%] ${Q.role==="user"?"flex-row-reverse":"flex-row"}`,children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${Q.role==="ai"?"bg-accent text-accent-foreground":"bg-primary text-primary-foreground"}`,children:Q.role==="ai"?d.jsx(g_,{className:"w-4 h-4"}):d.jsx(hl,{className:"w-4 h-4"})}),d.jsxs("div",{className:`p-3 rounded-lg ${Q.role==="ai"?"bg-muted text-muted-foreground":"bg-primary text-primary-foreground"}`,children:[d.jsx("p",{className:"text-sm",children:Q.content}),Q.score&&d.jsxs(De,{variant:"outline",className:"mt-2 text-xs",children:["Score: ",Q.score,"%"]})]})]})},Q.id))}),d.jsx("div",{ref:N})]})]}),d.jsx(it,{children:d.jsx(ot,{className:"p-4",children:d.jsx(lw,{onSendMessage:Q=>U(Q,!0),disabled:m||w,placeholder:"Speak your response or type it here..."})})}),d.jsx("div",{className:"text-center",children:d.jsx(ae,{variant:"link",onClick:s,disabled:m,children:"Skip placement test and start with Beginner level"})})]})})}function SN({className:n,...e}){return d.jsx(Bu.Root,{"data-slot":"radio-group",className:Te("grid gap-3",n),...e})}function kN({className:n,...e}){return d.jsx(Bu.Item,{"data-slot":"radio-group-item",className:Te("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:d.jsx(Bu.Indicator,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:d.jsx(E_,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const jN=[{value:"Beginner",title:"Beginner",emoji:"",color:"bg-emerald-50 border-emerald-200 text-emerald-800",selectedColor:"bg-emerald-100 border-emerald-300 ring-emerald-500",badges:["Basic","Simple","Guided"],description:"Perfect for those new to English pronunciation and prosody",detailedFeatures:["Basic stress patterns","Simple intonation practice","Common vocabulary focus","Step-by-step guided practice","Fundamental rhythm training"],recommended:"Choose if you're just starting with English pronunciation or want to build strong foundations"},{value:"Intermediate",title:"Intermediate",emoji:"",color:"bg-blue-50 border-blue-200 text-blue-800",selectedColor:"bg-blue-100 border-blue-300 ring-blue-500",badges:["Complex","Varied","Natural"],description:"Ideal for learners with some English speaking experience",detailedFeatures:["Complex stress patterns","Varied intonation training","Advanced vocabulary practice","Natural conversation flow","Contextual pronunciation"],recommended:"Choose if you can speak English conversationally but want to improve pronunciation and sound more natural"},{value:"Advanced",title:"Advanced",emoji:"",color:"bg-purple-50 border-purple-200 text-purple-800",selectedColor:"bg-purple-100 border-purple-300 ring-purple-500",badges:["Nuanced","Native","Pro"],description:"Designed for proficient speakers refining their prosody",detailedFeatures:["Subtle pronunciation nuances","Native-like intonation patterns","Professional vocabulary mastery","Accent reduction techniques","Advanced prosody refinement"],recommended:"Choose if you speak English fluently but want to perfect your prosody and achieve native-like pronunciation"}];function TN({onLevelSelect:n,onTakePlacementTest:e,onBack:s,user:i}){const[o,l]=D.useState(""),[c,h]=D.useState(!1),f=i==null?void 0:i.level,g=i==null?void 0:i.placement_test_completed,m=f&&g,v=f&&!g,w=()=>m?"Redo Placement Test":"Take Placement Test",_=b=>{if(f){h(!0);return}l(b)},S=()=>{o&&!f&&n(o)},T=()=>{h(!1),e()};return f?d.jsx("div",{className:"min-h-screen bg-background",children:d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx("div",{className:"flex-none px-4 py-6 md:px-6 md:py-8",children:d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s&&d.jsx(ae,{variant:"ghost",size:"icon",onClick:s,className:"flex-shrink-0",children:d.jsx(Ha,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Your Learning Level"}),d.jsx("p",{className:"text-sm md:text-base text-muted-foreground",children:"Level locked for consistent progress"})]})]})})}),d.jsx("div",{className:"flex-1 px-4 md:px-6 flex items-center",children:d.jsx("div",{className:"w-full max-w-md mx-auto",children:d.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:d.jsxs(it,{className:"bg-accent/10 border-accent/20 shadow-lg",children:[d.jsx(un,{className:"text-center pb-4",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx("div",{className:"w-16 h-16 bg-accent rounded-full flex items-center justify-center shadow-lg",children:d.jsx(Ga,{className:"w-8 h-8 text-accent-foreground"})}),d.jsxs("div",{children:[d.jsxs(qt,{className:"text-2xl md:text-3xl font-bold",children:[i.level," Level"]}),d.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[d.jsx(qi,{className:"w-4 h-4 text-muted-foreground"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:m?"Set by placement test":"Self-selected"})]})]})]})}),d.jsxs(ot,{className:"text-center space-y-6 pb-6",children:[d.jsx("p",{className:"text-base text-muted-foreground",children:m?"Your level was determined by placement test results for optimal learning progress.":"You selected this level manually. Take the placement test for a personalized assessment."}),d.jsx(pe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(ae,{onClick:T,className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground shadow-lg",size:"lg",children:[d.jsx(as,{className:"w-5 h-5 mr-2"}),w()]})}),d.jsxs(Id,{children:[d.jsx(ol,{asChild:!0,children:d.jsxs(ae,{variant:"ghost",size:"sm",className:"w-full text-muted-foreground hover:text-foreground",children:[d.jsx(Um,{className:"w-4 h-4 mr-2"}),"Why can't I change my level directly?"]})}),d.jsxs(al,{className:"max-w-md mx-auto",children:[d.jsxs(Od,{children:[d.jsxs(ll,{className:"flex items-center gap-3",children:[d.jsx(qi,{className:"w-5 h-5 text-accent"}),"Level Locking System"]}),d.jsx(cl,{className:"text-left",children:"VibeTune locks your level to ensure consistent, progressive learning. This prevents switching between difficulty levels that could disrupt your learning path."})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-accent/10 p-4 rounded-lg border border-accent/20",children:[d.jsx("h4",{className:"font-semibold mb-2 text-accent-foreground",children:"Benefits of Level Locking:"}),d.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[d.jsx("li",{children:" Consistent difficulty progression"}),d.jsx("li",{children:" Personalized content at the right level"}),d.jsx("li",{children:" Prevents skill gaps from level jumping"}),d.jsx("li",{children:" Accurate progress tracking"})]})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"The placement test provides the most accurate assessment of your current abilities and ensures you get content that matches your skill level."})]})]})]})]})]})})})}),d.jsx("div",{className:"flex-none px-4 py-6 md:px-6 md:py-8",children:d.jsx("div",{className:"max-w-md mx-auto",children:c&&d.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:d.jsxs(Fs,{className:"border-accent/30 bg-accent/10 shadow-lg",children:[d.jsx(Us,{className:"h-5 w-5 text-accent"}),d.jsxs(Bs,{className:"text-base",children:[d.jsx("strong",{className:"text-accent-foreground",children:"Level is locked."}),d.jsx("br",{}),"Take the placement test to change your level and get a personalized assessment of your abilities."]})]})})})})]})}):d.jsx("div",{className:"min-h-screen bg-background",children:d.jsx("div",{className:"min-h-screen flex items-center justify-center px-3 py-2",children:d.jsxs("div",{className:"w-full max-w-md mx-auto",children:[s&&d.jsx("div",{className:"flex justify-start mb-3",children:d.jsx(ae,{variant:"ghost",size:"icon",onClick:s,className:"w-8 h-8",children:d.jsx(Ha,{className:"w-4 h-4"})})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Choose Your Level"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Level locks after selection. Change by retaking placement test."}),d.jsx(pe.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:d.jsxs(ae,{onClick:T,className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",size:"default",children:[d.jsx(wn,{className:"w-4 h-4 mr-2"}),"Take Placement Test (Recommended)"]})}),d.jsxs("div",{className:"flex items-center gap-3 py-1",children:[d.jsx("div",{className:"h-px bg-border flex-1"}),d.jsx("span",{className:"text-xs text-muted-foreground px-2",children:"OR SELF-SELECT"}),d.jsx("div",{className:"h-px bg-border flex-1"})]})]}),d.jsx("div",{children:d.jsx(SN,{value:o,onValueChange:l,children:d.jsx("div",{className:"grid grid-cols-3 gap-2",children:jN.map((b,A)=>d.jsx(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:A*.05},className:"relative",children:d.jsxs(it,{className:`cursor-pointer transition-all duration-300 h-full min-h-[180px] text-center relative overflow-hidden ${o===b.value?`${b.selectedColor} shadow-xl scale-[1.03] ring-2 ring-offset-1`:`${b.color} hover:shadow-lg hover:scale-[1.01] shadow-md`}`,onClick:()=>_(b.value),children:[o===b.value&&d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent pointer-events-none"}),d.jsxs(Id,{children:[d.jsx(ol,{asChild:!0,children:d.jsx(ae,{variant:"ghost",size:"icon",className:"absolute top-1 right-1 w-6 h-6 rounded-full bg-white/90 hover:bg-white shadow-md z-20",onClick:P=>P.stopPropagation(),children:d.jsx(Um,{className:"w-3 h-3"})})}),d.jsxs(al,{className:"max-w-sm mx-auto",children:[d.jsxs(Od,{children:[d.jsxs(ll,{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-2xl",children:b.emoji}),d.jsxs("div",{className:"text-lg",children:[b.title," Level"]})]}),d.jsx(cl,{children:b.description})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-2",children:"What you'll practice:"}),d.jsx("ul",{className:"space-y-1",children:b.detailedFeatures.map((P,E)=>d.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[d.jsx(In,{className:"w-4 h-4 text-success mt-0.5 flex-shrink-0"}),P]},E))})]}),d.jsx("div",{className:"bg-accent/10 p-3 rounded-lg border border-accent/20",children:d.jsxs("p",{className:"text-sm",children:[d.jsx("strong",{className:"text-accent-foreground",children:"Choose this level if:"}),d.jsx("br",{}),b.recommended]})})]})]})]}),d.jsx("div",{className:"absolute top-1 left-1 z-20",children:d.jsx(kN,{value:b.value,id:b.value,className:"w-4 h-4 border-2 bg-white/90"})}),d.jsxs(ot,{className:"p-2 h-full flex flex-col justify-center pt-6",children:[d.jsxs("div",{className:"space-y-2 mb-3",children:[d.jsx("div",{className:"text-3xl",children:b.emoji}),d.jsx(qt,{className:"text-sm leading-tight font-bold",children:b.title})]}),d.jsx("div",{className:"space-y-1",children:b.badges.map((P,E)=>d.jsx(De,{variant:"secondary",className:"text-xs px-1 py-0 h-4 rounded-sm block w-full bg-white/80 text-gray-800 border border-gray-300 font-medium",children:P},E))})]})]})},b.value))})})}),o&&d.jsx(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-3",children:d.jsxs("div",{className:"bg-success/10 rounded-lg p-4 border border-success/20 space-y-3",children:[d.jsx("div",{className:"text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[d.jsx(In,{className:"w-5 h-5 text-success"}),d.jsxs("span",{className:"text-base font-bold text-success-foreground",children:[o," Level Selected"]})]})}),d.jsxs("div",{className:"flex items-start gap-2 p-2 bg-primary/15 rounded border border-primary/25",children:[d.jsx(qi,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),d.jsxs("p",{className:"text-sm text-primary-foreground",children:[d.jsx("strong",{children:"Level will be locked after confirmation."})," You can only change it by taking the placement test later."]})]}),d.jsx(pe.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:d.jsxs(ae,{onClick:S,className:"w-full bg-success hover:bg-success/90 text-success-foreground h-11 text-base font-bold shadow-lg",size:"lg",children:[d.jsx(as,{className:"w-5 h-5 mr-2"}),"Start Learning at ",o," Level"]})})]})}),!o&&d.jsx("div",{className:"text-center py-2",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:" Tap a level card above to continue"})})]})]})})})}class EN extends Vi.Component{constructor(s){super(s);St(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,i){console.error("VibeTune Error Boundary caught an error:",s,i),this.setState({error:s,errorInfo:i}),setTimeout(()=>{try{Yt(async()=>{const{trackEvent:o}=await Promise.resolve().then(()=>JC);return{trackEvent:o}},void 0).then(({trackEvent:o})=>{o("app_error_boundary",{error:s.message,stack:s.stack,componentStack:i.componentStack})})}catch(o){console.warn("Failed to track error boundary event:",o)}},0)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full text-center space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[d.jsx("div",{className:"w-12 h-12 bg-accent rounded-full flex items-center justify-center",children:d.jsx("svg",{className:"w-6 h-6 text-accent-foreground",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"})})}),d.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"VibeTune"})]}),d.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-6",children:[d.jsx("h2",{className:"text-lg font-semibold text-destructive mb-2",children:"Oops! Something went wrong"}),d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"We encountered an unexpected error. Don't worry, your data is safe."}),!1]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("button",{onClick:this.handleReset,className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground px-4 py-2 rounded-lg font-medium transition-colors",children:"Try Again"}),d.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-secondary hover:bg-secondary/90 text-secondary-foreground px-4 py-2 rounded-lg font-medium transition-colors",children:"Refresh Page"}),d.jsx("button",{onClick:()=>{try{localStorage.clear(),sessionStorage.clear()}catch(s){console.warn("Failed to clear storage:",s)}window.location.reload()},className:"w-full border border-border hover:bg-muted px-4 py-2 rounded-lg font-medium transition-colors text-sm",children:"Reset App Data"})]}),d.jsxs("div",{className:"text-xs text-muted-foreground",children:[d.jsx("p",{children:"If this problem persists, please contact support."}),d.jsxs("p",{className:"mt-1",children:["Error ID: ",Date.now().toString(36)]})]})]})}):this.props.children}}const CN={user:null,currentConversation:[],placementTestProgress:0,isLoading:!1,error:null,isOffline:!1,syncStatus:"synced"};function NN(n,e){switch(e.type){case"SET_USER":return{...n,user:e.payload};case"SET_CONVERSATION":return{...n,currentConversation:e.payload};case"ADD_MESSAGE":return{...n,currentConversation:[...n.currentConversation,e.payload]};case"UPDATE_MESSAGE":return{...n,currentConversation:n.currentConversation.map(s=>s.id===e.payload.id?{...s,...e.payload.message}:s)};case"SET_PLACEMENT_TEST_PROGRESS":return{...n,placementTestProgress:e.payload};case"SET_LOADING":return{...n,isLoading:e.payload};case"SET_ERROR":return{...n,error:e.payload};case"SET_OFFLINE":return{...n,isOffline:e.payload};case"SET_SYNC_STATUS":return{...n,syncStatus:e.payload};case"CLEAR_CONVERSATION":return{...n,currentConversation:[]};default:return n}}const dw=D.createContext(null);function PN({children:n}){const[e,s]=D.useReducer(NN,CN);return d.jsx(dw.Provider,{value:{state:e,dispatch:s},children:n})}function AN(){const n=D.useContext(dw);if(!n)throw new Error("useAppContext must be used within an AppProvider");return n}const Ns={setUser:n=>({type:"SET_USER",payload:n}),setConversation:n=>({type:"SET_CONVERSATION",payload:n}),addMessage:n=>({type:"ADD_MESSAGE",payload:n}),updateMessage:(n,e)=>({type:"UPDATE_MESSAGE",payload:{id:n,message:e}}),setPlacementTestProgress:n=>({type:"SET_PLACEMENT_TEST_PROGRESS",payload:n}),setLoading:n=>({type:"SET_LOADING",payload:n}),setError:n=>({type:"SET_ERROR",payload:n}),setOffline:n=>({type:"SET_OFFLINE",payload:n}),setSyncStatus:n=>({type:"SET_SYNC_STATUS",payload:n}),clearConversation:()=>({type:"CLEAR_CONVERSATION"})};class yn{static getStorage(){return typeof window<"u"?{getItem:e=>localStorage.getItem(e),setItem:(e,s)=>localStorage.setItem(e,s),removeItem:e=>localStorage.removeItem(e)}:{getItem:async e=>null,setItem:async(e,s)=>{},removeItem:async e=>{}}}static saveMessageOffline(e){try{const s=this.getStorage(),i=s.getItem(this.STORAGE_KEYS.MESSAGES),o=i?JSON.parse(i):[],l={...e,device_id:this.getDeviceId(),synced:!1};o.push(l),s.setItem(this.STORAGE_KEYS.MESSAGES,JSON.stringify(o)),this.addToSyncQueue("message",l.id)}catch(s){console.error("Failed to save message offline:",s)}}static saveConversationOffline(e){try{const s=this.getStorage(),i=s.getItem(this.STORAGE_KEYS.CONVERSATIONS),o=i?JSON.parse(i):[],l={...e,device_id:this.getDeviceId(),synced:!1};o.push(l),s.setItem(this.STORAGE_KEYS.CONVERSATIONS,JSON.stringify(o)),this.addToSyncQueue("conversation",l.id)}catch(s){console.error("Failed to save conversation offline:",s)}}static getOfflineMessages(e){try{const i=this.getStorage().getItem(this.STORAGE_KEYS.MESSAGES);return(i?JSON.parse(i):[]).filter(l=>l.conversation_id===e)}catch(s){return console.error("Failed to get offline messages:",s),[]}}static getOfflineConversations(){try{const s=this.getStorage().getItem(this.STORAGE_KEYS.CONVERSATIONS);return s?JSON.parse(s):[]}catch(e){return console.error("Failed to get offline conversations:",e),[]}}static getUnsyncedItems(){const e=this.getAllOfflineMessages(),s=this.getOfflineConversations();return{messages:e.filter(i=>!i.synced),conversations:s.filter(i=>!i.synced)}}static markAsSynced(e,s){try{const i=this.getStorage(),o=e==="message"?this.STORAGE_KEYS.MESSAGES:this.STORAGE_KEYS.CONVERSATIONS,l=i.getItem(o);if(!l)return;const h=JSON.parse(l).map(f=>f.id===s?{...f,synced:!0}:f);i.setItem(o,JSON.stringify(h)),this.removeFromSyncQueue(e,s)}catch(i){console.error("Failed to mark item as synced:",i)}}static addToSyncQueue(e,s){try{const i=this.getStorage(),o=i.getItem(this.STORAGE_KEYS.SYNC_QUEUE),l=o?JSON.parse(o):[];l.push({type:e,id:s,timestamp:Date.now()}),i.setItem(this.STORAGE_KEYS.SYNC_QUEUE,JSON.stringify(l))}catch(i){console.error("Failed to add to sync queue:",i)}}static removeFromSyncQueue(e,s){try{const i=this.getStorage(),o=i.getItem(this.STORAGE_KEYS.SYNC_QUEUE);if(!o)return;const c=JSON.parse(o).filter(h=>!(h.type===e&&h.id===s));i.setItem(this.STORAGE_KEYS.SYNC_QUEUE,JSON.stringify(c))}catch(i){console.error("Failed to remove from sync queue:",i)}}static getSyncQueue(){try{const s=this.getStorage().getItem(this.STORAGE_KEYS.SYNC_QUEUE);return s?JSON.parse(s):[]}catch(e){return console.error("Failed to get sync queue:",e),[]}}static clearSyncedItems(){try{const e=this.getStorage(),s=e.getItem(this.STORAGE_KEYS.MESSAGES);if(s){const o=JSON.parse(s),l=Date.now()-10080*60*1e3,c=o.filter(h=>!h.synced||new Date(h.created_at).getTime()>l);e.setItem(this.STORAGE_KEYS.MESSAGES,JSON.stringify(c))}const i=e.getItem(this.STORAGE_KEYS.CONVERSATIONS);if(i){const o=JSON.parse(i),l=Date.now()-720*60*60*1e3,c=o.filter(h=>!h.synced||new Date(h.started_at).getTime()>l);e.setItem(this.STORAGE_KEYS.CONVERSATIONS,JSON.stringify(c))}}catch(e){console.error("Failed to clear synced items:",e)}}static getDeviceId(){try{const e=this.getStorage();let s=e.getItem("device_id");return s||(s="web_"+Date.now().toString(36)+Math.random().toString(36).substr(2),e.setItem("device_id",s)),s}catch(e){return console.error("Failed to get device ID:",e),"unknown_device"}}static getAllOfflineMessages(){try{const s=this.getStorage().getItem(this.STORAGE_KEYS.MESSAGES);return s?JSON.parse(s):[]}catch(e){return console.error("Failed to get all offline messages:",e),[]}}static updateLastSync(){try{this.getStorage().setItem(this.STORAGE_KEYS.LAST_SYNC,Date.now().toString())}catch(e){console.error("Failed to update last sync:",e)}}static getLastSync(){try{const s=this.getStorage().getItem(this.STORAGE_KEYS.LAST_SYNC);return s?parseInt(s):0}catch(e){return console.error("Failed to get last sync:",e),0}}static isOffline(){return typeof navigator<"u"&&!navigator.onLine}static getStorageStats(){const e=this.getAllOfflineMessages(),s=this.getOfflineConversations(),i=this.getUnsyncedItems();return{messageCount:e.length,conversationCount:s.length,unsyncedMessages:i.messages.length,unsyncedConversations:i.conversations.length,lastSync:this.getLastSync()}}}St(yn,"STORAGE_KEYS",{MESSAGES:"speakpro_offline_messages",CONVERSATIONS:"speakpro_offline_conversations",SYNC_QUEUE:"speakpro_sync_queue",LAST_SYNC:"speakpro_last_sync"});class Wa{static async analyzeAudio({audioBlob:e,text:s,level:i,context:o}){try{if(!this.checkRateLimit())throw new Error("Rate limit exceeded. Please wait before making another request.");const l=new FormData;e&&l.append("audio",e,"recording.wav"),s&&l.append("text",s),l.append("level",i),l.append("context",o||"general");const c=await fetch(this.API_ENDPOINT,{method:"POST",body:l,headers:{Authorization:`Bearer ${await this.getAuthToken()}`}});if(!c.ok)throw c.status===429?new Error("API rate limit exceeded. Please try again later."):new Error(`API request failed: ${c.statusText}`);const h=await c.json();return this.updateRateLimit(),{data:h,error:null}}catch(l){return console.error("Audio analysis error:",l),{data:this.generateMockAnalysis(s||"",i),error:l}}}static async streamTranscription(e,s,i){try{let o="";const l=["I","think","learning","English","pronunciation","is","very","important"];for(let c=0;c<l.length;c++)await new Promise(h=>setTimeout(h,500)),o+=(c>0?" ":"")+l[c],s({text:o,isFinal:c===l.length-1,confidence:.85+Math.random()*.15})}catch(o){i(o)}}static checkRateLimit(){const e=Date.now(),s=localStorage.getItem(this.RATE_LIMIT_KEY);if(!s)return!0;const{count:i,windowStart:o}=JSON.parse(s),l=60*1e3;return e-o>l?!0:i<this.MAX_REQUESTS_PER_MINUTE}static updateRateLimit(){const e=Date.now(),s=localStorage.getItem(this.RATE_LIMIT_KEY);if(!s){localStorage.setItem(this.RATE_LIMIT_KEY,JSON.stringify({count:1,windowStart:e}));return}const{count:i,windowStart:o}=JSON.parse(s),l=60*1e3;e-o>l?localStorage.setItem(this.RATE_LIMIT_KEY,JSON.stringify({count:1,windowStart:e})):localStorage.setItem(this.RATE_LIMIT_KEY,JSON.stringify({count:i+1,windowStart:o}))}static async getAuthToken(){const{data:{session:e}}=await Ee.auth.getSession();return(e==null?void 0:e.access_token)||Eh}static generateMockAnalysis(e,s){const i=e.toLowerCase().split(" "),o=Math.floor(Math.random()*30)+70,l=[],c=[];return s==="Beginner"?(i.includes("really")||i.includes("very"))&&l.push({type:"stress",score:.6,location:"really",suggestion:"Emphasize this word with rising stress"}):s==="Intermediate"&&l.push({type:"intonation",score:.75,suggestion:"Try varying your pitch more throughout the sentence"}),i.forEach(h=>{h.length>8&&c.push(h)}),{prosodyErrors:l,vocabSuggestions:c.slice(0,3),guidance:this.generateGuidance(o,s),overallScore:o,transcript:e}}static generateGuidance(e,s){const i={high:["Excellent prosody! Your rhythm and intonation are very natural.","Great job with word stress patterns. Keep practicing!","Your speech sounds very confident and clear."],medium:["Good effort! Try to focus more on sentence-level intonation.","Your pronunciation is clear. Work on varying your pitch more.","Nice rhythm! Pay attention to stressed syllables in longer words."],low:["Keep practicing! Focus on one aspect at a time - start with word stress.","Take your time with pronunciation. Slow, clear speech is better than fast, unclear speech.","Listen to native speakers and try to mimic their intonation patterns."]},o=e>=85?"high":e>=70?"medium":"low",l=i[o];return l[Math.floor(Math.random()*l.length)]}}St(Wa,"API_ENDPOINT",`https://${Th}.supabase.co/functions/v1/make-server-b2083953/analyze-audio`),St(Wa,"RATE_LIMIT_KEY","audio_analysis_rate_limit"),St(Wa,"MAX_REQUESTS_PER_MINUTE",20);class Os{static addSyncListener(e){this.syncListeners.push(e)}static removeSyncListener(e){this.syncListeners=this.syncListeners.filter(s=>s!==e)}static notifyListeners(e){this.syncListeners.forEach(s=>s(e))}static async sync(){if(this.syncInProgress)return{success:!1,syncedMessages:0,syncedConversations:0,errors:["Sync already in progress"]};this.syncInProgress=!0,this.notifyListeners("syncing");const e=new Promise((s,i)=>setTimeout(()=>i(new Error("Sync operation timed out")),1e4));try{return await Promise.race([this._performSync(),e])}catch(s){return this.syncInProgress=!1,this.notifyListeners("error"),console.error("Sync failed:",(s==null?void 0:s.message)||s),{success:!1,syncedMessages:0,syncedConversations:0,errors:[(s==null?void 0:s.message)||"Sync failed"]}}}static async _performSync(){const e={success:!1,syncedMessages:0,syncedConversations:0,errors:[]};try{if(yn.isOffline())return this.syncInProgress=!1,this.notifyListeners("synced"),{success:!0,syncedMessages:0,syncedConversations:0,errors:["Device is offline - sync will resume when online"]};const s=await this.checkAuthentication();if(!s.isAuthenticated)return this.syncInProgress=!1,this.notifyListeners("synced"),{success:!0,syncedMessages:0,syncedConversations:0,errors:[s.reason||"No authenticated user - sync skipped"]};const{messages:i,conversations:o}=yn.getUnsyncedItems();for(const l of o)try{await this.syncConversation(l),e.syncedConversations++}catch(c){console.error("Failed to sync conversation:",c),e.errors.push(`Failed to sync conversation ${l.id}: ${c}`)}for(const l of i)try{await this.syncMessage(l),e.syncedMessages++}catch(c){console.error("Failed to sync message:",c),e.errors.push(`Failed to sync message ${l.id}: ${c}`)}await this.downloadServerUpdates(),yn.updateLastSync(),e.success=e.errors.length===0,this.notifyListeners(e.success?"synced":"error"),yn.clearSyncedItems()}catch(s){console.error("Sync failed:",s);const i=s instanceof Error?s.message:String(s);e.errors.push(`Sync failed: ${i}`),!i.includes("not authenticated")&&!i.includes("offline")?this.notifyListeners("error"):this.notifyListeners("synced")}finally{this.syncInProgress=!1}return e}static async syncConversation(e){try{const{data:s}=await Ee.from("conversations").select("id, device_id").eq("id",e.id).single();if(s)await this.resolveConversationConflict(e,s);else{const{error:i}=await Ee.from("conversations").insert([{id:e.id,profile_id:e.profile_id,topic:e.topic,is_placement_test:e.is_placement_test,started_at:e.started_at,ended_at:e.ended_at,device_id:e.device_id}]);if(i)throw i}yn.markAsSynced("conversation",e.id)}catch(s){throw console.error("Failed to sync conversation:",s),s}}static async syncMessage(e){try{const{data:s}=await Ee.from("messages").select("id, device_id, version").eq("id",e.id).single();if(s)await this.resolveMessageConflict(e,s);else{let i=null;if(e.type==="audio"&&e.sender==="user")try{const{data:l}=await Wa.analyzeAudio({text:e.content,level:"Intermediate"});i=l}catch(l){console.warn("Failed to analyze audio during sync:",l)}const{error:o}=await Ee.from("messages").insert([{id:e.id,conversation_id:e.conversation_id,sender:e.sender,type:e.type,content:e.content,audio_url:e.audio_url,prosody_feedback:i,created_at:e.created_at,device_id:e.device_id,version:1}]);if(o)throw o}yn.markAsSynced("message",e.id)}catch(s){throw console.error("Failed to sync message:",s),s}}static async resolveConversationConflict(e,s){const i=new Date(e.started_at).getTime(),o=new Date(s.started_at).getTime();if(i>o||e.device_id===s.device_id){const{error:l}=await Ee.from("conversations").update({topic:e.topic,ended_at:e.ended_at,device_id:e.device_id}).eq("id",e.id);if(l)throw l}}static async resolveMessageConflict(e,s){if(e.sender==="ai"&&e.prosody_feedback){const{error:i}=await Ee.from("messages").update({prosody_feedback:e.prosody_feedback,version:(s.version||1)+1,device_id:e.device_id}).eq("id",e.id);if(i)throw i}}static async downloadServerUpdates(){try{const e=await this.checkAuthentication();if(!e.isAuthenticated){console.log("Skipping server updates download:",e.reason);return}const{data:{session:s}}=await Ee.auth.getSession();if(!(s!=null&&s.user)){console.log("No session available for server updates");return}const i=yn.getLastSync(),o=new Date(i).toISOString(),{data:l}=await Ee.from("conversations").select("*").eq("profile_id",s.user.id).gt("started_at",o).order("started_at",{ascending:!1});if(l&&l.length>0){const c=l.map(f=>f.id),{data:h}=await Ee.from("messages").select("*").in("conversation_id",c).gt("created_at",o).order("created_at",{ascending:!0});h&&h.forEach(f=>{const g={...f,synced:!0}})}}catch(e){throw console.error("Failed to download server updates:",e),e}}static enableAutoSync(){return new Promise((e,s)=>{if(this.autoSyncEnabled||typeof window>"u"){console.log(" Auto-sync already enabled"),e();return}try{this.autoSyncEnabled=!0,console.log(" Auto-sync enabled");const i=()=>{console.log(" Online - will sync soon"),setTimeout(()=>{this.sync().catch(l=>{console.warn(" Auto-sync failed:",(l==null?void 0:l.message)||l)})},3e3)};window.addEventListener("online",i);const o=setInterval(async()=>{if(!yn.isOffline()&&!this.syncInProgress)try{const l=this.checkAuthentication(),c=new Promise((f,g)=>setTimeout(()=>g(new Error("Auth check timeout")),2e3)),h=await Promise.race([l,c]);h.isAuthenticated?(console.log("Starting periodic sync"),this.sync().catch(f=>{console.warn(" Periodic sync failed:",(f==null?void 0:f.message)||f)})):console.log("Periodic sync skipped:",h.reason)}catch(l){console.warn(" Auth check failed for periodic sync:",(l==null?void 0:l.message)||l)}},300*1e3);window.__vibeTuneSyncCleanup||(window.__vibeTuneSyncCleanup=()=>{console.log("Cleaning up auto-sync"),window.removeEventListener("online",i),clearInterval(o),this.autoSyncEnabled=!1,this.resetAuthCache()}),e()}catch(i){console.warn(" Auto-sync setup failed:",i),s(i)}})}static async forceSync(){return this.sync()}static isSyncing(){return this.syncInProgress}static getPendingSyncCount(){const{messages:e,conversations:s}=yn.getUnsyncedItems();return e.length+s.length}static async checkAuthentication(){var s;const e=Date.now();if(e-this.lastAuthCheck<3e4&&this.isAuthenticated)return{isAuthenticated:!0};try{const{data:{session:i},error:o}=await Ee.auth.getSession();if(o)return console.log("Auth check failed:",o.message),this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:`Authentication error: ${o.message}`};if(!(i!=null&&i.user))return this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:"No active session"};if(i.expires_at&&new Date(i.expires_at*1e3)<=new Date)return console.log("Session expired"),this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:"Session expired"};if(i.expires_at&&new Date(i.expires_at*1e3).getTime()-e<300*1e3){console.log("Session close to expiry, attempting refresh...");const{data:l,error:c}=await Ee.auth.refreshSession();if(c)return console.log("Session refresh failed:",c.message),this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:`Session refresh failed: ${c.message}`};if(!((s=l.session)!=null&&s.user))return this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:"Session refresh returned no user"}}return this.isAuthenticated=!0,this.lastAuthCheck=e,{isAuthenticated:!0}}catch(i){return console.log("Auth check exception:",i),this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:`Auth check failed: ${i}`}}}static resetAuthCache(){this.isAuthenticated=!1,this.lastAuthCheck=0}}St(Os,"syncInProgress",!1),St(Os,"autoSyncEnabled",!1),St(Os,"syncListeners",[]),St(Os,"lastAuthCheck",0),St(Os,"isAuthenticated",!1);function RN(){const{state:n,dispatch:e}=AN(),{trackEvent:s}=os(),[i,o]=D.useState("onboarding"),[l,c]=D.useState(!1),{user:h}=n;D.useEffect(()=>{if(l)return;c(!0),console.log(" Starting VibeTune - immediate launch"),o("onboarding");const b=async()=>{var A,P,E;try{try{typeof navigator<"u"&&e(Ns.setOffline(!navigator.onLine))}catch(L){console.warn("Navigator check failed:",L)}const N=await ew(()=>Kt.getCurrentSession(),800,null);if(N!=null&&N.user){console.log(" Found existing session - auto-updating UI");const L={id:N.user.id,email:N.user.email||"",username:((A=N.user.user_metadata)==null?void 0:A.username)||"User",level:((P=N.user.user_metadata)==null?void 0:P.level)||null,placement_test_completed:((E=N.user.user_metadata)==null?void 0:E.placement_test_completed)||!1,created_at:N.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:Kt.getDeviceId()};e(Ns.setUser(L)),L.level?o("main-app"):o("level-selection")}else console.log(" No valid session - staying on onboarding")}catch(N){console.log(" Background session check failed:",N.message)}};setTimeout(()=>{b().catch(A=>{console.warn("Background session check rejected:",A)})},50)},[e,l]);const f=()=>{o("signup"),s("onboarding_signup_clicked")},g=()=>{o("signin"),s("onboarding_signin_clicked")},m=D.useCallback(b=>{console.log(" Auth completed for user:",b.id),e(Ns.setUser(b)),b.level?(console.log(" Navigating to main app"),o("main-app")):(console.log(" Navigating to level selection"),o("level-selection")),setTimeout(()=>{try{const A=Os.enableAutoSync(),P=new Promise((L,U)=>setTimeout(()=>U(new Error("Sync timeout")),2e3));Promise.race([A,P]).then(()=>console.log(" Auto sync enabled")).catch(L=>console.warn(" Sync setup failed:",L));const E=s("auth_completed",{userId:b.id,level:b.level,isNewUser:!b.level}),N=new Promise((L,U)=>setTimeout(()=>U(new Error("Tracking timeout")),1e3));Promise.race([E,N]).catch(L=>console.warn("Event tracking failed:",L))}catch(A){console.warn("Background tasks failed:",A)}},50)},[e,s]),v=async b=>{o("main-app"),h&&setTimeout(async()=>{try{const A=Kt.updateProfile(h.id,{level:b.level,placement_test_completed:!0,placement_test_score:b.score},h),P=new Promise((U,B)=>setTimeout(()=>B(new Error("Profile update timeout")),3e3)),{data:E}=await Promise.race([A,P]);E&&e(Ns.setUser(E));const N=s("placement_test_completed",{userId:h.id,score:b.score,level:b.level,previousLevel:h.level,selectionMethod:"placement_test"}),L=new Promise((U,B)=>setTimeout(()=>B(new Error("Track timeout")),1e3));Promise.race([N,L]).catch(U=>console.warn("Tracking failed:",U))}catch(A){console.error("Background update failed:",A)}},100)},w=()=>{o("main-app"),s("placement_test_skipped",{userId:h==null?void 0:h.id})},_=async b=>{console.log(" handleLevelSelection called:",{level:b,userId:h==null?void 0:h.id,currentUserLevel:h==null?void 0:h.level}),console.log(" Setting state to main-app"),o("main-app"),h?setTimeout(async()=>{try{console.log(" Updating user profile with level:",b);const A=Kt.updateProfile(h.id,{level:b,placement_test_completed:!1},h),P=new Promise((B,V)=>setTimeout(()=>V(new Error("Level update timeout")),2e3)),{data:E,error:N}=await Promise.race([A,P]);console.log(" Profile update result:",{updatedProfile:E,updateError:N}),E?(console.log(" Dispatching updated user profile:",E),e(Ns.setUser(E))):console.warn(" No updated profile returned from updateProfile"),N&&console.warn(" Error from updateProfile:",N);const L=s("level_selected",{userId:h.id,level:b,previousLevel:h.level,selectionMethod:"manual"}),U=new Promise((B,V)=>setTimeout(()=>V(new Error("Track timeout")),1e3));Promise.race([L,U]).catch(B=>console.warn("Tracking failed:",B))}catch(A){console.warn(" Background level update failed:",A)}},50):console.error(" No user found in handleLevelSelection")},S=D.useCallback(async()=>{console.log(" Starting logout..."),e(Ns.setUser(null)),o("onboarding"),setTimeout(async()=>{try{const b=s("user_logout_initiated",{userId:h==null?void 0:h.id}),A=new Promise((U,B)=>setTimeout(()=>B(new Error("Logout track timeout")),500));Promise.race([b,A]).catch(U=>console.warn("Logout tracking failed:",U));const P=Os.resetAuthCache(),E=new Promise((U,B)=>setTimeout(()=>B(new Error("Sync reset timeout")),1e3));Promise.race([P,E]).catch(U=>console.warn("Sync reset failed:",U));const N=Kt.signOut(),L=new Promise((U,B)=>setTimeout(()=>B(new Error("Sign out timeout")),2e3));await Promise.race([N,L]),console.log(" Logout cleanup completed")}catch(b){console.warn(" Logout cleanup failed:",b)}},50)},[e,s,h==null?void 0:h.id]),T=()=>{o("onboarding"),s("auth_back_to_onboarding")};switch(console.log(" Rendering screen:",i,"User:",!!h,"User level:",h==null?void 0:h.level),i){case"onboarding":return console.log(" Rendering: Onboarding"),d.jsx(j2,{onSignUp:f,onSignIn:g,onDemoUser:m});case"signup":return console.log(" Rendering: Signup"),d.jsx(zu,{mode:"signup",onAuthComplete:m,onBack:T});case"signin":return console.log(" Rendering: Signin"),d.jsx(zu,{mode:"signin",onAuthComplete:m,onBack:T});case"level-selection":return console.log(" Rendering: Level Selection"),d.jsx(TN,{onLevelSelect:_,onTakePlacementTest:()=>o("placement-test"),onBack:T,user:h});case"placement-test":return console.log(" Rendering: AI Placement Test"),h?d.jsx(bN,{user:h,onComplete:v,onSkip:w,onBack:()=>o("level-selection")}):(console.log(" No user for placement test, redirecting to signin"),o("signin"),null);case"main-app":return console.log(" Rendering: Main App"),h?d.jsx(_N,{user:h,onLogout:S,onStartPlacementTest:()=>o("placement-test"),onUserUpdate:b=>{e(Ns.setUser(b))}}):(console.log(" User is null in main-app, redirecting to signin"),o("signin"),d.jsx(zu,{mode:"signin",onAuthComplete:m,onBack:T}));default:return d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("p",{className:"text-destructive",children:"Unexpected app state"}),d.jsx("button",{onClick:()=>o("onboarding"),className:"text-accent underline",children:"Return to start"})]})})}}function IN(){return d.jsx(EN,{children:d.jsx(PN,{children:d.jsx(RN,{})})})}b1.createRoot(document.getElementById("root")).render(d.jsx(IN,{}));
//# sourceMappingURL=index-Dx_Tgazk.js.map

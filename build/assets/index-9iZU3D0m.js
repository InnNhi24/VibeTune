function Xk(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function nh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Jk(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var o=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:function(){return t[s]}})}),n}var od={exports:{}},io={},ad={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function Zk(){if(yy)return Ee;yy=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=y&&N[y]||N["@@iterator"],typeof N=="function"?N:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function _(N,B,ee){this.props=N,this.context=B,this.refs=S,this.updater=ee||x}_.prototype.isReactComponent={},_.prototype.setState=function(N,B){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,B,"setState")},_.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function j(){}j.prototype=_.prototype;function E(N,B,ee){this.props=N,this.context=B,this.refs=S,this.updater=ee||x}var T=E.prototype=new j;T.constructor=E,k(T,_.prototype),T.isPureReactComponent=!0;var P=Array.isArray,R=Object.prototype.hasOwnProperty,M={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function D(N,B,ee){var ce,_e={},Ce=null,te=null;if(B!=null)for(ce in B.ref!==void 0&&(te=B.ref),B.key!==void 0&&(Ce=""+B.key),B)R.call(B,ce)&&!$.hasOwnProperty(ce)&&(_e[ce]=B[ce]);var xe=arguments.length-2;if(xe===1)_e.children=ee;else if(1<xe){for(var ke=Array(xe),Me=0;Me<xe;Me++)ke[Me]=arguments[Me+2];_e.children=ke}if(N&&N.defaultProps)for(ce in xe=N.defaultProps,xe)_e[ce]===void 0&&(_e[ce]=xe[ce]);return{$$typeof:t,type:N,key:Ce,ref:te,props:_e,_owner:M.current}}function q(N,B){return{$$typeof:t,type:N.type,key:B,ref:N.ref,props:N.props,_owner:N._owner}}function X(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function de(N){var B={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ee){return B[ee]})}var be=/\/+/g;function me(N,B){return typeof N=="object"&&N!==null&&N.key!=null?de(""+N.key):B.toString(36)}function ae(N,B,ee,ce,_e){var Ce=typeof N;(Ce==="undefined"||Ce==="boolean")&&(N=null);var te=!1;if(N===null)te=!0;else switch(Ce){case"string":case"number":te=!0;break;case"object":switch(N.$$typeof){case t:case e:te=!0}}if(te)return te=N,_e=_e(te),N=ce===""?"."+me(te,0):ce,P(_e)?(ee="",N!=null&&(ee=N.replace(be,"$&/")+"/"),ae(_e,B,ee,"",function(Me){return Me})):_e!=null&&(X(_e)&&(_e=q(_e,ee+(!_e.key||te&&te.key===_e.key?"":(""+_e.key).replace(be,"$&/")+"/")+N)),B.push(_e)),1;if(te=0,ce=ce===""?".":ce+":",P(N))for(var xe=0;xe<N.length;xe++){Ce=N[xe];var ke=ce+me(Ce,xe);te+=ae(Ce,B,ee,ke,_e)}else if(ke=w(N),typeof ke=="function")for(N=ke.call(N),xe=0;!(Ce=N.next()).done;)Ce=Ce.value,ke=ce+me(Ce,xe++),te+=ae(Ce,B,ee,ke,_e);else if(Ce==="object")throw B=String(N),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return te}function we(N,B,ee){if(N==null)return N;var ce=[],_e=0;return ae(N,ce,"","",function(Ce){return B.call(ee,Ce,_e++)}),ce}function J(N){if(N._status===-1){var B=N._result;B=B(),B.then(function(ee){(N._status===0||N._status===-1)&&(N._status=1,N._result=ee)},function(ee){(N._status===0||N._status===-1)&&(N._status=2,N._result=ee)}),N._status===-1&&(N._status=0,N._result=B)}if(N._status===1)return N._result.default;throw N._result}var W={current:null},L={transition:null},Q={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:L,ReactCurrentOwner:M};function U(){throw Error("act(...) is not supported in production builds of React.")}return Ee.Children={map:we,forEach:function(N,B,ee){we(N,function(){B.apply(this,arguments)},ee)},count:function(N){var B=0;return we(N,function(){B++}),B},toArray:function(N){return we(N,function(B){return B})||[]},only:function(N){if(!X(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ee.Component=_,Ee.Fragment=n,Ee.Profiler=o,Ee.PureComponent=E,Ee.StrictMode=s,Ee.Suspense=h,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,Ee.act=U,Ee.cloneElement=function(N,B,ee){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var ce=k({},N.props),_e=N.key,Ce=N.ref,te=N._owner;if(B!=null){if(B.ref!==void 0&&(Ce=B.ref,te=M.current),B.key!==void 0&&(_e=""+B.key),N.type&&N.type.defaultProps)var xe=N.type.defaultProps;for(ke in B)R.call(B,ke)&&!$.hasOwnProperty(ke)&&(ce[ke]=B[ke]===void 0&&xe!==void 0?xe[ke]:B[ke])}var ke=arguments.length-2;if(ke===1)ce.children=ee;else if(1<ke){xe=Array(ke);for(var Me=0;Me<ke;Me++)xe[Me]=arguments[Me+2];ce.children=xe}return{$$typeof:t,type:N.type,key:_e,ref:Ce,props:ce,_owner:te}},Ee.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:a,_context:N},N.Consumer=N},Ee.createElement=D,Ee.createFactory=function(N){var B=D.bind(null,N);return B.type=N,B},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(N){return{$$typeof:u,render:N}},Ee.isValidElement=X,Ee.lazy=function(N){return{$$typeof:m,_payload:{_status:-1,_result:N},_init:J}},Ee.memo=function(N,B){return{$$typeof:p,type:N,compare:B===void 0?null:B}},Ee.startTransition=function(N){var B=L.transition;L.transition={};try{N()}finally{L.transition=B}},Ee.unstable_act=U,Ee.useCallback=function(N,B){return W.current.useCallback(N,B)},Ee.useContext=function(N){return W.current.useContext(N)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(N){return W.current.useDeferredValue(N)},Ee.useEffect=function(N,B){return W.current.useEffect(N,B)},Ee.useId=function(){return W.current.useId()},Ee.useImperativeHandle=function(N,B,ee){return W.current.useImperativeHandle(N,B,ee)},Ee.useInsertionEffect=function(N,B){return W.current.useInsertionEffect(N,B)},Ee.useLayoutEffect=function(N,B){return W.current.useLayoutEffect(N,B)},Ee.useMemo=function(N,B){return W.current.useMemo(N,B)},Ee.useReducer=function(N,B,ee){return W.current.useReducer(N,B,ee)},Ee.useRef=function(N){return W.current.useRef(N)},Ee.useState=function(N){return W.current.useState(N)},Ee.useSyncExternalStore=function(N,B,ee){return W.current.useSyncExternalStore(N,B,ee)},Ee.useTransition=function(){return W.current.useTransition()},Ee.version="18.3.1",Ee}var vy;function rh(){return vy||(vy=1,ad.exports=Zk()),ad.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function eC(){if(wy)return io;wy=1;var t=rh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(u,h,p){var m,y={},w=null,x=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(x=h.ref);for(m in h)s.call(h,m)&&!a.hasOwnProperty(m)&&(y[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)y[m]===void 0&&(y[m]=h[m]);return{$$typeof:e,type:u,key:w,ref:x,props:y,_owner:o.current}}return io.Fragment=n,io.jsx=c,io.jsxs=c,io}var xy;function tC(){return xy||(xy=1,od.exports=eC()),od.exports}var d=tC(),nl={},ld={exports:{}},At={},cd={exports:{}},ud={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function nC(){return by||(by=1,(function(t){function e(L,Q){var U=L.length;L.push(Q);e:for(;0<U;){var N=U-1>>>1,B=L[N];if(0<o(B,Q))L[N]=Q,L[U]=B,U=N;else break e}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var Q=L[0],U=L.pop();if(U!==Q){L[0]=U;e:for(var N=0,B=L.length,ee=B>>>1;N<ee;){var ce=2*(N+1)-1,_e=L[ce],Ce=ce+1,te=L[Ce];if(0>o(_e,U))Ce<B&&0>o(te,_e)?(L[N]=te,L[Ce]=U,N=Ce):(L[N]=_e,L[ce]=U,N=ce);else if(Ce<B&&0>o(te,U))L[N]=te,L[Ce]=U,N=Ce;else break e}}return Q}function o(L,Q){var U=L.sortIndex-Q.sortIndex;return U!==0?U:L.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var h=[],p=[],m=1,y=null,w=3,x=!1,k=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(L){for(var Q=n(p);Q!==null;){if(Q.callback===null)s(p);else if(Q.startTime<=L)s(p),Q.sortIndex=Q.expirationTime,e(h,Q);else break;Q=n(p)}}function P(L){if(S=!1,T(L),!k)if(n(h)!==null)k=!0,J(R);else{var Q=n(p);Q!==null&&W(P,Q.startTime-L)}}function R(L,Q){k=!1,S&&(S=!1,j(D),D=-1),x=!0;var U=w;try{for(T(Q),y=n(h);y!==null&&(!(y.expirationTime>Q)||L&&!de());){var N=y.callback;if(typeof N=="function"){y.callback=null,w=y.priorityLevel;var B=N(y.expirationTime<=Q);Q=t.unstable_now(),typeof B=="function"?y.callback=B:y===n(h)&&s(h),T(Q)}else s(h);y=n(h)}if(y!==null)var ee=!0;else{var ce=n(p);ce!==null&&W(P,ce.startTime-Q),ee=!1}return ee}finally{y=null,w=U,x=!1}}var M=!1,$=null,D=-1,q=5,X=-1;function de(){return!(t.unstable_now()-X<q)}function be(){if($!==null){var L=t.unstable_now();X=L;var Q=!0;try{Q=$(!0,L)}finally{Q?me():(M=!1,$=null)}}else M=!1}var me;if(typeof E=="function")me=function(){E(be)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,we=ae.port2;ae.port1.onmessage=be,me=function(){we.postMessage(null)}}else me=function(){_(be,0)};function J(L){$=L,M||(M=!0,me())}function W(L,Q){D=_(function(){L(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){k||x||(k=!0,J(R))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(L){switch(w){case 1:case 2:case 3:var Q=3;break;default:Q=w}var U=w;w=Q;try{return L()}finally{w=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,Q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=w;w=L;try{return Q()}finally{w=U}},t.unstable_scheduleCallback=function(L,Q,U){var N=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?N+U:N):U=N,L){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=U+B,L={id:m++,callback:Q,priorityLevel:L,startTime:U,expirationTime:B,sortIndex:-1},U>N?(L.sortIndex=U,e(p,L),n(h)===null&&L===n(p)&&(S?(j(D),D=-1):S=!0,W(P,U-N))):(L.sortIndex=B,e(h,L),k||x||(k=!0,J(R))),L},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(L){var Q=w;return function(){var U=w;w=Q;try{return L.apply(this,arguments)}finally{w=U}}}})(ud)),ud}var Sy;function rC(){return Sy||(Sy=1,cd.exports=nC()),cd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function sC(){if(_y)return At;_y=1;var t=rh(),e=rC();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function w(r){return h.call(y,r)?!0:h.call(m,r)?!1:p.test(r)?y[r]=!0:(m[r]=!0,!1)}function x(r,i,l,f){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function k(r,i,l,f){if(i===null||typeof i>"u"||x(r,i,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function S(r,i,l,f,g,v,C){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=r,this.type=i,this.sanitizeURL=v,this.removeEmptyString=C}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){_[r]=new S(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];_[i]=new S(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){_[r]=new S(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){_[r]=new S(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){_[r]=new S(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){_[r]=new S(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){_[r]=new S(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){_[r]=new S(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){_[r]=new S(r,5,!1,r.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function E(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(j,E);_[i]=new S(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(j,E);_[i]=new S(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(j,E);_[i]=new S(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){_[r]=new S(r,1,!1,r.toLowerCase(),null,!1,!1)}),_.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){_[r]=new S(r,1,!1,r.toLowerCase(),null,!0,!0)});function T(r,i,l,f){var g=_.hasOwnProperty(i)?_[i]:null;(g!==null?g.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(k(i,l,g,f)&&(l=null),f||g===null?w(i)&&(l===null?r.removeAttribute(i):r.setAttribute(i,""+l)):g.mustUseProperty?r[g.propertyName]=l===null?g.type===3?!1:"":l:(i=g.attributeName,f=g.attributeNamespace,l===null?r.removeAttribute(i):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,f?r.setAttributeNS(f,i,l):r.setAttribute(i,l))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),M=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),de=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),L=Symbol.iterator;function Q(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var U=Object.assign,N;function B(r){if(N===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);N=i&&i[1]||""}return`
`+N+r}var ee=!1;function ce(r,i){if(!r||ee)return"";ee=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(z){var f=z}Reflect.construct(r,[],i)}else{try{i.call()}catch(z){f=z}r.call(i.prototype)}else{try{throw Error()}catch(z){f=z}r()}}catch(z){if(z&&f&&typeof z.stack=="string"){for(var g=z.stack.split(`
`),v=f.stack.split(`
`),C=g.length-1,A=v.length-1;1<=C&&0<=A&&g[C]!==v[A];)A--;for(;1<=C&&0<=A;C--,A--)if(g[C]!==v[A]){if(C!==1||A!==1)do if(C--,A--,0>A||g[C]!==v[A]){var I=`
`+g[C].replace(" at new "," at ");return r.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",r.displayName)),I}while(1<=C&&0<=A);break}}}finally{ee=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?B(r):""}function _e(r){switch(r.tag){case 5:return B(r.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return r=ce(r.type,!1),r;case 11:return r=ce(r.type.render,!1),r;case 1:return r=ce(r.type,!0),r;default:return""}}function Ce(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case $:return"Fragment";case M:return"Portal";case q:return"Profiler";case D:return"StrictMode";case me:return"Suspense";case ae:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case de:return(r.displayName||"Context")+".Consumer";case X:return(r._context.displayName||"Context")+".Provider";case be:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case we:return i=r.displayName||null,i!==null?i:Ce(r.type)||"Memo";case J:i=r._payload,r=r._init;try{return Ce(r(i))}catch{}}return null}function te(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(i);case 8:return i===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function xe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ke(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Me(r){var i=ke(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),f=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return g.call(this)},set:function(C){f=""+C,v.call(this,C)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Ze(r){r._valueTracker||(r._valueTracker=Me(r))}function Ot(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),f="";return r&&(f=ke(r)?r.checked?"true":"false":r.value),r=f,r!==l?(i.setValue(r),!0):!1}function In(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function hc(r,i){var l=i.checked;return U({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function kp(r,i){var l=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;l=xe(i.value!=null?i.value:l),r._wrapperState={initialChecked:f,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Cp(r,i){i=i.checked,i!=null&&T(r,"checked",i,!1)}function pc(r,i){Cp(r,i);var l=xe(i.value),f=i.type;if(l!=null)f==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?mc(r,i.type,l):i.hasOwnProperty("defaultValue")&&mc(r,i.type,xe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Tp(r,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,l||i===r.value||(r.value=i),r.defaultValue=i}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function mc(r,i,l){(i!=="number"||In(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var xi=Array.isArray;function is(r,i,l,f){if(r=r.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=i.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&f&&(r[l].defaultSelected=!0)}else{for(l=""+xe(l),i=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,f&&(r[g].defaultSelected=!0);return}i!==null||r[g].disabled||(i=r[g])}i!==null&&(i.selected=!0)}}function gc(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return U({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ep(r,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(xi(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}r._wrapperState={initialValue:xe(l)}}function jp(r,i){var l=xe(i.value),f=xe(i.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),i.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),f!=null&&(r.defaultValue=""+f)}function Pp(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function Ap(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yc(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?Ap(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ko,Np=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,f,g){MSApp.execUnsafeLocalFunction(function(){return r(i,l,f,g)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Ko=Ko||document.createElement("div"),Ko.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Ko.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function bi(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var Si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t_=["Webkit","ms","Moz","O"];Object.keys(Si).forEach(function(r){t_.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Si[i]=Si[r]})});function Rp(r,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||Si.hasOwnProperty(r)&&Si[r]?(""+i).trim():i+"px"}function Ip(r,i){r=r.style;for(var l in i)if(i.hasOwnProperty(l)){var f=l.indexOf("--")===0,g=Rp(l,i[l],f);l==="float"&&(l="cssFloat"),f?r.setProperty(l,g):r[l]=g}}var n_=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vc(r,i){if(i){if(n_[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function wc(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xc=null;function bc(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Sc=null,os=null,as=null;function Op(r){if(r=Wi(r)){if(typeof Sc!="function")throw Error(n(280));var i=r.stateNode;i&&(i=ya(i),Sc(r.stateNode,r.type,i))}}function Lp(r){os?as?as.push(r):as=[r]:os=r}function Mp(){if(os){var r=os,i=as;if(as=os=null,Op(r),i)for(r=0;r<i.length;r++)Op(i[r])}}function Dp(r,i){return r(i)}function $p(){}var _c=!1;function Fp(r,i,l){if(_c)return r(i,l);_c=!0;try{return Dp(r,i,l)}finally{_c=!1,(os!==null||as!==null)&&($p(),Mp())}}function _i(r,i){var l=r.stateNode;if(l===null)return null;var f=ya(l);if(f===null)return null;l=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var kc=!1;if(u)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){kc=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{kc=!1}function r_(r,i,l,f,g,v,C,A,I){var z=Array.prototype.slice.call(arguments,3);try{i.apply(l,z)}catch(G){this.onError(G)}}var Ci=!1,Yo=null,Qo=!1,Cc=null,s_={onError:function(r){Ci=!0,Yo=r}};function i_(r,i,l,f,g,v,C,A,I){Ci=!1,Yo=null,r_.apply(s_,arguments)}function o_(r,i,l,f,g,v,C,A,I){if(i_.apply(this,arguments),Ci){if(Ci){var z=Yo;Ci=!1,Yo=null}else throw Error(n(198));Qo||(Qo=!0,Cc=z)}}function Pr(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function Vp(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function zp(r){if(Pr(r)!==r)throw Error(n(188))}function a_(r){var i=r.alternate;if(!i){if(i=Pr(r),i===null)throw Error(n(188));return i!==r?null:r}for(var l=r,f=i;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return zp(g),r;if(v===f)return zp(g),i;v=v.sibling}throw Error(n(188))}if(l.return!==f.return)l=g,f=v;else{for(var C=!1,A=g.child;A;){if(A===l){C=!0,l=g,f=v;break}if(A===f){C=!0,f=g,l=v;break}A=A.sibling}if(!C){for(A=v.child;A;){if(A===l){C=!0,l=v,f=g;break}if(A===f){C=!0,f=v,l=g;break}A=A.sibling}if(!C)throw Error(n(189))}}if(l.alternate!==f)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:i}function Up(r){return r=a_(r),r!==null?Bp(r):null}function Bp(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Bp(r);if(i!==null)return i;r=r.sibling}return null}var Wp=e.unstable_scheduleCallback,Hp=e.unstable_cancelCallback,l_=e.unstable_shouldYield,c_=e.unstable_requestPaint,Qe=e.unstable_now,u_=e.unstable_getCurrentPriorityLevel,Tc=e.unstable_ImmediatePriority,Gp=e.unstable_UserBlockingPriority,Xo=e.unstable_NormalPriority,d_=e.unstable_LowPriority,qp=e.unstable_IdlePriority,Jo=null,gn=null;function f_(r){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(Jo,r,void 0,(r.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:m_,h_=Math.log,p_=Math.LN2;function m_(r){return r>>>=0,r===0?32:31-(h_(r)/p_|0)|0}var Zo=64,ea=4194304;function Ti(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ta(r,i){var l=r.pendingLanes;if(l===0)return 0;var f=0,g=r.suspendedLanes,v=r.pingedLanes,C=l&268435455;if(C!==0){var A=C&~g;A!==0?f=Ti(A):(v&=C,v!==0&&(f=Ti(v)))}else C=l&~g,C!==0?f=Ti(C):v!==0&&(f=Ti(v));if(f===0)return 0;if(i!==0&&i!==f&&(i&g)===0&&(g=f&-f,v=i&-i,g>=v||g===16&&(v&4194240)!==0))return i;if((f&4)!==0&&(f|=l&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=f;0<i;)l=31-tn(i),g=1<<l,f|=r[l],i&=~g;return f}function g_(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y_(r,i){for(var l=r.suspendedLanes,f=r.pingedLanes,g=r.expirationTimes,v=r.pendingLanes;0<v;){var C=31-tn(v),A=1<<C,I=g[C];I===-1?((A&l)===0||(A&f)!==0)&&(g[C]=g_(A,i)):I<=i&&(r.expiredLanes|=A),v&=~A}}function Ec(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Kp(){var r=Zo;return Zo<<=1,(Zo&4194240)===0&&(Zo=64),r}function jc(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function Ei(r,i,l){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-tn(i),r[i]=l}function v_(r,i){var l=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<l;){var g=31-tn(l),v=1<<g;i[g]=0,f[g]=-1,r[g]=-1,l&=~v}}function Pc(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var f=31-tn(l),g=1<<f;g&i|r[f]&i&&(r[f]|=i),l&=~g}}var Oe=0;function Yp(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Qp,Ac,Xp,Jp,Zp,Nc=!1,na=[],Yn=null,Qn=null,Xn=null,ji=new Map,Pi=new Map,Jn=[],w_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function em(r,i){switch(r){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":ji.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pi.delete(i.pointerId)}}function Ai(r,i,l,f,g,v){return r===null||r.nativeEvent!==v?(r={blockedOn:i,domEventName:l,eventSystemFlags:f,nativeEvent:v,targetContainers:[g]},i!==null&&(i=Wi(i),i!==null&&Ac(i)),r):(r.eventSystemFlags|=f,i=r.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),r)}function x_(r,i,l,f,g){switch(i){case"focusin":return Yn=Ai(Yn,r,i,l,f,g),!0;case"dragenter":return Qn=Ai(Qn,r,i,l,f,g),!0;case"mouseover":return Xn=Ai(Xn,r,i,l,f,g),!0;case"pointerover":var v=g.pointerId;return ji.set(v,Ai(ji.get(v)||null,r,i,l,f,g)),!0;case"gotpointercapture":return v=g.pointerId,Pi.set(v,Ai(Pi.get(v)||null,r,i,l,f,g)),!0}return!1}function tm(r){var i=Ar(r.target);if(i!==null){var l=Pr(i);if(l!==null){if(i=l.tag,i===13){if(i=Vp(l),i!==null){r.blockedOn=i,Zp(r.priority,function(){Xp(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ra(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=Ic(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var f=new l.constructor(l.type,l);xc=f,l.target.dispatchEvent(f),xc=null}else return i=Wi(l),i!==null&&Ac(i),r.blockedOn=l,!1;i.shift()}return!0}function nm(r,i,l){ra(r)&&l.delete(i)}function b_(){Nc=!1,Yn!==null&&ra(Yn)&&(Yn=null),Qn!==null&&ra(Qn)&&(Qn=null),Xn!==null&&ra(Xn)&&(Xn=null),ji.forEach(nm),Pi.forEach(nm)}function Ni(r,i){r.blockedOn===i&&(r.blockedOn=null,Nc||(Nc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,b_)))}function Ri(r){function i(g){return Ni(g,r)}if(0<na.length){Ni(na[0],r);for(var l=1;l<na.length;l++){var f=na[l];f.blockedOn===r&&(f.blockedOn=null)}}for(Yn!==null&&Ni(Yn,r),Qn!==null&&Ni(Qn,r),Xn!==null&&Ni(Xn,r),ji.forEach(i),Pi.forEach(i),l=0;l<Jn.length;l++)f=Jn[l],f.blockedOn===r&&(f.blockedOn=null);for(;0<Jn.length&&(l=Jn[0],l.blockedOn===null);)tm(l),l.blockedOn===null&&Jn.shift()}var ls=P.ReactCurrentBatchConfig,sa=!0;function S_(r,i,l,f){var g=Oe,v=ls.transition;ls.transition=null;try{Oe=1,Rc(r,i,l,f)}finally{Oe=g,ls.transition=v}}function __(r,i,l,f){var g=Oe,v=ls.transition;ls.transition=null;try{Oe=4,Rc(r,i,l,f)}finally{Oe=g,ls.transition=v}}function Rc(r,i,l,f){if(sa){var g=Ic(r,i,l,f);if(g===null)Qc(r,i,f,ia,l),em(r,f);else if(x_(g,r,i,l,f))f.stopPropagation();else if(em(r,f),i&4&&-1<w_.indexOf(r)){for(;g!==null;){var v=Wi(g);if(v!==null&&Qp(v),v=Ic(r,i,l,f),v===null&&Qc(r,i,f,ia,l),v===g)break;g=v}g!==null&&f.stopPropagation()}else Qc(r,i,f,null,l)}}var ia=null;function Ic(r,i,l,f){if(ia=null,r=bc(f),r=Ar(r),r!==null)if(i=Pr(r),i===null)r=null;else if(l=i.tag,l===13){if(r=Vp(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return ia=r,null}function rm(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u_()){case Tc:return 1;case Gp:return 4;case Xo:case d_:return 16;case qp:return 536870912;default:return 16}default:return 16}}var Zn=null,Oc=null,oa=null;function sm(){if(oa)return oa;var r,i=Oc,l=i.length,f,g="value"in Zn?Zn.value:Zn.textContent,v=g.length;for(r=0;r<l&&i[r]===g[r];r++);var C=l-r;for(f=1;f<=C&&i[l-f]===g[v-f];f++);return oa=g.slice(r,1<f?1-f:void 0)}function aa(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function la(){return!0}function im(){return!1}function Lt(r){function i(l,f,g,v,C){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(l=r[A],this[A]=l?l(v):v[A]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?la:im,this.isPropagationStopped=im,this}return U(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=la)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=la)},persist:function(){},isPersistent:la}),i}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lc=Lt(cs),Ii=U({},cs,{view:0,detail:0}),k_=Lt(Ii),Mc,Dc,Oi,ca=U({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Oi&&(Oi&&r.type==="mousemove"?(Mc=r.screenX-Oi.screenX,Dc=r.screenY-Oi.screenY):Dc=Mc=0,Oi=r),Mc)},movementY:function(r){return"movementY"in r?r.movementY:Dc}}),om=Lt(ca),C_=U({},ca,{dataTransfer:0}),T_=Lt(C_),E_=U({},Ii,{relatedTarget:0}),$c=Lt(E_),j_=U({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),P_=Lt(j_),A_=U({},cs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),N_=Lt(A_),R_=U({},cs,{data:0}),am=Lt(R_),I_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M_(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=L_[r])?!!i[r]:!1}function Fc(){return M_}var D_=U({},Ii,{key:function(r){if(r.key){var i=I_[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=aa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?O_[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fc,charCode:function(r){return r.type==="keypress"?aa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?aa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),$_=Lt(D_),F_=U({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lm=Lt(F_),V_=U({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fc}),z_=Lt(V_),U_=U({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),B_=Lt(U_),W_=U({},ca,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),H_=Lt(W_),G_=[9,13,27,32],Vc=u&&"CompositionEvent"in window,Li=null;u&&"documentMode"in document&&(Li=document.documentMode);var q_=u&&"TextEvent"in window&&!Li,cm=u&&(!Vc||Li&&8<Li&&11>=Li),um=" ",dm=!1;function fm(r,i){switch(r){case"keyup":return G_.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var us=!1;function K_(r,i){switch(r){case"compositionend":return hm(i);case"keypress":return i.which!==32?null:(dm=!0,um);case"textInput":return r=i.data,r===um&&dm?null:r;default:return null}}function Y_(r,i){if(us)return r==="compositionend"||!Vc&&fm(r,i)?(r=sm(),oa=Oc=Zn=null,us=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return cm&&i.locale!=="ko"?null:i.data;default:return null}}var Q_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pm(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Q_[r.type]:i==="textarea"}function mm(r,i,l,f){Lp(f),i=pa(i,"onChange"),0<i.length&&(l=new Lc("onChange","change",null,l,f),r.push({event:l,listeners:i}))}var Mi=null,Di=null;function X_(r){Im(r,0)}function ua(r){var i=ms(r);if(Ot(i))return r}function J_(r,i){if(r==="change")return i}var gm=!1;if(u){var zc;if(u){var Uc="oninput"in document;if(!Uc){var ym=document.createElement("div");ym.setAttribute("oninput","return;"),Uc=typeof ym.oninput=="function"}zc=Uc}else zc=!1;gm=zc&&(!document.documentMode||9<document.documentMode)}function vm(){Mi&&(Mi.detachEvent("onpropertychange",wm),Di=Mi=null)}function wm(r){if(r.propertyName==="value"&&ua(Di)){var i=[];mm(i,Di,r,bc(r)),Fp(X_,i)}}function Z_(r,i,l){r==="focusin"?(vm(),Mi=i,Di=l,Mi.attachEvent("onpropertychange",wm)):r==="focusout"&&vm()}function ek(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ua(Di)}function tk(r,i){if(r==="click")return ua(i)}function nk(r,i){if(r==="input"||r==="change")return ua(i)}function rk(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var nn=typeof Object.is=="function"?Object.is:rk;function $i(r,i){if(nn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),f=Object.keys(i);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!h.call(i,g)||!nn(r[g],i[g]))return!1}return!0}function xm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function bm(r,i){var l=xm(r);r=0;for(var f;l;){if(l.nodeType===3){if(f=r+l.textContent.length,r<=i&&f>=i)return{node:l,offset:i-r};r=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=xm(l)}}function Sm(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Sm(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function _m(){for(var r=window,i=In();i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=In(r.document)}return i}function Bc(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function sk(r){var i=_m(),l=r.focusedElem,f=r.selectionRange;if(i!==l&&l&&l.ownerDocument&&Sm(l.ownerDocument.documentElement,l)){if(f!==null&&Bc(l)){if(i=f.start,r=f.end,r===void 0&&(r=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(r,l.value.length);else if(r=(i=l.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var g=l.textContent.length,v=Math.min(f.start,g);f=f.end===void 0?v:Math.min(f.end,g),!r.extend&&v>f&&(g=f,f=v,v=g),g=bm(l,v);var C=bm(l,f);g&&C&&(r.rangeCount!==1||r.anchorNode!==g.node||r.anchorOffset!==g.offset||r.focusNode!==C.node||r.focusOffset!==C.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),r.removeAllRanges(),v>f?(r.addRange(i),r.extend(C.node,C.offset)):(i.setEnd(C.node,C.offset),r.addRange(i)))}}for(i=[],r=l;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)r=i[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var ik=u&&"documentMode"in document&&11>=document.documentMode,ds=null,Wc=null,Fi=null,Hc=!1;function km(r,i,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Hc||ds==null||ds!==In(f)||(f=ds,"selectionStart"in f&&Bc(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Fi&&$i(Fi,f)||(Fi=f,f=pa(Wc,"onSelect"),0<f.length&&(i=new Lc("onSelect","select",null,i,l),r.push({event:i,listeners:f}),i.target=ds)))}function da(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var fs={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionend:da("Transition","TransitionEnd")},Gc={},Cm={};u&&(Cm=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function fa(r){if(Gc[r])return Gc[r];if(!fs[r])return r;var i=fs[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in Cm)return Gc[r]=i[l];return r}var Tm=fa("animationend"),Em=fa("animationiteration"),jm=fa("animationstart"),Pm=fa("transitionend"),Am=new Map,Nm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function er(r,i){Am.set(r,i),a(i,[r])}for(var qc=0;qc<Nm.length;qc++){var Kc=Nm[qc],ok=Kc.toLowerCase(),ak=Kc[0].toUpperCase()+Kc.slice(1);er(ok,"on"+ak)}er(Tm,"onAnimationEnd"),er(Em,"onAnimationIteration"),er(jm,"onAnimationStart"),er("dblclick","onDoubleClick"),er("focusin","onFocus"),er("focusout","onBlur"),er(Pm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vi));function Rm(r,i,l){var f=r.type||"unknown-event";r.currentTarget=l,o_(f,i,void 0,r),r.currentTarget=null}function Im(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var f=r[l],g=f.event;f=f.listeners;e:{var v=void 0;if(i)for(var C=f.length-1;0<=C;C--){var A=f[C],I=A.instance,z=A.currentTarget;if(A=A.listener,I!==v&&g.isPropagationStopped())break e;Rm(g,A,z),v=I}else for(C=0;C<f.length;C++){if(A=f[C],I=A.instance,z=A.currentTarget,A=A.listener,I!==v&&g.isPropagationStopped())break e;Rm(g,A,z),v=I}}}if(Qo)throw r=Cc,Qo=!1,Cc=null,r}function Fe(r,i){var l=i[nu];l===void 0&&(l=i[nu]=new Set);var f=r+"__bubble";l.has(f)||(Om(i,r,2,!1),l.add(f))}function Yc(r,i,l){var f=0;i&&(f|=4),Om(l,r,f,i)}var ha="_reactListening"+Math.random().toString(36).slice(2);function zi(r){if(!r[ha]){r[ha]=!0,s.forEach(function(l){l!=="selectionchange"&&(lk.has(l)||Yc(l,!1,r),Yc(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[ha]||(i[ha]=!0,Yc("selectionchange",!1,i))}}function Om(r,i,l,f){switch(rm(i)){case 1:var g=S_;break;case 4:g=__;break;default:g=Rc}l=g.bind(null,i,l,r),g=void 0,!kc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),f?g!==void 0?r.addEventListener(i,l,{capture:!0,passive:g}):r.addEventListener(i,l,!0):g!==void 0?r.addEventListener(i,l,{passive:g}):r.addEventListener(i,l,!1)}function Qc(r,i,l,f,g){var v=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var A=f.stateNode.containerInfo;if(A===g||A.nodeType===8&&A.parentNode===g)break;if(C===4)for(C=f.return;C!==null;){var I=C.tag;if((I===3||I===4)&&(I=C.stateNode.containerInfo,I===g||I.nodeType===8&&I.parentNode===g))return;C=C.return}for(;A!==null;){if(C=Ar(A),C===null)return;if(I=C.tag,I===5||I===6){f=v=C;continue e}A=A.parentNode}}f=f.return}Fp(function(){var z=v,G=bc(l),K=[];e:{var H=Am.get(r);if(H!==void 0){var Z=Lc,re=r;switch(r){case"keypress":if(aa(l)===0)break e;case"keydown":case"keyup":Z=$_;break;case"focusin":re="focus",Z=$c;break;case"focusout":re="blur",Z=$c;break;case"beforeblur":case"afterblur":Z=$c;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=om;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=T_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=z_;break;case Tm:case Em:case jm:Z=P_;break;case Pm:Z=B_;break;case"scroll":Z=k_;break;case"wheel":Z=H_;break;case"copy":case"cut":case"paste":Z=N_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=lm}var oe=(i&4)!==0,Xe=!oe&&r==="scroll",F=oe?H!==null?H+"Capture":null:H;oe=[];for(var O=z,V;O!==null;){V=O;var Y=V.stateNode;if(V.tag===5&&Y!==null&&(V=Y,F!==null&&(Y=_i(O,F),Y!=null&&oe.push(Ui(O,Y,V)))),Xe)break;O=O.return}0<oe.length&&(H=new Z(H,re,null,l,G),K.push({event:H,listeners:oe}))}}if((i&7)===0){e:{if(H=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",H&&l!==xc&&(re=l.relatedTarget||l.fromElement)&&(Ar(re)||re[On]))break e;if((Z||H)&&(H=G.window===G?G:(H=G.ownerDocument)?H.defaultView||H.parentWindow:window,Z?(re=l.relatedTarget||l.toElement,Z=z,re=re?Ar(re):null,re!==null&&(Xe=Pr(re),re!==Xe||re.tag!==5&&re.tag!==6)&&(re=null)):(Z=null,re=z),Z!==re)){if(oe=om,Y="onMouseLeave",F="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(oe=lm,Y="onPointerLeave",F="onPointerEnter",O="pointer"),Xe=Z==null?H:ms(Z),V=re==null?H:ms(re),H=new oe(Y,O+"leave",Z,l,G),H.target=Xe,H.relatedTarget=V,Y=null,Ar(G)===z&&(oe=new oe(F,O+"enter",re,l,G),oe.target=V,oe.relatedTarget=Xe,Y=oe),Xe=Y,Z&&re)t:{for(oe=Z,F=re,O=0,V=oe;V;V=hs(V))O++;for(V=0,Y=F;Y;Y=hs(Y))V++;for(;0<O-V;)oe=hs(oe),O--;for(;0<V-O;)F=hs(F),V--;for(;O--;){if(oe===F||F!==null&&oe===F.alternate)break t;oe=hs(oe),F=hs(F)}oe=null}else oe=null;Z!==null&&Lm(K,H,Z,oe,!1),re!==null&&Xe!==null&&Lm(K,Xe,re,oe,!0)}}e:{if(H=z?ms(z):window,Z=H.nodeName&&H.nodeName.toLowerCase(),Z==="select"||Z==="input"&&H.type==="file")var le=J_;else if(pm(H))if(gm)le=nk;else{le=ek;var fe=Z_}else(Z=H.nodeName)&&Z.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(le=tk);if(le&&(le=le(r,z))){mm(K,le,l,G);break e}fe&&fe(r,H,z),r==="focusout"&&(fe=H._wrapperState)&&fe.controlled&&H.type==="number"&&mc(H,"number",H.value)}switch(fe=z?ms(z):window,r){case"focusin":(pm(fe)||fe.contentEditable==="true")&&(ds=fe,Wc=z,Fi=null);break;case"focusout":Fi=Wc=ds=null;break;case"mousedown":Hc=!0;break;case"contextmenu":case"mouseup":case"dragend":Hc=!1,km(K,l,G);break;case"selectionchange":if(ik)break;case"keydown":case"keyup":km(K,l,G)}var he;if(Vc)e:{switch(r){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else us?fm(r,l)&&(ye="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(ye="onCompositionStart");ye&&(cm&&l.locale!=="ko"&&(us||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&us&&(he=sm()):(Zn=G,Oc="value"in Zn?Zn.value:Zn.textContent,us=!0)),fe=pa(z,ye),0<fe.length&&(ye=new am(ye,r,null,l,G),K.push({event:ye,listeners:fe}),he?ye.data=he:(he=hm(l),he!==null&&(ye.data=he)))),(he=q_?K_(r,l):Y_(r,l))&&(z=pa(z,"onBeforeInput"),0<z.length&&(G=new am("onBeforeInput","beforeinput",null,l,G),K.push({event:G,listeners:z}),G.data=he))}Im(K,i)})}function Ui(r,i,l){return{instance:r,listener:i,currentTarget:l}}function pa(r,i){for(var l=i+"Capture",f=[];r!==null;){var g=r,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=_i(r,l),v!=null&&f.unshift(Ui(r,v,g)),v=_i(r,i),v!=null&&f.push(Ui(r,v,g))),r=r.return}return f}function hs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Lm(r,i,l,f,g){for(var v=i._reactName,C=[];l!==null&&l!==f;){var A=l,I=A.alternate,z=A.stateNode;if(I!==null&&I===f)break;A.tag===5&&z!==null&&(A=z,g?(I=_i(l,v),I!=null&&C.unshift(Ui(l,I,A))):g||(I=_i(l,v),I!=null&&C.push(Ui(l,I,A)))),l=l.return}C.length!==0&&r.push({event:i,listeners:C})}var ck=/\r\n?/g,uk=/\u0000|\uFFFD/g;function Mm(r){return(typeof r=="string"?r:""+r).replace(ck,`
`).replace(uk,"")}function ma(r,i,l){if(i=Mm(i),Mm(r)!==i&&l)throw Error(n(425))}function ga(){}var Xc=null,Jc=null;function Zc(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var eu=typeof setTimeout=="function"?setTimeout:void 0,dk=typeof clearTimeout=="function"?clearTimeout:void 0,Dm=typeof Promise=="function"?Promise:void 0,fk=typeof queueMicrotask=="function"?queueMicrotask:typeof Dm<"u"?function(r){return Dm.resolve(null).then(r).catch(hk)}:eu;function hk(r){setTimeout(function(){throw r})}function tu(r,i){var l=i,f=0;do{var g=l.nextSibling;if(r.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(f===0){r.removeChild(g),Ri(i);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=g}while(l);Ri(i)}function tr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function $m(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}var ps=Math.random().toString(36).slice(2),yn="__reactFiber$"+ps,Bi="__reactProps$"+ps,On="__reactContainer$"+ps,nu="__reactEvents$"+ps,pk="__reactListeners$"+ps,mk="__reactHandles$"+ps;function Ar(r){var i=r[yn];if(i)return i;for(var l=r.parentNode;l;){if(i=l[On]||l[yn]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=$m(r);r!==null;){if(l=r[yn])return l;r=$m(r)}return i}r=l,l=r.parentNode}return null}function Wi(r){return r=r[yn]||r[On],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ms(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function ya(r){return r[Bi]||null}var ru=[],gs=-1;function nr(r){return{current:r}}function Ve(r){0>gs||(r.current=ru[gs],ru[gs]=null,gs--)}function De(r,i){gs++,ru[gs]=r.current,r.current=i}var rr={},pt=nr(rr),Ct=nr(!1),Nr=rr;function ys(r,i){var l=r.type.contextTypes;if(!l)return rr;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in l)g[v]=i[v];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=g),g}function Tt(r){return r=r.childContextTypes,r!=null}function va(){Ve(Ct),Ve(pt)}function Fm(r,i,l){if(pt.current!==rr)throw Error(n(168));De(pt,i),De(Ct,l)}function Vm(r,i,l){var f=r.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var g in f)if(!(g in i))throw Error(n(108,te(r)||"Unknown",g));return U({},l,f)}function wa(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||rr,Nr=pt.current,De(pt,r),De(Ct,Ct.current),!0}function zm(r,i,l){var f=r.stateNode;if(!f)throw Error(n(169));l?(r=Vm(r,i,Nr),f.__reactInternalMemoizedMergedChildContext=r,Ve(Ct),Ve(pt),De(pt,r)):Ve(Ct),De(Ct,l)}var Ln=null,xa=!1,su=!1;function Um(r){Ln===null?Ln=[r]:Ln.push(r)}function gk(r){xa=!0,Um(r)}function sr(){if(!su&&Ln!==null){su=!0;var r=0,i=Oe;try{var l=Ln;for(Oe=1;r<l.length;r++){var f=l[r];do f=f(!0);while(f!==null)}Ln=null,xa=!1}catch(g){throw Ln!==null&&(Ln=Ln.slice(r+1)),Wp(Tc,sr),g}finally{Oe=i,su=!1}}return null}var vs=[],ws=0,ba=null,Sa=0,Ut=[],Bt=0,Rr=null,Mn=1,Dn="";function Ir(r,i){vs[ws++]=Sa,vs[ws++]=ba,ba=r,Sa=i}function Bm(r,i,l){Ut[Bt++]=Mn,Ut[Bt++]=Dn,Ut[Bt++]=Rr,Rr=r;var f=Mn;r=Dn;var g=32-tn(f)-1;f&=~(1<<g),l+=1;var v=32-tn(i)+g;if(30<v){var C=g-g%5;v=(f&(1<<C)-1).toString(32),f>>=C,g-=C,Mn=1<<32-tn(i)+g|l<<g|f,Dn=v+r}else Mn=1<<v|l<<g|f,Dn=r}function iu(r){r.return!==null&&(Ir(r,1),Bm(r,1,0))}function ou(r){for(;r===ba;)ba=vs[--ws],vs[ws]=null,Sa=vs[--ws],vs[ws]=null;for(;r===Rr;)Rr=Ut[--Bt],Ut[Bt]=null,Dn=Ut[--Bt],Ut[Bt]=null,Mn=Ut[--Bt],Ut[Bt]=null}var Mt=null,Dt=null,ze=!1,rn=null;function Wm(r,i){var l=qt(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=r,i=r.deletions,i===null?(r.deletions=[l],r.flags|=16):i.push(l)}function Hm(r,i){switch(r.tag){case 5:var l=r.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Mt=r,Dt=tr(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Mt=r,Dt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Rr!==null?{id:Mn,overflow:Dn}:null,r.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=qt(18,null,null,0),l.stateNode=i,l.return=r,r.child=l,Mt=r,Dt=null,!0):!1;default:return!1}}function au(r){return(r.mode&1)!==0&&(r.flags&128)===0}function lu(r){if(ze){var i=Dt;if(i){var l=i;if(!Hm(r,i)){if(au(r))throw Error(n(418));i=tr(l.nextSibling);var f=Mt;i&&Hm(r,i)?Wm(f,l):(r.flags=r.flags&-4097|2,ze=!1,Mt=r)}}else{if(au(r))throw Error(n(418));r.flags=r.flags&-4097|2,ze=!1,Mt=r}}}function Gm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Mt=r}function _a(r){if(r!==Mt)return!1;if(!ze)return Gm(r),ze=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Zc(r.type,r.memoizedProps)),i&&(i=Dt)){if(au(r))throw qm(),Error(n(418));for(;i;)Wm(r,i),i=tr(i.nextSibling)}if(Gm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(i===0){Dt=tr(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}r=r.nextSibling}Dt=null}}else Dt=Mt?tr(r.stateNode.nextSibling):null;return!0}function qm(){for(var r=Dt;r;)r=tr(r.nextSibling)}function xs(){Dt=Mt=null,ze=!1}function cu(r){rn===null?rn=[r]:rn.push(r)}var yk=P.ReactCurrentBatchConfig;function Hi(r,i,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var f=l.stateNode}if(!f)throw Error(n(147,r));var g=f,v=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===v?i.ref:(i=function(C){var A=g.refs;C===null?delete A[v]:A[v]=C},i._stringRef=v,i)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function ka(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Km(r){var i=r._init;return i(r._payload)}function Ym(r){function i(F,O){if(r){var V=F.deletions;V===null?(F.deletions=[O],F.flags|=16):V.push(O)}}function l(F,O){if(!r)return null;for(;O!==null;)i(F,O),O=O.sibling;return null}function f(F,O){for(F=new Map;O!==null;)O.key!==null?F.set(O.key,O):F.set(O.index,O),O=O.sibling;return F}function g(F,O){return F=fr(F,O),F.index=0,F.sibling=null,F}function v(F,O,V){return F.index=V,r?(V=F.alternate,V!==null?(V=V.index,V<O?(F.flags|=2,O):V):(F.flags|=2,O)):(F.flags|=1048576,O)}function C(F){return r&&F.alternate===null&&(F.flags|=2),F}function A(F,O,V,Y){return O===null||O.tag!==6?(O=ed(V,F.mode,Y),O.return=F,O):(O=g(O,V),O.return=F,O)}function I(F,O,V,Y){var le=V.type;return le===$?G(F,O,V.props.children,Y,V.key):O!==null&&(O.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===J&&Km(le)===O.type)?(Y=g(O,V.props),Y.ref=Hi(F,O,V),Y.return=F,Y):(Y=Ka(V.type,V.key,V.props,null,F.mode,Y),Y.ref=Hi(F,O,V),Y.return=F,Y)}function z(F,O,V,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==V.containerInfo||O.stateNode.implementation!==V.implementation?(O=td(V,F.mode,Y),O.return=F,O):(O=g(O,V.children||[]),O.return=F,O)}function G(F,O,V,Y,le){return O===null||O.tag!==7?(O=zr(V,F.mode,Y,le),O.return=F,O):(O=g(O,V),O.return=F,O)}function K(F,O,V){if(typeof O=="string"&&O!==""||typeof O=="number")return O=ed(""+O,F.mode,V),O.return=F,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case R:return V=Ka(O.type,O.key,O.props,null,F.mode,V),V.ref=Hi(F,null,O),V.return=F,V;case M:return O=td(O,F.mode,V),O.return=F,O;case J:var Y=O._init;return K(F,Y(O._payload),V)}if(xi(O)||Q(O))return O=zr(O,F.mode,V,null),O.return=F,O;ka(F,O)}return null}function H(F,O,V,Y){var le=O!==null?O.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return le!==null?null:A(F,O,""+V,Y);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case R:return V.key===le?I(F,O,V,Y):null;case M:return V.key===le?z(F,O,V,Y):null;case J:return le=V._init,H(F,O,le(V._payload),Y)}if(xi(V)||Q(V))return le!==null?null:G(F,O,V,Y,null);ka(F,V)}return null}function Z(F,O,V,Y,le){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return F=F.get(V)||null,A(O,F,""+Y,le);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case R:return F=F.get(Y.key===null?V:Y.key)||null,I(O,F,Y,le);case M:return F=F.get(Y.key===null?V:Y.key)||null,z(O,F,Y,le);case J:var fe=Y._init;return Z(F,O,V,fe(Y._payload),le)}if(xi(Y)||Q(Y))return F=F.get(V)||null,G(O,F,Y,le,null);ka(O,Y)}return null}function re(F,O,V,Y){for(var le=null,fe=null,he=O,ye=O=0,ct=null;he!==null&&ye<V.length;ye++){he.index>ye?(ct=he,he=null):ct=he.sibling;var Re=H(F,he,V[ye],Y);if(Re===null){he===null&&(he=ct);break}r&&he&&Re.alternate===null&&i(F,he),O=v(Re,O,ye),fe===null?le=Re:fe.sibling=Re,fe=Re,he=ct}if(ye===V.length)return l(F,he),ze&&Ir(F,ye),le;if(he===null){for(;ye<V.length;ye++)he=K(F,V[ye],Y),he!==null&&(O=v(he,O,ye),fe===null?le=he:fe.sibling=he,fe=he);return ze&&Ir(F,ye),le}for(he=f(F,he);ye<V.length;ye++)ct=Z(he,F,ye,V[ye],Y),ct!==null&&(r&&ct.alternate!==null&&he.delete(ct.key===null?ye:ct.key),O=v(ct,O,ye),fe===null?le=ct:fe.sibling=ct,fe=ct);return r&&he.forEach(function(hr){return i(F,hr)}),ze&&Ir(F,ye),le}function oe(F,O,V,Y){var le=Q(V);if(typeof le!="function")throw Error(n(150));if(V=le.call(V),V==null)throw Error(n(151));for(var fe=le=null,he=O,ye=O=0,ct=null,Re=V.next();he!==null&&!Re.done;ye++,Re=V.next()){he.index>ye?(ct=he,he=null):ct=he.sibling;var hr=H(F,he,Re.value,Y);if(hr===null){he===null&&(he=ct);break}r&&he&&hr.alternate===null&&i(F,he),O=v(hr,O,ye),fe===null?le=hr:fe.sibling=hr,fe=hr,he=ct}if(Re.done)return l(F,he),ze&&Ir(F,ye),le;if(he===null){for(;!Re.done;ye++,Re=V.next())Re=K(F,Re.value,Y),Re!==null&&(O=v(Re,O,ye),fe===null?le=Re:fe.sibling=Re,fe=Re);return ze&&Ir(F,ye),le}for(he=f(F,he);!Re.done;ye++,Re=V.next())Re=Z(he,F,ye,Re.value,Y),Re!==null&&(r&&Re.alternate!==null&&he.delete(Re.key===null?ye:Re.key),O=v(Re,O,ye),fe===null?le=Re:fe.sibling=Re,fe=Re);return r&&he.forEach(function(Qk){return i(F,Qk)}),ze&&Ir(F,ye),le}function Xe(F,O,V,Y){if(typeof V=="object"&&V!==null&&V.type===$&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case R:e:{for(var le=V.key,fe=O;fe!==null;){if(fe.key===le){if(le=V.type,le===$){if(fe.tag===7){l(F,fe.sibling),O=g(fe,V.props.children),O.return=F,F=O;break e}}else if(fe.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===J&&Km(le)===fe.type){l(F,fe.sibling),O=g(fe,V.props),O.ref=Hi(F,fe,V),O.return=F,F=O;break e}l(F,fe);break}else i(F,fe);fe=fe.sibling}V.type===$?(O=zr(V.props.children,F.mode,Y,V.key),O.return=F,F=O):(Y=Ka(V.type,V.key,V.props,null,F.mode,Y),Y.ref=Hi(F,O,V),Y.return=F,F=Y)}return C(F);case M:e:{for(fe=V.key;O!==null;){if(O.key===fe)if(O.tag===4&&O.stateNode.containerInfo===V.containerInfo&&O.stateNode.implementation===V.implementation){l(F,O.sibling),O=g(O,V.children||[]),O.return=F,F=O;break e}else{l(F,O);break}else i(F,O);O=O.sibling}O=td(V,F.mode,Y),O.return=F,F=O}return C(F);case J:return fe=V._init,Xe(F,O,fe(V._payload),Y)}if(xi(V))return re(F,O,V,Y);if(Q(V))return oe(F,O,V,Y);ka(F,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,O!==null&&O.tag===6?(l(F,O.sibling),O=g(O,V),O.return=F,F=O):(l(F,O),O=ed(V,F.mode,Y),O.return=F,F=O),C(F)):l(F,O)}return Xe}var bs=Ym(!0),Qm=Ym(!1),Ca=nr(null),Ta=null,Ss=null,uu=null;function du(){uu=Ss=Ta=null}function fu(r){var i=Ca.current;Ve(Ca),r._currentValue=i}function hu(r,i,l){for(;r!==null;){var f=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),r===l)break;r=r.return}}function _s(r,i){Ta=r,uu=Ss=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Et=!0),r.firstContext=null)}function Wt(r){var i=r._currentValue;if(uu!==r)if(r={context:r,memoizedValue:i,next:null},Ss===null){if(Ta===null)throw Error(n(308));Ss=r,Ta.dependencies={lanes:0,firstContext:r}}else Ss=Ss.next=r;return i}var Or=null;function pu(r){Or===null?Or=[r]:Or.push(r)}function Xm(r,i,l,f){var g=i.interleaved;return g===null?(l.next=l,pu(i)):(l.next=g.next,g.next=l),i.interleaved=l,$n(r,f)}function $n(r,i){r.lanes|=i;var l=r.alternate;for(l!==null&&(l.lanes|=i),l=r,r=r.return;r!==null;)r.childLanes|=i,l=r.alternate,l!==null&&(l.childLanes|=i),l=r,r=r.return;return l.tag===3?l.stateNode:null}var ir=!1;function mu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Fn(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function or(r,i,l){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(Ne&2)!==0){var g=f.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),f.pending=i,$n(r,l)}return g=f.interleaved,g===null?(i.next=i,pu(f)):(i.next=g.next,g.next=i),f.interleaved=i,$n(r,l)}function Ea(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var f=i.lanes;f&=r.pendingLanes,l|=f,i.lanes=l,Pc(r,l)}}function Zm(r,i){var l=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var C={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?g=v=C:v=v.next=C,l=l.next}while(l!==null);v===null?g=v=i:v=v.next=i}else g=v=i;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:f.shared,effects:f.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}function ja(r,i,l,f){var g=r.updateQueue;ir=!1;var v=g.firstBaseUpdate,C=g.lastBaseUpdate,A=g.shared.pending;if(A!==null){g.shared.pending=null;var I=A,z=I.next;I.next=null,C===null?v=z:C.next=z,C=I;var G=r.alternate;G!==null&&(G=G.updateQueue,A=G.lastBaseUpdate,A!==C&&(A===null?G.firstBaseUpdate=z:A.next=z,G.lastBaseUpdate=I))}if(v!==null){var K=g.baseState;C=0,G=z=I=null,A=v;do{var H=A.lane,Z=A.eventTime;if((f&H)===H){G!==null&&(G=G.next={eventTime:Z,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var re=r,oe=A;switch(H=i,Z=l,oe.tag){case 1:if(re=oe.payload,typeof re=="function"){K=re.call(Z,K,H);break e}K=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=oe.payload,H=typeof re=="function"?re.call(Z,K,H):re,H==null)break e;K=U({},K,H);break e;case 2:ir=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,H=g.effects,H===null?g.effects=[A]:H.push(A))}else Z={eventTime:Z,lane:H,tag:A.tag,payload:A.payload,callback:A.callback,next:null},G===null?(z=G=Z,I=K):G=G.next=Z,C|=H;if(A=A.next,A===null){if(A=g.shared.pending,A===null)break;H=A,A=H.next,H.next=null,g.lastBaseUpdate=H,g.shared.pending=null}}while(!0);if(G===null&&(I=K),g.baseState=I,g.firstBaseUpdate=z,g.lastBaseUpdate=G,i=g.shared.interleaved,i!==null){g=i;do C|=g.lane,g=g.next;while(g!==i)}else v===null&&(g.shared.lanes=0);Dr|=C,r.lanes=C,r.memoizedState=K}}function eg(r,i,l){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var f=r[i],g=f.callback;if(g!==null){if(f.callback=null,f=l,typeof g!="function")throw Error(n(191,g));g.call(f)}}}var Gi={},vn=nr(Gi),qi=nr(Gi),Ki=nr(Gi);function Lr(r){if(r===Gi)throw Error(n(174));return r}function gu(r,i){switch(De(Ki,i),De(qi,r),De(vn,Gi),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:yc(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=yc(i,r)}Ve(vn),De(vn,i)}function ks(){Ve(vn),Ve(qi),Ve(Ki)}function tg(r){Lr(Ki.current);var i=Lr(vn.current),l=yc(i,r.type);i!==l&&(De(qi,r),De(vn,l))}function yu(r){qi.current===r&&(Ve(vn),Ve(qi))}var We=nr(0);function Pa(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var vu=[];function wu(){for(var r=0;r<vu.length;r++)vu[r]._workInProgressVersionPrimary=null;vu.length=0}var Aa=P.ReactCurrentDispatcher,xu=P.ReactCurrentBatchConfig,Mr=0,He=null,rt=null,at=null,Na=!1,Yi=!1,Qi=0,vk=0;function mt(){throw Error(n(321))}function bu(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!nn(r[l],i[l]))return!1;return!0}function Su(r,i,l,f,g,v){if(Mr=v,He=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Aa.current=r===null||r.memoizedState===null?Sk:_k,r=l(f,g),Yi){v=0;do{if(Yi=!1,Qi=0,25<=v)throw Error(n(301));v+=1,at=rt=null,i.updateQueue=null,Aa.current=kk,r=l(f,g)}while(Yi)}if(Aa.current=Oa,i=rt!==null&&rt.next!==null,Mr=0,at=rt=He=null,Na=!1,i)throw Error(n(300));return r}function _u(){var r=Qi!==0;return Qi=0,r}function wn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?He.memoizedState=at=r:at=at.next=r,at}function Ht(){if(rt===null){var r=He.alternate;r=r!==null?r.memoizedState:null}else r=rt.next;var i=at===null?He.memoizedState:at.next;if(i!==null)at=i,rt=r;else{if(r===null)throw Error(n(310));rt=r,r={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},at===null?He.memoizedState=at=r:at=at.next=r}return at}function Xi(r,i){return typeof i=="function"?i(r):i}function ku(r){var i=Ht(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var f=rt,g=f.baseQueue,v=l.pending;if(v!==null){if(g!==null){var C=g.next;g.next=v.next,v.next=C}f.baseQueue=g=v,l.pending=null}if(g!==null){v=g.next,f=f.baseState;var A=C=null,I=null,z=v;do{var G=z.lane;if((Mr&G)===G)I!==null&&(I=I.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),f=z.hasEagerState?z.eagerState:r(f,z.action);else{var K={lane:G,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};I===null?(A=I=K,C=f):I=I.next=K,He.lanes|=G,Dr|=G}z=z.next}while(z!==null&&z!==v);I===null?C=f:I.next=A,nn(f,i.memoizedState)||(Et=!0),i.memoizedState=f,i.baseState=C,i.baseQueue=I,l.lastRenderedState=f}if(r=l.interleaved,r!==null){g=r;do v=g.lane,He.lanes|=v,Dr|=v,g=g.next;while(g!==r)}else g===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Cu(r){var i=Ht(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var f=l.dispatch,g=l.pending,v=i.memoizedState;if(g!==null){l.pending=null;var C=g=g.next;do v=r(v,C.action),C=C.next;while(C!==g);nn(v,i.memoizedState)||(Et=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,f]}function ng(){}function rg(r,i){var l=He,f=Ht(),g=i(),v=!nn(f.memoizedState,g);if(v&&(f.memoizedState=g,Et=!0),f=f.queue,Tu(og.bind(null,l,f,r),[r]),f.getSnapshot!==i||v||at!==null&&at.memoizedState.tag&1){if(l.flags|=2048,Ji(9,ig.bind(null,l,f,g,i),void 0,null),lt===null)throw Error(n(349));(Mr&30)!==0||sg(l,i,g)}return g}function sg(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=He.updateQueue,i===null?(i={lastEffect:null,stores:null},He.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function ig(r,i,l,f){i.value=l,i.getSnapshot=f,ag(i)&&lg(r)}function og(r,i,l){return l(function(){ag(i)&&lg(r)})}function ag(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!nn(r,l)}catch{return!0}}function lg(r){var i=$n(r,1);i!==null&&ln(i,r,1,-1)}function cg(r){var i=wn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:r},i.queue=r,r=r.dispatch=bk.bind(null,He,r),[i.memoizedState,r]}function Ji(r,i,l,f){return r={tag:r,create:i,destroy:l,deps:f,next:null},i=He.updateQueue,i===null?(i={lastEffect:null,stores:null},He.updateQueue=i,i.lastEffect=r.next=r):(l=i.lastEffect,l===null?i.lastEffect=r.next=r:(f=l.next,l.next=r,r.next=f,i.lastEffect=r)),r}function ug(){return Ht().memoizedState}function Ra(r,i,l,f){var g=wn();He.flags|=r,g.memoizedState=Ji(1|i,l,void 0,f===void 0?null:f)}function Ia(r,i,l,f){var g=Ht();f=f===void 0?null:f;var v=void 0;if(rt!==null){var C=rt.memoizedState;if(v=C.destroy,f!==null&&bu(f,C.deps)){g.memoizedState=Ji(i,l,v,f);return}}He.flags|=r,g.memoizedState=Ji(1|i,l,v,f)}function dg(r,i){return Ra(8390656,8,r,i)}function Tu(r,i){return Ia(2048,8,r,i)}function fg(r,i){return Ia(4,2,r,i)}function hg(r,i){return Ia(4,4,r,i)}function pg(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function mg(r,i,l){return l=l!=null?l.concat([r]):null,Ia(4,4,pg.bind(null,i,r),l)}function Eu(){}function gg(r,i){var l=Ht();i=i===void 0?null:i;var f=l.memoizedState;return f!==null&&i!==null&&bu(i,f[1])?f[0]:(l.memoizedState=[r,i],r)}function yg(r,i){var l=Ht();i=i===void 0?null:i;var f=l.memoizedState;return f!==null&&i!==null&&bu(i,f[1])?f[0]:(r=r(),l.memoizedState=[r,i],r)}function vg(r,i,l){return(Mr&21)===0?(r.baseState&&(r.baseState=!1,Et=!0),r.memoizedState=l):(nn(l,i)||(l=Kp(),He.lanes|=l,Dr|=l,r.baseState=!0),i)}function wk(r,i){var l=Oe;Oe=l!==0&&4>l?l:4,r(!0);var f=xu.transition;xu.transition={};try{r(!1),i()}finally{Oe=l,xu.transition=f}}function wg(){return Ht().memoizedState}function xk(r,i,l){var f=ur(r);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},xg(r))bg(i,l);else if(l=Xm(r,i,l,f),l!==null){var g=St();ln(l,r,f,g),Sg(l,i,f)}}function bk(r,i,l){var f=ur(r),g={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(xg(r))bg(i,g);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var C=i.lastRenderedState,A=v(C,l);if(g.hasEagerState=!0,g.eagerState=A,nn(A,C)){var I=i.interleaved;I===null?(g.next=g,pu(i)):(g.next=I.next,I.next=g),i.interleaved=g;return}}catch{}finally{}l=Xm(r,i,g,f),l!==null&&(g=St(),ln(l,r,f,g),Sg(l,i,f))}}function xg(r){var i=r.alternate;return r===He||i!==null&&i===He}function bg(r,i){Yi=Na=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function Sg(r,i,l){if((l&4194240)!==0){var f=i.lanes;f&=r.pendingLanes,l|=f,i.lanes=l,Pc(r,l)}}var Oa={readContext:Wt,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},Sk={readContext:Wt,useCallback:function(r,i){return wn().memoizedState=[r,i===void 0?null:i],r},useContext:Wt,useEffect:dg,useImperativeHandle:function(r,i,l){return l=l!=null?l.concat([r]):null,Ra(4194308,4,pg.bind(null,i,r),l)},useLayoutEffect:function(r,i){return Ra(4194308,4,r,i)},useInsertionEffect:function(r,i){return Ra(4,2,r,i)},useMemo:function(r,i){var l=wn();return i=i===void 0?null:i,r=r(),l.memoizedState=[r,i],r},useReducer:function(r,i,l){var f=wn();return i=l!==void 0?l(i):i,f.memoizedState=f.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},f.queue=r,r=r.dispatch=xk.bind(null,He,r),[f.memoizedState,r]},useRef:function(r){var i=wn();return r={current:r},i.memoizedState=r},useState:cg,useDebugValue:Eu,useDeferredValue:function(r){return wn().memoizedState=r},useTransition:function(){var r=cg(!1),i=r[0];return r=wk.bind(null,r[1]),wn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,l){var f=He,g=wn();if(ze){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),lt===null)throw Error(n(349));(Mr&30)!==0||sg(f,i,l)}g.memoizedState=l;var v={value:l,getSnapshot:i};return g.queue=v,dg(og.bind(null,f,v,r),[r]),f.flags|=2048,Ji(9,ig.bind(null,f,v,l,i),void 0,null),l},useId:function(){var r=wn(),i=lt.identifierPrefix;if(ze){var l=Dn,f=Mn;l=(f&~(1<<32-tn(f)-1)).toString(32)+l,i=":"+i+"R"+l,l=Qi++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=vk++,i=":"+i+"r"+l.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},_k={readContext:Wt,useCallback:gg,useContext:Wt,useEffect:Tu,useImperativeHandle:mg,useInsertionEffect:fg,useLayoutEffect:hg,useMemo:yg,useReducer:ku,useRef:ug,useState:function(){return ku(Xi)},useDebugValue:Eu,useDeferredValue:function(r){var i=Ht();return vg(i,rt.memoizedState,r)},useTransition:function(){var r=ku(Xi)[0],i=Ht().memoizedState;return[r,i]},useMutableSource:ng,useSyncExternalStore:rg,useId:wg,unstable_isNewReconciler:!1},kk={readContext:Wt,useCallback:gg,useContext:Wt,useEffect:Tu,useImperativeHandle:mg,useInsertionEffect:fg,useLayoutEffect:hg,useMemo:yg,useReducer:Cu,useRef:ug,useState:function(){return Cu(Xi)},useDebugValue:Eu,useDeferredValue:function(r){var i=Ht();return rt===null?i.memoizedState=r:vg(i,rt.memoizedState,r)},useTransition:function(){var r=Cu(Xi)[0],i=Ht().memoizedState;return[r,i]},useMutableSource:ng,useSyncExternalStore:rg,useId:wg,unstable_isNewReconciler:!1};function sn(r,i){if(r&&r.defaultProps){i=U({},i),r=r.defaultProps;for(var l in r)i[l]===void 0&&(i[l]=r[l]);return i}return i}function ju(r,i,l,f){i=r.memoizedState,l=l(f,i),l=l==null?i:U({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var La={isMounted:function(r){return(r=r._reactInternals)?Pr(r)===r:!1},enqueueSetState:function(r,i,l){r=r._reactInternals;var f=St(),g=ur(r),v=Fn(f,g);v.payload=i,l!=null&&(v.callback=l),i=or(r,v,g),i!==null&&(ln(i,r,g,f),Ea(i,r,g))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var f=St(),g=ur(r),v=Fn(f,g);v.tag=1,v.payload=i,l!=null&&(v.callback=l),i=or(r,v,g),i!==null&&(ln(i,r,g,f),Ea(i,r,g))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=St(),f=ur(r),g=Fn(l,f);g.tag=2,i!=null&&(g.callback=i),i=or(r,g,f),i!==null&&(ln(i,r,f,l),Ea(i,r,f))}};function _g(r,i,l,f,g,v,C){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,v,C):i.prototype&&i.prototype.isPureReactComponent?!$i(l,f)||!$i(g,v):!0}function kg(r,i,l){var f=!1,g=rr,v=i.contextType;return typeof v=="object"&&v!==null?v=Wt(v):(g=Tt(i)?Nr:pt.current,f=i.contextTypes,v=(f=f!=null)?ys(r,g):rr),i=new i(l,v),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=La,r.stateNode=i,i._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=g,r.__reactInternalMemoizedMaskedChildContext=v),i}function Cg(r,i,l,f){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,f),i.state!==r&&La.enqueueReplaceState(i,i.state,null)}function Pu(r,i,l,f){var g=r.stateNode;g.props=l,g.state=r.memoizedState,g.refs={},mu(r);var v=i.contextType;typeof v=="object"&&v!==null?g.context=Wt(v):(v=Tt(i)?Nr:pt.current,g.context=ys(r,v)),g.state=r.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(ju(r,i,v,l),g.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(i=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),i!==g.state&&La.enqueueReplaceState(g,g.state,null),ja(r,l,g,f),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308)}function Cs(r,i){try{var l="",f=i;do l+=_e(f),f=f.return;while(f);var g=l}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:r,source:i,stack:g,digest:null}}function Au(r,i,l){return{value:r,source:null,stack:l??null,digest:i??null}}function Nu(r,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var Ck=typeof WeakMap=="function"?WeakMap:Map;function Tg(r,i,l){l=Fn(-1,l),l.tag=3,l.payload={element:null};var f=i.value;return l.callback=function(){Ua||(Ua=!0,Gu=f),Nu(r,i)},l}function Eg(r,i,l){l=Fn(-1,l),l.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var g=i.value;l.payload=function(){return f(g)},l.callback=function(){Nu(r,i)}}var v=r.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Nu(r,i),typeof f!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var C=i.stack;this.componentDidCatch(i.value,{componentStack:C!==null?C:""})}),l}function jg(r,i,l){var f=r.pingCache;if(f===null){f=r.pingCache=new Ck;var g=new Set;f.set(i,g)}else g=f.get(i),g===void 0&&(g=new Set,f.set(i,g));g.has(l)||(g.add(l),r=Fk.bind(null,r,i,l),i.then(r,r))}function Pg(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Ag(r,i,l,f,g){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Fn(-1,1),i.tag=2,or(l,i,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=g,r)}var Tk=P.ReactCurrentOwner,Et=!1;function bt(r,i,l,f){i.child=r===null?Qm(i,null,l,f):bs(i,r.child,l,f)}function Ng(r,i,l,f,g){l=l.render;var v=i.ref;return _s(i,g),f=Su(r,i,l,f,v,g),l=_u(),r!==null&&!Et?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~g,Vn(r,i,g)):(ze&&l&&iu(i),i.flags|=1,bt(r,i,f,g),i.child)}function Rg(r,i,l,f,g){if(r===null){var v=l.type;return typeof v=="function"&&!Zu(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=v,Ig(r,i,v,f,g)):(r=Ka(l.type,null,f,i,i.mode,g),r.ref=i.ref,r.return=i,i.child=r)}if(v=r.child,(r.lanes&g)===0){var C=v.memoizedProps;if(l=l.compare,l=l!==null?l:$i,l(C,f)&&r.ref===i.ref)return Vn(r,i,g)}return i.flags|=1,r=fr(v,f),r.ref=i.ref,r.return=i,i.child=r}function Ig(r,i,l,f,g){if(r!==null){var v=r.memoizedProps;if($i(v,f)&&r.ref===i.ref)if(Et=!1,i.pendingProps=f=v,(r.lanes&g)!==0)(r.flags&131072)!==0&&(Et=!0);else return i.lanes=r.lanes,Vn(r,i,g)}return Ru(r,i,l,f,g)}function Og(r,i,l){var f=i.pendingProps,g=f.children,v=r!==null?r.memoizedState:null;if(f.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Es,$t),$t|=l;else{if((l&1073741824)===0)return r=v!==null?v.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,De(Es,$t),$t|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:l,De(Es,$t),$t|=f}else v!==null?(f=v.baseLanes|l,i.memoizedState=null):f=l,De(Es,$t),$t|=f;return bt(r,i,g,l),i.child}function Lg(r,i){var l=i.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Ru(r,i,l,f,g){var v=Tt(l)?Nr:pt.current;return v=ys(i,v),_s(i,g),l=Su(r,i,l,f,v,g),f=_u(),r!==null&&!Et?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~g,Vn(r,i,g)):(ze&&f&&iu(i),i.flags|=1,bt(r,i,l,g),i.child)}function Mg(r,i,l,f,g){if(Tt(l)){var v=!0;wa(i)}else v=!1;if(_s(i,g),i.stateNode===null)Da(r,i),kg(i,l,f),Pu(i,l,f,g),f=!0;else if(r===null){var C=i.stateNode,A=i.memoizedProps;C.props=A;var I=C.context,z=l.contextType;typeof z=="object"&&z!==null?z=Wt(z):(z=Tt(l)?Nr:pt.current,z=ys(i,z));var G=l.getDerivedStateFromProps,K=typeof G=="function"||typeof C.getSnapshotBeforeUpdate=="function";K||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(A!==f||I!==z)&&Cg(i,C,f,z),ir=!1;var H=i.memoizedState;C.state=H,ja(i,f,C,g),I=i.memoizedState,A!==f||H!==I||Ct.current||ir?(typeof G=="function"&&(ju(i,l,G,f),I=i.memoizedState),(A=ir||_g(i,l,A,f,H,I,z))?(K||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(i.flags|=4194308)):(typeof C.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=I),C.props=f,C.state=I,C.context=z,f=A):(typeof C.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{C=i.stateNode,Jm(r,i),A=i.memoizedProps,z=i.type===i.elementType?A:sn(i.type,A),C.props=z,K=i.pendingProps,H=C.context,I=l.contextType,typeof I=="object"&&I!==null?I=Wt(I):(I=Tt(l)?Nr:pt.current,I=ys(i,I));var Z=l.getDerivedStateFromProps;(G=typeof Z=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(A!==K||H!==I)&&Cg(i,C,f,I),ir=!1,H=i.memoizedState,C.state=H,ja(i,f,C,g);var re=i.memoizedState;A!==K||H!==re||Ct.current||ir?(typeof Z=="function"&&(ju(i,l,Z,f),re=i.memoizedState),(z=ir||_g(i,l,z,f,H,re,I)||!1)?(G||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(f,re,I),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(f,re,I)),typeof C.componentDidUpdate=="function"&&(i.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof C.componentDidUpdate!="function"||A===r.memoizedProps&&H===r.memoizedState||(i.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&H===r.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=re),C.props=f,C.state=re,C.context=I,f=z):(typeof C.componentDidUpdate!="function"||A===r.memoizedProps&&H===r.memoizedState||(i.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&H===r.memoizedState||(i.flags|=1024),f=!1)}return Iu(r,i,l,f,v,g)}function Iu(r,i,l,f,g,v){Lg(r,i);var C=(i.flags&128)!==0;if(!f&&!C)return g&&zm(i,l,!1),Vn(r,i,v);f=i.stateNode,Tk.current=i;var A=C&&typeof l.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,r!==null&&C?(i.child=bs(i,r.child,null,v),i.child=bs(i,null,A,v)):bt(r,i,A,v),i.memoizedState=f.state,g&&zm(i,l,!0),i.child}function Dg(r){var i=r.stateNode;i.pendingContext?Fm(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Fm(r,i.context,!1),gu(r,i.containerInfo)}function $g(r,i,l,f,g){return xs(),cu(g),i.flags|=256,bt(r,i,l,f),i.child}var Ou={dehydrated:null,treeContext:null,retryLane:0};function Lu(r){return{baseLanes:r,cachePool:null,transitions:null}}function Fg(r,i,l){var f=i.pendingProps,g=We.current,v=!1,C=(i.flags&128)!==0,A;if((A=C)||(A=r!==null&&r.memoizedState===null?!1:(g&2)!==0),A?(v=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(g|=1),De(We,g&1),r===null)return lu(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(C=f.children,r=f.fallback,v?(f=i.mode,v=i.child,C={mode:"hidden",children:C},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=C):v=Ya(C,f,0,null),r=zr(r,f,l,null),v.return=i,r.return=i,v.sibling=r,i.child=v,i.child.memoizedState=Lu(l),i.memoizedState=Ou,r):Mu(i,C));if(g=r.memoizedState,g!==null&&(A=g.dehydrated,A!==null))return Ek(r,i,C,f,A,g,l);if(v){v=f.fallback,C=i.mode,g=r.child,A=g.sibling;var I={mode:"hidden",children:f.children};return(C&1)===0&&i.child!==g?(f=i.child,f.childLanes=0,f.pendingProps=I,i.deletions=null):(f=fr(g,I),f.subtreeFlags=g.subtreeFlags&14680064),A!==null?v=fr(A,v):(v=zr(v,C,l,null),v.flags|=2),v.return=i,f.return=i,f.sibling=v,i.child=f,f=v,v=i.child,C=r.child.memoizedState,C=C===null?Lu(l):{baseLanes:C.baseLanes|l,cachePool:null,transitions:C.transitions},v.memoizedState=C,v.childLanes=r.childLanes&~l,i.memoizedState=Ou,f}return v=r.child,r=v.sibling,f=fr(v,{mode:"visible",children:f.children}),(i.mode&1)===0&&(f.lanes=l),f.return=i,f.sibling=null,r!==null&&(l=i.deletions,l===null?(i.deletions=[r],i.flags|=16):l.push(r)),i.child=f,i.memoizedState=null,f}function Mu(r,i){return i=Ya({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Ma(r,i,l,f){return f!==null&&cu(f),bs(i,r.child,null,l),r=Mu(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Ek(r,i,l,f,g,v,C){if(l)return i.flags&256?(i.flags&=-257,f=Au(Error(n(422))),Ma(r,i,C,f)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(v=f.fallback,g=i.mode,f=Ya({mode:"visible",children:f.children},g,0,null),v=zr(v,g,C,null),v.flags|=2,f.return=i,v.return=i,f.sibling=v,i.child=f,(i.mode&1)!==0&&bs(i,r.child,null,C),i.child.memoizedState=Lu(C),i.memoizedState=Ou,v);if((i.mode&1)===0)return Ma(r,i,C,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var A=f.dgst;return f=A,v=Error(n(419)),f=Au(v,f,void 0),Ma(r,i,C,f)}if(A=(C&r.childLanes)!==0,Et||A){if(f=lt,f!==null){switch(C&-C){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|C))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,$n(r,g),ln(f,r,g,-1))}return Ju(),f=Au(Error(n(421))),Ma(r,i,C,f)}return g.data==="$?"?(i.flags|=128,i.child=r.child,i=Vk.bind(null,r),g._reactRetry=i,null):(r=v.treeContext,Dt=tr(g.nextSibling),Mt=i,ze=!0,rn=null,r!==null&&(Ut[Bt++]=Mn,Ut[Bt++]=Dn,Ut[Bt++]=Rr,Mn=r.id,Dn=r.overflow,Rr=i),i=Mu(i,f.children),i.flags|=4096,i)}function Vg(r,i,l){r.lanes|=i;var f=r.alternate;f!==null&&(f.lanes|=i),hu(r.return,i,l)}function Du(r,i,l,f,g){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=l,v.tailMode=g)}function zg(r,i,l){var f=i.pendingProps,g=f.revealOrder,v=f.tail;if(bt(r,i,f.children,l),f=We.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Vg(r,l,i);else if(r.tag===19)Vg(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(De(We,f),(i.mode&1)===0)i.memoizedState=null;else switch(g){case"forwards":for(l=i.child,g=null;l!==null;)r=l.alternate,r!==null&&Pa(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),Du(i,!1,g,l,v);break;case"backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(r=g.alternate,r!==null&&Pa(r)===null){i.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}Du(i,!0,l,null,v);break;case"together":Du(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Da(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Vn(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),Dr|=i.lanes,(l&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,l=fr(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=fr(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function jk(r,i,l){switch(i.tag){case 3:Dg(i),xs();break;case 5:tg(i);break;case 1:Tt(i.type)&&wa(i);break;case 4:gu(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,g=i.memoizedProps.value;De(Ca,f._currentValue),f._currentValue=g;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(De(We,We.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?Fg(r,i,l):(De(We,We.current&1),r=Vn(r,i,l),r!==null?r.sibling:null);De(We,We.current&1);break;case 19:if(f=(l&i.childLanes)!==0,(r.flags&128)!==0){if(f)return zg(r,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),De(We,We.current),f)break;return null;case 22:case 23:return i.lanes=0,Og(r,i,l)}return Vn(r,i,l)}var Ug,$u,Bg,Wg;Ug=function(r,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},$u=function(){},Bg=function(r,i,l,f){var g=r.memoizedProps;if(g!==f){r=i.stateNode,Lr(vn.current);var v=null;switch(l){case"input":g=hc(r,g),f=hc(r,f),v=[];break;case"select":g=U({},g,{value:void 0}),f=U({},f,{value:void 0}),v=[];break;case"textarea":g=gc(r,g),f=gc(r,f),v=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=ga)}vc(l,f);var C;l=null;for(z in g)if(!f.hasOwnProperty(z)&&g.hasOwnProperty(z)&&g[z]!=null)if(z==="style"){var A=g[z];for(C in A)A.hasOwnProperty(C)&&(l||(l={}),l[C]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?v||(v=[]):(v=v||[]).push(z,null));for(z in f){var I=f[z];if(A=g?.[z],f.hasOwnProperty(z)&&I!==A&&(I!=null||A!=null))if(z==="style")if(A){for(C in A)!A.hasOwnProperty(C)||I&&I.hasOwnProperty(C)||(l||(l={}),l[C]="");for(C in I)I.hasOwnProperty(C)&&A[C]!==I[C]&&(l||(l={}),l[C]=I[C])}else l||(v||(v=[]),v.push(z,l)),l=I;else z==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,A=A?A.__html:void 0,I!=null&&A!==I&&(v=v||[]).push(z,I)):z==="children"?typeof I!="string"&&typeof I!="number"||(v=v||[]).push(z,""+I):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(I!=null&&z==="onScroll"&&Fe("scroll",r),v||A===I||(v=[])):(v=v||[]).push(z,I))}l&&(v=v||[]).push("style",l);var z=v;(i.updateQueue=z)&&(i.flags|=4)}},Wg=function(r,i,l,f){l!==f&&(i.flags|=4)};function Zi(r,i){if(!ze)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function gt(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,f=0;if(i)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=f,r.childLanes=l,i}function Pk(r,i,l){var f=i.pendingProps;switch(ou(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(i),null;case 1:return Tt(i.type)&&va(),gt(i),null;case 3:return f=i.stateNode,ks(),Ve(Ct),Ve(pt),wu(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(_a(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,rn!==null&&(Yu(rn),rn=null))),$u(r,i),gt(i),null;case 5:yu(i);var g=Lr(Ki.current);if(l=i.type,r!==null&&i.stateNode!=null)Bg(r,i,l,f,g),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(n(166));return gt(i),null}if(r=Lr(vn.current),_a(i)){f=i.stateNode,l=i.type;var v=i.memoizedProps;switch(f[yn]=i,f[Bi]=v,r=(i.mode&1)!==0,l){case"dialog":Fe("cancel",f),Fe("close",f);break;case"iframe":case"object":case"embed":Fe("load",f);break;case"video":case"audio":for(g=0;g<Vi.length;g++)Fe(Vi[g],f);break;case"source":Fe("error",f);break;case"img":case"image":case"link":Fe("error",f),Fe("load",f);break;case"details":Fe("toggle",f);break;case"input":kp(f,v),Fe("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},Fe("invalid",f);break;case"textarea":Ep(f,v),Fe("invalid",f)}vc(l,v),g=null;for(var C in v)if(v.hasOwnProperty(C)){var A=v[C];C==="children"?typeof A=="string"?f.textContent!==A&&(v.suppressHydrationWarning!==!0&&ma(f.textContent,A,r),g=["children",A]):typeof A=="number"&&f.textContent!==""+A&&(v.suppressHydrationWarning!==!0&&ma(f.textContent,A,r),g=["children",""+A]):o.hasOwnProperty(C)&&A!=null&&C==="onScroll"&&Fe("scroll",f)}switch(l){case"input":Ze(f),Tp(f,v,!0);break;case"textarea":Ze(f),Pp(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=ga)}f=g,i.updateQueue=f,f!==null&&(i.flags|=4)}else{C=g.nodeType===9?g:g.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ap(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=C.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=C.createElement(l,{is:f.is}):(r=C.createElement(l),l==="select"&&(C=r,f.multiple?C.multiple=!0:f.size&&(C.size=f.size))):r=C.createElementNS(r,l),r[yn]=i,r[Bi]=f,Ug(r,i,!1,!1),i.stateNode=r;e:{switch(C=wc(l,f),l){case"dialog":Fe("cancel",r),Fe("close",r),g=f;break;case"iframe":case"object":case"embed":Fe("load",r),g=f;break;case"video":case"audio":for(g=0;g<Vi.length;g++)Fe(Vi[g],r);g=f;break;case"source":Fe("error",r),g=f;break;case"img":case"image":case"link":Fe("error",r),Fe("load",r),g=f;break;case"details":Fe("toggle",r),g=f;break;case"input":kp(r,f),g=hc(r,f),Fe("invalid",r);break;case"option":g=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},g=U({},f,{value:void 0}),Fe("invalid",r);break;case"textarea":Ep(r,f),g=gc(r,f),Fe("invalid",r);break;default:g=f}vc(l,g),A=g;for(v in A)if(A.hasOwnProperty(v)){var I=A[v];v==="style"?Ip(r,I):v==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&Np(r,I)):v==="children"?typeof I=="string"?(l!=="textarea"||I!=="")&&bi(r,I):typeof I=="number"&&bi(r,""+I):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?I!=null&&v==="onScroll"&&Fe("scroll",r):I!=null&&T(r,v,I,C))}switch(l){case"input":Ze(r),Tp(r,f,!1);break;case"textarea":Ze(r),Pp(r);break;case"option":f.value!=null&&r.setAttribute("value",""+xe(f.value));break;case"select":r.multiple=!!f.multiple,v=f.value,v!=null?is(r,!!f.multiple,v,!1):f.defaultValue!=null&&is(r,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(r.onclick=ga)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return gt(i),null;case 6:if(r&&i.stateNode!=null)Wg(r,i,r.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(n(166));if(l=Lr(Ki.current),Lr(vn.current),_a(i)){if(f=i.stateNode,l=i.memoizedProps,f[yn]=i,(v=f.nodeValue!==l)&&(r=Mt,r!==null))switch(r.tag){case 3:ma(f.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ma(f.nodeValue,l,(r.mode&1)!==0)}v&&(i.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[yn]=i,i.stateNode=f}return gt(i),null;case 13:if(Ve(We),f=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ze&&Dt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)qm(),xs(),i.flags|=98560,v=!1;else if(v=_a(i),f!==null&&f.dehydrated!==null){if(r===null){if(!v)throw Error(n(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[yn]=i}else xs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),v=!1}else rn!==null&&(Yu(rn),rn=null),v=!0;if(!v)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(We.current&1)!==0?st===0&&(st=3):Ju())),i.updateQueue!==null&&(i.flags|=4),gt(i),null);case 4:return ks(),$u(r,i),r===null&&zi(i.stateNode.containerInfo),gt(i),null;case 10:return fu(i.type._context),gt(i),null;case 17:return Tt(i.type)&&va(),gt(i),null;case 19:if(Ve(We),v=i.memoizedState,v===null)return gt(i),null;if(f=(i.flags&128)!==0,C=v.rendering,C===null)if(f)Zi(v,!1);else{if(st!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(C=Pa(r),C!==null){for(i.flags|=128,Zi(v,!1),f=C.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=l,l=i.child;l!==null;)v=l,r=f,v.flags&=14680066,C=v.alternate,C===null?(v.childLanes=0,v.lanes=r,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=C.childLanes,v.lanes=C.lanes,v.child=C.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=C.memoizedProps,v.memoizedState=C.memoizedState,v.updateQueue=C.updateQueue,v.type=C.type,r=C.dependencies,v.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return De(We,We.current&1|2),i.child}r=r.sibling}v.tail!==null&&Qe()>js&&(i.flags|=128,f=!0,Zi(v,!1),i.lanes=4194304)}else{if(!f)if(r=Pa(C),r!==null){if(i.flags|=128,f=!0,l=r.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Zi(v,!0),v.tail===null&&v.tailMode==="hidden"&&!C.alternate&&!ze)return gt(i),null}else 2*Qe()-v.renderingStartTime>js&&l!==1073741824&&(i.flags|=128,f=!0,Zi(v,!1),i.lanes=4194304);v.isBackwards?(C.sibling=i.child,i.child=C):(l=v.last,l!==null?l.sibling=C:i.child=C,v.last=C)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=Qe(),i.sibling=null,l=We.current,De(We,f?l&1|2:l&1),i):(gt(i),null);case 22:case 23:return Xu(),f=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(i.flags|=8192),f&&(i.mode&1)!==0?($t&1073741824)!==0&&(gt(i),i.subtreeFlags&6&&(i.flags|=8192)):gt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function Ak(r,i){switch(ou(i),i.tag){case 1:return Tt(i.type)&&va(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return ks(),Ve(Ct),Ve(pt),wu(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return yu(i),null;case 13:if(Ve(We),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));xs()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Ve(We),null;case 4:return ks(),null;case 10:return fu(i.type._context),null;case 22:case 23:return Xu(),null;case 24:return null;default:return null}}var $a=!1,yt=!1,Nk=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ts(r,i){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){qe(r,i,f)}else l.current=null}function Fu(r,i,l){try{l()}catch(f){qe(r,i,f)}}var Hg=!1;function Rk(r,i){if(Xc=sa,r=_m(),Bc(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var C=0,A=-1,I=-1,z=0,G=0,K=r,H=null;t:for(;;){for(var Z;K!==l||g!==0&&K.nodeType!==3||(A=C+g),K!==v||f!==0&&K.nodeType!==3||(I=C+f),K.nodeType===3&&(C+=K.nodeValue.length),(Z=K.firstChild)!==null;)H=K,K=Z;for(;;){if(K===r)break t;if(H===l&&++z===g&&(A=C),H===v&&++G===f&&(I=C),(Z=K.nextSibling)!==null)break;K=H,H=K.parentNode}K=Z}l=A===-1||I===-1?null:{start:A,end:I}}else l=null}l=l||{start:0,end:0}}else l=null;for(Jc={focusedElem:r,selectionRange:l},sa=!1,ne=i;ne!==null;)if(i=ne,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ne=r;else for(;ne!==null;){i=ne;try{var re=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var oe=re.memoizedProps,Xe=re.memoizedState,F=i.stateNode,O=F.getSnapshotBeforeUpdate(i.elementType===i.type?oe:sn(i.type,oe),Xe);F.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var V=i.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Y){qe(i,i.return,Y)}if(r=i.sibling,r!==null){r.return=i.return,ne=r;break}ne=i.return}return re=Hg,Hg=!1,re}function eo(r,i,l){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&r)===r){var v=g.destroy;g.destroy=void 0,v!==void 0&&Fu(i,l,v)}g=g.next}while(g!==f)}}function Fa(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&r)===r){var f=l.create;l.destroy=f()}l=l.next}while(l!==i)}}function Vu(r){var i=r.ref;if(i!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof i=="function"?i(r):i.current=r}}function Gg(r){var i=r.alternate;i!==null&&(r.alternate=null,Gg(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[yn],delete i[Bi],delete i[nu],delete i[pk],delete i[mk])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function qg(r){return r.tag===5||r.tag===3||r.tag===4}function Kg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||qg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function zu(r,i,l){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(r,i):l.insertBefore(r,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(r,l)):(i=l,i.appendChild(r)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=ga));else if(f!==4&&(r=r.child,r!==null))for(zu(r,i,l),r=r.sibling;r!==null;)zu(r,i,l),r=r.sibling}function Uu(r,i,l){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(Uu(r,i,l),r=r.sibling;r!==null;)Uu(r,i,l),r=r.sibling}var dt=null,on=!1;function ar(r,i,l){for(l=l.child;l!==null;)Yg(r,i,l),l=l.sibling}function Yg(r,i,l){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(Jo,l)}catch{}switch(l.tag){case 5:yt||Ts(l,i);case 6:var f=dt,g=on;dt=null,ar(r,i,l),dt=f,on=g,dt!==null&&(on?(r=dt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):dt.removeChild(l.stateNode));break;case 18:dt!==null&&(on?(r=dt,l=l.stateNode,r.nodeType===8?tu(r.parentNode,l):r.nodeType===1&&tu(r,l),Ri(r)):tu(dt,l.stateNode));break;case 4:f=dt,g=on,dt=l.stateNode.containerInfo,on=!0,ar(r,i,l),dt=f,on=g;break;case 0:case 11:case 14:case 15:if(!yt&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var v=g,C=v.destroy;v=v.tag,C!==void 0&&((v&2)!==0||(v&4)!==0)&&Fu(l,i,C),g=g.next}while(g!==f)}ar(r,i,l);break;case 1:if(!yt&&(Ts(l,i),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(A){qe(l,i,A)}ar(r,i,l);break;case 21:ar(r,i,l);break;case 22:l.mode&1?(yt=(f=yt)||l.memoizedState!==null,ar(r,i,l),yt=f):ar(r,i,l);break;default:ar(r,i,l)}}function Qg(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new Nk),i.forEach(function(f){var g=zk.bind(null,r,f);l.has(f)||(l.add(f),f.then(g,g))})}}function an(r,i){var l=i.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f];try{var v=r,C=i,A=C;e:for(;A!==null;){switch(A.tag){case 5:dt=A.stateNode,on=!1;break e;case 3:dt=A.stateNode.containerInfo,on=!0;break e;case 4:dt=A.stateNode.containerInfo,on=!0;break e}A=A.return}if(dt===null)throw Error(n(160));Yg(v,C,g),dt=null,on=!1;var I=g.alternate;I!==null&&(I.return=null),g.return=null}catch(z){qe(g,i,z)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Xg(i,r),i=i.sibling}function Xg(r,i){var l=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(an(i,r),xn(r),f&4){try{eo(3,r,r.return),Fa(3,r)}catch(oe){qe(r,r.return,oe)}try{eo(5,r,r.return)}catch(oe){qe(r,r.return,oe)}}break;case 1:an(i,r),xn(r),f&512&&l!==null&&Ts(l,l.return);break;case 5:if(an(i,r),xn(r),f&512&&l!==null&&Ts(l,l.return),r.flags&32){var g=r.stateNode;try{bi(g,"")}catch(oe){qe(r,r.return,oe)}}if(f&4&&(g=r.stateNode,g!=null)){var v=r.memoizedProps,C=l!==null?l.memoizedProps:v,A=r.type,I=r.updateQueue;if(r.updateQueue=null,I!==null)try{A==="input"&&v.type==="radio"&&v.name!=null&&Cp(g,v),wc(A,C);var z=wc(A,v);for(C=0;C<I.length;C+=2){var G=I[C],K=I[C+1];G==="style"?Ip(g,K):G==="dangerouslySetInnerHTML"?Np(g,K):G==="children"?bi(g,K):T(g,G,K,z)}switch(A){case"input":pc(g,v);break;case"textarea":jp(g,v);break;case"select":var H=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var Z=v.value;Z!=null?is(g,!!v.multiple,Z,!1):H!==!!v.multiple&&(v.defaultValue!=null?is(g,!!v.multiple,v.defaultValue,!0):is(g,!!v.multiple,v.multiple?[]:"",!1))}g[Bi]=v}catch(oe){qe(r,r.return,oe)}}break;case 6:if(an(i,r),xn(r),f&4){if(r.stateNode===null)throw Error(n(162));g=r.stateNode,v=r.memoizedProps;try{g.nodeValue=v}catch(oe){qe(r,r.return,oe)}}break;case 3:if(an(i,r),xn(r),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Ri(i.containerInfo)}catch(oe){qe(r,r.return,oe)}break;case 4:an(i,r),xn(r);break;case 13:an(i,r),xn(r),g=r.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(Hu=Qe())),f&4&&Qg(r);break;case 22:if(G=l!==null&&l.memoizedState!==null,r.mode&1?(yt=(z=yt)||G,an(i,r),yt=z):an(i,r),xn(r),f&8192){if(z=r.memoizedState!==null,(r.stateNode.isHidden=z)&&!G&&(r.mode&1)!==0)for(ne=r,G=r.child;G!==null;){for(K=ne=G;ne!==null;){switch(H=ne,Z=H.child,H.tag){case 0:case 11:case 14:case 15:eo(4,H,H.return);break;case 1:Ts(H,H.return);var re=H.stateNode;if(typeof re.componentWillUnmount=="function"){f=H,l=H.return;try{i=f,re.props=i.memoizedProps,re.state=i.memoizedState,re.componentWillUnmount()}catch(oe){qe(f,l,oe)}}break;case 5:Ts(H,H.return);break;case 22:if(H.memoizedState!==null){ey(K);continue}}Z!==null?(Z.return=H,ne=Z):ey(K)}G=G.sibling}e:for(G=null,K=r;;){if(K.tag===5){if(G===null){G=K;try{g=K.stateNode,z?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(A=K.stateNode,I=K.memoizedProps.style,C=I!=null&&I.hasOwnProperty("display")?I.display:null,A.style.display=Rp("display",C))}catch(oe){qe(r,r.return,oe)}}}else if(K.tag===6){if(G===null)try{K.stateNode.nodeValue=z?"":K.memoizedProps}catch(oe){qe(r,r.return,oe)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===r)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===r)break e;for(;K.sibling===null;){if(K.return===null||K.return===r)break e;G===K&&(G=null),K=K.return}G===K&&(G=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:an(i,r),xn(r),f&4&&Qg(r);break;case 21:break;default:an(i,r),xn(r)}}function xn(r){var i=r.flags;if(i&2){try{e:{for(var l=r.return;l!==null;){if(qg(l)){var f=l;break e}l=l.return}throw Error(n(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(bi(g,""),f.flags&=-33);var v=Kg(r);Uu(r,v,g);break;case 3:case 4:var C=f.stateNode.containerInfo,A=Kg(r);zu(r,A,C);break;default:throw Error(n(161))}}catch(I){qe(r,r.return,I)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Ik(r,i,l){ne=r,Jg(r)}function Jg(r,i,l){for(var f=(r.mode&1)!==0;ne!==null;){var g=ne,v=g.child;if(g.tag===22&&f){var C=g.memoizedState!==null||$a;if(!C){var A=g.alternate,I=A!==null&&A.memoizedState!==null||yt;A=$a;var z=yt;if($a=C,(yt=I)&&!z)for(ne=g;ne!==null;)C=ne,I=C.child,C.tag===22&&C.memoizedState!==null?ty(g):I!==null?(I.return=C,ne=I):ty(g);for(;v!==null;)ne=v,Jg(v),v=v.sibling;ne=g,$a=A,yt=z}Zg(r)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,ne=v):Zg(r)}}function Zg(r){for(;ne!==null;){var i=ne;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:yt||Fa(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!yt)if(l===null)f.componentDidMount();else{var g=i.elementType===i.type?l.memoizedProps:sn(i.type,l.memoizedProps);f.componentDidUpdate(g,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=i.updateQueue;v!==null&&eg(i,v,f);break;case 3:var C=i.updateQueue;if(C!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}eg(i,C,l)}break;case 5:var A=i.stateNode;if(l===null&&i.flags&4){l=A;var I=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&l.focus();break;case"img":I.src&&(l.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var z=i.alternate;if(z!==null){var G=z.memoizedState;if(G!==null){var K=G.dehydrated;K!==null&&Ri(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}yt||i.flags&512&&Vu(i)}catch(H){qe(i,i.return,H)}}if(i===r){ne=null;break}if(l=i.sibling,l!==null){l.return=i.return,ne=l;break}ne=i.return}}function ey(r){for(;ne!==null;){var i=ne;if(i===r){ne=null;break}var l=i.sibling;if(l!==null){l.return=i.return,ne=l;break}ne=i.return}}function ty(r){for(;ne!==null;){var i=ne;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Fa(4,i)}catch(I){qe(i,l,I)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var g=i.return;try{f.componentDidMount()}catch(I){qe(i,g,I)}}var v=i.return;try{Vu(i)}catch(I){qe(i,v,I)}break;case 5:var C=i.return;try{Vu(i)}catch(I){qe(i,C,I)}}}catch(I){qe(i,i.return,I)}if(i===r){ne=null;break}var A=i.sibling;if(A!==null){A.return=i.return,ne=A;break}ne=i.return}}var Ok=Math.ceil,Va=P.ReactCurrentDispatcher,Bu=P.ReactCurrentOwner,Gt=P.ReactCurrentBatchConfig,Ne=0,lt=null,et=null,ft=0,$t=0,Es=nr(0),st=0,to=null,Dr=0,za=0,Wu=0,no=null,jt=null,Hu=0,js=1/0,zn=null,Ua=!1,Gu=null,lr=null,Ba=!1,cr=null,Wa=0,ro=0,qu=null,Ha=-1,Ga=0;function St(){return(Ne&6)!==0?Qe():Ha!==-1?Ha:Ha=Qe()}function ur(r){return(r.mode&1)===0?1:(Ne&2)!==0&&ft!==0?ft&-ft:yk.transition!==null?(Ga===0&&(Ga=Kp()),Ga):(r=Oe,r!==0||(r=window.event,r=r===void 0?16:rm(r.type)),r)}function ln(r,i,l,f){if(50<ro)throw ro=0,qu=null,Error(n(185));Ei(r,l,f),((Ne&2)===0||r!==lt)&&(r===lt&&((Ne&2)===0&&(za|=l),st===4&&dr(r,ft)),Pt(r,f),l===1&&Ne===0&&(i.mode&1)===0&&(js=Qe()+500,xa&&sr()))}function Pt(r,i){var l=r.callbackNode;y_(r,i);var f=ta(r,r===lt?ft:0);if(f===0)l!==null&&Hp(l),r.callbackNode=null,r.callbackPriority=0;else if(i=f&-f,r.callbackPriority!==i){if(l!=null&&Hp(l),i===1)r.tag===0?gk(ry.bind(null,r)):Um(ry.bind(null,r)),fk(function(){(Ne&6)===0&&sr()}),l=null;else{switch(Yp(f)){case 1:l=Tc;break;case 4:l=Gp;break;case 16:l=Xo;break;case 536870912:l=qp;break;default:l=Xo}l=dy(l,ny.bind(null,r))}r.callbackPriority=i,r.callbackNode=l}}function ny(r,i){if(Ha=-1,Ga=0,(Ne&6)!==0)throw Error(n(327));var l=r.callbackNode;if(Ps()&&r.callbackNode!==l)return null;var f=ta(r,r===lt?ft:0);if(f===0)return null;if((f&30)!==0||(f&r.expiredLanes)!==0||i)i=qa(r,f);else{i=f;var g=Ne;Ne|=2;var v=iy();(lt!==r||ft!==i)&&(zn=null,js=Qe()+500,Fr(r,i));do try{Dk();break}catch(A){sy(r,A)}while(!0);du(),Va.current=v,Ne=g,et!==null?i=0:(lt=null,ft=0,i=st)}if(i!==0){if(i===2&&(g=Ec(r),g!==0&&(f=g,i=Ku(r,g))),i===1)throw l=to,Fr(r,0),dr(r,f),Pt(r,Qe()),l;if(i===6)dr(r,f);else{if(g=r.current.alternate,(f&30)===0&&!Lk(g)&&(i=qa(r,f),i===2&&(v=Ec(r),v!==0&&(f=v,i=Ku(r,v))),i===1))throw l=to,Fr(r,0),dr(r,f),Pt(r,Qe()),l;switch(r.finishedWork=g,r.finishedLanes=f,i){case 0:case 1:throw Error(n(345));case 2:Vr(r,jt,zn);break;case 3:if(dr(r,f),(f&130023424)===f&&(i=Hu+500-Qe(),10<i)){if(ta(r,0)!==0)break;if(g=r.suspendedLanes,(g&f)!==f){St(),r.pingedLanes|=r.suspendedLanes&g;break}r.timeoutHandle=eu(Vr.bind(null,r,jt,zn),i);break}Vr(r,jt,zn);break;case 4:if(dr(r,f),(f&4194240)===f)break;for(i=r.eventTimes,g=-1;0<f;){var C=31-tn(f);v=1<<C,C=i[C],C>g&&(g=C),f&=~v}if(f=g,f=Qe()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Ok(f/1960))-f,10<f){r.timeoutHandle=eu(Vr.bind(null,r,jt,zn),f);break}Vr(r,jt,zn);break;case 5:Vr(r,jt,zn);break;default:throw Error(n(329))}}}return Pt(r,Qe()),r.callbackNode===l?ny.bind(null,r):null}function Ku(r,i){var l=no;return r.current.memoizedState.isDehydrated&&(Fr(r,i).flags|=256),r=qa(r,i),r!==2&&(i=jt,jt=l,i!==null&&Yu(i)),r}function Yu(r){jt===null?jt=r:jt.push.apply(jt,r)}function Lk(r){for(var i=r;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var g=l[f],v=g.getSnapshot;g=g.value;try{if(!nn(v(),g))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function dr(r,i){for(i&=~Wu,i&=~za,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var l=31-tn(i),f=1<<l;r[l]=-1,i&=~f}}function ry(r){if((Ne&6)!==0)throw Error(n(327));Ps();var i=ta(r,0);if((i&1)===0)return Pt(r,Qe()),null;var l=qa(r,i);if(r.tag!==0&&l===2){var f=Ec(r);f!==0&&(i=f,l=Ku(r,f))}if(l===1)throw l=to,Fr(r,0),dr(r,i),Pt(r,Qe()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Vr(r,jt,zn),Pt(r,Qe()),null}function Qu(r,i){var l=Ne;Ne|=1;try{return r(i)}finally{Ne=l,Ne===0&&(js=Qe()+500,xa&&sr())}}function $r(r){cr!==null&&cr.tag===0&&(Ne&6)===0&&Ps();var i=Ne;Ne|=1;var l=Gt.transition,f=Oe;try{if(Gt.transition=null,Oe=1,r)return r()}finally{Oe=f,Gt.transition=l,Ne=i,(Ne&6)===0&&sr()}}function Xu(){$t=Es.current,Ve(Es)}function Fr(r,i){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,dk(l)),et!==null)for(l=et.return;l!==null;){var f=l;switch(ou(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&va();break;case 3:ks(),Ve(Ct),Ve(pt),wu();break;case 5:yu(f);break;case 4:ks();break;case 13:Ve(We);break;case 19:Ve(We);break;case 10:fu(f.type._context);break;case 22:case 23:Xu()}l=l.return}if(lt=r,et=r=fr(r.current,null),ft=$t=i,st=0,to=null,Wu=za=Dr=0,jt=no=null,Or!==null){for(i=0;i<Or.length;i++)if(l=Or[i],f=l.interleaved,f!==null){l.interleaved=null;var g=f.next,v=l.pending;if(v!==null){var C=v.next;v.next=g,f.next=C}l.pending=f}Or=null}return r}function sy(r,i){do{var l=et;try{if(du(),Aa.current=Oa,Na){for(var f=He.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Na=!1}if(Mr=0,at=rt=He=null,Yi=!1,Qi=0,Bu.current=null,l===null||l.return===null){st=1,to=i,et=null;break}e:{var v=r,C=l.return,A=l,I=i;if(i=ft,A.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var z=I,G=A,K=G.tag;if((G.mode&1)===0&&(K===0||K===11||K===15)){var H=G.alternate;H?(G.updateQueue=H.updateQueue,G.memoizedState=H.memoizedState,G.lanes=H.lanes):(G.updateQueue=null,G.memoizedState=null)}var Z=Pg(C);if(Z!==null){Z.flags&=-257,Ag(Z,C,A,v,i),Z.mode&1&&jg(v,z,i),i=Z,I=z;var re=i.updateQueue;if(re===null){var oe=new Set;oe.add(I),i.updateQueue=oe}else re.add(I);break e}else{if((i&1)===0){jg(v,z,i),Ju();break e}I=Error(n(426))}}else if(ze&&A.mode&1){var Xe=Pg(C);if(Xe!==null){(Xe.flags&65536)===0&&(Xe.flags|=256),Ag(Xe,C,A,v,i),cu(Cs(I,A));break e}}v=I=Cs(I,A),st!==4&&(st=2),no===null?no=[v]:no.push(v),v=C;do{switch(v.tag){case 3:v.flags|=65536,i&=-i,v.lanes|=i;var F=Tg(v,I,i);Zm(v,F);break e;case 1:A=I;var O=v.type,V=v.stateNode;if((v.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(lr===null||!lr.has(V)))){v.flags|=65536,i&=-i,v.lanes|=i;var Y=Eg(v,A,i);Zm(v,Y);break e}}v=v.return}while(v!==null)}ay(l)}catch(le){i=le,et===l&&l!==null&&(et=l=l.return);continue}break}while(!0)}function iy(){var r=Va.current;return Va.current=Oa,r===null?Oa:r}function Ju(){(st===0||st===3||st===2)&&(st=4),lt===null||(Dr&268435455)===0&&(za&268435455)===0||dr(lt,ft)}function qa(r,i){var l=Ne;Ne|=2;var f=iy();(lt!==r||ft!==i)&&(zn=null,Fr(r,i));do try{Mk();break}catch(g){sy(r,g)}while(!0);if(du(),Ne=l,Va.current=f,et!==null)throw Error(n(261));return lt=null,ft=0,st}function Mk(){for(;et!==null;)oy(et)}function Dk(){for(;et!==null&&!l_();)oy(et)}function oy(r){var i=uy(r.alternate,r,$t);r.memoizedProps=r.pendingProps,i===null?ay(r):et=i,Bu.current=null}function ay(r){var i=r;do{var l=i.alternate;if(r=i.return,(i.flags&32768)===0){if(l=Pk(l,i,$t),l!==null){et=l;return}}else{if(l=Ak(l,i),l!==null){l.flags&=32767,et=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{st=6,et=null;return}}if(i=i.sibling,i!==null){et=i;return}et=i=r}while(i!==null);st===0&&(st=5)}function Vr(r,i,l){var f=Oe,g=Gt.transition;try{Gt.transition=null,Oe=1,$k(r,i,l,f)}finally{Gt.transition=g,Oe=f}return null}function $k(r,i,l,f){do Ps();while(cr!==null);if((Ne&6)!==0)throw Error(n(327));l=r.finishedWork;var g=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var v=l.lanes|l.childLanes;if(v_(r,v),r===lt&&(et=lt=null,ft=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ba||(Ba=!0,dy(Xo,function(){return Ps(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=Gt.transition,Gt.transition=null;var C=Oe;Oe=1;var A=Ne;Ne|=4,Bu.current=null,Rk(r,l),Xg(l,r),sk(Jc),sa=!!Xc,Jc=Xc=null,r.current=l,Ik(l),c_(),Ne=A,Oe=C,Gt.transition=v}else r.current=l;if(Ba&&(Ba=!1,cr=r,Wa=g),v=r.pendingLanes,v===0&&(lr=null),f_(l.stateNode),Pt(r,Qe()),i!==null)for(f=r.onRecoverableError,l=0;l<i.length;l++)g=i[l],f(g.value,{componentStack:g.stack,digest:g.digest});if(Ua)throw Ua=!1,r=Gu,Gu=null,r;return(Wa&1)!==0&&r.tag!==0&&Ps(),v=r.pendingLanes,(v&1)!==0?r===qu?ro++:(ro=0,qu=r):ro=0,sr(),null}function Ps(){if(cr!==null){var r=Yp(Wa),i=Gt.transition,l=Oe;try{if(Gt.transition=null,Oe=16>r?16:r,cr===null)var f=!1;else{if(r=cr,cr=null,Wa=0,(Ne&6)!==0)throw Error(n(331));var g=Ne;for(Ne|=4,ne=r.current;ne!==null;){var v=ne,C=v.child;if((ne.flags&16)!==0){var A=v.deletions;if(A!==null){for(var I=0;I<A.length;I++){var z=A[I];for(ne=z;ne!==null;){var G=ne;switch(G.tag){case 0:case 11:case 15:eo(8,G,v)}var K=G.child;if(K!==null)K.return=G,ne=K;else for(;ne!==null;){G=ne;var H=G.sibling,Z=G.return;if(Gg(G),G===z){ne=null;break}if(H!==null){H.return=Z,ne=H;break}ne=Z}}}var re=v.alternate;if(re!==null){var oe=re.child;if(oe!==null){re.child=null;do{var Xe=oe.sibling;oe.sibling=null,oe=Xe}while(oe!==null)}}ne=v}}if((v.subtreeFlags&2064)!==0&&C!==null)C.return=v,ne=C;else e:for(;ne!==null;){if(v=ne,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:eo(9,v,v.return)}var F=v.sibling;if(F!==null){F.return=v.return,ne=F;break e}ne=v.return}}var O=r.current;for(ne=O;ne!==null;){C=ne;var V=C.child;if((C.subtreeFlags&2064)!==0&&V!==null)V.return=C,ne=V;else e:for(C=O;ne!==null;){if(A=ne,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Fa(9,A)}}catch(le){qe(A,A.return,le)}if(A===C){ne=null;break e}var Y=A.sibling;if(Y!==null){Y.return=A.return,ne=Y;break e}ne=A.return}}if(Ne=g,sr(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(Jo,r)}catch{}f=!0}return f}finally{Oe=l,Gt.transition=i}}return!1}function ly(r,i,l){i=Cs(l,i),i=Tg(r,i,1),r=or(r,i,1),i=St(),r!==null&&(Ei(r,1,i),Pt(r,i))}function qe(r,i,l){if(r.tag===3)ly(r,r,l);else for(;i!==null;){if(i.tag===3){ly(i,r,l);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(lr===null||!lr.has(f))){r=Cs(l,r),r=Eg(i,r,1),i=or(i,r,1),r=St(),i!==null&&(Ei(i,1,r),Pt(i,r));break}}i=i.return}}function Fk(r,i,l){var f=r.pingCache;f!==null&&f.delete(i),i=St(),r.pingedLanes|=r.suspendedLanes&l,lt===r&&(ft&l)===l&&(st===4||st===3&&(ft&130023424)===ft&&500>Qe()-Hu?Fr(r,0):Wu|=l),Pt(r,i)}function cy(r,i){i===0&&((r.mode&1)===0?i=1:(i=ea,ea<<=1,(ea&130023424)===0&&(ea=4194304)));var l=St();r=$n(r,i),r!==null&&(Ei(r,i,l),Pt(r,l))}function Vk(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),cy(r,l)}function zk(r,i){var l=0;switch(r.tag){case 13:var f=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(i),cy(r,l)}var uy;uy=function(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps||Ct.current)Et=!0;else{if((r.lanes&l)===0&&(i.flags&128)===0)return Et=!1,jk(r,i,l);Et=(r.flags&131072)!==0}else Et=!1,ze&&(i.flags&1048576)!==0&&Bm(i,Sa,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;Da(r,i),r=i.pendingProps;var g=ys(i,pt.current);_s(i,l),g=Su(null,i,f,r,g,l);var v=_u();return i.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Tt(f)?(v=!0,wa(i)):v=!1,i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,mu(i),g.updater=La,i.stateNode=g,g._reactInternals=i,Pu(i,f,r,l),i=Iu(null,i,f,!0,v,l)):(i.tag=0,ze&&v&&iu(i),bt(null,i,g,l),i=i.child),i;case 16:f=i.elementType;e:{switch(Da(r,i),r=i.pendingProps,g=f._init,f=g(f._payload),i.type=f,g=i.tag=Bk(f),r=sn(f,r),g){case 0:i=Ru(null,i,f,r,l);break e;case 1:i=Mg(null,i,f,r,l);break e;case 11:i=Ng(null,i,f,r,l);break e;case 14:i=Rg(null,i,f,sn(f.type,r),l);break e}throw Error(n(306,f,""))}return i;case 0:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:sn(f,g),Ru(r,i,f,g,l);case 1:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:sn(f,g),Mg(r,i,f,g,l);case 3:e:{if(Dg(i),r===null)throw Error(n(387));f=i.pendingProps,v=i.memoizedState,g=v.element,Jm(r,i),ja(i,f,null,l);var C=i.memoizedState;if(f=C.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){g=Cs(Error(n(423)),i),i=$g(r,i,f,l,g);break e}else if(f!==g){g=Cs(Error(n(424)),i),i=$g(r,i,f,l,g);break e}else for(Dt=tr(i.stateNode.containerInfo.firstChild),Mt=i,ze=!0,rn=null,l=Qm(i,null,f,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(xs(),f===g){i=Vn(r,i,l);break e}bt(r,i,f,l)}i=i.child}return i;case 5:return tg(i),r===null&&lu(i),f=i.type,g=i.pendingProps,v=r!==null?r.memoizedProps:null,C=g.children,Zc(f,g)?C=null:v!==null&&Zc(f,v)&&(i.flags|=32),Lg(r,i),bt(r,i,C,l),i.child;case 6:return r===null&&lu(i),null;case 13:return Fg(r,i,l);case 4:return gu(i,i.stateNode.containerInfo),f=i.pendingProps,r===null?i.child=bs(i,null,f,l):bt(r,i,f,l),i.child;case 11:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:sn(f,g),Ng(r,i,f,g,l);case 7:return bt(r,i,i.pendingProps,l),i.child;case 8:return bt(r,i,i.pendingProps.children,l),i.child;case 12:return bt(r,i,i.pendingProps.children,l),i.child;case 10:e:{if(f=i.type._context,g=i.pendingProps,v=i.memoizedProps,C=g.value,De(Ca,f._currentValue),f._currentValue=C,v!==null)if(nn(v.value,C)){if(v.children===g.children&&!Ct.current){i=Vn(r,i,l);break e}}else for(v=i.child,v!==null&&(v.return=i);v!==null;){var A=v.dependencies;if(A!==null){C=v.child;for(var I=A.firstContext;I!==null;){if(I.context===f){if(v.tag===1){I=Fn(-1,l&-l),I.tag=2;var z=v.updateQueue;if(z!==null){z=z.shared;var G=z.pending;G===null?I.next=I:(I.next=G.next,G.next=I),z.pending=I}}v.lanes|=l,I=v.alternate,I!==null&&(I.lanes|=l),hu(v.return,l,i),A.lanes|=l;break}I=I.next}}else if(v.tag===10)C=v.type===i.type?null:v.child;else if(v.tag===18){if(C=v.return,C===null)throw Error(n(341));C.lanes|=l,A=C.alternate,A!==null&&(A.lanes|=l),hu(C,l,i),C=v.sibling}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===i){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}bt(r,i,g.children,l),i=i.child}return i;case 9:return g=i.type,f=i.pendingProps.children,_s(i,l),g=Wt(g),f=f(g),i.flags|=1,bt(r,i,f,l),i.child;case 14:return f=i.type,g=sn(f,i.pendingProps),g=sn(f.type,g),Rg(r,i,f,g,l);case 15:return Ig(r,i,i.type,i.pendingProps,l);case 17:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:sn(f,g),Da(r,i),i.tag=1,Tt(f)?(r=!0,wa(i)):r=!1,_s(i,l),kg(i,f,g),Pu(i,f,g,l),Iu(null,i,f,!0,r,l);case 19:return zg(r,i,l);case 22:return Og(r,i,l)}throw Error(n(156,i.tag))};function dy(r,i){return Wp(r,i)}function Uk(r,i,l,f){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(r,i,l,f){return new Uk(r,i,l,f)}function Zu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Bk(r){if(typeof r=="function")return Zu(r)?1:0;if(r!=null){if(r=r.$$typeof,r===be)return 11;if(r===we)return 14}return 2}function fr(r,i){var l=r.alternate;return l===null?(l=qt(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Ka(r,i,l,f,g,v){var C=2;if(f=r,typeof r=="function")Zu(r)&&(C=1);else if(typeof r=="string")C=5;else e:switch(r){case $:return zr(l.children,g,v,i);case D:C=8,g|=8;break;case q:return r=qt(12,l,i,g|2),r.elementType=q,r.lanes=v,r;case me:return r=qt(13,l,i,g),r.elementType=me,r.lanes=v,r;case ae:return r=qt(19,l,i,g),r.elementType=ae,r.lanes=v,r;case W:return Ya(l,g,v,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case X:C=10;break e;case de:C=9;break e;case be:C=11;break e;case we:C=14;break e;case J:C=16,f=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=qt(C,l,i,g),i.elementType=r,i.type=f,i.lanes=v,i}function zr(r,i,l,f){return r=qt(7,r,f,i),r.lanes=l,r}function Ya(r,i,l,f){return r=qt(22,r,f,i),r.elementType=W,r.lanes=l,r.stateNode={isHidden:!1},r}function ed(r,i,l){return r=qt(6,r,null,i),r.lanes=l,r}function td(r,i,l){return i=qt(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Wk(r,i,l,f,g){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jc(0),this.expirationTimes=jc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jc(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function nd(r,i,l,f,g,v,C,A,I){return r=new Wk(r,i,l,A,I),i===1?(i=1,v===!0&&(i|=8)):i=0,v=qt(3,null,null,i),r.current=v,v.stateNode=r,v.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},mu(v),r}function Hk(r,i,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:f==null?null:""+f,children:r,containerInfo:i,implementation:l}}function fy(r){if(!r)return rr;r=r._reactInternals;e:{if(Pr(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Tt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(Tt(l))return Vm(r,l,i)}return i}function hy(r,i,l,f,g,v,C,A,I){return r=nd(l,f,!0,r,g,v,C,A,I),r.context=fy(null),l=r.current,f=St(),g=ur(l),v=Fn(f,g),v.callback=i??null,or(l,v,g),r.current.lanes=g,Ei(r,g,f),Pt(r,f),r}function Qa(r,i,l,f){var g=i.current,v=St(),C=ur(g);return l=fy(l),i.context===null?i.context=l:i.pendingContext=l,i=Fn(v,C),i.payload={element:r},f=f===void 0?null:f,f!==null&&(i.callback=f),r=or(g,i,C),r!==null&&(ln(r,g,C,v),Ea(r,g,C)),C}function Xa(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function py(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function rd(r,i){py(r,i),(r=r.alternate)&&py(r,i)}function Gk(){return null}var my=typeof reportError=="function"?reportError:function(r){console.error(r)};function sd(r){this._internalRoot=r}Ja.prototype.render=sd.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));Qa(r,i,null,null)},Ja.prototype.unmount=sd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;$r(function(){Qa(null,r,null,null)}),i[On]=null}};function Ja(r){this._internalRoot=r}Ja.prototype.unstable_scheduleHydration=function(r){if(r){var i=Jp();r={blockedOn:null,target:r,priority:i};for(var l=0;l<Jn.length&&i!==0&&i<Jn[l].priority;l++);Jn.splice(l,0,r),l===0&&tm(r)}};function id(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Za(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function gy(){}function qk(r,i,l,f,g){if(g){if(typeof f=="function"){var v=f;f=function(){var z=Xa(C);v.call(z)}}var C=hy(i,f,r,0,null,!1,!1,"",gy);return r._reactRootContainer=C,r[On]=C.current,zi(r.nodeType===8?r.parentNode:r),$r(),C}for(;g=r.lastChild;)r.removeChild(g);if(typeof f=="function"){var A=f;f=function(){var z=Xa(I);A.call(z)}}var I=nd(r,0,!1,null,null,!1,!1,"",gy);return r._reactRootContainer=I,r[On]=I.current,zi(r.nodeType===8?r.parentNode:r),$r(function(){Qa(i,I,l,f)}),I}function el(r,i,l,f,g){var v=l._reactRootContainer;if(v){var C=v;if(typeof g=="function"){var A=g;g=function(){var I=Xa(C);A.call(I)}}Qa(i,C,r,g)}else C=qk(l,i,r,g,f);return Xa(C)}Qp=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var l=Ti(i.pendingLanes);l!==0&&(Pc(i,l|1),Pt(i,Qe()),(Ne&6)===0&&(js=Qe()+500,sr()))}break;case 13:$r(function(){var f=$n(r,1);if(f!==null){var g=St();ln(f,r,1,g)}}),rd(r,1)}},Ac=function(r){if(r.tag===13){var i=$n(r,134217728);if(i!==null){var l=St();ln(i,r,134217728,l)}rd(r,134217728)}},Xp=function(r){if(r.tag===13){var i=ur(r),l=$n(r,i);if(l!==null){var f=St();ln(l,r,i,f)}rd(r,i)}},Jp=function(){return Oe},Zp=function(r,i){var l=Oe;try{return Oe=r,i()}finally{Oe=l}},Sc=function(r,i,l){switch(i){case"input":if(pc(r,l),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var f=l[i];if(f!==r&&f.form===r.form){var g=ya(f);if(!g)throw Error(n(90));Ot(f),pc(f,g)}}}break;case"textarea":jp(r,l);break;case"select":i=l.value,i!=null&&is(r,!!l.multiple,i,!1)}},Dp=Qu,$p=$r;var Kk={usingClientEntryPoint:!1,Events:[Wi,ms,ya,Lp,Mp,Qu]},so={findFiberByHostInstance:Ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yk={bundleType:so.bundleType,version:so.version,rendererPackageName:so.rendererPackageName,rendererConfig:so.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Up(r),r===null?null:r.stateNode},findFiberByHostInstance:so.findFiberByHostInstance||Gk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tl.isDisabled&&tl.supportsFiber)try{Jo=tl.inject(Yk),gn=tl}catch{}}return At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kk,At.createPortal=function(r,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!id(i))throw Error(n(200));return Hk(r,i,null,l)},At.createRoot=function(r,i){if(!id(r))throw Error(n(299));var l=!1,f="",g=my;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=nd(r,1,!1,null,null,l,!1,f,g),r[On]=i.current,zi(r.nodeType===8?r.parentNode:r),new sd(i)},At.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Up(i),r=r===null?null:r.stateNode,r},At.flushSync=function(r){return $r(r)},At.hydrate=function(r,i,l){if(!Za(i))throw Error(n(200));return el(null,r,i,!0,l)},At.hydrateRoot=function(r,i,l){if(!id(r))throw Error(n(405));var f=l!=null&&l.hydratedSources||null,g=!1,v="",C=my;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(C=l.onRecoverableError)),i=hy(i,null,r,1,l??null,g,!1,v,C),r[On]=i.current,zi(r),f)for(r=0;r<f.length;r++)l=f[r],g=l._getVersion,g=g(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,g]:i.mutableSourceEagerHydrationData.push(l,g);return new Ja(i)},At.render=function(r,i,l){if(!Za(i))throw Error(n(200));return el(null,r,i,!1,l)},At.unmountComponentAtNode=function(r){if(!Za(r))throw Error(n(40));return r._reactRootContainer?($r(function(){el(null,null,r,!1,function(){r._reactRootContainer=null,r[On]=null})}),!0):!1},At.unstable_batchedUpdates=Qu,At.unstable_renderSubtreeIntoContainer=function(r,i,l,f){if(!Za(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return el(r,i,l,!1,f)},At.version="18.3.1-next-f1338f8080-20240426",At}var ky;function iw(){if(ky)return ld.exports;ky=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ld.exports=sC(),ld.exports}var Cy;function iC(){if(Cy)return nl;Cy=1;var t=iw();return nl.createRoot=t.createRoot,nl.hydrateRoot=t.hydrateRoot,nl}var oC=iC(),b=rh();const _t=nh(b),ow=Xk({__proto__:null,default:_t},[b]);function Ty(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function aw(...t){return e=>{let n=!1;const s=t.map(o=>{const a=Ty(o,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<s.length;o++){const a=s[o];typeof a=="function"?a():Ty(t[o],null)}}}}function Be(...t){return b.useCallback(aw(...t),t)}function Eo(t){const e=aC(t),n=b.forwardRef((s,o)=>{const{children:a,...c}=s,u=b.Children.toArray(a),h=u.find(cC);if(h){const p=h.props.children,m=u.map(y=>y===h?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:y);return d.jsx(e,{...c,ref:o,children:b.isValidElement(p)?b.cloneElement(p,void 0,m):null})}return d.jsx(e,{...c,ref:o,children:a})});return n.displayName=`${t}.Slot`,n}var lw=Eo("Slot");function aC(t){const e=b.forwardRef((n,s)=>{const{children:o,...a}=n;if(b.isValidElement(o)){const c=dC(o),u=uC(a,o.props);return o.type!==b.Fragment&&(u.ref=s?aw(s,c):c),b.cloneElement(o,u)}return b.Children.count(o)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cw=Symbol("radix.slottable");function lC(t){const e=({children:n})=>d.jsx(d.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=cw,e}function cC(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cw}function uC(t,e){const n={...e};for(const s in e){const o=t[s],a=e[s];/^on[A-Z]/.test(s)?o&&a?n[s]=(...u)=>{const h=a(...u);return o(...u),h}:o&&(n[s]=o):s==="style"?n[s]={...o,...a}:s==="className"&&(n[s]=[o,a].filter(Boolean).join(" "))}return{...t,...n}}function dC(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function uw(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=uw(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function dw(){for(var t,e,n=0,s="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=uw(t))&&(s&&(s+=" "),s+=e);return s}const Ey=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,jy=dw,sh=(t,e)=>n=>{var s;if(e?.variants==null)return jy(t,n?.class,n?.className);const{variants:o,defaultVariants:a}=e,c=Object.keys(o).map(p=>{const m=n?.[p],y=a?.[p];if(m===null)return null;const w=Ey(m)||Ey(y);return o[p][w]}),u=n&&Object.entries(n).reduce((p,m)=>{let[y,w]=m;return w===void 0||(p[y]=w),p},{}),h=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((p,m)=>{let{class:y,className:w,...x}=m;return Object.entries(x).every(k=>{let[S,_]=k;return Array.isArray(_)?_.includes({...a,...u}[S]):{...a,...u}[S]===_})?[...p,y,w]:p},[]);return jy(t,c,h,n?.class,n?.className)},ih="-",fC=t=>{const e=pC(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:c=>{const u=c.split(ih);return u[0]===""&&u.length!==1&&u.shift(),fw(u,e)||hC(c)},getConflictingClassGroupIds:(c,u)=>{const h=n[c]||[];return u&&s[c]?[...h,...s[c]]:h}}},fw=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),o=s?fw(t.slice(1),s):void 0;if(o)return o;if(e.validators.length===0)return;const a=t.join(ih);return e.validators.find(({validator:c})=>c(a))?.classGroupId},Py=/^\[(.+)\]$/,hC=t=>{if(Py.test(t)){const e=Py.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},pC=t=>{const{theme:e,classGroups:n}=t,s={nextPart:new Map,validators:[]};for(const o in n)Kd(n[o],s,o,e);return s},Kd=(t,e,n,s)=>{t.forEach(o=>{if(typeof o=="string"){const a=o===""?e:Ay(e,o);a.classGroupId=n;return}if(typeof o=="function"){if(mC(o)){Kd(o(s),e,n,s);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,c])=>{Kd(c,Ay(e,a),n,s)})})},Ay=(t,e)=>{let n=t;return e.split(ih).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},mC=t=>t.isThemeGetter,gC=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const o=(a,c)=>{n.set(a,c),e++,e>t&&(e=0,s=n,n=new Map)};return{get(a){let c=n.get(a);if(c!==void 0)return c;if((c=s.get(a))!==void 0)return o(a,c),c},set(a,c){n.has(a)?n.set(a,c):o(a,c)}}},Yd="!",Qd=":",yC=Qd.length,vC=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=o=>{const a=[];let c=0,u=0,h=0,p;for(let k=0;k<o.length;k++){let S=o[k];if(c===0&&u===0){if(S===Qd){a.push(o.slice(h,k)),h=k+yC;continue}if(S==="/"){p=k;continue}}S==="["?c++:S==="]"?c--:S==="("?u++:S===")"&&u--}const m=a.length===0?o:o.substring(h),y=wC(m),w=y!==m,x=p&&p>h?p-h:void 0;return{modifiers:a,hasImportantModifier:w,baseClassName:y,maybePostfixModifierPosition:x}};if(e){const o=e+Qd,a=s;s=c=>c.startsWith(o)?a(c.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const o=s;s=a=>n({className:a,parseClassName:o})}return s},wC=t=>t.endsWith(Yd)?t.substring(0,t.length-1):t.startsWith(Yd)?t.substring(1):t,xC=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let a=[];return s.forEach(c=>{c[0]==="["||e[c]?(o.push(...a.sort(),c),a=[]):a.push(c)}),o.push(...a.sort()),o}},bC=t=>({cache:gC(t.cacheSize),parseClassName:vC(t),sortModifiers:xC(t),...fC(t)}),SC=/\s+/,_C=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:a}=e,c=[],u=t.trim().split(SC);let h="";for(let p=u.length-1;p>=0;p-=1){const m=u[p],{isExternal:y,modifiers:w,hasImportantModifier:x,baseClassName:k,maybePostfixModifierPosition:S}=n(m);if(y){h=m+(h.length>0?" "+h:h);continue}let _=!!S,j=s(_?k.substring(0,S):k);if(!j){if(!_){h=m+(h.length>0?" "+h:h);continue}if(j=s(k),!j){h=m+(h.length>0?" "+h:h);continue}_=!1}const E=a(w).join(":"),T=x?E+Yd:E,P=T+j;if(c.includes(P))continue;c.push(P);const R=o(j,_);for(let M=0;M<R.length;++M){const $=R[M];c.push(T+$)}h=m+(h.length>0?" "+h:h)}return h};function kC(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=hw(e))&&(s&&(s+=" "),s+=n);return s}const hw=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=hw(t[s]))&&(n&&(n+=" "),n+=e);return n};function CC(t,...e){let n,s,o,a=c;function c(h){const p=e.reduce((m,y)=>y(m),t());return n=bC(p),s=n.cache.get,o=n.cache.set,a=u,u(h)}function u(h){const p=s(h);if(p)return p;const m=_C(h,n);return o(h,m),m}return function(){return a(kC.apply(null,arguments))}}const it=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},pw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,mw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,TC=/^\d+\/\d+$/,EC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,AC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,NC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,As=t=>TC.test(t),Te=t=>!!t&&!Number.isNaN(Number(t)),pr=t=>!!t&&Number.isInteger(Number(t)),dd=t=>t.endsWith("%")&&Te(t.slice(0,-1)),Un=t=>EC.test(t),RC=()=>!0,IC=t=>jC.test(t)&&!PC.test(t),gw=()=>!1,OC=t=>AC.test(t),LC=t=>NC.test(t),MC=t=>!se(t)&&!ie(t),DC=t=>di(t,ww,gw),se=t=>pw.test(t),Ur=t=>di(t,xw,IC),fd=t=>di(t,UC,Te),Ny=t=>di(t,yw,gw),$C=t=>di(t,vw,LC),rl=t=>di(t,bw,OC),ie=t=>mw.test(t),oo=t=>fi(t,xw),FC=t=>fi(t,BC),Ry=t=>fi(t,yw),VC=t=>fi(t,ww),zC=t=>fi(t,vw),sl=t=>fi(t,bw,!0),di=(t,e,n)=>{const s=pw.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},fi=(t,e,n=!1)=>{const s=mw.exec(t);return s?s[1]?e(s[1]):n:!1},yw=t=>t==="position"||t==="percentage",vw=t=>t==="image"||t==="url",ww=t=>t==="length"||t==="size"||t==="bg-size",xw=t=>t==="length",UC=t=>t==="number",BC=t=>t==="family-name",bw=t=>t==="shadow",WC=()=>{const t=it("color"),e=it("font"),n=it("text"),s=it("font-weight"),o=it("tracking"),a=it("leading"),c=it("breakpoint"),u=it("container"),h=it("spacing"),p=it("radius"),m=it("shadow"),y=it("inset-shadow"),w=it("text-shadow"),x=it("drop-shadow"),k=it("blur"),S=it("perspective"),_=it("aspect"),j=it("ease"),E=it("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...P(),ie,se],M=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto","contain","none"],D=()=>[ie,se,h],q=()=>[As,"full","auto",...D()],X=()=>[pr,"none","subgrid",ie,se],de=()=>["auto",{span:["full",pr,ie,se]},pr,ie,se],be=()=>[pr,"auto",ie,se],me=()=>["auto","min","max","fr",ie,se],ae=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],we=()=>["start","end","center","stretch","center-safe","end-safe"],J=()=>["auto",...D()],W=()=>[As,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],L=()=>[t,ie,se],Q=()=>[...P(),Ry,Ny,{position:[ie,se]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],N=()=>["auto","cover","contain",VC,DC,{size:[ie,se]}],B=()=>[dd,oo,Ur],ee=()=>["","none","full",p,ie,se],ce=()=>["",Te,oo,Ur],_e=()=>["solid","dashed","dotted","double"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[Te,dd,Ry,Ny],xe=()=>["","none",k,ie,se],ke=()=>["none",Te,ie,se],Me=()=>["none",Te,ie,se],Ze=()=>[Te,ie,se],Ot=()=>[As,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Un],breakpoint:[Un],color:[RC],container:[Un],"drop-shadow":[Un],ease:["in","out","in-out"],font:[MC],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Un],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Un],shadow:[Un],spacing:["px",Te],text:[Un],"text-shadow":[Un],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",As,se,ie,_]}],container:["container"],columns:[{columns:[Te,se,ie,u]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[pr,"auto",ie,se]}],basis:[{basis:[As,"full","auto",u,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Te,As,"auto","initial","none",se]}],grow:[{grow:["",Te,ie,se]}],shrink:[{shrink:["",Te,ie,se]}],order:[{order:[pr,"first","last","none",ie,se]}],"grid-cols":[{"grid-cols":X()}],"col-start-end":[{col:de()}],"col-start":[{"col-start":be()}],"col-end":[{"col-end":be()}],"grid-rows":[{"grid-rows":X()}],"row-start-end":[{row:de()}],"row-start":[{"row-start":be()}],"row-end":[{"row-end":be()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":me()}],"auto-rows":[{"auto-rows":me()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...ae(),"normal"]}],"justify-items":[{"justify-items":[...we(),"normal"]}],"justify-self":[{"justify-self":["auto",...we()]}],"align-content":[{content:["normal",...ae()]}],"align-items":[{items:[...we(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...we(),{baseline:["","last"]}]}],"place-content":[{"place-content":ae()}],"place-items":[{"place-items":[...we(),"baseline"]}],"place-self":[{"place-self":["auto",...we()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[u,"screen",...W()]}],"min-w":[{"min-w":[u,"screen","none",...W()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",n,oo,Ur]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ie,fd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",dd,se]}],"font-family":[{font:[FC,se,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ie,se]}],"line-clamp":[{"line-clamp":[Te,"none",ie,fd]}],leading:[{leading:[a,...D()]}],"list-image":[{"list-image":["none",ie,se]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ie,se]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:[Te,"from-font","auto",ie,Ur]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[Te,"auto",ie,se]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ie,se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ie,se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Q()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:N()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},pr,ie,se],radial:["",ie,se],conic:[pr,ie,se]},zC,$C]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:ce()}],"border-w-x":[{"border-x":ce()}],"border-w-y":[{"border-y":ce()}],"border-w-s":[{"border-s":ce()}],"border-w-e":[{"border-e":ce()}],"border-w-t":[{"border-t":ce()}],"border-w-r":[{"border-r":ce()}],"border-w-b":[{"border-b":ce()}],"border-w-l":[{"border-l":ce()}],"divide-x":[{"divide-x":ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[..._e(),"hidden","none"]}],"divide-style":[{divide:[..._e(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[..._e(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Te,ie,se]}],"outline-w":[{outline:["",Te,oo,Ur]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",m,sl,rl]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",y,sl,rl]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[Te,Ur]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":ce()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",w,sl,rl]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[Te,ie,se]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Te]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[ie,se]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[Te]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Q()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:N()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ie,se]}],filter:[{filter:["","none",ie,se]}],blur:[{blur:xe()}],brightness:[{brightness:[Te,ie,se]}],contrast:[{contrast:[Te,ie,se]}],"drop-shadow":[{"drop-shadow":["","none",x,sl,rl]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",Te,ie,se]}],"hue-rotate":[{"hue-rotate":[Te,ie,se]}],invert:[{invert:["",Te,ie,se]}],saturate:[{saturate:[Te,ie,se]}],sepia:[{sepia:["",Te,ie,se]}],"backdrop-filter":[{"backdrop-filter":["","none",ie,se]}],"backdrop-blur":[{"backdrop-blur":xe()}],"backdrop-brightness":[{"backdrop-brightness":[Te,ie,se]}],"backdrop-contrast":[{"backdrop-contrast":[Te,ie,se]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Te,ie,se]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Te,ie,se]}],"backdrop-invert":[{"backdrop-invert":["",Te,ie,se]}],"backdrop-opacity":[{"backdrop-opacity":[Te,ie,se]}],"backdrop-saturate":[{"backdrop-saturate":[Te,ie,se]}],"backdrop-sepia":[{"backdrop-sepia":["",Te,ie,se]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ie,se]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Te,"initial",ie,se]}],ease:[{ease:["linear","initial",j,ie,se]}],delay:[{delay:[Te,ie,se]}],animate:[{animate:["none",E,ie,se]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,ie,se]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:ke()}],"rotate-x":[{"rotate-x":ke()}],"rotate-y":[{"rotate-y":ke()}],"rotate-z":[{"rotate-z":ke()}],scale:[{scale:Me()}],"scale-x":[{"scale-x":Me()}],"scale-y":[{"scale-y":Me()}],"scale-z":[{"scale-z":Me()}],"scale-3d":["scale-3d"],skew:[{skew:Ze()}],"skew-x":[{"skew-x":Ze()}],"skew-y":[{"skew-y":Ze()}],transform:[{transform:[ie,se,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ot()}],"translate-x":[{"translate-x":Ot()}],"translate-y":[{"translate-y":Ot()}],"translate-z":[{"translate-z":Ot()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ie,se]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ie,se]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[Te,oo,Ur,fd]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},HC=CC(WC);function Ie(...t){return HC(dw(t))}const GC=sh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),ue=b.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...o},a)=>{const c=s?lw:"button";return d.jsx(c,{"data-slot":"button",className:Ie(GC({variant:e,size:n,className:t})),ref:a,...o})});ue.displayName="Button";function vt({className:t,...e}){return d.jsx("div",{"data-slot":"card",className:Ie("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function es({className:t,...e}){return d.jsx("div",{"data-slot":"card-header",className:Ie("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function Sr({className:t,...e}){return d.jsx("h4",{"data-slot":"card-title",className:Ie("leading-none",t),...e})}function qC({className:t,...e}){return d.jsx("p",{"data-slot":"card-description",className:Ie("text-muted-foreground",t),...e})}function wt({className:t,...e}){return d.jsx("div",{"data-slot":"card-content",className:Ie("px-6 [&:last-child]:pb-6",t),...e})}const KC=sh("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ye({className:t,variant:e,asChild:n=!1,...s}){const o=n?lw:"span";return d.jsx(o,{"data-slot":"badge",className:Ie(KC({variant:e}),t),...s})}function YC(t,e){const n=b.createContext(e),s=a=>{const{children:c,...u}=a,h=b.useMemo(()=>u,Object.values(u));return d.jsx(n.Provider,{value:h,children:c})};s.displayName=t+"Provider";function o(a){const c=b.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[s,o]}function pn(t,e=[]){let n=[];function s(a,c){const u=b.createContext(c),h=n.length;n=[...n,c];const p=y=>{const{scope:w,children:x,...k}=y,S=w?.[t]?.[h]||u,_=b.useMemo(()=>k,Object.values(k));return d.jsx(S.Provider,{value:_,children:x})};p.displayName=a+"Provider";function m(y,w){const x=w?.[t]?.[h]||u,k=b.useContext(x);if(k)return k;if(c!==void 0)return c;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[p,m]}const o=()=>{const a=n.map(c=>b.createContext(c));return function(u){const h=u?.[t]||a;return b.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return o.scopeName=t,[s,QC(o,...e)]}function QC(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=s.reduce((u,{useScope:h,scopeName:p})=>{const y=h(a)[`__scope${p}`];return{...u,...y}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}var oh=iw();const XC=nh(oh);var JC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pe=JC.reduce((t,e)=>{const n=Eo(`Primitive.${e}`),s=b.forwardRef((o,a)=>{const{asChild:c,...u}=o,h=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(h,{...u,ref:a})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function ZC(t,e){t&&oh.flushSync(()=>t.dispatchEvent(e))}var ah="Progress",lh=100,[eT]=pn(ah),[tT,nT]=eT(ah),Sw=b.forwardRef((t,e)=>{const{__scopeProgress:n,value:s=null,max:o,getValueLabel:a=rT,...c}=t;(o||o===0)&&!Iy(o)&&console.error(sT(`${o}`,"Progress"));const u=Iy(o)?o:lh;s!==null&&!Oy(s,u)&&console.error(iT(`${s}`,"Progress"));const h=Oy(s,u)?s:null,p=Pl(h)?a(h,u):void 0;return d.jsx(tT,{scope:n,value:h,max:u,children:d.jsx(Pe.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":Pl(h)?h:void 0,"aria-valuetext":p,role:"progressbar","data-state":Cw(h,u),"data-value":h??void 0,"data-max":u,...c,ref:e})})});Sw.displayName=ah;var _w="ProgressIndicator",kw=b.forwardRef((t,e)=>{const{__scopeProgress:n,...s}=t,o=nT(_w,n);return d.jsx(Pe.div,{"data-state":Cw(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...s,ref:e})});kw.displayName=_w;function rT(t,e){return`${Math.round(t/e*100)}%`}function Cw(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Pl(t){return typeof t=="number"}function Iy(t){return Pl(t)&&!isNaN(t)&&t>0}function Oy(t,e){return Pl(t)&&!isNaN(t)&&t<=e&&t>=0}function sT(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${lh}\`.`}function iT(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${lh} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var oT=Sw,aT=kw;function jo({className:t,value:e,...n}){return d.jsx(oT,{"data-slot":"progress",className:Ie("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...n,children:d.jsx(aT,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cT=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Ly=t=>{const e=cT(t);return e.charAt(0).toUpperCase()+e.slice(1)},Tw=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:a,iconNode:c,...u},h)=>b.createElement("svg",{ref:h,...uT,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:Tw("lucide",o),...u},[...c.map(([p,m])=>b.createElement(p,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(t,e)=>{const n=b.forwardRef(({className:s,...o},a)=>b.createElement(dT,{ref:a,iconNode:e,className:Tw(`lucide-${lT(Ly(t))}`,`lucide-${t}`,s),...o}));return n.displayName=Ly(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Xd=pe("arrow-left",fT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ew=pe("award",hT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Al=pe("book-open",pT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],gT=pe("briefcase",mT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],vT=pe("camera",yT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ch=pe("chevron-down",wT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],bT=pe("chevron-up",xT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],uh=pe("circle-alert",ST);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ri=pe("circle-check",_T);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],CT=pe("circle",kT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Jd=pe("clock",TT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],jT=pe("cloud-off",ET);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],AT=pe("cloud",PT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],RT=pe("coffee",NT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],OT=pe("download",IT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],MT=pe("eye-off",LT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zd=pe("eye",DT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],FT=pe("gamepad-2",$T);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],zT=pe("globe",VT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],ef=pe("graduation-cap",UT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],WT=pe("heart",BT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],My=pe("info",HT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],qT=pe("lightbulb",GT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],dn=pe("loader-circle",KT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],yo=pe("lock",YT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],XT=pe("log-in",QT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],ZT=pe("log-out",JT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],tE=pe("mail",eE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],rE=pe("menu",nE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],qs=pe("message-circle",sE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],oE=pe("mic-off",iE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],ts=pe("mic",aE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M5 12h14",key:"1ays0h"}]],cE=pe("minus",lE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],dE=pe("music",uE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],jw=pe("pause",fE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Pw=pe("play",hE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Dy=pe("refresh-cw",pE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Nl=pe("rotate-ccw",mE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Aw=pe("send",gE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nw=pe("settings",yE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],$y=pe("star",vE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Fy=pe("target",wE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],bE=pe("thumbs-up",xE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],_E=pe("trending-down",SE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],xr=pe("trending-up",kE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],TE=pe("triangle-alert",CE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],jE=pe("user-plus",EE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Rw=pe("user",PE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],NE=pe("utensils",AE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],tf=pe("volume-2",RE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Iw=pe("x",IE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],si=pe("zap",OE),dh=b.createContext({});function fh(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const hh=typeof window<"u",Ow=hh?b.useLayoutEffect:b.useEffect,Gl=b.createContext(null);function ph(t,e){t.indexOf(e)===-1&&t.push(e)}function mh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Hn=(t,e,n)=>n>e?e:n<t?t:n;let gh=()=>{};const Gn={},Lw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Mw(t){return typeof t=="object"&&t!==null}const Dw=t=>/^0[^.\s]+$/u.test(t);function yh(t){let e;return()=>(e===void 0&&(e=t()),e)}const Zt=t=>t,LE=(t,e)=>n=>e(t(n)),Vo=(...t)=>t.reduce(LE),Po=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class vh{constructor(){this.subscriptions=[]}add(e){return ph(this.subscriptions,e),()=>mh(this.subscriptions,e)}notify(e,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,s);else for(let a=0;a<o;a++){const c=this.subscriptions[a];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Tn=t=>t*1e3,Xt=t=>t/1e3;function $w(t,e){return e?t*(1e3/e):0}const Fw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ME=1e-7,DE=12;function $E(t,e,n,s,o){let a,c,u=0;do c=e+(n-e)/2,a=Fw(c,s,o)-t,a>0?n=c:e=c;while(Math.abs(a)>ME&&++u<DE);return c}function zo(t,e,n,s){if(t===e&&n===s)return Zt;const o=a=>$E(a,0,1,t,n);return a=>a===0||a===1?a:Fw(o(a),e,s)}const Vw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zw=t=>e=>1-t(1-e),Uw=zo(.33,1.53,.69,.99),wh=zw(Uw),Bw=Vw(wh),Ww=t=>(t*=2)<1?.5*wh(t):.5*(2-Math.pow(2,-10*(t-1))),xh=t=>1-Math.sin(Math.acos(t)),Hw=zw(xh),Gw=Vw(xh),FE=zo(.42,0,1,1),VE=zo(0,0,.58,1),qw=zo(.42,0,.58,1),zE=t=>Array.isArray(t)&&typeof t[0]!="number",Kw=t=>Array.isArray(t)&&typeof t[0]=="number",UE={linear:Zt,easeIn:FE,easeInOut:qw,easeOut:VE,circIn:xh,circInOut:Gw,circOut:Hw,backIn:wh,backInOut:Bw,backOut:Uw,anticipate:Ww},BE=t=>typeof t=="string",Vy=t=>{if(Kw(t)){gh(t.length===4);const[e,n,s,o]=t;return zo(e,n,s,o)}else if(BE(t))return UE[t];return t},il=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function WE(t,e){let n=new Set,s=new Set,o=!1,a=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(m){c.has(m)&&(p.schedule(m),t()),m(u)}const p={schedule:(m,y=!1,w=!1)=>{const k=w&&o?n:s;return y&&c.add(m),k.has(m)||k.add(m),m},cancel:m=>{s.delete(m),c.delete(m)},process:m=>{if(u=m,o){a=!0;return}o=!0,[n,s]=[s,n],n.forEach(h),n.clear(),o=!1,a&&(a=!1,p.process(m))}};return p}const HE=40;function Yw(t,e){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,c=il.reduce((T,P)=>(T[P]=WE(a),T),{}),{setup:u,read:h,resolveKeyframes:p,preUpdate:m,update:y,preRender:w,render:x,postRender:k}=c,S=()=>{const T=Gn.useManualTiming?o.timestamp:performance.now();n=!1,Gn.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(T-o.timestamp,HE),1)),o.timestamp=T,o.isProcessing=!0,u.process(o),h.process(o),p.process(o),m.process(o),y.process(o),w.process(o),x.process(o),k.process(o),o.isProcessing=!1,n&&e&&(s=!1,t(S))},_=()=>{n=!0,s=!0,o.isProcessing||t(S)};return{schedule:il.reduce((T,P)=>{const R=c[P];return T[P]=(M,$=!1,D=!1)=>(n||_(),R.schedule(M,$,D)),T},{}),cancel:T=>{for(let P=0;P<il.length;P++)c[il[P]].cancel(T)},state:o,steps:c}}const{schedule:Ue,cancel:_r,state:ht,steps:hd}=Yw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zt,!0);let bl;function GE(){bl=void 0}const It={now:()=>(bl===void 0&&It.set(ht.isProcessing||Gn.useManualTiming?ht.timestamp:performance.now()),bl),set:t=>{bl=t,queueMicrotask(GE)}},Qw=t=>e=>typeof e=="string"&&e.startsWith(t),bh=Qw("--"),qE=Qw("var(--"),Sh=t=>qE(t)?KE.test(t.split("/*")[0].trim()):!1,KE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ao={...hi,transform:t=>Hn(0,1,t)},ol={...hi,default:1},vo=t=>Math.round(t*1e5)/1e5,_h=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function YE(t){return t==null}const QE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kh=(t,e)=>n=>!!(typeof n=="string"&&QE.test(n)&&n.startsWith(t)||e&&!YE(n)&&Object.prototype.hasOwnProperty.call(n,e)),Xw=(t,e,n)=>s=>{if(typeof s!="string")return s;const[o,a,c,u]=s.match(_h);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},XE=t=>Hn(0,255,t),pd={...hi,transform:t=>Math.round(XE(t))},Yr={test:kh("rgb","red"),parse:Xw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+pd.transform(t)+", "+pd.transform(e)+", "+pd.transform(n)+", "+vo(Ao.transform(s))+")"};function JE(t){let e="",n="",s="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const nf={test:kh("#"),parse:JE,transform:Yr.transform},Uo=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),gr=Uo("deg"),En=Uo("%"),ge=Uo("px"),ZE=Uo("vh"),ej=Uo("vw"),zy={...En,parse:t=>En.parse(t)/100,transform:t=>En.transform(t*100)},Ks={test:kh("hsl","hue"),parse:Xw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+En.transform(vo(e))+", "+En.transform(vo(n))+", "+vo(Ao.transform(s))+")"},nt={test:t=>Yr.test(t)||nf.test(t)||Ks.test(t),parse:t=>Yr.test(t)?Yr.parse(t):Ks.test(t)?Ks.parse(t):nf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Yr.transform(t):Ks.transform(t),getAnimatableNone:t=>{const e=nt.parse(t);return e.alpha=0,nt.transform(e)}},tj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function nj(t){return isNaN(t)&&typeof t=="string"&&(t.match(_h)?.length||0)+(t.match(tj)?.length||0)>0}const Jw="number",Zw="color",rj="var",sj="var(",Uy="${}",ij=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function No(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},o=[];let a=0;const u=e.replace(ij,h=>(nt.test(h)?(s.color.push(a),o.push(Zw),n.push(nt.parse(h))):h.startsWith(sj)?(s.var.push(a),o.push(rj),n.push(h)):(s.number.push(a),o.push(Jw),n.push(parseFloat(h))),++a,Uy)).split(Uy);return{values:n,split:u,indexes:s,types:o}}function ex(t){return No(t).values}function tx(t){const{split:e,types:n}=No(t),s=e.length;return o=>{let a="";for(let c=0;c<s;c++)if(a+=e[c],o[c]!==void 0){const u=n[c];u===Jw?a+=vo(o[c]):u===Zw?a+=nt.transform(o[c]):a+=o[c]}return a}}const oj=t=>typeof t=="number"?0:nt.test(t)?nt.getAnimatableNone(t):t;function aj(t){const e=ex(t);return tx(t)(e.map(oj))}const kr={test:nj,parse:ex,createTransformer:tx,getAnimatableNone:aj};function md(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function lj({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let o=0,a=0,c=0;if(!e)o=a=c=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;o=md(h,u,t+1/3),a=md(h,u,t),c=md(h,u,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(c*255),alpha:s}}function Rl(t,e){return n=>n>0?e:t}const Ge=(t,e,n)=>t+(e-t)*n,gd=(t,e,n)=>{const s=t*t,o=n*(e*e-s)+s;return o<0?0:Math.sqrt(o)},cj=[nf,Yr,Ks],uj=t=>cj.find(e=>e.test(t));function By(t){const e=uj(t);if(!e)return!1;let n=e.parse(t);return e===Ks&&(n=lj(n)),n}const Wy=(t,e)=>{const n=By(t),s=By(e);if(!n||!s)return Rl(t,e);const o={...n};return a=>(o.red=gd(n.red,s.red,a),o.green=gd(n.green,s.green,a),o.blue=gd(n.blue,s.blue,a),o.alpha=Ge(n.alpha,s.alpha,a),Yr.transform(o))},rf=new Set(["none","hidden"]);function dj(t,e){return rf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function fj(t,e){return n=>Ge(t,e,n)}function Ch(t){return typeof t=="number"?fj:typeof t=="string"?Sh(t)?Rl:nt.test(t)?Wy:mj:Array.isArray(t)?nx:typeof t=="object"?nt.test(t)?Wy:hj:Rl}function nx(t,e){const n=[...t],s=n.length,o=t.map((a,c)=>Ch(a)(a,e[c]));return a=>{for(let c=0;c<s;c++)n[c]=o[c](a);return n}}function hj(t,e){const n={...t,...e},s={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(s[o]=Ch(t[o])(t[o],e[o]));return o=>{for(const a in s)n[a]=s[a](o);return n}}function pj(t,e){const n=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],c=t.indexes[a][s[a]],u=t.values[c]??0;n[o]=u,s[a]++}return n}const mj=(t,e)=>{const n=kr.createTransformer(e),s=No(t),o=No(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?rf.has(t)&&!o.values.length||rf.has(e)&&!s.values.length?dj(t,e):Vo(nx(pj(s,o),o.values),n):Rl(t,e)};function rx(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ge(t,e,n):Ch(t)(t,e)}const gj=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ue.update(e,n),stop:()=>_r(e),now:()=>ht.isProcessing?ht.timestamp:It.now()}},sx=(t,e,n=10)=>{let s="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)s+=Math.round(t(a/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Il=2e4;function Th(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Il;)e+=n,s=t.next(e);return e>=Il?1/0:e}function yj(t,e=100,n){const s=n({...t,keyframes:[0,e]}),o=Math.min(Th(s),Il);return{type:"keyframes",ease:a=>s.next(o*a).value/e,duration:Xt(o)}}const vj=5;function ix(t,e,n){const s=Math.max(e-vj,0);return $w(n-t(s),e-s)}const Ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},yd=.001;function wj({duration:t=Ke.duration,bounce:e=Ke.bounce,velocity:n=Ke.velocity,mass:s=Ke.mass}){let o,a,c=1-e;c=Hn(Ke.minDamping,Ke.maxDamping,c),t=Hn(Ke.minDuration,Ke.maxDuration,Xt(t)),c<1?(o=p=>{const m=p*c,y=m*t,w=m-n,x=sf(p,c),k=Math.exp(-y);return yd-w/x*k},a=p=>{const y=p*c*t,w=y*n+n,x=Math.pow(c,2)*Math.pow(p,2)*t,k=Math.exp(-y),S=sf(Math.pow(p,2),c);return(-o(p)+yd>0?-1:1)*((w-x)*k)/S}):(o=p=>{const m=Math.exp(-p*t),y=(p-n)*t+1;return-yd+m*y},a=p=>{const m=Math.exp(-p*t),y=(n-p)*(t*t);return m*y});const u=5/t,h=bj(o,a,u);if(t=Tn(t),isNaN(h))return{stiffness:Ke.stiffness,damping:Ke.damping,duration:t};{const p=Math.pow(h,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const xj=12;function bj(t,e,n){let s=n;for(let o=1;o<xj;o++)s=s-t(s)/e(s);return s}function sf(t,e){return t*Math.sqrt(1-e*e)}const Sj=["duration","bounce"],_j=["stiffness","damping","mass"];function Hy(t,e){return e.some(n=>t[n]!==void 0)}function kj(t){let e={velocity:Ke.velocity,stiffness:Ke.stiffness,damping:Ke.damping,mass:Ke.mass,isResolvedFromDuration:!1,...t};if(!Hy(t,_j)&&Hy(t,Sj))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,a=2*Hn(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Ke.mass,stiffness:o,damping:a}}else{const n=wj(t);e={...e,...n,mass:Ke.mass},e.isResolvedFromDuration=!0}return e}function Ol(t=Ke.visualDuration,e=Ke.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=n;const a=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:h,damping:p,mass:m,duration:y,velocity:w,isResolvedFromDuration:x}=kj({...n,velocity:-Xt(n.velocity||0)}),k=w||0,S=p/(2*Math.sqrt(h*m)),_=c-a,j=Xt(Math.sqrt(h/m)),E=Math.abs(_)<5;s||(s=E?Ke.restSpeed.granular:Ke.restSpeed.default),o||(o=E?Ke.restDelta.granular:Ke.restDelta.default);let T;if(S<1){const R=sf(j,S);T=M=>{const $=Math.exp(-S*j*M);return c-$*((k+S*j*_)/R*Math.sin(R*M)+_*Math.cos(R*M))}}else if(S===1)T=R=>c-Math.exp(-j*R)*(_+(k+j*_)*R);else{const R=j*Math.sqrt(S*S-1);T=M=>{const $=Math.exp(-S*j*M),D=Math.min(R*M,300);return c-$*((k+S*j*_)*Math.sinh(D)+R*_*Math.cosh(D))/R}}const P={calculatedDuration:x&&y||null,next:R=>{const M=T(R);if(x)u.done=R>=y;else{let $=R===0?k:0;S<1&&($=R===0?Tn(k):ix(T,R,M));const D=Math.abs($)<=s,q=Math.abs(c-M)<=o;u.done=D&&q}return u.value=u.done?c:M,u},toString:()=>{const R=Math.min(Th(P),Il),M=sx($=>P.next(R*$).value,R,30);return R+"ms "+M},toTransition:()=>{}};return P}Ol.applyToOptions=t=>{const e=yj(t,100,Ol);return t.ease=e.ease,t.duration=Tn(e.duration),t.type="keyframes",t};function of({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:c,min:u,max:h,restDelta:p=.5,restSpeed:m}){const y=t[0],w={done:!1,value:y},x=D=>u!==void 0&&D<u||h!==void 0&&D>h,k=D=>u===void 0?h:h===void 0||Math.abs(u-D)<Math.abs(h-D)?u:h;let S=n*e;const _=y+S,j=c===void 0?_:c(_);j!==_&&(S=j-y);const E=D=>-S*Math.exp(-D/s),T=D=>j+E(D),P=D=>{const q=E(D),X=T(D);w.done=Math.abs(q)<=p,w.value=w.done?j:X};let R,M;const $=D=>{x(w.value)&&(R=D,M=Ol({keyframes:[w.value,k(w.value)],velocity:ix(T,D,w.value),damping:o,stiffness:a,restDelta:p,restSpeed:m}))};return $(0),{calculatedDuration:null,next:D=>{let q=!1;return!M&&R===void 0&&(q=!0,P(D),$(D)),R!==void 0&&D>=R?M.next(D-R):(!q&&P(D),w)}}}function Cj(t,e,n){const s=[],o=n||Gn.mix||rx,a=t.length-1;for(let c=0;c<a;c++){let u=o(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||Zt:e;u=Vo(h,u)}s.push(u)}return s}function Tj(t,e,{clamp:n=!0,ease:s,mixer:o}={}){const a=t.length;if(gh(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=Cj(e,s,o),h=u.length,p=m=>{if(c&&m<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(m<t[y+1]);y++);const w=Po(t[y],t[y+1],m);return u[y](w)};return n?m=>p(Hn(t[0],t[a-1],m)):p}function Ej(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const o=Po(0,e,s);t.push(Ge(n,1,o))}}function jj(t){const e=[0];return Ej(e,t.length-1),e}function Pj(t,e){return t.map(n=>n*e)}function Aj(t,e){return t.map(()=>e||qw).splice(0,t.length-1)}function wo({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const o=zE(s)?s.map(Vy):Vy(s),a={done:!1,value:e[0]},c=Pj(n&&n.length===e.length?n:jj(e),t),u=Tj(c,e,{ease:Array.isArray(o)?o:Aj(e,o)});return{calculatedDuration:t,next:h=>(a.value=u(h),a.done=h>=t,a)}}const Nj=t=>t!==null;function Eh(t,{repeat:e,repeatType:n="loop"},s,o=1){const a=t.filter(Nj),u=o<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||s===void 0?a[u]:s}const Rj={decay:of,inertia:of,tween:wo,keyframes:wo,spring:Ol};function ox(t){typeof t.type=="string"&&(t.type=Rj[t.type])}class jh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Ij=t=>t/100;class Ph extends jh{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==It.now()&&this.tick(It.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;ox(e);const{type:n=wo,repeat:s=0,repeatDelay:o=0,repeatType:a,velocity:c=0}=e;let{keyframes:u}=e;const h=n||wo;h!==wo&&typeof u[0]!="number"&&(this.mixKeyframes=Vo(Ij,rx(u[0],u[1])),u=[0,100]);const p=h({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Th(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:o,mixKeyframes:a,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:m,repeat:y,repeatType:w,repeatDelay:x,type:k,onUpdate:S,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-p*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?j<0:j>o;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let T=this.currentTime,P=s;if(y){const D=Math.min(this.currentTime,o)/u;let q=Math.floor(D),X=D%1;!X&&D>=1&&(X=1),X===1&&q--,q=Math.min(q,y+1),!!(q%2)&&(w==="reverse"?(X=1-X,x&&(X-=x/u)):w==="mirror"&&(P=c)),T=Hn(0,1,X)*u}const R=E?{done:!1,value:m[0]}:P.next(T);a&&(R.value=a(R.value));let{done:M}=R;!E&&h!==null&&(M=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return $&&k!==of&&(R.value=Eh(m,this.options,_,this.speed)),S&&S(R.value),$&&this.finish(),R}then(e,n){return this.finished.then(e,n)}get duration(){return Xt(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Xt(e)}get time(){return Xt(this.currentTime)}set time(e){e=Tn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(It.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Xt(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=gj,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(It.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Oj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Qr=t=>t*180/Math.PI,af=t=>{const e=Qr(Math.atan2(t[1],t[0]));return lf(e)},Lj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:af,rotateZ:af,skewX:t=>Qr(Math.atan(t[1])),skewY:t=>Qr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},lf=t=>(t=t%360,t<0&&(t+=360),t),Gy=af,qy=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ky=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Mj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:qy,scaleY:Ky,scale:t=>(qy(t)+Ky(t))/2,rotateX:t=>lf(Qr(Math.atan2(t[6],t[5]))),rotateY:t=>lf(Qr(Math.atan2(-t[2],t[0]))),rotateZ:Gy,rotate:Gy,skewX:t=>Qr(Math.atan(t[4])),skewY:t=>Qr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function cf(t){return t.includes("scale")?1:0}function uf(t,e){if(!t||t==="none")return cf(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=Mj,o=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Lj,o=u}if(!o)return cf(e);const a=s[e],c=o[1].split(",").map($j);return typeof a=="function"?a(c):c[a]}const Dj=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return uf(n,e)};function $j(t){return parseFloat(t.trim())}const pi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mi=new Set(pi),Yy=t=>t===hi||t===ge,Fj=new Set(["x","y","z"]),Vj=pi.filter(t=>!Fj.has(t));function zj(t){const e=[];return Vj.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Xr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>uf(e,"x"),y:(t,{transform:e})=>uf(e,"y")};Xr.translateX=Xr.x;Xr.translateY=Xr.y;const Jr=new Set;let df=!1,ff=!1,hf=!1;function ax(){if(ff){const t=Array.from(Jr).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const o=zj(s);o.length&&(n.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([a,c])=>{s.getValue(a)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}ff=!1,df=!1,Jr.forEach(t=>t.complete(hf)),Jr.clear()}function lx(){Jr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ff=!0)})}function Uj(){hf=!0,lx(),ax(),hf=!1}class Ah{constructor(e,n,s,o,a,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=o,this.element=a,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Jr.add(this),df||(df=!0,Ue.read(lx),Ue.resolveKeyframes(ax))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:o}=this;if(e[0]===null){const a=o?.get(),c=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&n){const u=s.readValue(n,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),o&&a===void 0&&o.set(e[0])}Oj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Jr.delete(this)}cancel(){this.state==="scheduled"&&(Jr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Bj=t=>t.startsWith("--");function Wj(t,e,n){Bj(e)?t.style.setProperty(e,n):t.style[e]=n}const Hj=yh(()=>window.ScrollTimeline!==void 0),Gj={};function qj(t,e){const n=yh(t);return()=>Gj[e]??n()}const cx=qj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),co=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Qy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:co([0,.65,.55,1]),circOut:co([.55,0,1,.45]),backIn:co([.31,.01,.66,-.59]),backOut:co([.33,1.53,.69,.99])};function ux(t,e){if(t)return typeof t=="function"?cx()?sx(t,e):"ease-out":Kw(t)?co(t):Array.isArray(t)?t.map(n=>ux(n,e)||Qy.easeOut):Qy[t]}function Kj(t,e,n,{delay:s=0,duration:o=300,repeat:a=0,repeatType:c="loop",ease:u="easeOut",times:h}={},p=void 0){const m={[e]:n};h&&(m.offset=h);const y=ux(u,o);Array.isArray(y)&&(m.easing=y);const w={delay:s,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:c==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(m,w)}function dx(t){return typeof t=="function"&&"applyToOptions"in t}function Yj({type:t,...e}){return dx(t)&&cx()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Qj extends jh{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:o,pseudoElement:a,allowFlatten:c=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!a,this.allowFlatten=c,this.options=e,gh(typeof e.type!="string");const p=Yj(e);this.animation=Kj(n,s,o,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=Eh(o,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):Wj(n,s,m),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Xt(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Xt(e)}get time(){return Xt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Tn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Hj()?(this.animation.timeline=e,Zt):n(this)}}const fx={anticipate:Ww,backInOut:Bw,circInOut:Gw};function Xj(t){return t in fx}function Jj(t){typeof t.ease=="string"&&Xj(t.ease)&&(t.ease=fx[t.ease])}const Xy=10;class Zj extends Qj{constructor(e){Jj(e),ox(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:o,element:a,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new Ph({...c,autoplay:!1}),h=Tn(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-Xy).value,u.sample(h).value,Xy),u.stop()}}const Jy=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(kr.test(t)||t==="0")&&!t.startsWith("url("));function eP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function tP(t,e,n,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],c=Jy(o,e),u=Jy(a,e);return!c||!u?!1:eP(t)||(n==="spring"||dx(n))&&s}function pf(t){t.duration=0,t.type="keyframes"}const nP=new Set(["opacity","clipPath","filter","transform"]),rP=yh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function sP(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:o,damping:a,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=e.owner.getProps();return rP()&&n&&nP.has(n)&&(n!=="transform"||!p)&&!h&&!s&&o!=="mirror"&&a!==0&&c!=="inertia"}const iP=40;class oP extends jh{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:c="loop",keyframes:u,name:h,motionValue:p,element:m,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=It.now();const w={autoplay:e,delay:n,type:s,repeat:o,repeatDelay:a,repeatType:c,name:h,motionValue:p,element:m,...y},x=m?.KeyframeResolver||Ah;this.keyframeResolver=new x(u,(k,S,_)=>this.onKeyframesResolved(k,S,w,!_),h,p,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,o){this.keyframeResolver=void 0;const{name:a,type:c,velocity:u,delay:h,isHandoff:p,onUpdate:m}=s;this.resolvedAt=It.now(),tP(e,a,c,u)||((Gn.instantAnimations||!h)&&m?.(Eh(e,s,n)),e[0]=e[e.length-1],pf(s),s.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>iP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},x=!p&&sP(w)?new Zj({...w,element:w.motionValue.owner.current}):new Ph(w);x.finished.then(()=>this.notifyFinished()).catch(Zt),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Uj()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const aP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lP(t){const e=aP.exec(t);if(!e)return[,];const[,n,s,o]=e;return[`--${n??s}`,o]}function hx(t,e,n=1){const[s,o]=lP(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const c=a.trim();return Lw(c)?parseFloat(c):c}return Sh(o)?hx(o,e,n+1):o}function Nh(t,e){return t?.[e]??t?.default??t}const px=new Set(["width","height","top","left","right","bottom",...pi]),cP={test:t=>t==="auto",parse:t=>t},mx=t=>e=>e.test(t),gx=[hi,ge,En,gr,ej,ZE,cP],Zy=t=>gx.find(mx(t));function uP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Dw(t):!0}const dP=new Set(["brightness","contrast","saturate","opacity"]);function fP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(_h)||[];if(!s)return t;const o=n.replace(s,"");let a=dP.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+o+")"}const hP=/\b([a-z-]*)\(.*?\)/gu,mf={...kr,getAnimatableNone:t=>{const e=t.match(hP);return e?e.map(fP).join(" "):t}},ev={...hi,transform:Math.round},pP={rotate:gr,rotateX:gr,rotateY:gr,rotateZ:gr,scale:ol,scaleX:ol,scaleY:ol,scaleZ:ol,skew:gr,skewX:gr,skewY:gr,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:Ao,originX:zy,originY:zy,originZ:ge},Rh={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,backgroundPositionX:ge,backgroundPositionY:ge,...pP,zIndex:ev,fillOpacity:Ao,strokeOpacity:Ao,numOctaves:ev},mP={...Rh,color:nt,backgroundColor:nt,outlineColor:nt,fill:nt,stroke:nt,borderColor:nt,borderTopColor:nt,borderRightColor:nt,borderBottomColor:nt,borderLeftColor:nt,filter:mf,WebkitFilter:mf},yx=t=>mP[t];function vx(t,e){let n=yx(t);return n!==mf&&(n=kr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const gP=new Set(["auto","none","0"]);function yP(t,e,n){let s=0,o;for(;s<t.length&&!o;){const a=t[s];typeof a=="string"&&!gP.has(a)&&No(a).values.length&&(o=t[s]),s++}if(o&&n)for(const a of e)t[a]=vx(n,o)}class vP extends Ah{constructor(e,n,s,o,a){super(e,n,s,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),Sh(p))){const m=hx(p,n.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!px.has(s)||e.length!==2)return;const[o,a]=e,c=Zy(o),u=Zy(a);if(c!==u)if(Yy(c)&&Yy(u))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else Xr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||uP(e[o]))&&s.push(o);s.length&&yP(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const a=s.length-1,c=s[a];s[a]=Xr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,h])=>{e.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function wP(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=n?.[t]??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const wx=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function xx(t){return Mw(t)&&"offsetHeight"in t}const tv=30,xP=t=>!isNaN(parseFloat(t));class bP{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=It.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=It.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=xP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new vh);const s=this.events[e].add(n);return e==="change"?()=>{s(),Ue.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=It.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>tv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,tv);return $w(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ii(t,e){return new bP(t,e)}const{schedule:Ih}=Yw(queueMicrotask,!1),cn={x:!1,y:!1};function bx(){return cn.x||cn.y}function SP(t){return t==="x"||t==="y"?cn[t]?null:(cn[t]=!0,()=>{cn[t]=!1}):cn.x||cn.y?null:(cn.x=cn.y=!0,()=>{cn.x=cn.y=!1})}function Sx(t,e){const n=wP(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[n,o,()=>s.abort()]}function nv(t){return!(t.pointerType==="touch"||bx())}function _P(t,e,n={}){const[s,o,a]=Sx(t,n),c=u=>{if(!nv(u))return;const{target:h}=u,p=e(h,u);if(typeof p!="function"||!h)return;const m=y=>{nv(y)&&(p(y),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,o)};return s.forEach(u=>{u.addEventListener("pointerenter",c,o)}),a}const _x=(t,e)=>e?t===e?!0:_x(t,e.parentElement):!1,Oh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,kP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function CP(t){return kP.has(t.tagName)||t.tabIndex!==-1}const Sl=new WeakSet;function rv(t){return e=>{e.key==="Enter"&&t(e)}}function vd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const TP=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=rv(()=>{if(Sl.has(n))return;vd(n,"down");const o=rv(()=>{vd(n,"up")}),a=()=>vd(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function sv(t){return Oh(t)&&!bx()}function EP(t,e,n={}){const[s,o,a]=Sx(t,n),c=u=>{const h=u.currentTarget;if(!sv(u))return;Sl.add(h);const p=e(h,u),m=(x,k)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",w),Sl.has(h)&&Sl.delete(h),sv(x)&&typeof p=="function"&&p(x,{success:k})},y=x=>{m(x,h===window||h===document||n.useGlobalTarget||_x(h,x.target))},w=x=>{m(x,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",w,o)};return s.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",c,o),xx(u)&&(u.addEventListener("focus",p=>TP(p,o)),!CP(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function kx(t){return Mw(t)&&"ownerSVGElement"in t}function jP(t){return kx(t)&&t.tagName==="svg"}const xt=t=>!!(t&&t.getVelocity),PP=[...gx,nt,kr],AP=t=>PP.find(mx(t)),Lh=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function iv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function NP(...t){return e=>{let n=!1;const s=t.map(o=>{const a=iv(o,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<s.length;o++){const a=s[o];typeof a=="function"?a():iv(t[o],null)}}}}function RP(...t){return b.useCallback(NP(...t),t)}class IP extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=xx(s)&&s.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=o-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function OP({children:t,isPresent:e,anchorX:n,root:s}){const o=b.useId(),a=b.useRef(null),c=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=b.useContext(Lh),h=RP(a,t?.ref);return b.useInsertionEffect(()=>{const{width:p,height:m,top:y,left:w,right:x}=c.current;if(e||!a.current||!p||!m)return;const k=n==="left"?`left: ${w}`:`right: ${x}`;a.current.dataset.motionPopId=o;const S=document.createElement("style");u&&(S.nonce=u);const _=s??document.head;return _.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${m}px !important;
            ${k}px !important;
            top: ${y}px !important;
          }
        `),()=>{_.contains(S)&&_.removeChild(S)}},[e]),d.jsx(IP,{isPresent:e,childRef:a,sizeRef:c,children:b.cloneElement(t,{ref:h})})}const LP=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:a,mode:c,anchorX:u,root:h})=>{const p=fh(MP),m=b.useId();let y=!0,w=b.useMemo(()=>(y=!1,{id:m,initial:e,isPresent:n,custom:o,onExitComplete:x=>{p.set(x,!0);for(const k of p.values())if(!k)return;s&&s()},register:x=>(p.set(x,!1),()=>p.delete(x))}),[n,p,s]);return a&&y&&(w={...w}),b.useMemo(()=>{p.forEach((x,k)=>p.set(k,!1))},[n]),b.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),c==="popLayout"&&(t=d.jsx(OP,{isPresent:n,anchorX:u,root:h,children:t})),d.jsx(Gl.Provider,{value:w,children:t})};function MP(){return new Map}function Cx(t=!0){const e=b.useContext(Gl);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=e,a=b.useId();b.useEffect(()=>{if(t)return o(a)},[t]);const c=b.useCallback(()=>t&&s&&s(a),[a,s,t]);return!n&&s?[!1,c]:[!0]}const al=t=>t.key||"";function ov(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const Ro=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:a="sync",propagate:c=!1,anchorX:u="left",root:h})=>{const[p,m]=Cx(c),y=b.useMemo(()=>ov(t),[t]),w=c&&!p?[]:y.map(al),x=b.useRef(!0),k=b.useRef(y),S=fh(()=>new Map),[_,j]=b.useState(y),[E,T]=b.useState(y);Ow(()=>{x.current=!1,k.current=y;for(let M=0;M<E.length;M++){const $=al(E[M]);w.includes($)?S.delete($):S.get($)!==!0&&S.set($,!1)}},[E,w.length,w.join("-")]);const P=[];if(y!==_){let M=[...y];for(let $=0;$<E.length;$++){const D=E[$],q=al(D);w.includes(q)||(M.splice($,0,D),P.push(D))}return a==="wait"&&P.length&&(M=P),T(ov(M)),j(y),null}const{forceRender:R}=b.useContext(dh);return d.jsx(d.Fragment,{children:E.map(M=>{const $=al(M),D=c&&!p?!1:y===E||w.includes($),q=()=>{if(S.has($))S.set($,!0);else return;let X=!0;S.forEach(de=>{de||(X=!1)}),X&&(R?.(),T(k.current),c&&m?.(),s&&s())};return d.jsx(LP,{isPresent:D,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:a,root:h,onExitComplete:D?void 0:q,anchorX:u,children:M},$)})})},Tx=b.createContext({strict:!1}),av={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},oi={};for(const t in av)oi[t]={isEnabled:e=>av[t].some(n=>!!e[n])};function DP(t){for(const e in t)oi[e]={...oi[e],...t[e]}}const $P=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ll(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||$P.has(t)}let Ex=t=>!Ll(t);function FP(t){typeof t=="function"&&(Ex=e=>e.startsWith("on")?!Ll(e):t(e))}try{FP(require("@emotion/is-prop-valid").default)}catch{}function VP(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(Ex(o)||n===!0&&Ll(o)||!e&&!Ll(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const ql=b.createContext({});function Kl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Io(t){return typeof t=="string"||Array.isArray(t)}const Mh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dh=["initial",...Mh];function Yl(t){return Kl(t.animate)||Dh.some(e=>Io(t[e]))}function jx(t){return!!(Yl(t)||t.variants)}function zP(t,e){if(Yl(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Io(n)?n:void 0,animate:Io(s)?s:void 0}}return t.inherit!==!1?e:{}}function UP(t){const{initial:e,animate:n}=zP(t,b.useContext(ql));return b.useMemo(()=>({initial:e,animate:n}),[lv(e),lv(n)])}function lv(t){return Array.isArray(t)?t.join(" "):t}const Oo={};function BP(t){for(const e in t)Oo[e]=t[e],bh(e)&&(Oo[e].isCSSVariable=!0)}function Px(t,{layout:e,layoutId:n}){return mi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Oo[t]||t==="opacity")}const WP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},HP=pi.length;function GP(t,e,n){let s="",o=!0;for(let a=0;a<HP;a++){const c=pi[a],u=t[c];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(c.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const p=wx(u,Rh[c]);if(!h){o=!1;const m=WP[c]||c;s+=`${m}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,o?"":s):o&&(s="none"),s}function $h(t,e,n){const{style:s,vars:o,transformOrigin:a}=t;let c=!1,u=!1;for(const h in e){const p=e[h];if(mi.has(h)){c=!0;continue}else if(bh(h)){o[h]=p;continue}else{const m=wx(p,Rh[h]);h.startsWith("origin")?(u=!0,a[h]=m):s[h]=m}}if(e.transform||(c||n?s.transform=GP(e,t.transform,n):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:m=0}=a;s.transformOrigin=`${h} ${p} ${m}`}}const Fh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ax(t,e,n){for(const s in e)!xt(e[s])&&!Px(s,n)&&(t[s]=e[s])}function qP({transformTemplate:t},e){return b.useMemo(()=>{const n=Fh();return $h(n,e,t),Object.assign({},n.vars,n.style)},[e])}function KP(t,e){const n=t.style||{},s={};return Ax(s,n,t),Object.assign(s,qP(t,e)),s}function YP(t,e){const n={},s=KP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const QP={offset:"stroke-dashoffset",array:"stroke-dasharray"},XP={offset:"strokeDashoffset",array:"strokeDasharray"};function JP(t,e,n=1,s=0,o=!0){t.pathLength=1;const a=o?QP:XP;t[a.offset]=ge.transform(-s);const c=ge.transform(e),u=ge.transform(n);t[a.array]=`${c} ${u}`}function Nx(t,{attrX:e,attrY:n,attrScale:s,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...u},h,p,m){if($h(t,u,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:w}=t;y.transform&&(w.transform=y.transform,delete y.transform),(w.transform||y.transformOrigin)&&(w.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),w.transform&&(w.transformBox=m?.transformBox??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),s!==void 0&&(y.scale=s),o!==void 0&&JP(y,o,a,c,!1)}const Rx=()=>({...Fh(),attrs:{}}),Ix=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ZP(t,e,n,s){const o=b.useMemo(()=>{const a=Rx();return Nx(a,e,Ix(s),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};Ax(a,t.style,t),o.style={...a,...o.style}}return o}const eA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vh(t){return typeof t!="string"||t.includes("-")?!1:!!(eA.indexOf(t)>-1||/[A-Z]/u.test(t))}function tA(t,e,n,{latestValues:s},o,a=!1){const u=(Vh(t)?ZP:YP)(e,s,o,t),h=VP(e,typeof t=="string",a),p=t!==b.Fragment?{...h,...u,ref:n}:{},{children:m}=e,y=b.useMemo(()=>xt(m)?m.get():m,[m]);return b.createElement(t,{...p,children:y})}function cv(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function zh(t,e,n,s){if(typeof e=="function"){const[o,a]=cv(s);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=cv(s);e=e(n!==void 0?n:t.custom,o,a)}return e}function _l(t){return xt(t)?t.get():t}function nA({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,o){return{latestValues:rA(n,s,o,t),renderState:e()}}function rA(t,e,n,s){const o={},a=s(t,{});for(const w in a)o[w]=_l(a[w]);let{initial:c,animate:u}=t;const h=Yl(t),p=jx(t);e&&p&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||c===!1;const y=m?u:c;if(y&&typeof y!="boolean"&&!Kl(y)){const w=Array.isArray(y)?y:[y];for(let x=0;x<w.length;x++){const k=zh(t,w[x]);if(k){const{transitionEnd:S,transition:_,...j}=k;for(const E in j){let T=j[E];if(Array.isArray(T)){const P=m?T.length-1:0;T=T[P]}T!==null&&(o[E]=T)}for(const E in S)o[E]=S[E]}}}return o}const Ox=t=>(e,n)=>{const s=b.useContext(ql),o=b.useContext(Gl),a=()=>nA(t,e,s,o);return n?a():fh(a)};function Uh(t,e,n){const{style:s}=t,o={};for(const a in s)(xt(s[a])||e.style&&xt(e.style[a])||Px(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(o[a]=s[a]);return o}const sA=Ox({scrapeMotionValuesFromProps:Uh,createRenderState:Fh});function Lx(t,e,n){const s=Uh(t,e,n);for(const o in t)if(xt(t[o])||xt(e[o])){const a=pi.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[a]=t[o]}return s}const iA=Ox({scrapeMotionValuesFromProps:Lx,createRenderState:Rx}),oA=Symbol.for("motionComponentSymbol");function Ys(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function aA(t,e,n){return b.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Ys(n)&&(n.current=s))},[e])}const Bh=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lA="framerAppearId",Mx="data-"+Bh(lA),Dx=b.createContext({});function cA(t,e,n,s,o){const{visualElement:a}=b.useContext(ql),c=b.useContext(Tx),u=b.useContext(Gl),h=b.useContext(Lh).reducedMotion,p=b.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const m=p.current,y=b.useContext(Dx);m&&!m.projection&&o&&(m.type==="html"||m.type==="svg")&&uA(p.current,n,o,y);const w=b.useRef(!1);b.useInsertionEffect(()=>{m&&w.current&&m.update(n,u)});const x=n[Mx],k=b.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return Ow(()=>{m&&(w.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),k.current&&m.animationState&&m.animationState.animateChanges())}),b.useEffect(()=>{m&&(!k.current&&m.animationState&&m.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),k.current=!1),m.enteringChildren=void 0)}),m}function uA(t,e,n,s){const{layoutId:o,layout:a,drag:c,dragConstraints:u,layoutScroll:h,layoutRoot:p,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:$x(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!c||u&&Ys(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:m,layoutScroll:h,layoutRoot:p})}function $x(t){if(t)return t.options.allowProjection!==!1?t.projection:$x(t.parent)}function wd(t,{forwardMotionProps:e=!1}={},n,s){n&&DP(n);const o=Vh(t)?iA:sA;function a(u,h){let p;const m={...b.useContext(Lh),...u,layoutId:dA(u)},{isStatic:y}=m,w=UP(u),x=o(u,y);if(!y&&hh){fA();const k=hA(m);p=k.MeasureLayout,w.visualElement=cA(t,x,m,s,k.ProjectionNode)}return d.jsxs(ql.Provider,{value:w,children:[p&&w.visualElement?d.jsx(p,{visualElement:w.visualElement,...m}):null,tA(t,u,aA(x,w.visualElement,h),x,y,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=b.forwardRef(a);return c[oA]=t,c}function dA({layoutId:t}){const e=b.useContext(dh).id;return e&&t!==void 0?e+"-"+t:t}function fA(t,e){b.useContext(Tx).strict}function hA(t){const{drag:e,layout:n}=oi;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function pA(t,e){if(typeof Proxy>"u")return wd;const n=new Map,s=(a,c)=>wd(a,c,t,e),o=(a,c)=>s(a,c);return new Proxy(o,{get:(a,c)=>c==="create"?s:(n.has(c)||n.set(c,wd(c,void 0,t,e)),n.get(c))})}function Fx({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function mA({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function gA(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function xd(t){return t===void 0||t===1}function gf({scale:t,scaleX:e,scaleY:n}){return!xd(t)||!xd(e)||!xd(n)}function Gr(t){return gf(t)||Vx(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Vx(t){return uv(t.x)||uv(t.y)}function uv(t){return t&&t!=="0%"}function Ml(t,e,n){const s=t-n,o=e*s;return n+o}function dv(t,e,n,s,o){return o!==void 0&&(t=Ml(t,o,s)),Ml(t,n,s)+e}function yf(t,e=0,n=1,s,o){t.min=dv(t.min,e,n,s,o),t.max=dv(t.max,e,n,s,o)}function zx(t,{x:e,y:n}){yf(t.x,e.translate,e.scale,e.originPoint),yf(t.y,n.translate,n.scale,n.originPoint)}const fv=.999999999999,hv=1.0000000000001;function yA(t,e,n,s=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,c;for(let u=0;u<o;u++){a=n[u],c=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Xs(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,zx(t,c)),s&&Gr(a.latestValues)&&Xs(t,a.latestValues))}e.x<hv&&e.x>fv&&(e.x=1),e.y<hv&&e.y>fv&&(e.y=1)}function Qs(t,e){t.min=t.min+e,t.max=t.max+e}function pv(t,e,n,s,o=.5){const a=Ge(t.min,t.max,o);yf(t,e,n,a,s)}function Xs(t,e){pv(t.x,e.x,e.scaleX,e.scale,e.originX),pv(t.y,e.y,e.scaleY,e.scale,e.originY)}function Ux(t,e){return Fx(gA(t.getBoundingClientRect(),e))}function vA(t,e,n){const s=Ux(t,n),{scroll:o}=e;return o&&(Qs(s.x,o.offset.x),Qs(s.y,o.offset.y)),s}const mv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Js=()=>({x:mv(),y:mv()}),gv=()=>({min:0,max:0}),Je=()=>({x:gv(),y:gv()}),vf={current:null},Bx={current:!1};function wA(){if(Bx.current=!0,!!hh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>vf.current=t.matches;t.addEventListener("change",e),e()}else vf.current=!1}const xA=new WeakMap;function bA(t,e,n){for(const s in e){const o=e[s],a=n[s];if(xt(o))t.addValue(s,o);else if(xt(a))t.addValue(s,ii(o,{owner:t}));else if(a!==o)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(s);t.addValue(s,ii(c!==void 0?c:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const yv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class SA{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:a,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ah,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=It.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Ue.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=Yl(n),this.isVariantNode=jx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in y){const x=y[w];h[w]!==void 0&&xt(x)&&x.set(h[w])}}mount(e){this.current=e,xA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Bx.current||wA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vf.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),_r(this.notifyUpdate),_r(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=mi.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Ue.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in oi){const n=oi[e];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Je()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<yv.length;s++){const o=yv[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,c=e[a];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=bA(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ii(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Lw(s)||Dw(s))?s=parseFloat(s):!AP(s)&&kr.test(n)&&(s=vx(e,n)),this.setBaseTarget(e,xt(s)?s.get():s)),xt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=zh(this.props,n,this.presenceContext?.custom);a&&(s=a[e])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!xt(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new vh),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Ih.render(this.render)}}class Wx extends SA{constructor(){super(...arguments),this.KeyframeResolver=vP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Hx(t,{style:e,vars:n},s,o){const a=t.style;let c;for(c in e)a[c]=e[c];o?.applyProjectionStyles(a,s);for(c in n)a.setProperty(c,n[c])}function _A(t){return window.getComputedStyle(t)}class kA extends Wx{constructor(){super(...arguments),this.type="html",this.renderInstance=Hx}readValueFromInstance(e,n){if(mi.has(n))return this.projection?.isProjecting?cf(n):Dj(e,n);{const s=_A(e),o=(bh(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Ux(e,n)}build(e,n,s){$h(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Uh(e,n,s)}}const Gx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function CA(t,e,n,s){Hx(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(Gx.has(o)?o:Bh(o),e.attrs[o])}class TA extends Wx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Je}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(mi.has(n)){const s=yx(n);return s&&s.default||0}return n=Gx.has(n)?n:Bh(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return Lx(e,n,s)}build(e,n,s){Nx(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,o){CA(e,n,s,o)}mount(e){this.isSVGTag=Ix(e.tagName),super.mount(e)}}const EA=(t,e)=>Vh(t)?new TA(e):new kA(e,{allowProjection:t!==b.Fragment});function ei(t,e,n){const s=t.getProps();return zh(s,e,n!==void 0?n:s.custom,t)}const wf=t=>Array.isArray(t);function jA(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ii(n))}function PA(t){return wf(t)?t[t.length-1]||0:t}function AA(t,e){const n=ei(t,e);let{transitionEnd:s={},transition:o={},...a}=n||{};a={...a,...s};for(const c in a){const u=PA(a[c]);jA(t,c,u)}}function NA(t){return!!(xt(t)&&t.add)}function xf(t,e){const n=t.getValue("willChange");if(NA(n))return n.add(e);if(!n&&Gn.WillChange){const s=new Gn.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function qx(t){return t.props[Mx]}const RA=t=>t!==null;function IA(t,{repeat:e,repeatType:n="loop"},s){const o=t.filter(RA),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[a]}const OA={type:"spring",stiffness:500,damping:25,restSpeed:10},LA=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),MA={type:"keyframes",duration:.8},DA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$A=(t,{keyframes:e})=>e.length>2?MA:mi.has(t)?t.startsWith("scale")?LA(e[1]):OA:DA;function FA({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:a,repeatType:c,repeatDelay:u,from:h,elapsed:p,...m}){return!!Object.keys(m).length}const Wh=(t,e,n,s={},o,a)=>c=>{const u=Nh(s,t)||{},h=u.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Tn(h);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:w=>{e.set(w),u.onUpdate&&u.onUpdate(w)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:o};FA(u)||Object.assign(m,$A(t,m)),m.duration&&(m.duration=Tn(m.duration)),m.repeatDelay&&(m.repeatDelay=Tn(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(pf(m),m.delay===0&&(y=!0)),(Gn.instantAnimations||Gn.skipAnimations)&&(y=!0,pf(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,y&&!a&&e.get()!==void 0){const w=IA(m.keyframes,u);if(w!==void 0){Ue.update(()=>{m.onUpdate(w),m.onComplete()});return}}return u.isSync?new Ph(m):new oP(m)};function VA({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function Kx(t,e,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:c,...u}=e;s&&(a=s);const h=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const m in u){const y=t.getValue(m,t.latestValues[m]??null),w=u[m];if(w===void 0||p&&VA(p,m))continue;const x={delay:n,...Nh(a||{},m)},k=y.get();if(k!==void 0&&!y.isAnimating&&!Array.isArray(w)&&w===k&&!x.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const j=qx(t);if(j){const E=window.MotionHandoffAnimation(j,m,Ue);E!==null&&(x.startTime=E,S=!0)}}xf(t,m),y.start(Wh(m,y,w,t.shouldReduceMotion&&px.has(m)?{type:!1}:x,t,S));const _=y.animation;_&&h.push(_)}return c&&Promise.all(h).then(()=>{Ue.update(()=>{c&&AA(t,c)})}),h}function Yx(t,e,n,s=0,o=1){const a=Array.from(t).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),c=t.size,u=(c-1)*s;return typeof n=="function"?n(a,c):o===1?a*s:u-a*s}function bf(t,e,n={}){const s=ei(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const a=s?()=>Promise.all(Kx(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:y}=o;return zA(t,e,h,p,m,y,n)}:()=>Promise.resolve(),{when:u}=o;if(u){const[h,p]=u==="beforeChildren"?[a,c]:[c,a];return h().then(()=>p())}else return Promise.all([a(),c(n.delay)])}function zA(t,e,n=0,s=0,o=0,a=1,c){const u=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),u.push(bf(h,e,{...c,delay:n+(typeof s=="function"?0:s)+Yx(t.variantChildren,h,s,o,a)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(u)}function UA(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(a=>bf(t,a,n));s=Promise.all(o)}else if(typeof e=="string")s=bf(t,e,n);else{const o=typeof e=="function"?ei(t,e,n.custom):e;s=Promise.all(Kx(t,o,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function Qx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const BA=Dh.length;function Xx(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Xx(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<BA;n++){const s=Dh[n],o=t.props[s];(Io(o)||o===!1)&&(e[s]=o)}return e}const WA=[...Mh].reverse(),HA=Mh.length;function GA(t){return e=>Promise.all(e.map(({animation:n,options:s})=>UA(t,n,s)))}function qA(t){let e=GA(t),n=vv(),s=!0;const o=h=>(p,m)=>{const y=ei(t,m,h==="exit"?t.presenceContext?.custom:void 0);if(y){const{transition:w,transitionEnd:x,...k}=y;p={...p,...k,...x}}return p};function a(h){e=h(t)}function c(h){const{props:p}=t,m=Xx(t.parent)||{},y=[],w=new Set;let x={},k=1/0;for(let _=0;_<HA;_++){const j=WA[_],E=n[j],T=p[j]!==void 0?p[j]:m[j],P=Io(T),R=j===h?E.isActive:null;R===!1&&(k=_);let M=T===m[j]&&T!==p[j]&&P;if(M&&s&&t.manuallyAnimateOnMount&&(M=!1),E.protectedKeys={...x},!E.isActive&&R===null||!T&&!E.prevProp||Kl(T)||typeof T=="boolean")continue;const $=KA(E.prevProp,T);let D=$||j===h&&E.isActive&&!M&&P||_>k&&P,q=!1;const X=Array.isArray(T)?T:[T];let de=X.reduce(o(j),{});R===!1&&(de={});const{prevResolvedValues:be={}}=E,me={...be,...de},ae=W=>{D=!0,w.has(W)&&(q=!0,w.delete(W)),E.needsAnimating[W]=!0;const L=t.getValue(W);L&&(L.liveStyle=!1)};for(const W in me){const L=de[W],Q=be[W];if(x.hasOwnProperty(W))continue;let U=!1;wf(L)&&wf(Q)?U=!Qx(L,Q):U=L!==Q,U?L!=null?ae(W):w.add(W):L!==void 0&&w.has(W)?ae(W):E.protectedKeys[W]=!0}E.prevProp=T,E.prevResolvedValues=de,E.isActive&&(x={...x,...de}),s&&t.blockInitialAnimation&&(D=!1);const we=M&&$;D&&(!we||q)&&y.push(...X.map(W=>{const L={type:j};if(typeof W=="string"&&s&&!we&&t.manuallyAnimateOnMount&&t.parent){const{parent:Q}=t,U=ei(Q,W);if(Q.enteringChildren&&U){const{delayChildren:N}=U.transition||{};L.delay=Yx(Q.enteringChildren,t,N)}}return{animation:W,options:L}}))}if(w.size){const _={};if(typeof p.initial!="boolean"){const j=ei(t,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(_.transition=j.transition)}w.forEach(j=>{const E=t.getBaseTarget(j),T=t.getValue(j);T&&(T.liveStyle=!0),_[j]=E??null}),y.push({animation:_})}let S=!!y.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(S=!1),s=!1,S?e(y):Promise.resolve()}function u(h,p){if(n[h].isActive===p)return Promise.resolve();t.variantChildren?.forEach(y=>y.animationState?.setActive(h,p)),n[h].isActive=p;const m=c(h);for(const y in n)n[y].protectedKeys={};return m}return{animateChanges:c,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=vv(),s=!0}}}function KA(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Qx(e,t):!1}function Br(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vv(){return{animate:Br(!0),whileInView:Br(),whileHover:Br(),whileTap:Br(),whileDrag:Br(),whileFocus:Br(),exit:Br()}}class Er{constructor(e){this.isMounted=!1,this.node=e}update(){}}class YA extends Er{constructor(e){super(e),e.animationState||(e.animationState=qA(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Kl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let QA=0;class XA extends Er{constructor(){super(...arguments),this.id=QA++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const JA={animation:{Feature:YA},exit:{Feature:XA}};function Lo(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Bo(t){return{point:{x:t.pageX,y:t.pageY}}}const ZA=t=>e=>Oh(e)&&t(e,Bo(e));function xo(t,e,n,s){return Lo(t,e,ZA(n),s)}const Jx=1e-4,eN=1-Jx,tN=1+Jx,Zx=.01,nN=0-Zx,rN=0+Zx;function kt(t){return t.max-t.min}function sN(t,e,n){return Math.abs(t-e)<=n}function wv(t,e,n,s=.5){t.origin=s,t.originPoint=Ge(e.min,e.max,t.origin),t.scale=kt(n)/kt(e),t.translate=Ge(n.min,n.max,t.origin)-t.originPoint,(t.scale>=eN&&t.scale<=tN||isNaN(t.scale))&&(t.scale=1),(t.translate>=nN&&t.translate<=rN||isNaN(t.translate))&&(t.translate=0)}function bo(t,e,n,s){wv(t.x,e.x,n.x,s?s.originX:void 0),wv(t.y,e.y,n.y,s?s.originY:void 0)}function xv(t,e,n){t.min=n.min+e.min,t.max=t.min+kt(e)}function iN(t,e,n){xv(t.x,e.x,n.x),xv(t.y,e.y,n.y)}function bv(t,e,n){t.min=e.min-n.min,t.max=t.min+kt(e)}function So(t,e,n){bv(t.x,e.x,n.x),bv(t.y,e.y,n.y)}function Qt(t){return[t("x"),t("y")]}const eb=({current:t})=>t?t.ownerDocument.defaultView:null,Sv=(t,e)=>Math.abs(t-e);function oN(t,e){const n=Sv(t.x,e.x),s=Sv(t.y,e.y);return Math.sqrt(n**2+s**2)}class tb{constructor(e,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Sd(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,k=oN(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!k)return;const{point:S}=w,{timestamp:_}=ht;this.history.push({...S,timestamp:_});const{onStart:j,onMove:E}=this.handlers;x||(j&&j(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,w)},this.handlePointerMove=(w,x)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=bd(x,this.transformPagePoint),Ue.update(this.updatePoint,!0)},this.handlePointerUp=(w,x)=>{this.end();const{onEnd:k,onSessionEnd:S,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Sd(w.type==="pointercancel"?this.lastMoveEventInfo:bd(x,this.transformPagePoint),this.history);this.startEvent&&k&&k(w,j),S&&S(w,j)},!Oh(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=o||window;const u=Bo(e),h=bd(u,this.transformPagePoint),{point:p}=h,{timestamp:m}=ht;this.history=[{...p,timestamp:m}];const{onSessionStart:y}=n;y&&y(e,Sd(h,this.history)),this.removeListeners=Vo(xo(this.contextWindow,"pointermove",this.handlePointerMove),xo(this.contextWindow,"pointerup",this.handlePointerUp),xo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_r(this.updatePoint)}}function bd(t,e){return e?{point:e(t.point)}:t}function _v(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Sd({point:t},e){return{point:t,delta:_v(t,nb(e)),offset:_v(t,aN(e)),velocity:lN(e,.1)}}function aN(t){return t[0]}function nb(t){return t[t.length-1]}function lN(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=nb(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>Tn(e)));)n--;if(!s)return{x:0,y:0};const a=Xt(o.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const c={x:(o.x-s.x)/a,y:(o.y-s.y)/a};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function cN(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Ge(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Ge(n,t,s.max):Math.min(t,n)),t}function kv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function uN(t,{top:e,left:n,bottom:s,right:o}){return{x:kv(t.x,n,o),y:kv(t.y,e,s)}}function Cv(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function dN(t,e){return{x:Cv(t.x,e.x),y:Cv(t.y,e.y)}}function fN(t,e){let n=.5;const s=kt(t),o=kt(e);return o>s?n=Po(e.min,e.max-s,t.min):s>o&&(n=Po(t.min,t.max-o,e.min)),Hn(0,1,n)}function hN(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Sf=.35;function pN(t=Sf){return t===!1?t=0:t===!0&&(t=Sf),{x:Tv(t,"left","right"),y:Tv(t,"top","bottom")}}function Tv(t,e,n){return{min:Ev(t,e),max:Ev(t,n)}}function Ev(t,e){return typeof t=="number"?t:t[e]||0}const mN=new WeakMap;class gN{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Je(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bo(y).point)},c=(y,w)=>{const{drag:x,dragPropagation:k,onDragStart:S}=this.getProps();if(x&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=SP(x),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qt(j=>{let E=this.getAxisMotionValue(j).get()||0;if(En.test(E)){const{projection:T}=this.visualElement;if(T&&T.layout){const P=T.layout.layoutBox[j];P&&(E=kt(P)*(parseFloat(E)/100))}}this.originPoint[j]=E}),S&&Ue.postRender(()=>S(y,w)),xf(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},u=(y,w)=>{this.latestPointerEvent=y,this.latestPanInfo=w;const{dragPropagation:x,dragDirectionLock:k,onDirectionLock:S,onDrag:_}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:j}=w;if(k&&this.currentDirection===null){this.currentDirection=yN(j),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",w.point,j),this.updateAxis("y",w.point,j),this.visualElement.render(),_&&_(y,w)},h=(y,w)=>{this.latestPointerEvent=y,this.latestPanInfo=w,this.stop(y,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Qt(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new tb(e,{onSessionStart:a,onStart:c,onMove:u,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:s,contextWindow:eb(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,o=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!s)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&Ue.postRender(()=>u(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!ll(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=cN(c,this.constraints[e],this.elastic[e])),a.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&Ys(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=uN(s.layoutBox,e):this.constraints=!1,this.elastic=pN(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Qt(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=hN(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ys(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=vA(s,o.root,this.visualElement.getTransformPagePoint());let c=dN(o.layout.layoutBox,a);if(n){const u=n(mA(c));this.hasMutatedConstraints=!!u,u&&(c=Fx(u))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:a,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},p=Qt(m=>{if(!ll(m,n,this.currentDirection))return;let y=h&&h[m]||{};c&&(y={min:0,max:0});const w=o?200:1e6,x=o?40:1e7,k={type:"inertia",velocity:s?e[m]:0,bounceStiffness:w,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(m,k)});return Promise.all(p).then(u)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return xf(this.visualElement,e),s.start(Wh(e,s,0,n,this.visualElement,!1))}stopAnimation(){Qt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qt(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Qt(n=>{const{drag:s}=this.getProps();if(!ll(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:u}=o.layout.layoutBox[n];a.set(e[n]-Ge(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ys(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Qt(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const h=u.get();o[c]=fN({min:h,max:h},this.constraints[c])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Qt(c=>{if(!ll(c,e,null))return;const u=this.getAxisMotionValue(c),{min:h,max:p}=this.constraints[c];u.set(Ge(h,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;mN.set(this.visualElement,this);const e=this.visualElement.current,n=xo(e,"pointerdown",h=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();Ys(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ue.read(s);const c=Lo(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Qt(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=h[m].translate,y.set(y.get()+h[m].translate))}),this.visualElement.render())}));return()=>{c(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:c=Sf,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:a,dragElastic:c,dragMomentum:u}}}function ll(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function yN(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class vN extends Er{constructor(e){super(e),this.removeGroupControls=Zt,this.removeListeners=Zt,this.controls=new gN(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zt}unmount(){this.removeGroupControls(),this.removeListeners()}}const jv=t=>(e,n)=>{t&&Ue.postRender(()=>t(e,n))};class wN extends Er{constructor(){super(...arguments),this.removePointerDownListener=Zt}onPointerDown(e){this.session=new tb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:jv(e),onStart:jv(n),onMove:s,onEnd:(a,c)=>{delete this.session,o&&Ue.postRender(()=>o(a,c))}}}mount(){this.removePointerDownListener=xo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Pv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ao={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ge.test(t))t=parseFloat(t);else return t;const n=Pv(t,e.target.x),s=Pv(t,e.target.y);return`${n}% ${s}%`}},xN={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,o=kr.parse(t);if(o.length>5)return s;const a=kr.createTransformer(t),c=typeof o[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;o[0+c]/=u,o[1+c]/=h;const p=Ge(u,h,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),a(o)}};let _d=!1;class bN extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:a}=e;BP(SN),a&&(n.group&&n.group.add(a),s&&s.register&&o&&s.register(a),_d&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),kl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:a}=this.props,{projection:c}=s;return c&&(c.isPresent=a,_d=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==a?c.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?c.promote():c.relegate()||Ue.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ih.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;_d=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rb(t){const[e,n]=Cx(),s=b.useContext(dh);return d.jsx(bN,{...t,layoutGroup:s,switchLayoutGroup:b.useContext(Dx),isPresent:e,safeToRemove:n})}const SN={borderRadius:{...ao,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ao,borderTopRightRadius:ao,borderBottomLeftRadius:ao,borderBottomRightRadius:ao,boxShadow:xN};function _N(t,e,n){const s=xt(t)?t:ii(t);return s.start(Wh("",s,e,n)),s.animation}const kN=(t,e)=>t.depth-e.depth;class CN{constructor(){this.children=[],this.isDirty=!1}add(e){ph(this.children,e),this.isDirty=!0}remove(e){mh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kN),this.isDirty=!1,this.children.forEach(e)}}function TN(t,e){const n=It.now(),s=({timestamp:o})=>{const a=o-n;a>=e&&(_r(s),t(a-e))};return Ue.setup(s,!0),()=>_r(s)}const sb=["TopLeft","TopRight","BottomLeft","BottomRight"],EN=sb.length,Av=t=>typeof t=="string"?parseFloat(t):t,Nv=t=>typeof t=="number"||ge.test(t);function jN(t,e,n,s,o,a){o?(t.opacity=Ge(0,n.opacity??1,PN(s)),t.opacityExit=Ge(e.opacity??1,0,AN(s))):a&&(t.opacity=Ge(e.opacity??1,n.opacity??1,s));for(let c=0;c<EN;c++){const u=`border${sb[c]}Radius`;let h=Rv(e,u),p=Rv(n,u);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||Nv(h)===Nv(p)?(t[u]=Math.max(Ge(Av(h),Av(p),s),0),(En.test(p)||En.test(h))&&(t[u]+="%")):t[u]=p}(e.rotate||n.rotate)&&(t.rotate=Ge(e.rotate||0,n.rotate||0,s))}function Rv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const PN=ib(0,.5,Hw),AN=ib(.5,.95,Zt);function ib(t,e,n){return s=>s<t?0:s>e?1:n(Po(t,e,s))}function Iv(t,e){t.min=e.min,t.max=e.max}function Kt(t,e){Iv(t.x,e.x),Iv(t.y,e.y)}function Ov(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Lv(t,e,n,s,o){return t-=e,t=Ml(t,1/n,s),o!==void 0&&(t=Ml(t,1/o,s)),t}function NN(t,e=0,n=1,s=.5,o,a=t,c=t){if(En.test(e)&&(e=parseFloat(e),e=Ge(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=Ge(a.min,a.max,s);t===a&&(u-=e),t.min=Lv(t.min,e,n,u,o),t.max=Lv(t.max,e,n,u,o)}function Mv(t,e,[n,s,o],a,c){NN(t,e[n],e[s],e[o],e.scale,a,c)}const RN=["x","scaleX","originX"],IN=["y","scaleY","originY"];function Dv(t,e,n,s){Mv(t.x,e,RN,n?n.x:void 0,s?s.x:void 0),Mv(t.y,e,IN,n?n.y:void 0,s?s.y:void 0)}function $v(t){return t.translate===0&&t.scale===1}function ob(t){return $v(t.x)&&$v(t.y)}function Fv(t,e){return t.min===e.min&&t.max===e.max}function ON(t,e){return Fv(t.x,e.x)&&Fv(t.y,e.y)}function Vv(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function ab(t,e){return Vv(t.x,e.x)&&Vv(t.y,e.y)}function zv(t){return kt(t.x)/kt(t.y)}function Uv(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class LN{constructor(){this.members=[]}add(e){ph(this.members,e),e.scheduleRender()}remove(e){if(mh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function MN(t,e,n){let s="";const o=t.x.translate/e.x,a=t.y.translate/e.y,c=n?.z||0;if((o||a||c)&&(s=`translate3d(${o}px, ${a}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:y,rotateY:w,skewX:x,skewY:k}=n;p&&(s=`perspective(${p}px) ${s}`),m&&(s+=`rotate(${m}deg) `),y&&(s+=`rotateX(${y}deg) `),w&&(s+=`rotateY(${w}deg) `),x&&(s+=`skewX(${x}deg) `),k&&(s+=`skewY(${k}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(s+=`scale(${u}, ${h})`),s||"none"}const kd=["","X","Y","Z"],DN=1e3;let $N=0;function Cd(t,e,n,s){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function lb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=qx(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ue,!(o||a))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&lb(s)}function cb({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},u=e?.()){this.id=$N++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(zN),this.nodes.forEach(HN),this.nodes.forEach(GN),this.nodes.forEach(UN)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new CN)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new vh),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const h=this.eventHandlers.get(c);h&&h.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=kx(c)&&!jP(c),this.instance=c;const{layoutId:u,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),t){let m,y=0;const w=()=>this.root.updateBlockedByResize=!1;Ue.read(()=>{y=window.innerWidth}),t(c,()=>{const x=window.innerWidth;x!==y&&(y=x,this.root.updateBlockedByResize=!0,m&&m(),m=TN(w,250),kl.hasAnimatedSinceResize&&(kl.hasAnimatedSinceResize=!1,this.nodes.forEach(Hv)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:w,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||p.getDefaultTransition()||XN,{onLayoutAnimationStart:S,onLayoutAnimationComplete:_}=p.getProps(),j=!this.targetLayout||!ab(this.targetLayout,x),E=!y&&w;if(this.options.layoutRoot||this.resumeFrom||E||y&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...Nh(k,"layout"),onPlay:S,onComplete:_};(p.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(m,E)}else y||Hv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_r(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qN),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Wv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(WN),this.nodes.forEach(FN),this.nodes.forEach(VN)):this.nodes.forEach(Wv),this.clearAllSnapshots();const u=It.now();ht.delta=Hn(0,1e3/60,u-ht.timestamp),ht.timestamp=u,ht.isProcessing=!0,hd.update.process(ht),hd.preRender.process(ht),hd.render.process(ht),ht.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ih.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(BN),this.sharedNodes.forEach(KN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kt(this.snapshot.measuredBox.x)&&!kt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Je(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!ob(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;c&&this.instance&&(u||Gr(this.latestValues)||m)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return c&&(h=this.removeTransform(h)),JN(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Je();const u=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ZN))){const{scroll:p}=this.root;p&&(Qs(u.x,p.offset.x),Qs(u.y,p.offset.y))}return u}removeElementScroll(c){const u=Je();if(Kt(u,c),this.scroll?.wasRoot)return u;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:m,options:y}=p;p!==this.root&&m&&y.layoutScroll&&(m.wasRoot&&Kt(u,c),Qs(u.x,m.offset.x),Qs(u.y,m.offset.y))}return u}applyTransform(c,u=!1){const h=Je();Kt(h,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Xs(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Gr(m.latestValues)&&Xs(h,m.latestValues)}return Gr(this.latestValues)&&Xs(h,this.latestValues),h}removeTransform(c){const u=Je();Kt(u,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Gr(p.latestValues))continue;gf(p.latestValues)&&p.updateSnapshot();const m=Je(),y=p.measurePageBox();Kt(m,y),Dv(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return Gr(this.latestValues)&&Dv(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ht.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=ht.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Je(),this.relativeTargetOrigin=Je(),So(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Je(),this.targetWithTransforms=Je()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kt(this.target,this.layout.layoutBox),zx(this.target,this.targetDelta)):Kt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Je(),this.relativeTargetOrigin=Je(),So(this.relativeTargetOrigin,this.target,w.target),Kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gf(this.parent.latestValues)||Vx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),u=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===ht.timestamp&&(h=!1),h)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Kt(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,w=this.treeScale.y;yA(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Je());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ov(this.prevProjectionDelta.x,this.projectionDelta.x),Ov(this.prevProjectionDelta.y,this.projectionDelta.y)),bo(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==w||!Uv(this.projectionDelta.x,this.prevProjectionDelta.x)||!Uv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Js(),this.projectionDelta=Js(),this.projectionDeltaWithTransform=Js()}setAnimationOrigin(c,u=!1){const h=this.snapshot,p=h?h.latestValues:{},m={...this.latestValues},y=Js();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const w=Je(),x=h?h.source:void 0,k=this.layout?this.layout.source:void 0,S=x!==k,_=this.getStack(),j=!_||_.members.length<=1,E=!!(S&&!j&&this.options.crossfade===!0&&!this.path.some(QN));this.animationProgress=0;let T;this.mixTargetDelta=P=>{const R=P/1e3;Gv(y.x,c.x,R),Gv(y.y,c.y,R),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(So(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YN(this.relativeTarget,this.relativeTargetOrigin,w,R),T&&ON(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Je()),Kt(T,this.relativeTarget)),S&&(this.animationValues=m,jN(m,p,this.latestValues,R,E,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(_r(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ue.update(()=>{kl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ii(0)),this.currentAnimation=_N(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(DN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:h,layout:p,latestValues:m}=c;if(!(!u||!h||!p)){if(this!==c&&this.layout&&p&&ub(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||Je();const y=kt(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+y;const w=kt(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+w}Kt(u,h),Xs(u,m),bo(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new LN),this.sharedNodes.get(c).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const p={};h.z&&Cd("z",c,p,this.animationValues);for(let m=0;m<kd.length;m++)Cd(`rotate${kd[m]}`,c,p,this.animationValues),Cd(`skew${kd[m]}`,c,p,this.animationValues);c.render();for(const m in p)c.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=_l(u?.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=_l(u?.pointerEvents)||""),this.hasProjected&&!Gr(this.latestValues)&&(c.transform=h?h({},""):"none",this.hasProjected=!1);return}c.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=MN(this.projectionDeltaWithTransform,this.treeScale,m);h&&(y=h(m,y)),c.transform=y;const{x:w,y:x}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${x.origin*100}% 0`,p.animationValues?c.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const k in Oo){if(m[k]===void 0)continue;const{correct:S,applyTo:_,isCSSVariable:j}=Oo[k],E=y==="none"?m[k]:S(m[k],p);if(_){const T=_.length;for(let P=0;P<T;P++)c[_[P]]=E}else j?this.options.visualElement.renderState.vars[k]=E:c[k]=E}this.options.layoutId&&(c.pointerEvents=p===this?_l(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Bv),this.root.sharedNodes.clear()}}}function FN(t){t.updateLayout()}function VN(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:o}=t.options,a=e.source!==t.layout.source;o==="size"?Qt(m=>{const y=a?e.measuredBox[m]:e.layoutBox[m],w=kt(y);y.min=n[m].min,y.max=y.min+w}):ub(o,e.layoutBox,n)&&Qt(m=>{const y=a?e.measuredBox[m]:e.layoutBox[m],w=kt(n[m]);y.max=y.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+w)});const c=Js();bo(c,n,e.layoutBox);const u=Js();a?bo(u,t.applyTransform(s,!0),e.measuredBox):bo(u,n,e.layoutBox);const h=!ob(c);let p=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:y,layout:w}=m;if(y&&w){const x=Je();So(x,e.layoutBox,y.layoutBox);const k=Je();So(k,n,w.layoutBox),ab(x,k)||(p=!0),m.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=x,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function zN(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function UN(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function BN(t){t.clearSnapshot()}function Bv(t){t.clearMeasurements()}function Wv(t){t.isLayoutDirty=!1}function WN(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Hv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function HN(t){t.resolveTargetDelta()}function GN(t){t.calcProjection()}function qN(t){t.resetSkewAndRotation()}function KN(t){t.removeLeadSnapshot()}function Gv(t,e,n){t.translate=Ge(e.translate,0,n),t.scale=Ge(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function qv(t,e,n,s){t.min=Ge(e.min,n.min,s),t.max=Ge(e.max,n.max,s)}function YN(t,e,n,s){qv(t.x,e.x,n.x,s),qv(t.y,e.y,n.y,s)}function QN(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const XN={duration:.45,ease:[.4,0,.1,1]},Kv=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Yv=Kv("applewebkit/")&&!Kv("chrome/")?Math.round:Zt;function Qv(t){t.min=Yv(t.min),t.max=Yv(t.max)}function JN(t){Qv(t.x),Qv(t.y)}function ub(t,e,n){return t==="position"||t==="preserve-aspect"&&!sN(zv(e),zv(n),.2)}function ZN(t){return t!==t.root&&t.scroll?.wasRoot}const e2=cb({attachResizeListener:(t,e)=>Lo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Td={current:void 0},db=cb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Td.current){const t=new e2({});t.mount(window),t.setOptions({layoutScroll:!0}),Td.current=t}return Td.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),t2={pan:{Feature:wN},drag:{Feature:vN,ProjectionNode:db,MeasureLayout:rb}};function Xv(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=s[o];a&&Ue.postRender(()=>a(e,Bo(e)))}class n2 extends Er{mount(){const{current:e}=this.node;e&&(this.unmount=_P(e,(n,s)=>(Xv(this.node,s,"Start"),o=>Xv(this.node,o,"End"))))}unmount(){}}class r2 extends Er{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vo(Lo(this.node.current,"focus",()=>this.onFocus()),Lo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Jv(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=s[o];a&&Ue.postRender(()=>a(e,Bo(e)))}class s2 extends Er{mount(){const{current:e}=this.node;e&&(this.unmount=EP(e,(n,s)=>(Jv(this.node,s,"Start"),(o,{success:a})=>Jv(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _f=new WeakMap,Ed=new WeakMap,i2=t=>{const e=_f.get(t.target);e&&e(t)},o2=t=>{t.forEach(i2)};function a2({root:t,...e}){const n=t||document;Ed.has(n)||Ed.set(n,{});const s=Ed.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(o2,{root:t,...e})),s[o]}function l2(t,e,n){const s=a2(e);return _f.set(t,n),s.observe(t),()=>{_f.delete(t),s.unobserve(t)}}const c2={some:0,all:1};class u2 extends Er{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:a}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:c2[o]},u=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),w=p?m:y;w&&w(h)};return l2(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(d2(e,n))&&this.startObserver()}unmount(){}}function d2({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const f2={inView:{Feature:u2},tap:{Feature:s2},focus:{Feature:r2},hover:{Feature:n2}},h2={layout:{ProjectionNode:db,MeasureLayout:rb}},p2={...JA,...f2,...t2,...h2},ve=pA(p2,EA);function m2({onSignUp:t,onSignIn:e,onDemoUser:n}){return d.jsx("div",{className:"min-h-screen bg-background flex flex-col justify-center p-4",children:d.jsx("div",{className:"max-w-4xl mx-auto w-full",children:d.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-center",children:[d.jsxs("div",{className:"space-y-8",children:[d.jsxs(ve.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center lg:text-left",children:[d.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-3 mb-6",children:[d.jsx(ve.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-16 h-16 bg-accent rounded-full flex items-center justify-center",children:d.jsx(ts,{className:"w-8 h-8 text-accent-foreground"})}),d.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-foreground",children:"VibeTune"})]}),d.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-4",children:[d.jsx("h2",{className:"text-2xl lg:text-3xl font-semibold text-foreground",children:"Master English Prosody with AI"}),d.jsx("p",{className:"text-lg text-muted-foreground",children:"Perfect your pronunciation, rhythm, and intonation through personalized AI conversations"}),d.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-2 pt-2",children:[d.jsx(Ye,{className:"bg-success text-success-foreground",children:" AI-Powered"}),d.jsx(Ye,{variant:"outline",children:"No Setup Required"})]})]})]}),d.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-4 max-w-md mx-auto lg:mx-0",children:[d.jsx(ve.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(ue,{onClick:t,className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",size:"lg",children:[d.jsx(jE,{className:"w-5 h-5 mr-2"}),"Sign Up"]})}),d.jsx(ve.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(ue,{onClick:e,variant:"outline",className:"w-full",size:"lg",children:[d.jsx(XT,{className:"w-5 h-5 mr-2"}),"Log In"]})})]}),n&&d.jsx(ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"max-w-md mx-auto lg:mx-0",children:d.jsxs("div",{className:"border-2 border-success/30 bg-success/10 rounded-lg p-4 space-y-3",children:[d.jsx("p",{className:"text-sm font-medium text-success-foreground text-center",children:" Testing Mode"}),d.jsx(ue,{onClick:()=>{console.log(" Creating demo user from onboarding...");const s={id:"demo-user-"+Date.now(),email:"demo@vibetune.com",username:"Demo User",level:null,placement_test_completed:!1,created_at:new Date().toISOString(),last_login:new Date().toISOString(),device_id:"demo-device-"+Date.now()};console.log(" Demo profile created:",s),console.log(" Calling onDemoUser..."),n(s)},className:"w-full bg-success hover:bg-success/90 text-success-foreground font-semibold",children:" Skip to App with Demo User"}),d.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Test navigation without authentication"})]})}),d.jsx(ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-center lg:text-left",children:d.jsx("p",{className:"text-xs text-muted-foreground max-w-md mx-auto lg:mx-0",children:"Sign up required to access features  Placement test takes 10-15 minutes and personalizes your experience"})})]}),d.jsx(ve.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:1},className:"hidden lg:block",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-center mb-6",children:"See Your Progress"}),d.jsxs(vt,{className:"bg-card/80 backdrop-blur-sm",children:[d.jsx(es,{className:"pb-3",children:d.jsxs(Sr,{className:"flex items-center gap-2 text-lg",children:[d.jsx(xr,{className:"w-5 h-5 text-success"}),"Your Progress"]})}),d.jsxs(wt,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm",children:"Prosody Score"}),d.jsx(Ye,{className:"bg-success text-success-foreground",children:"85%"})]}),d.jsx(jo,{value:85,className:"h-2"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm",children:"Current Level"}),d.jsx(Ye,{variant:"outline",children:"Intermediate"})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm",children:"Practice Sessions"}),d.jsx("span",{className:"text-sm font-medium",children:"12 completed"})]})]})]})]}),d.jsxs(vt,{className:"bg-card/80 backdrop-blur-sm",children:[d.jsx(es,{className:"pb-3",children:d.jsxs(Sr,{className:"flex items-center gap-2 text-lg",children:[d.jsx(qs,{className:"w-5 h-5 text-accent"}),"AI Feedback"]})}),d.jsxs(wt,{children:[d.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mb-3",children:d.jsxs("p",{className:"text-sm",children:['"I went to the ',d.jsx("span",{className:"bg-destructive/20 px-1 rounded",children:"store"}),' yesterday."']})}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx($y,{className:"w-4 h-4 text-accent mt-0.5 flex-shrink-0"}),d.jsx("p",{className:"text-xs",children:'Try emphasizing "store" with rising intonation'})]}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx($y,{className:"w-4 h-4 text-success mt-0.5 flex-shrink-0"}),d.jsx("p",{className:"text-xs",children:'Great rhythm on "yesterday"!'})]})]})]})]})]})})]})})})}function uo({className:t,type:e,...n}){return d.jsx("input",{type:e,"data-slot":"input",className:Ie("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var g2="Label",fb=b.forwardRef((t,e)=>d.jsx(Pe.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));fb.displayName=g2;var y2=fb;function fo({className:t,...e}){return d.jsx(y2,{"data-slot":"label",className:Ie("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}var v2="Separator",Zv="horizontal",w2=["horizontal","vertical"],hb=b.forwardRef((t,e)=>{const{decorative:n,orientation:s=Zv,...o}=t,a=x2(s)?s:Zv,u=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return d.jsx(Pe.div,{"data-orientation":a,...u,...o,ref:e})});hb.displayName=v2;function x2(t){return w2.includes(t)}var b2=hb;function S2({className:t,orientation:e="horizontal",decorative:n=!0,...s}){return d.jsx(b2,{"data-slot":"separator-root",decorative:n,orientation:e,className:Ie("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...s})}const _2=sh("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function kf({className:t,variant:e,...n}){return d.jsx("div",{"data-slot":"alert",role:"alert",className:Ie(_2({variant:e}),t),...n})}function Cf({className:t,...e}){return d.jsx("div",{"data-slot":"alert-description",className:Ie("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}const k2="modulepreload",C2=function(t){return"/"+t},e0={},Jt=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let c=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");o=c(n.map(p=>{if(p=C2(p),p in e0)return;e0[p]=!0;const m=p.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":k2,m||(w.as="script"),w.crossOrigin="",w.href=p,h&&w.setAttribute("nonce",h),document.head.appendChild(w),m)return new Promise((x,k)=>{w.addEventListener("load",x),w.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return o.then(c=>{for(const u of c||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},T2=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Jt(async()=>{const{default:s}=await Promise.resolve().then(()=>gi);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class Hh extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class t0 extends Hh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class n0 extends Hh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class r0 extends Hh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Tf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Tf||(Tf={}));var E2=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{p(s.next(m))}catch(y){c(y)}}function h(m){try{p(s.throw(m))}catch(y){c(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,h)}p((s=s.apply(t,e||[])).next())})};class j2{constructor(e,{headers:n={},customFetch:s,region:o=Tf.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=T2(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var s;return E2(this,void 0,void 0,function*(){try{const{headers:o,method:a,body:c,signal:u}=n;let h={},{region:p}=n;p||(p=this.region);const m=new URL(`${this.url}/${e}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let y;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(h["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(h["Content-Type"]="application/json",y=JSON.stringify(c)));const w=yield this.fetch(m.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:y,signal:u}).catch(_=>{throw _.name==="AbortError"?_:new t0(_)}),x=w.headers.get("x-relay-error");if(x&&x==="true")throw new n0(w);if(!w.ok)throw new r0(w);let k=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return k==="application/json"?S=yield w.json():k==="application/octet-stream"?S=yield w.blob():k==="text/event-stream"?S=w:k==="multipart/form-data"?S=yield w.formData():S=yield w.text(),{data:S,error:null,response:w}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new t0(o)}:{data:null,error:o,response:o instanceof r0||o instanceof n0?o.context:void 0}}})}}var ut={},Ns={},Rs={},Is={},Os={},Ls={},P2=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ai=P2();const A2=ai.fetch,pb=ai.fetch.bind(ai),mb=ai.Headers,N2=ai.Request,R2=ai.Response,gi=Object.freeze(Object.defineProperty({__proto__:null,Headers:mb,Request:N2,Response:R2,default:pb,fetch:A2},Symbol.toStringTag,{value:"Module"})),I2=Jk(gi);var cl={},s0;function gb(){if(s0)return cl;s0=1,Object.defineProperty(cl,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return cl.default=t,cl}var i0;function yb(){if(i0)return Ls;i0=1;var t=Ls&&Ls.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ls,"__esModule",{value:!0});const e=t(I2),n=t(gb());class s{constructor(a){var c,u;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(c=a.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=a.signal,this.isMaybeSingle=(u=a.isMaybeSingle)!==null&&u!==void 0?u:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,c){return this.headers=new Headers(this.headers),this.headers.set(a,c),this}then(a,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let h=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var m,y,w,x;let k=null,S=null,_=null,j=p.status,E=p.statusText;if(p.ok){if(this.method!=="HEAD"){const M=await p.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?S=M:S=JSON.parse(M))}const P=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),R=(w=p.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");P&&R&&R.length>1&&(_=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(k={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,_=null,j=406,E="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const P=await p.text();try{k=JSON.parse(P),Array.isArray(k)&&p.status===404&&(S=[],k=null,j=200,E="OK")}catch{p.status===404&&P===""?(j=204,E="No Content"):k={message:P}}if(k&&this.isMaybeSingle&&(!((x=k?.details)===null||x===void 0)&&x.includes("0 rows"))&&(k=null,j=200,E="OK"),k&&this.shouldThrowOnError)throw new n.default(k)}return{error:k,data:S,count:_,status:j,statusText:E}});return this.shouldThrowOnError||(h=h.catch(p=>{var m,y,w;return{error:{message:`${(m=p?.name)!==null&&m!==void 0?m:"FetchError"}: ${p?.message}`,details:`${(y=p?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(w=p?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),h.then(a,c)}returns(){return this}overrideTypes(){return this}}return Ls.default=s,Ls}var o0;function vb(){if(o0)return Os;o0=1;var t=Os&&Os.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Os,"__esModule",{value:!0});const e=t(yb());class n extends e.default{select(o){let a=!1;const c=(o??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:a=!0,nullsFirst:c,foreignTable:u,referencedTable:h=u}={}){const p=h?`${h}.order`:"order",m=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${m?`${m},`:""}${o}.${a?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:c=a}={}){const u=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${o}`),this}range(o,a,{foreignTable:c,referencedTable:u=c}={}){const h=typeof u>"u"?"offset":`${u}.offset`,p=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${o}`),this.url.searchParams.set(p,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:a=!1,settings:c=!1,buffers:u=!1,wal:h=!1,format:p="text"}={}){var m;const y=[o?"analyze":null,a?"verbose":null,c?"settings":null,u?"buffers":null,h?"wal":null].filter(Boolean).join("|"),w=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${w}"; options=${y};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Os.default=n,Os}var a0;function Gh(){if(a0)return Is;a0=1;var t=Is&&Is.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Is,"__esModule",{value:!0});const e=t(vb());class n extends e.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const c=Array.from(new Set(a)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:c,type:u}={}){let h="";u==="plain"?h="pl":u==="phrase"?h="ph":u==="websearch"&&(h="w");const p=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${h}fts${p}.${a}`),this}match(o){return Object.entries(o).forEach(([a,c])=>{this.url.searchParams.append(a,`eq.${c}`)}),this}not(o,a,c){return this.url.searchParams.append(o,`not.${a}.${c}`),this}or(o,{foreignTable:a,referencedTable:c=a}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${o})`),this}filter(o,a,c){return this.url.searchParams.append(o,`${a}.${c}`),this}}return Is.default=n,Is}var l0;function wb(){if(l0)return Rs;l0=1;var t=Rs&&Rs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Rs,"__esModule",{value:!0});const e=t(Gh());class n{constructor(o,{headers:a={},schema:c,fetch:u}){this.url=o,this.headers=new Headers(a),this.schema=c,this.fetch=u}select(o,{head:a=!1,count:c}={}){const u=a?"HEAD":"GET";let h=!1;const p=(o??"*").split("").map(m=>/\s/.test(m)&&!h?"":(m==='"'&&(h=!h),m)).join("");return this.url.searchParams.set("select",p),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:a,defaultToNull:c=!0}={}){var u;const h="POST";if(a&&this.headers.append("Prefer",`count=${a}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(p.length>0){const m=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(o,{onConflict:a,ignoreDuplicates:c=!1,count:u,defaultToNull:h=!0}={}){var p;const m="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),u&&this.headers.append("Prefer",`count=${u}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const y=o.reduce((w,x)=>w.concat(Object.keys(x)),[]);if(y.length>0){const w=[...new Set(y)].map(x=>`"${x}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:a}={}){var c;const u="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:o}={}){var a;const c="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Rs.default=n,Rs}var c0;function O2(){if(c0)return Ns;c0=1;var t=Ns&&Ns.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ns,"__esModule",{value:!0});const e=t(wb()),n=t(Gh());class s{constructor(a,{headers:c={},schema:u,fetch:h}={}){this.url=a,this.headers=new Headers(c),this.schemaName=u,this.fetch=h}from(a){const c=new URL(`${this.url}/${a}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new s(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,c={},{head:u=!1,get:h=!1,count:p}={}){var m;let y;const w=new URL(`${this.url}/rpc/${a}`);let x;u||h?(y=u?"HEAD":"GET",Object.entries(c).filter(([S,_])=>_!==void 0).map(([S,_])=>[S,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([S,_])=>{w.searchParams.append(S,_)})):(y="POST",x=c);const k=new Headers(this.headers);return p&&k.set("Prefer",`count=${p}`),new n.default({method:y,url:w,headers:k,schema:this.schemaName,body:x,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return Ns.default=s,Ns}var u0;function L2(){if(u0)return ut;u0=1;var t=ut&&ut.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(ut,"__esModule",{value:!0}),ut.PostgrestError=ut.PostgrestBuilder=ut.PostgrestTransformBuilder=ut.PostgrestFilterBuilder=ut.PostgrestQueryBuilder=ut.PostgrestClient=void 0;const e=t(O2());ut.PostgrestClient=e.default;const n=t(wb());ut.PostgrestQueryBuilder=n.default;const s=t(Gh());ut.PostgrestFilterBuilder=s.default;const o=t(vb());ut.PostgrestTransformBuilder=o.default;const a=t(yb());ut.PostgrestBuilder=a.default;const c=t(gb());return ut.PostgrestError=c.default,ut.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:a.default,PostgrestError:c.default},ut}var M2=L2();const D2=nh(M2),{PostgrestClient:$2,PostgrestQueryBuilder:C3,PostgrestFilterBuilder:T3,PostgrestTransformBuilder:E3,PostgrestBuilder:j3,PostgrestError:P3}=D2;class F2{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const V2="2.15.5",z2=`realtime-js/${V2}`,U2="1.0.0",Ef=1e4,B2=1e3,W2=100;var _o;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(_o||(_o={}));var ot;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ot||(ot={}));var un;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(un||(un={}));var jf;(function(t){t.websocket="websocket"})(jf||(jf={}));var Kr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Kr||(Kr={}));class H2{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const o=n.getUint8(1),a=n.getUint8(2);let c=this.HEADER_LENGTH+2;const u=s.decode(e.slice(c,c+o));c=c+o;const h=s.decode(e.slice(c,c+a));c=c+a;const p=JSON.parse(s.decode(e.slice(c,e.byteLength)));return{ref:null,topic:u,event:h,payload:p}}}class xb{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})($e||($e={}));const d0=(t,e,n={})=>{var s;const o=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((a,c)=>(a[c]=G2(c,t,e,o),a),{})},G2=(t,e,n,s)=>{const o=e.find(u=>u.name===t),a=o?.type,c=n[t];return a&&!s.includes(a)?bb(a,c):Pf(c)},bb=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Q2(e,n)}switch(t){case $e.bool:return q2(e);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return K2(e);case $e.json:case $e.jsonb:return Y2(e);case $e.timestamp:return X2(e);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return Pf(e);default:return Pf(e)}},Pf=t=>t,q2=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},K2=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Y2=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Q2=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let a;const c=t.slice(1,n);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(u=>bb(e,u))}return t},X2=t=>typeof t=="string"?t.replace(" ","T"):t,Sb=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class jd{constructor(e,n,s={},o=Ef){this.channel=e,this.event=n,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var f0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(f0||(f0={}));class ko{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:a,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ko.syncState(this.state,o,a,c),this.pendingDiffs.forEach(h=>{this.state=ko.syncDiff(this.state,h,a,c)}),this.pendingDiffs=[],u()}),this.channel._on(s.diff,{},o=>{const{onJoin:a,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ko.syncDiff(this.state,o,a,c),u())}),this.onJoin((o,a,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:c})}),this.onLeave((o,a,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,o){const a=this.cloneDeep(e),c=this.transformState(n),u={},h={};return this.map(a,(p,m)=>{c[p]||(h[p]=m)}),this.map(c,(p,m)=>{const y=a[p];if(y){const w=m.map(_=>_.presence_ref),x=y.map(_=>_.presence_ref),k=m.filter(_=>x.indexOf(_.presence_ref)<0),S=y.filter(_=>w.indexOf(_.presence_ref)<0);k.length>0&&(u[p]=k),S.length>0&&(h[p]=S)}else u[p]=m}),this.syncDiff(a,{joins:u,leaves:h},s,o)}static syncDiff(e,n,s,o){const{joins:a,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(a,(u,h)=>{var p;const m=(p=e[u])!==null&&p!==void 0?p:[];if(e[u]=this.cloneDeep(h),m.length>0){const y=e[u].map(x=>x.presence_ref),w=m.filter(x=>y.indexOf(x.presence_ref)<0);e[u].unshift(...w)}s(u,m,h)}),this.map(c,(u,h)=>{let p=e[u];if(!p)return;const m=h.map(y=>y.presence_ref);p=p.filter(y=>m.indexOf(y.presence_ref)<0),e[u]=p,o(u,p,h),p.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const o=e[s];return"metas"in o?n[s]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var h0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(h0||(h0={}));var Co;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Co||(Co={}));var Wn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Wn||(Wn={}));class qh{constructor(e,n={config:{}},s){this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new jd(this,un.join,this.params,this.timeout),this.rejoinTimer=new xb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(un.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new ko(this),this.broadcastEndpointURL=Sb(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var s,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ot.closed){const{config:{broadcast:c,presence:u,private:h}}=this.params,p=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(x=>x.filter))!==null&&o!==void 0?o:[],m=!!this.bindings[Co.PRESENCE]&&this.bindings[Co.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,y={},w={broadcast:c,presence:Object.assign(Object.assign({},u),{enabled:m}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(x=>e?.(Wn.CHANNEL_ERROR,x)),this._onClose(()=>e?.(Wn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var k;if(this.socket.setAuth(),x===void 0){e?.(Wn.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,_=(k=S?.length)!==null&&k!==void 0?k:0,j=[];for(let E=0;E<_;E++){const T=S[E],{filter:{event:P,schema:R,table:M,filter:$}}=T,D=x&&x[E];if(D&&D.event===P&&D.schema===R&&D.table===M&&D.filter===$)j.push(Object.assign(Object.assign({},T),{id:D.id}));else{this.unsubscribe(),this.state=ot.errored,e?.(Wn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(Wn.SUBSCRIBED);return}}).receive("error",x=>{this.state=ot.errored,e?.(Wn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e?.(Wn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===ot.joined&&e===Co.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,s)}async send(e,n={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:c}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,u,h;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ot.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(un.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new jd(this,un.leave,{},e),s.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ot.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const o=new AbortController,a=setTimeout(()=>o.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),c}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new jd(this,e,n,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>W2){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var o,a;const c=e.toLocaleLowerCase(),{close:u,error:h,leave:p,join:m}=un;if(s&&[u,h,p,m].indexOf(c)>=0&&s!==this._joinRef())return;let w=this._onMessage(c,n,s);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(x=>{var k,S,_;return((k=x.filter)===null||k===void 0?void 0:k.event)==="*"||((_=(S=x.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===c}).map(x=>x.callback(w,s)):(a=this.bindings[c])===null||a===void 0||a.filter(x=>{var k,S,_,j,E,T;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const P=x.id,R=(k=x.filter)===null||k===void 0?void 0:k.event;return P&&((S=n.ids)===null||S===void 0?void 0:S.includes(P))&&(R==="*"||R?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const P=(E=(j=x?.filter)===null||j===void 0?void 0:j.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return P==="*"||P===((T=n?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof w=="object"&&"ids"in w){const k=w.data,{schema:S,table:_,commit_timestamp:j,type:E,errors:T}=k;w=Object.assign(Object.assign({},{schema:S,table:_,commit_timestamp:j,eventType:E,new:{},old:{},errors:T}),this._getPayloadRecords(k))}x.callback(w,s)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const o=e.toLocaleLowerCase(),a={type:o,filter:n,callback:s};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&qh.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(un.close,{},e)}_onError(e){this._on(un.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=d0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=d0(e.columns,e.old_record)),n}}const Pd=()=>{},ul={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},J2=[1e3,2e3,5e3,1e4],Z2=1e4,eR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tR{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ef,this.transport=null,this.heartbeatIntervalMs=ul.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pd,this.ref=0,this.reconnectTimer=null,this.logger=Pd,this.conn=null,this.sendBuffer=[],this.serializer=new H2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...c)=>Jt(async()=>{const{default:u}=await Promise.resolve().then(()=>gi);return{default:u}},void 0).then(({default:u})=>u(...c)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...c)=>a(...c)},!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${jf.websocket}`,this.httpEndpoint=Sb(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=F2.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:U2}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case _o.connecting:return Kr.Connecting;case _o.open:return Kr.Open;case _o.closing:return Kr.Closing;default:return Kr.Closed}}isConnected(){return this.connectionState()===Kr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===s);if(o)return o;{const a=new qh(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:s,payload:o,ref:a}=e,c=()=>{this.encode(e,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${n} ${s} (${a})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(B2,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ul.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:a,ref:c}=n,u=c?`(${c})`:"",h=a.status||"";this.log("receive",`${h} ${s} ${o} ${u}`.trim(),a),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(o,a,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(un.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${s}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([eR],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:z2};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(un.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new xb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ul.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,o,a,c,u,h,p,m;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Ef,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:ul.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:Pd,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(y=>J2[y-1]||Z2),this.encode=(p=e?.encode)!==null&&p!==void 0?p:((y,w)=>w(JSON.stringify(y))),this.decode=(m=e?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Kh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function tt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class nR extends Kh{constructor(e,n,s){super(e),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Af extends Kh{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var rR=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{p(s.next(m))}catch(y){c(y)}}function h(m){try{p(s.throw(m))}catch(y){c(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,h)}p((s=s.apply(t,e||[])).next())})};const _b=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Jt(async()=>{const{default:s}=await Promise.resolve().then(()=>gi);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},sR=()=>rR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Jt(()=>Promise.resolve().then(()=>gi),void 0)).Response:Response}),Nf=t=>{if(Array.isArray(t))return t.map(n=>Nf(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=Nf(s)}),e},iR=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var ss=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{p(s.next(m))}catch(y){c(y)}}function h(m){try{p(s.throw(m))}catch(y){c(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,h)}p((s=s.apply(t,e||[])).next())})};const Ad=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),oR=(t,e,n)=>ss(void 0,void 0,void 0,function*(){const s=yield sR();t instanceof s&&!n?.noResolveJson?t.json().then(o=>{const a=t.status||500,c=o?.statusCode||a+"";e(new nR(Ad(o),a,c))}).catch(o=>{e(new Af(Ad(o),o))}):e(new Af(Ad(t),t))}),aR=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!s?o:(iR(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function Wo(t,e,n,s,o,a){return ss(this,void 0,void 0,function*(){return new Promise((c,u)=>{t(n,aR(e,s,o,a)).then(h=>{if(!h.ok)throw h;return s?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>oR(h,u,s))})})}function Dl(t,e,n,s){return ss(this,void 0,void 0,function*(){return Wo(t,"GET",e,n,s)})}function Sn(t,e,n,s,o){return ss(this,void 0,void 0,function*(){return Wo(t,"POST",e,s,o,n)})}function Rf(t,e,n,s,o){return ss(this,void 0,void 0,function*(){return Wo(t,"PUT",e,s,o,n)})}function lR(t,e,n,s){return ss(this,void 0,void 0,function*(){return Wo(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function kb(t,e,n,s,o){return ss(this,void 0,void 0,function*(){return Wo(t,"DELETE",e,s,o,n)})}var cR=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{p(s.next(m))}catch(y){c(y)}}function h(m){try{p(s.throw(m))}catch(y){c(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,h)}p((s=s.apply(t,e||[])).next())})};class uR{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return cR(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tt(e))return{data:null,error:e};throw e}})}}var dR=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{p(s.next(m))}catch(y){c(y)}}function h(m){try{p(s.throw(m))}catch(y){c(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,h)}p((s=s.apply(t,e||[])).next())})};class fR{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new uR(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return dR(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tt(e))return{data:null,error:e};throw e}})}}var Nt=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{p(s.next(m))}catch(y){c(y)}}function h(m){try{p(s.throw(m))}catch(y){c(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,h)}p((s=s.apply(t,e||[])).next())})};const hR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},p0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pR{constructor(e,n={},s,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=s,this.fetch=_b(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,s,o){return Nt(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},p0),o);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),h&&a.append("metadata",this.encodeMetadata(h)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",c.cacheControl),h&&a.append("metadata",this.encodeMetadata(h))):(a=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,h&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),o?.headers&&(u=Object.assign(Object.assign({},u),o.headers));const p=this._removeEmptyFolders(n),m=this._getFinalPath(p),y=yield(e=="PUT"?Rf:Sn)(this.fetch,`${this.url}/object/${m}`,a,Object.assign({headers:u},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:y.Id,fullPath:y.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}})}upload(e,n,s){return Nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,o){return Nt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),c=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${c}`);u.searchParams.set("token",n);try{let h;const p=Object.assign({upsert:p0.upsert},o),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.append("cacheControl",p.cacheControl)):(h=s,m["cache-control"]=`max-age=${p.cacheControl}`,m["content-type"]=p.contentType);const y=yield Rf(this.fetch,u.toString(),h,{headers:m});return{data:{path:a,fullPath:y.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(tt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,n){return Nt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");const a=yield Sn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),c=new URL(this.url+a.url),u=c.searchParams.get("token");if(!u)throw new Kh("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:u},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}update(e,n,s){return Nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return Nt(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}})}copy(e,n,s){return Nt(this,void 0,void 0,function*(){try{return{data:{path:(yield Sn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,s){return Nt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield Sn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,s){return Nt(this,void 0,void 0,function*(){try{const o=yield Sn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}})}download(e,n){const o=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),c=a?`?${a}`:"",u=this._getFinalPath(e),h=()=>Dl(this.fetch,`${this.url}/${o}/${u}${c}`,{headers:this.headers,noResolveJson:!0});return new fR(h,this.shouldThrowOnError)}info(e){return Nt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield Dl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Nf(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}exists(e){return Nt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield lR(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s)&&s instanceof Af){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),o=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const u=typeof n?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(n?.transform||{});h!==""&&o.push(h);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${s}${p}`)}}}remove(e){return Nt(this,void 0,void 0,function*(){try{return{data:yield kb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}list(e,n,s){return Nt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},hR),n),{prefix:e||""});return{data:yield Sn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}})}listV2(e,n){return Nt(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Sn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const mR="2.12.2",gR={"X-Client-Info":`storage-js/${mR}`};var Ms=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{p(s.next(m))}catch(y){c(y)}}function h(m){try{p(s.throw(m))}catch(y){c(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,h)}p((s=s.apply(t,e||[])).next())})};class yR{constructor(e,n={},s,o){this.shouldThrowOnError=!1;const a=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},gR),n),this.fetch=_b(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ms(this,void 0,void 0,function*(){try{return{data:yield Dl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(tt(e))return{data:null,error:e};throw e}})}getBucket(e){return Ms(this,void 0,void 0,function*(){try{return{data:yield Dl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Ms(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return Ms(this,void 0,void 0,function*(){try{return{data:yield Rf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Ms(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ms(this,void 0,void 0,function*(){try{return{data:yield kb(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}}class vR extends yR{constructor(e,n={},s,o){super(e,n,s,o)}from(e){return new pR(this.url,this.headers,e,this.fetch)}}const wR="2.58.0";let ho="";typeof Deno<"u"?ho="deno":typeof document<"u"?ho="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ho="react-native":ho="node";const xR={"X-Client-Info":`supabase-js-${ho}/${wR}`},bR={headers:xR},SR={schema:"public"},_R={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kR={};var CR=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{p(s.next(m))}catch(y){c(y)}}function h(m){try{p(s.throw(m))}catch(y){c(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,h)}p((s=s.apply(t,e||[])).next())})};const TR=t=>{let e;return t?e=t:typeof fetch>"u"?e=pb:e=fetch,(...n)=>e(...n)},ER=()=>typeof Headers>"u"?mb:Headers,jR=(t,e,n)=>{const s=TR(n),o=ER();return(a,c)=>CR(void 0,void 0,void 0,function*(){var u;const h=(u=yield e())!==null&&u!==void 0?u:t;let p=new o(c?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),s(a,Object.assign(Object.assign({},c),{headers:p}))})};var PR=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{p(s.next(m))}catch(y){c(y)}}function h(m){try{p(s.throw(m))}catch(y){c(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,h)}p((s=s.apply(t,e||[])).next())})};function AR(t){return t.endsWith("/")?t:t+"/"}function NR(t,e){var n,s;const{db:o,auth:a,realtime:c,global:u}=t,{db:h,auth:p,realtime:m,global:y}=e,w={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},m),c),storage:{},global:Object.assign(Object.assign(Object.assign({},y),u),{headers:Object.assign(Object.assign({},(n=y?.headers)!==null&&n!==void 0?n:{}),(s=u?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>PR(this,void 0,void 0,function*(){return""})};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function RR(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(AR(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Cb="2.72.0",Hs=30*1e3,If=3,Nd=If*Hs,IR="http://localhost:9999",OR="supabase.auth.token",LR={"X-Client-Info":`gotrue-js/${Cb}`},Of="X-Supabase-Api-Version",Tb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},MR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,DR=600*1e3;class Yh extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Se(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class $R extends Yh{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function FR(t){return Se(t)&&t.name==="AuthApiError"}class Eb extends Yh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class jr extends Yh{constructor(e,n,s,o){super(e,s,o),this.name=n,this.status=s}}class yr extends jr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function VR(t){return Se(t)&&t.name==="AuthSessionMissingError"}class lo extends jr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class dl extends jr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class fl extends jr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zR(t){return Se(t)&&t.name==="AuthImplicitGrantRedirectError"}class m0 extends jr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Lf extends jr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Rd(t){return Se(t)&&t.name==="AuthRetryableFetchError"}class g0 extends jr{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Mf extends jr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const $l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),y0=` 	
\r=`.split(""),UR=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<y0.length;e+=1)t[y0[e].charCodeAt(0)]=-2;for(let e=0;e<$l.length;e+=1)t[$l[e].charCodeAt(0)]=e;return t})();function v0(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n($l[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n($l[s]),e.queuedBits-=6}}function jb(t,e,n){const s=UR[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function w0(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=c=>{HR(c,s,n)};for(let c=0;c<t.length;c+=1)jb(t.charCodeAt(c),o,a);return e.join("")}function BR(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function WR(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}BR(s,e)}}function HR(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function GR(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)jb(t.charCodeAt(o),n,s);return new Uint8Array(e)}function qR(t){const e=[];return WR(t,n=>e.push(n)),new Uint8Array(e)}function KR(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>v0(o,n,s)),v0(null,n,s),e.join("")}function YR(t){return Math.round(Date.now()/1e3)+t}function QR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Yt=()=>typeof window<"u"&&typeof document<"u",Wr={tested:!1,writable:!1},Pb=()=>{if(!Yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wr.tested)return Wr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Wr.tested=!0,Wr.writable=!0}catch{Wr.tested=!0,Wr.writable=!1}return Wr.writable};function XR(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return n.searchParams.forEach((s,o)=>{e[o]=s}),e}const Ab=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Jt(async()=>{const{default:s}=await Promise.resolve().then(()=>gi);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},JR=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Gs=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Hr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},mr=async(t,e)=>{await t.removeItem(e)};class Ql{constructor(){this.promise=new Ql.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ql.promiseConstructor=Promise;function Id(t){const e=t.split(".");if(e.length!==3)throw new Mf("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!MR.test(e[s]))throw new Mf("JWT not in base64url format");return{header:JSON.parse(w0(e[0])),payload:JSON.parse(w0(e[1])),signature:GR(e[2]),raw:{header:e[0],payload:e[1]}}}async function ZR(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function eI(t,e){return new Promise((s,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await t(a);if(!e(a,null,c)){s(c);return}}catch(c){if(!e(a,c)){o(c);return}}})()})}function tI(t){return("0"+t.toString(16)).substr(-2)}function nI(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,tI).join("")}async function rI(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(s);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function sI(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await rI(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ds(t,e,n=!1){const s=nI();let o=s;n&&(o+="/PASSWORD_RECOVERY"),await Gs(t,`${e}-code-verifier`,o);const a=await sI(s);return[a,s===a?"plain":"s256"]}const iI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oI(t){const e=t.headers.get(Of);if(!e||!e.match(iI))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function aI(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function lI(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $s(t){if(!cI.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Od(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function x0(t){return JSON.parse(JSON.stringify(t))}var uI=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n};const qr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dI=[502,503,504];async function b0(t){var e;if(!JR(t))throw new Lf(qr(t),0);if(dI.includes(t.status))throw new Lf(qr(t),t.status);let n;try{n=await t.json()}catch(a){throw new Eb(qr(a),a)}let s;const o=oI(t);if(o&&o.getTime()>=Tb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new g0(qr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new yr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new g0(qr(n),t.status,n.weak_password.reasons);throw new $R(qr(n),t.status||500,s)}const fI=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};async function je(t,e,n,s){var o;const a=Object.assign({},s?.headers);a[Of]||(a[Of]=Tb["2024-01-01"].name),s?.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const c=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(c.redirect_to=s.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await hI(t,e,n+u,{headers:a,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(h):{data:Object.assign({},h),error:null}}async function hI(t,e,n,s,o,a){const c=fI(e,s,o,a);let u;try{u=await t(n,Object.assign({},c))}catch(h){throw console.error(h),new Lf(qr(h),0)}if(u.ok||await b0(u),s?.noResolveJson)return u;try{return await u.json()}catch(h){await b0(h)}}function bn(t){var e;let n=null;yI(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=YR(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function S0(t){const e=bn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function wr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function pI(t){return{data:t,error:null}}function mI(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:a}=t,c=uI(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:a},h=Object.assign({},c);return{data:{properties:u,user:h},error:null}}function gI(t){return t}function yI(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ld=["global","local","others"];var vI=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n};class wI{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=Ab(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Ld[0]){if(Ld.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ld.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Se(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:wr})}catch(s){if(Se(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=vI(e,["options"]),o=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:mI,redirectTo:n?.redirectTo})}catch(n){if(Se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wr})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,o,a,c,u,h;try{const p={nextPage:null,lastPage:0,total:0},m=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:gI});if(m.error)throw m.error;const y=await m.json(),w=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(h=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return x.length>0&&(x.forEach(k=>{const S=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(k.split(";")[1].split("=")[1]);p[`${_}Page`]=S}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(Se(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){$s(e);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wr})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){$s(e);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:wr})}catch(s){if(Se(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){$s(e);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:wr})}catch(s){if(Se(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){$s(e.userId);try{const{data:n,error:s}=await je(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:s}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _deleteFactor(e){$s(e.userId),$s(e.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}}function _0(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function xI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Fs={debug:!!(globalThis&&Pb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Nb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class bI extends Nb{}async function SI(t,e,n){Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new bI(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Fs.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Rb(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function _I(t){return parseInt(t,16)}function kI(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function CI(t){var e;const{chainId:n,domain:s,expirationTime:o,issuedAt:a=new Date,nonce:c,notBefore:u,requestId:h,resources:p,scheme:m,uri:y,version:w}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const x=Rb(t.address),k=m?`${m}://${s}`:s,S=t.statement?`${t.statement}
`:"",_=`${k} wants you to sign in with your Ethereum account:
${x}

${S}`;let j=`URI: ${y}
Version: ${w}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${a.toISOString()}`;if(o&&(j+=`
Expiration Time: ${o.toISOString()}`),u&&(j+=`
Not Before: ${u.toISOString()}`),h&&(j+=`
Request ID: ${h}`),p){let E=`
Resources:`;for(const T of p){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);E+=`
- ${T}`}j+=E}return`${_}
${j}`}xI();const TI={url:IR,storageKey:OR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function k0(t,e,n){return await n()}const Vs={};class Mo{constructor(e){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mo.nextInstanceID,Mo.nextInstanceID+=1,this.instanceID>0&&Yt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},TI),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new wI({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Ab(o.fetch),this.lock=o.lock||k0,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Yt()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=SI:this.lock=k0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Pb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_0(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=_0(this.memoryStorage)),Yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Vs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Vs[this.storageKey]=Object.assign(Object.assign({},Vs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Vs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Vs[this.storageKey]=Object.assign(Object.assign({},Vs[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Cb}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=XR(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Yt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),zR(a)){const h=(e=a.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:u}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Se(n)?{error:n}:{error:new Eb("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,o;try{const a=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:bn}),{data:c,error:u}=a;if(u||!c)return{data:{user:null,session:null},error:u};const h=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(a){if(Se(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,s,o;try{let a;if("email"in e){const{email:m,password:y,options:w}=e;let x=null,k=null;this.flowType==="pkce"&&([x,k]=await Ds(this.storage,this.storageKey)),a=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:m,password:y,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:x,code_challenge_method:k},xform:bn})}else if("phone"in e){const{phone:m,password:y,options:w}=e;a=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:y,data:(s=w?.data)!==null&&s!==void 0?s:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:bn})}else throw new dl("You must provide either an email or phone number and a password");const{data:c,error:u}=a;if(u||!c)return{data:{user:null,session:null},error:u};const h=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(a){if(Se(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:c,options:u}=e;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:S0})}else if("phone"in e){const{phone:a,password:c,options:u}=e;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:S0})}else throw new dl("You must provide either an email or phone number and a password");const{data:s,error:o}=n;return o?{data:{user:null,session:null},error:o}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new lo}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,o,a,c,u,h,p,m,y,w;let x,k;if("message"in e)x=e.message,k=e.signature;else{const{chain:S,wallet:_,statement:j,options:E}=e;let T;if(Yt())if(typeof _=="object")T=_;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")T=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=_}const P=new URL((n=E?.url)!==null&&n!==void 0?n:window.location.href),R=await T.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=Rb(R[0]);let $=(s=E?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!$){const q=await T.request({method:"eth_chainId"});$=_I(q)}const D={domain:P.host,address:M,statement:j,uri:P.href,version:"1",chainId:$,nonce:(o=E?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(a=E?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(u=E?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(h=E?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=E?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(m=E?.signInWithEthereum)===null||m===void 0?void 0:m.resources};x=CI(D),k=await T.request({method:"personal_sign",params:[kI(x),M]})}try{const{data:S,error:_}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:k},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:bn});if(_)throw _;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new lo}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:_})}catch(S){if(Se(S))return{data:{user:null,session:null},error:S};throw S}}async signInWithSolana(e){var n,s,o,a,c,u,h,p,m,y,w,x;let k,S;if("message"in e)k=e.message,S=e.signature;else{const{chain:_,wallet:j,statement:E,options:T}=e;let P;if(Yt())if(typeof j=="object")P=j;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))P=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=j}const R=new URL((n=T?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const M=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),E?{statement:E}:null));let $;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")$=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)$=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)k=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),S=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${R.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(o=(s=T?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=T?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((c=T?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((u=T?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((h=T?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((p=T?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((y=(m=T?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||y===void 0)&&y.length?["Resources",...T.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const M=await P.signMessage(new TextEncoder().encode(k),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=M}}try{const{data:_,error:j}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:KR(S)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:bn});if(j)throw j;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new lo}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:j})}catch(_){if(Se(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const n=await Hr(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(n??"").split("/");try{const{data:a,error:c}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:bn});if(await mr(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new lo}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:c})}catch(a){if(Se(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:s,token:o,access_token:a,nonce:c}=e,u=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:bn}),{data:h,error:p}=u;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new lo}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:p})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,o,a,c;try{if("email"in e){const{email:u,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Ds(this.storage,this.storageKey));const{error:y}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(s=h?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:m},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:u,options:h}=e,{data:p,error:m}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(a=h?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:m}}throw new dl("You must provide either an email or phone number.")}catch(u){if(Se(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,s;try{let o,a;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:u}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:bn});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,p=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(o){if(Se(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var n,s,o;try{let a=null,c=null;return this.flowType==="pkce"&&([a,c]=await Ds(this.storage,this.storageKey)),await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:pI})}catch(a){if(Se(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new yr;const{error:o}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(Se(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:a}=e,{error:c}=await je(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:s,type:o,options:a}=e,{data:c,error:u}=await je(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new dl("You must provide either an email or phone number and a type")}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Hr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Nd:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await Hr(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Od()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,p,m)=>(!c&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,p,m))})}return{data:{session:e},error:null}}const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wr}):await this._useSession(async n=>{var s,o,a;const{data:c,error:u}=n;if(u)throw u;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yr}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:wr})})}catch(n){if(Se(n))return VR(n)&&(await this._removeSession(),await mr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:o,error:a}=s;if(a)throw a;if(!o.session)throw new yr;const c=o.session;let u=null,h=null;this.flowType==="pkce"&&e.email!=null&&([u,h]=await Ds(this.storage,this.storageKey));const{data:p,error:m}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:h}),jwt:c.access_token,xform:wr});if(m)throw m;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(s){if(Se(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new yr;const n=Date.now()/1e3;let s=n,o=!0,a=null;const{payload:c}=Id(e.access_token);if(c.exp&&(s=c.exp,o=s<=n),o){const{session:u,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:h}=await this._getUser(e.access_token);if(h)throw h;a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Se(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:c,error:u}=n;if(u)throw u;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new yr;const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Yt())throw new fl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new fl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new m0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new m0("No code detected.");const{data:E,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:a,refresh_token:c,expires_in:u,expires_at:h,token_type:p}=e;if(!a||!u||!c||!p)throw new fl("No session defined in URL");const m=Math.round(Date.now()/1e3),y=parseInt(u);let w=m+y;h&&(w=parseInt(h));const x=w-m;x*1e3<=Hs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${y}s`);const k=w-y;m-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,w,m):m-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,w,m);const{data:S,error:_}=await this._getUser(a);if(_)throw _;const j={provider_token:s,provider_refresh_token:o,access_token:a,expires_in:y,expires_at:w,refresh_token:c,token_type:p,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:e.type},error:null}}catch(s){if(Se(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Hr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:o,error:a}=n;if(a)return{error:a};const c=(s=o.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:u}=await this.admin.signOut(c,e);if(u&&!(FR(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await mr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=QR(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,o;try{const{data:{session:a},error:c}=n;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Ds(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Se(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:s,error:o}=await this._useSession(async a=>{var c,u,h,p,m;const{data:y,error:w}=a;if(w)throw w;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",x,{headers:this.headers,jwt:(m=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return Yt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(Se(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,o;const{data:a,error:c}=n;if(c)throw c;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await eI(async o=>(o>0&&await ZR(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:bn})),(o,a)=>{const c=200*Math.pow(2,o);return a&&Rd(a)&&Date.now()+c-s<Hs})}catch(s){if(this._debug(n,"error",s),Se(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),Yt()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Hr(this.storage,this.storageKey);if(o&&this.userStorage){let c=await Hr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await Gs(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c?.user)!==null&&e!==void 0?e:Od()}else if(o&&!o.user&&!o.user){const c=await Hr(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await mr(this.storage,this.storageKey+"-user"),await Gs(this.storage,this.storageKey,o)):o.user=Od()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const a=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Nd;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${Nd}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),Rd(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:u}=await this._getUser(o.access_token);!u&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new yr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ql;const{data:a,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!a.session)throw new yr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={session:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(o,"error",a),Se(a)){const c={session:null,error:a};return Rd(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(h){a.push(h)}});if(await Promise.all(c),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Gs(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const a=x0(o);await Gs(this.storage,this.storageKey,a)}else{const o=x0(n);await Gs(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await mr(this.storage,this.storageKey),await mr(this.storage,this.storageKey+"-code-verifier"),await mr(this.storage,this.storageKey+"-user"),this.userStorage&&await mr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Yt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Hs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/Hs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Hs}ms, refresh threshold is ${If} ticks`),o<=If&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Nb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const o=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,c]=await Ds(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(u.toString())}if(s?.queryParams){const a=new URLSearchParams(s.queryParams);o.push(a.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:o,error:a}=n;return a?{data:null,error:a}:await je(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,o;const{data:a,error:c}=n;if(c)return{data:null,error:c};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:h,error:p}=await je(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:a}=n;if(a)return{data:null,error:a};const{data:c,error:u}=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})})}catch(n){if(Se(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:a}=n;return a?{data:null,error:a}:await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Se(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=e?.factors||[],o=s.filter(c=>c.factor_type==="totp"&&c.status==="verified"),a=s.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:s,totp:o,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:o},error:a}=e;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Id(o.access_token);let u=null;c.aal&&(u=c.aal);let h=u;((s=(n=o.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(h="aal2");const m=c.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(u=>u.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(u=>u.kid===e),s&&this.jwks_cached_at+DR>o)return s;const{data:a,error:c}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,s=a.keys.find(u=>u.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:x,error:k}=await this.getSession();if(k||!x.session)return{data:null,error:k};s=x.session.access_token}const{header:o,payload:a,signature:c,raw:{header:u,payload:h}}=Id(s);n?.allowExpired||aI(a.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:x}=await this.getUser(s);if(x)throw x;return{data:{claims:a,header:o,signature:c},error:null}}const m=lI(o.alg),y=await crypto.subtle.importKey("jwk",p,m,!0,["verify"]);if(!await crypto.subtle.verify(m,y,c,qR(`${u}.${h}`)))throw new Mf("Invalid JWT signature");return{data:{claims:a,header:o,signature:c},error:null}}catch(s){if(Se(s))return{data:null,error:s};throw s}}}Mo.nextInstanceID=0;const EI=Mo;class jI extends EI{constructor(e){super(e)}}var PI=function(t,e,n,s){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{p(s.next(m))}catch(y){c(y)}}function h(m){try{p(s.throw(m))}catch(y){c(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,h)}p((s=s.apply(t,e||[])).next())})};class AI{constructor(e,n,s){var o,a,c;this.supabaseUrl=e,this.supabaseKey=n;const u=RR(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const h=`sb-${u.hostname.split(".")[0]}-auth-token`,p={db:SR,realtime:kR,auth:Object.assign(Object.assign({},_R),{storageKey:h}),global:bR},m=NR(s??{},p);this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=m.global.headers)!==null&&a!==void 0?a:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,m.global.fetch),this.fetch=jR(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new $2(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new vR(this.storageUrl.href,this.headers,this.fetch,s?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new j2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return PI(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:o,userStorage:a,storageKey:c,flowType:u,lock:h,debug:p},m,y){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jI({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),m),storageKey:c,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:o,userStorage:a,flowType:u,lock:h,debug:p,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new tR(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const NI=(t,e,n)=>new AI(t,e,n);function RI(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}RI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Qh="qwvxgdrhjtgqwwksqebf",Xh="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF3dnhnZHJoanRncXd3a3NxZWJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgxNTA2NDIsImV4cCI6MjA3MzcyNjY0Mn0.A37IkjTB0pZCs1JQEuE65IL6OQt0gJk1Wt6YpVpGnKA",Ib=`https://${Qh}.supabase.co`,Ob=typeof process<"u"&&!1,Df=Object.freeze(Object.defineProperty({__proto__:null,isDevelopment:Ob,projectId:Qh,publicAnonKey:Xh,supabaseUrl:Ib},Symbol.toStringTag,{value:"Module"})),Le=NI(Ib,Xh,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"vibetune-auth",flowType:"pkce",debug:Ob},realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"vibetune-web","X-App-Version":"1.0.0"}},db:{schema:"public"}}),II=async()=>{const{data:{user:t}}=await Le.auth.getUser();return t};function OI(t,e,n="Operation timed out"){const s=new Promise((o,a)=>{const c=setTimeout(()=>{a(new Error(`${n} after ${e}ms`))},e);t.finally(()=>clearTimeout(c))});return Promise.race([t,s])}async function Lb(t,e,n=null){try{return await OI(t(),e,"Operation timed out")}catch(s){if(s.message.includes("timed out"))return console.warn(`Operation timed out after ${e}ms, using fallback value`),n;throw s}}class _n{static async signUp({email:e,password:n,username:s}){try{console.log("Simple signup starting for:",e);try{if((await this.serverSignUp({email:e,password:n,username:s})).success){console.log(" Server signup successful, now signing in...");const u=await this.signIn({email:e,password:n});if(u.data?.profile)return u}}catch(c){console.warn("Server signup failed, trying client signup:",c)}const{data:o,error:a}=await Le.auth.signUp({email:e,password:n,options:{data:{username:s,display_name:s},emailRedirectTo:window.location.origin}});if(a)throw console.error("Supabase auth signup error:",a),a;if(console.log("Auth signup result:",{hasUser:!!o.user,needsConfirmation:!o.session,userEmail:o.user?.email}),o.user&&!o.session)return console.log(" User created but needs email confirmation"),{data:{user:o.user,needsConfirmation:!0,message:"Please check your email and click the confirmation link, then try signing in."},error:null};if(o.user&&o.session){console.log(" User created and signed in immediately");const c={id:o.user.id,email:o.user.email||e,username:s,level:null,placement_test_completed:!1,created_at:o.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()};return{data:{user:o.user,profile:c},error:null}}return{data:o,error:null}}catch(o){return console.error("Simple signup error:",o),{data:null,error:o}}}static async signIn({email:e,password:n}){try{console.log("Simple signin starting for:",e);const{data:s,error:o}=await Le.auth.signInWithPassword({email:e,password:n});if(o)throw console.error("Supabase auth signin error:",o),o.message.includes("Invalid login credentials")?o.message="Invalid email or password. Please check your credentials and try again.":o.message.includes("Email not confirmed")?o.message="Please check your email and click the confirmation link before signing in.":o.message.includes("Too many requests")&&(o.message="Too many login attempts. Please wait a moment and try again."),o;if(console.log("Auth signin result:",{hasUser:!!s.user,hasSession:!!s.session,emailVerified:!!s.user?.email_confirmed_at}),s.user&&s.session){const a={id:s.user.id,email:s.user.email||e,username:s.user.user_metadata?.username||s.user.user_metadata?.display_name||s.user.user_metadata?.name||e.split("@")[0]||"User",level:null,placement_test_completed:!1,created_at:s.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()};return{data:{user:s.user,profile:a},error:null}}else if(s.user&&!s.session)return{data:{user:s.user,needsConfirmation:!0,message:"Please check your email and click the confirmation link, then try signing in again."},error:null};return{data:s,error:null}}catch(s){return console.error("Simple signin error:",s),{data:null,error:s}}}static async signOut(){try{const{error:e}=await Le.auth.signOut();return{error:e}}catch(e){return{error:e}}}static async serverSignUp({email:e,password:n,username:s}){try{console.log(" Attempting server-side signup for:",e);const{projectId:o,publicAnonKey:a}=await Jt(async()=>{const{projectId:y,publicAnonKey:w}=await Promise.resolve().then(()=>Df);return{projectId:y,publicAnonKey:w}},void 0),c=`https://${o}.supabase.co/functions/v1/make-server-b2083953/signup`,u=new AbortController,h=setTimeout(()=>u.abort(),5e3),p=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({email:e,password:n,name:s}),signal:u.signal});if(clearTimeout(h),!p.ok){const y=await p.text();throw console.error("Server signup error:",p.status,y),new Error(`Server signup failed: ${y}`)}const m=await p.json();return console.log(" Server signup successful"),{success:!0,data:m}}catch(o){return o.name==="AbortError"?(console.error("Server signup timeout"),{success:!1,error:new Error("Server signup timed out")}):(console.error("Server signup error:",o),{success:!1,error:o})}}static async signInWithOAuth(e){try{console.log(`Starting OAuth with ${e}...`);const{data:n,error:s}=await Le.auth.signInWithOAuth({provider:e,options:{redirectTo:window.location.origin}});if(s){console.error(`OAuth ${e} error:`,s);let o=`Failed to sign in with ${e.charAt(0).toUpperCase()+e.slice(1)}.`;return s.message.includes("provider is not enabled")?o=`${e.charAt(0).toUpperCase()+e.slice(1)} sign-in is not enabled. Please use email/password or contact support.`:s.message.includes("redirect")&&(o="OAuth redirect configuration error. Please try email/password sign-in."),{data:null,error:{...s,message:o}}}return{data:n,error:s}}catch(n){return console.error(`OAuth ${e} error:`,n),{data:null,error:n}}}static async resetPassword(e){try{const{data:n,error:s}=await Le.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});return{data:n,error:s}}catch(n){return{data:null,error:n}}}static async updateProfile(e,n,s){try{console.log(" SimpleAuthService.updateProfile called:",{userId:e,updates:n,hasExistingProfile:!!s});const{data:o}=await Le.auth.getSession();if(o?.session?.user){console.log(" Real user with session - creating profile from session data");const c={id:e,email:o.session.user.email||"",username:o.session.user.user_metadata?.username||o.session.user.user_metadata?.display_name||o.session.user.user_metadata?.name||o.session.user.email?.split("@")[0]||"User",level:n.level!==void 0?n.level:null,placement_test_completed:n.placement_test_completed!==void 0?n.placement_test_completed:!1,placement_test_score:n.placement_test_score,created_at:o.session.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()};return console.log(" Profile created from session data:",c),{data:c,error:null}}if(s){console.log(" Demo user - merging updates with existing profile");const c={...s,level:n.level!==void 0?n.level:s.level,placement_test_completed:n.placement_test_completed!==void 0?n.placement_test_completed:s.placement_test_completed,placement_test_score:n.placement_test_score!==void 0?n.placement_test_score:s.placement_test_score,last_login:new Date().toISOString()};return console.log(" Profile created from existing profile:",c),{data:c,error:null}}console.warn(" No session or existing profile - creating basic profile");const a={id:e,email:"demo@vibetune.com",username:"Demo User",level:n.level||null,placement_test_completed:n.placement_test_completed||!1,placement_test_score:n.placement_test_score,created_at:new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()};return console.log(" Basic profile created:",a),{data:a,error:null}}catch(o){return console.error(" Error in updateProfile:",o),{data:null,error:o}}}static getDeviceId(){try{if(typeof window>"u"||!localStorage)return`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;let e=localStorage.getItem("device_id");return e||(e=`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("device_id",e)),e}catch(e){return console.warn("Failed to access localStorage for device ID:",e),`device_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}}static async getCurrentSession(){try{console.log(" Checking session...");const e=await Lb(()=>Le.auth.getSession(),800,null);if(!e)return console.log(" Session check timed out"),null;const{data:{session:n}}=e;return console.log(" Session found:",!!n?.user),n}catch(e){return console.log(" Session check failed:",e?.message||e),null}}static onAuthStateChange(e){return Le.auth.onAuthStateChange(e)}}const $f=async()=>{console.log("Testing authentication system...");try{const{data:t,error:e}=await Le.auth.getSession();return console.log("Session test result:",{hasSession:!!t.session,error:!!e}),e?(console.error("Session error:",e),!1):(console.log("Authentication system is working!"),!0)}catch(t){return console.error("Auth test failed:",t),!1}},C0=Object.freeze(Object.defineProperty({__proto__:null,SimpleAuthService:_n,testAuth:$f},Symbol.toStringTag,{value:"Module"})),Mb=()=>{const t=navigator.userAgent;return{isMobile:/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t),isTablet:/iPad|Android.*(?!.*Mobile)|Silk/i.test(t),isDesktop:!/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t),platform:navigator.platform,userAgent:t,language:navigator.language,onLine:navigator.onLine}},Ff=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),Db=t=>{const e=[];return t.length<6&&e.push("Password must be at least 6 characters long"),{isValid:e.length===0,errors:e}},LI=(t,e)=>{setTimeout(async()=>{try{if(typeof window>"u"){console.log("Analytics: No window object, skipping event:",t);return}const{AnalyticsService:n}=await Jt(async()=>{const{AnalyticsService:s}=await import("./analyticsServiceSimple-BbHllHb4.js");return{AnalyticsService:s}},[]);n.track(t,{...e,deviceInfo:Mb()})}catch(n){console.warn("Analytics import failed, using direct fallback:",n);try{if(typeof localStorage>"u"){console.log("Analytics: No localStorage available");return}const s=JSON.parse(localStorage.getItem("vibetune_analytics_simple")||"[]");s.push({event_type:t,metadata:{...e,timestamp:Date.now(),created_at:new Date().toISOString()}}),s.length>100&&s.splice(0,s.length-100),localStorage.setItem("vibetune_analytics_simple",JSON.stringify(s)),console.log("Analytics: Event stored via direct fallback:",t)}catch{console.log("Analytics: All methods failed, skipping event:",t)}}},0)},MI=Object.freeze(Object.defineProperty({__proto__:null,getDeviceInfo:Mb,trackEvent:LI,validateEmail:Ff,validatePassword:Db},Symbol.toStringTag,{value:"Module"}));function Md({onAuthComplete:t,onBack:e,mode:n="signin"}){const[s,o]=b.useState(n==="signin");b.useEffect(()=>{o(n==="signin")},[n]);const[a,c]=b.useState(!1),[u,h]=b.useState(!1),[p,m]=b.useState(""),[y,w]=b.useState(""),[x,k]=b.useState({email:"",password:"",username:"",confirmPassword:""}),S=async T=>{T.preventDefault(),m(""),w(""),h(!0);try{if(console.log("Starting authentication process...",{isLogin:s,email:x.email}),!Ff(x.email))throw new Error("Please enter a valid email address");if(!x.password)throw new Error("Password is required");if(!s){const R=Db(x.password);if(!R.isValid)throw new Error(R.errors[0]);if(x.password!==x.confirmPassword)throw new Error("Passwords do not match");if(!x.username.trim())throw new Error("Username is required")}console.log("Validation passed, calling AuthService...");let P;if(s?P=await _n.signIn({email:x.email.trim().toLowerCase(),password:x.password}):P=await _n.signUp({email:x.email.trim().toLowerCase(),password:x.password,username:x.username.trim()}),console.log("AuthService result:",{success:!!P.data,error:!!P.error}),P.error){console.error("Auth error:",P.error);let R=P.error.message||"An error occurred during authentication";throw R.includes("Invalid login credentials")?R="Invalid email or password. Please check your credentials and try again.":R.includes("User already registered")?R="An account with this email already exists. Try signing in instead.":R.includes("Password should be at least")?R="Password must be at least 6 characters long.":R.includes("Database error saving new user")?R="There was a database issue creating your account. This is usually a temporary problem. Please try again, or use the demo user to test the app.":R.includes("Email not confirmed")?R="Please check your email and click the confirmation link before signing in.":R.includes("Too many requests")?R="Too many attempts. Please wait a moment and try again.":(R.includes("signup failed")||R.includes("500"))&&(R="Server error during account creation. Please try again or use the demo user option below."),console.error(" Auth error details:",{originalMessage:P.error.message,friendlyMessage:R,errorCode:P.error.code||"unknown",errorStatus:P.error.status||"unknown",errorDetails:P.error.details||"none"}),new Error(R)}if(P.data?.profile)console.log("Authentication successful, profile created:",P.data.profile.id),w(s?"Welcome back!":"Account created successfully!"),t(P.data.profile);else if(P.data?.needsConfirmation){console.log("User needs email confirmation...");const R=P.data.message||(s?"Please check your email and click the confirmation link, then try signing in again.":"Account created! Please check your email and click the confirmation link, then try signing in.");w(R),s||setTimeout(()=>{o(!0),k(M=>({...M,password:""}))},3e3)}else if(P.data?.user&&!s)console.log("User created, waiting for email confirmation..."),w("Account created! Please check your email to verify your account, then try signing in."),setTimeout(()=>{o(!0),k(R=>({...R,password:""}))},3e3);else if(P.data?.message)w(P.data.message),s||setTimeout(()=>{o(!0),k(R=>({...R,password:""}))},3e3);else throw console.warn("Unexpected result structure:",P),new Error("Authentication completed but no user data received")}catch(P){console.error("Authentication error:",P),m(P.message||"An unexpected error occurred during authentication")}finally{h(!1)}},_=async T=>{m(""),w(""),h(!0);try{console.log(`Starting OAuth login with ${T}...`);const P=await _n.signInWithOAuth(T);if(P.error)throw console.error(`OAuth ${T} error:`,P.error),P.error;console.log(`OAuth ${T} initiated successfully`),w(`Redirecting to ${T}...`)}catch(P){console.error(`OAuth ${T} failed:`,P),P.message.includes("provider is not enabled")?m(`${T.charAt(0).toUpperCase()+T.slice(1)} sign-in hasn't been configured yet. Please use email/password authentication instead.`):m(P.message||`Failed to sign in with ${T}. Please try email/password authentication.`)}finally{h(!1)}},j=async()=>{try{m(""),w(""),console.log("Testing authentication system..."),await $f()?w(" Authentication system is working! You can now sign up or sign in."):m(" Authentication system test failed. Check console for details.")}catch(T){console.error("Connection test error:",T),m(`Connection test failed: ${T.message}`)}},E=async()=>{if(!x.email){m("Please enter your email address first");return}if(!Ff(x.email)){m("Please enter a valid email address");return}m(""),h(!0);try{const{error:T}=await _n.resetPassword(x.email);if(T)throw T;w("Password reset email sent! Check your inbox.")}catch(T){m(T.message||"Failed to send password reset email")}finally{h(!1)}};return d.jsx("div",{className:"min-h-screen bg-background flex flex-col justify-center p-4",children:d.jsxs("div",{className:"max-w-sm mx-auto w-full space-y-6",children:[d.jsxs(ve.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[d.jsx(ts,{className:"w-8 h-8 text-accent"}),d.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"VibeTune"})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:s?"Welcome back!":"Join the prosody learning community"})]}),p&&d.jsx(ve.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:d.jsxs(kf,{variant:"destructive",children:[d.jsx(uh,{className:"h-4 w-4"}),d.jsx(Cf,{children:p})]})}),y&&d.jsx(ve.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:d.jsxs(kf,{className:"border-success/20 bg-success/10",children:[d.jsx(ri,{className:"h-4 w-4 text-success"}),d.jsx(Cf,{className:"text-success-foreground",children:y})]})}),d.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:d.jsxs(vt,{children:[d.jsxs(es,{children:[d.jsx(Sr,{children:s?"Sign In":"Create Account"}),d.jsx(qC,{children:s?"Enter your credentials to access your learning progress":"Start your English prosody learning journey"}),!s&&d.jsxs("div",{className:"text-xs text-muted-foreground bg-primary/10 p-2 rounded border-l-2 border-primary/20",children:[" ",d.jsx("strong",{children:"Tip:"})," Use a real email address - you'll need to confirm it before you can sign in."]}),s&&d.jsxs("div",{className:"text-xs text-muted-foreground bg-accent/10 p-2 rounded border-l-2 border-accent/20",children:[" ",d.jsx("strong",{children:"Trouble signing in?"})," Check your email for a confirmation link if you just signed up."]})]}),d.jsxs(wt,{children:[d.jsxs("form",{onSubmit:S,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(fo,{htmlFor:"email",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(tE,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(uo,{id:"email",type:"email",placeholder:"your@email.com",className:"pl-10",value:x.email,onChange:T=>k({...x,email:T.target.value}),required:!0,disabled:u})]})]}),!s&&d.jsxs(ve.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-2",children:[d.jsx(fo,{htmlFor:"username",children:"Username"}),d.jsx(uo,{id:"username",type:"text",placeholder:"Your display name",value:x.username,onChange:T=>k({...x,username:T.target.value}),required:!0,disabled:u})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(fo,{htmlFor:"password",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(yo,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(uo,{id:"password",type:a?"text":"password",placeholder:"Enter your password",className:"pl-10 pr-10",value:x.password,onChange:T=>k({...x,password:T.target.value}),required:!0,disabled:u}),d.jsx(ue,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>c(!a),disabled:u,children:a?d.jsx(MT,{className:"h-4 w-4"}):d.jsx(Zd,{className:"h-4 w-4"})})]})]}),!s&&d.jsxs(ve.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-2",children:[d.jsx(fo,{htmlFor:"confirmPassword",children:"Confirm Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(yo,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(uo,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",className:"pl-10",value:x.confirmPassword,onChange:T=>k({...x,confirmPassword:T.target.value}),required:!0,disabled:u})]})]}),d.jsxs(ue,{type:"submit",className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",disabled:u,children:[u&&d.jsx(dn,{className:"w-4 h-4 mr-2 animate-spin"}),s?"Sign In":"Create Account"]})]}),d.jsx("div",{className:"my-4",children:d.jsx(S2,{})}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(ue,{type:"button",variant:"outline",className:"w-full",onClick:()=>_("google"),disabled:u,children:[u&&d.jsx(dn,{className:"w-4 h-4 mr-2 animate-spin"}),"Continue with Google"]}),d.jsxs(ue,{type:"button",variant:"outline",className:"w-full",onClick:()=>_("github"),disabled:u,children:[u&&d.jsx(dn,{className:"w-4 h-4 mr-2 animate-spin"}),"Continue with GitHub"]}),d.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:" If OAuth doesn't work, the providers may need configuration. Use email/password instead."})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx(ue,{type:"button",variant:"link",onClick:()=>{o(!s),m(""),w("")},className:"text-sm",disabled:u,children:s?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})}),s&&d.jsx("div",{className:"text-center",children:d.jsx(ue,{variant:"link",className:"text-sm text-muted-foreground",onClick:E,disabled:u,children:"Forgot your password?"})}),d.jsxs("div",{className:"text-center space-y-3 border-t-2 border-accent/20 pt-4 bg-accent/5 rounded-lg p-4 -mx-4",children:[d.jsx("p",{className:"text-sm font-medium text-foreground",children:" Debug & Quick Access"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Skip authentication for testing purposes"}),d.jsx(ue,{variant:"default",className:"w-full bg-success hover:bg-success/90 text-success-foreground font-semibold",onClick:()=>{console.log(" Creating demo user for testing..."),w("Creating demo user...");const T={id:"demo-user-"+Date.now(),email:"demo@vibetune.com",username:"Demo User",level:null,placement_test_completed:!1,created_at:new Date().toISOString(),last_login:new Date().toISOString(),device_id:"demo-device-"+Date.now()};setTimeout(()=>{console.log(" Demo profile created:",T),console.log(" Calling onAuthComplete with demo user..."),t(T)},500)},disabled:u,children:" Continue with Demo User"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx(ue,{variant:"outline",size:"sm",onClick:j,disabled:u,children:u?d.jsx(dn,{className:"w-3 h-3 animate-spin"}):"Test Connection"}),d.jsx(ue,{variant:"outline",size:"sm",onClick:async()=>{h(!0);try{await $f()?w(" Auth system working"):m(" Auth system failed")}catch(T){m("Auth test error: "+T.message)}finally{h(!1)}},disabled:u,children:u?d.jsx(dn,{className:"w-3 h-3 animate-spin"}):"Check Auth"})]}),d.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[d.jsx("p",{children:" Having trouble? Try the demo user button above to skip authentication"}),d.jsx("p",{children:" Or check your email for confirmation if you just signed up"})]})]}),d.jsx("div",{className:"text-center",children:d.jsx(ue,{variant:"ghost",onClick:e,disabled:u,children:"Back to Welcome"})})]})})}function Ae(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t?.(o),n===!1||!o.defaultPrevented)return e?.(o)}}var Pn=globalThis?.document?b.useLayoutEffect:()=>{},DI=ow[" useId ".trim().toString()]||(()=>{}),$I=0;function Zr(t){const[e,n]=b.useState(DI());return Pn(()=>{n(s=>s??String($I++))},[t]),t||(e?`radix-${e}`:"")}var FI=ow[" useInsertionEffect ".trim().toString()]||Pn;function yi({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[o,a,c]=VI({defaultProp:e,onChange:n}),u=t!==void 0,h=u?t:o;{const m=b.useRef(t!==void 0);b.useEffect(()=>{const y=m.current;y!==u&&console.warn(`${s} is changing from ${y?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,s])}const p=b.useCallback(m=>{if(u){const y=zI(m)?m(t):m;y!==t&&c.current?.(y)}else a(m)},[u,t,a,c]);return[h,p]}function VI({defaultProp:t,onChange:e}){const[n,s]=b.useState(t),o=b.useRef(n),a=b.useRef(e);return FI(()=>{a.current=e},[e]),b.useEffect(()=>{o.current!==n&&(a.current?.(n),o.current=n)},[n,o]),[n,s,a]}function zI(t){return typeof t=="function"}function Rt(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>e.current?.(...n),[])}function UI(t,e=globalThis?.document){const n=Rt(t);b.useEffect(()=>{const s=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var BI="DismissableLayer",Vf="dismissableLayer.update",WI="dismissableLayer.pointerDownOutside",HI="dismissableLayer.focusOutside",T0,$b=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jh=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:u,...h}=t,p=b.useContext($b),[m,y]=b.useState(null),w=m?.ownerDocument??globalThis?.document,[,x]=b.useState({}),k=Be(e,$=>y($)),S=Array.from(p.layers),[_]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),j=S.indexOf(_),E=m?S.indexOf(m):-1,T=p.layersWithOutsidePointerEventsDisabled.size>0,P=E>=j,R=KI($=>{const D=$.target,q=[...p.branches].some(X=>X.contains(D));!P||q||(o?.($),c?.($),$.defaultPrevented||u?.())},w),M=YI($=>{const D=$.target;[...p.branches].some(X=>X.contains(D))||(a?.($),c?.($),$.defaultPrevented||u?.())},w);return UI($=>{E===p.layers.size-1&&(s?.($),!$.defaultPrevented&&u&&($.preventDefault(),u()))},w),b.useEffect(()=>{if(m)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(T0=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),E0(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=T0)}},[m,w,n,p]),b.useEffect(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),E0())},[m,p]),b.useEffect(()=>{const $=()=>x({});return document.addEventListener(Vf,$),()=>document.removeEventListener(Vf,$)},[]),d.jsx(Pe.div,{...h,ref:k,style:{pointerEvents:T?P?"auto":"none":void 0,...t.style},onFocusCapture:Ae(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Ae(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Ae(t.onPointerDownCapture,R.onPointerDownCapture)})});Jh.displayName=BI;var GI="DismissableLayerBranch",qI=b.forwardRef((t,e)=>{const n=b.useContext($b),s=b.useRef(null),o=Be(e,s);return b.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),d.jsx(Pe.div,{...t,ref:o})});qI.displayName=GI;function KI(t,e=globalThis?.document){const n=Rt(t),s=b.useRef(!1),o=b.useRef(()=>{});return b.useEffect(()=>{const a=u=>{if(u.target&&!s.current){let h=function(){Fb(WI,n,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=h,e.addEventListener("click",o.current,{once:!0})):h()}else e.removeEventListener("click",o.current);s.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function YI(t,e=globalThis?.document){const n=Rt(t),s=b.useRef(!1);return b.useEffect(()=>{const o=a=>{a.target&&!s.current&&Fb(HI,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function E0(){const t=new CustomEvent(Vf);document.dispatchEvent(t)}function Fb(t,e,n,{discrete:s}){const o=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),s?ZC(o,a):o.dispatchEvent(a)}var Dd="focusScope.autoFocusOnMount",$d="focusScope.autoFocusOnUnmount",j0={bubbles:!1,cancelable:!0},QI="FocusScope",Vb=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=t,[u,h]=b.useState(null),p=Rt(o),m=Rt(a),y=b.useRef(null),w=Be(e,S=>h(S)),x=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(s){let S=function(T){if(x.paused||!u)return;const P=T.target;u.contains(P)?y.current=P:vr(y.current,{select:!0})},_=function(T){if(x.paused||!u)return;const P=T.relatedTarget;P!==null&&(u.contains(P)||vr(y.current,{select:!0}))},j=function(T){if(document.activeElement===document.body)for(const R of T)R.removedNodes.length>0&&vr(u)};document.addEventListener("focusin",S),document.addEventListener("focusout",_);const E=new MutationObserver(j);return u&&E.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",_),E.disconnect()}}},[s,u,x.paused]),b.useEffect(()=>{if(u){A0.add(x);const S=document.activeElement;if(!u.contains(S)){const j=new CustomEvent(Dd,j0);u.addEventListener(Dd,p),u.dispatchEvent(j),j.defaultPrevented||(XI(nO(zb(u)),{select:!0}),document.activeElement===S&&vr(u))}return()=>{u.removeEventListener(Dd,p),setTimeout(()=>{const j=new CustomEvent($d,j0);u.addEventListener($d,m),u.dispatchEvent(j),j.defaultPrevented||vr(S??document.body,{select:!0}),u.removeEventListener($d,m),A0.remove(x)},0)}}},[u,p,m,x]);const k=b.useCallback(S=>{if(!n&&!s||x.paused)return;const _=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,j=document.activeElement;if(_&&j){const E=S.currentTarget,[T,P]=JI(E);T&&P?!S.shiftKey&&j===P?(S.preventDefault(),n&&vr(T,{select:!0})):S.shiftKey&&j===T&&(S.preventDefault(),n&&vr(P,{select:!0})):j===E&&S.preventDefault()}},[n,s,x.paused]);return d.jsx(Pe.div,{tabIndex:-1,...c,ref:w,onKeyDown:k})});Vb.displayName=QI;function XI(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(vr(s,{select:e}),document.activeElement!==n)return}function JI(t){const e=zb(t),n=P0(e,t),s=P0(e.reverse(),t);return[n,s]}function zb(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function P0(t,e){for(const n of t)if(!ZI(n,{upTo:e}))return n}function ZI(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function eO(t){return t instanceof HTMLInputElement&&"select"in t}function vr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&eO(t)&&e&&t.select()}}var A0=tO();function tO(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=N0(t,e),t.unshift(e)},remove(e){t=N0(t,e),t[0]?.resume()}}}function N0(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function nO(t){return t.filter(e=>e.tagName!=="A")}var rO="Portal",Zh=b.forwardRef((t,e)=>{const{container:n,...s}=t,[o,a]=b.useState(!1);Pn(()=>a(!0),[]);const c=n||o&&globalThis?.document?.body;return c?XC.createPortal(d.jsx(Pe.div,{...s,ref:e}),c):null});Zh.displayName=rO;function sO(t,e){return b.useReducer((n,s)=>e[n][s]??n,t)}var zt=t=>{const{present:e,children:n}=t,s=iO(e),o=typeof n=="function"?n({present:s.isPresent}):b.Children.only(n),a=Be(s.ref,oO(o));return typeof n=="function"||s.isPresent?b.cloneElement(o,{ref:a}):null};zt.displayName="Presence";function iO(t){const[e,n]=b.useState(),s=b.useRef(null),o=b.useRef(t),a=b.useRef("none"),c=t?"mounted":"unmounted",[u,h]=sO(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const p=hl(s.current);a.current=u==="mounted"?p:"none"},[u]),Pn(()=>{const p=s.current,m=o.current;if(m!==t){const w=a.current,x=hl(p);t?h("MOUNT"):x==="none"||p?.display==="none"?h("UNMOUNT"):h(m&&w!==x?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,h]),Pn(()=>{if(e){let p;const m=e.ownerDocument.defaultView??window,y=x=>{const S=hl(s.current).includes(CSS.escape(x.animationName));if(x.target===e&&S&&(h("ANIMATION_END"),!o.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",p=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},w=x=>{x.target===e&&(a.current=hl(s.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{m.clearTimeout(p),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:b.useCallback(p=>{s.current=p?getComputedStyle(p):null,n(p)},[])}}function hl(t){return t?.animationName||"none"}function oO(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Fd=0;function aO(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??R0()),document.body.insertAdjacentElement("beforeend",t[1]??R0()),Fd++,()=>{Fd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Fd--}},[])}function R0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var kn=function(){return kn=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},kn.apply(this,arguments)};function Ub(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function lO(t,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,a;s<o;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))}var Cl="right-scroll-bar-position",Tl="width-before-scroll-bar",cO="with-scroll-bars-hidden",uO="--removed-body-scroll-bar-size";function Vd(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function dO(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var o=n.value;o!==s&&(n.value=s,n.callback(s,o))}}}})[0];return n.callback=e,n.facade}var fO=typeof window<"u"?b.useLayoutEffect:b.useEffect,I0=new WeakMap;function hO(t,e){var n=dO(null,function(s){return t.forEach(function(o){return Vd(o,s)})});return fO(function(){var s=I0.get(n);if(s){var o=new Set(s),a=new Set(t),c=n.current;o.forEach(function(u){a.has(u)||Vd(u,null)}),a.forEach(function(u){o.has(u)||Vd(u,c)})}I0.set(n,t)},[t]),n}function pO(t){return t}function mO(t,e){e===void 0&&(e=pO);var n=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var c=e(a,s);return n.push(c),function(){n=n.filter(function(u){return u!==c})}},assignSyncMedium:function(a){for(s=!0;n.length;){var c=n;n=[],c.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){s=!0;var c=[];if(n.length){var u=n;n=[],u.forEach(a),c=n}var h=function(){var m=c;c=[],m.forEach(a)},p=function(){return Promise.resolve().then(h)};p(),n={push:function(m){c.push(m),p()},filter:function(m){return c=c.filter(m),n}}}};return o}function gO(t){t===void 0&&(t={});var e=mO(null);return e.options=kn({async:!0,ssr:!1},t),e}var Bb=function(t){var e=t.sideCar,n=Ub(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return b.createElement(s,kn({},n))};Bb.isSideCarExport=!0;function yO(t,e){return t.useMedium(e),Bb}var Wb=gO(),zd=function(){},Xl=b.forwardRef(function(t,e){var n=b.useRef(null),s=b.useState({onScrollCapture:zd,onWheelCapture:zd,onTouchMoveCapture:zd}),o=s[0],a=s[1],c=t.forwardProps,u=t.children,h=t.className,p=t.removeScrollBar,m=t.enabled,y=t.shards,w=t.sideCar,x=t.noRelative,k=t.noIsolation,S=t.inert,_=t.allowPinchZoom,j=t.as,E=j===void 0?"div":j,T=t.gapMode,P=Ub(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=w,M=hO([n,e]),$=kn(kn({},P),o);return b.createElement(b.Fragment,null,m&&b.createElement(R,{sideCar:Wb,removeScrollBar:p,shards:y,noRelative:x,noIsolation:k,inert:S,setCallbacks:a,allowPinchZoom:!!_,lockRef:n,gapMode:T}),c?b.cloneElement(b.Children.only(u),kn(kn({},$),{ref:M})):b.createElement(E,kn({},$,{className:h,ref:M}),u))});Xl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xl.classNames={fullWidth:Tl,zeroRight:Cl};var vO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wO(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=vO();return e&&t.setAttribute("nonce",e),t}function xO(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function bO(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var SO=function(){var t=0,e=null;return{add:function(n){t==0&&(e=wO())&&(xO(e,n),bO(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},_O=function(){var t=SO();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Hb=function(){var t=_O(),e=function(n){var s=n.styles,o=n.dynamic;return t(s,o),null};return e},kO={left:0,top:0,right:0,gap:0},Ud=function(t){return parseInt(t||"",10)||0},CO=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[Ud(n),Ud(s),Ud(o)]},TO=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return kO;var e=CO(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},EO=Hb(),ti="data-scroll-locked",jO=function(t,e,n,s){var o=t.left,a=t.top,c=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(cO,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(u,"px ").concat(s,`;
  }
  body[`).concat(ti,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cl,` {
    right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Tl,` {
    margin-right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Cl," .").concat(Cl,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Tl," .").concat(Tl,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(ti,`] {
    `).concat(uO,": ").concat(u,`px;
  }
`)},O0=function(){var t=parseInt(document.body.getAttribute(ti)||"0",10);return isFinite(t)?t:0},PO=function(){b.useEffect(function(){return document.body.setAttribute(ti,(O0()+1).toString()),function(){var t=O0()-1;t<=0?document.body.removeAttribute(ti):document.body.setAttribute(ti,t.toString())}},[])},AO=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,o=s===void 0?"margin":s;PO();var a=b.useMemo(function(){return TO(o)},[o]);return b.createElement(EO,{styles:jO(a,!e,o,n?"":"!important")})},zf=!1;if(typeof window<"u")try{var pl=Object.defineProperty({},"passive",{get:function(){return zf=!0,!0}});window.addEventListener("test",pl,pl),window.removeEventListener("test",pl,pl)}catch{zf=!1}var zs=zf?{passive:!1}:!1,NO=function(t){return t.tagName==="TEXTAREA"},Gb=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!NO(t)&&n[e]==="visible")},RO=function(t){return Gb(t,"overflowY")},IO=function(t){return Gb(t,"overflowX")},L0=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=qb(t,s);if(o){var a=Kb(t,s),c=a[1],u=a[2];if(c>u)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},OO=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},LO=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},qb=function(t,e){return t==="v"?RO(e):IO(e)},Kb=function(t,e){return t==="v"?OO(e):LO(e)},MO=function(t,e){return t==="h"&&e==="rtl"?-1:1},DO=function(t,e,n,s,o){var a=MO(t,window.getComputedStyle(e).direction),c=a*s,u=n.target,h=e.contains(u),p=!1,m=c>0,y=0,w=0;do{if(!u)break;var x=Kb(t,u),k=x[0],S=x[1],_=x[2],j=S-_-a*k;(k||j)&&qb(t,u)&&(y+=j,w+=k);var E=u.parentNode;u=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(m&&Math.abs(y)<1||!m&&Math.abs(w)<1)&&(p=!0),p},ml=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},M0=function(t){return[t.deltaX,t.deltaY]},D0=function(t){return t&&"current"in t?t.current:t},$O=function(t,e){return t[0]===e[0]&&t[1]===e[1]},FO=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},VO=0,Us=[];function zO(t){var e=b.useRef([]),n=b.useRef([0,0]),s=b.useRef(),o=b.useState(VO++)[0],a=b.useState(Hb)[0],c=b.useRef(t);b.useEffect(function(){c.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var S=lO([t.lockRef.current],(t.shards||[]).map(D0),!0).filter(Boolean);return S.forEach(function(_){return _.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),S.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var u=b.useCallback(function(S,_){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!c.current.allowPinchZoom;var j=ml(S),E=n.current,T="deltaX"in S?S.deltaX:E[0]-j[0],P="deltaY"in S?S.deltaY:E[1]-j[1],R,M=S.target,$=Math.abs(T)>Math.abs(P)?"h":"v";if("touches"in S&&$==="h"&&M.type==="range")return!1;var D=L0($,M);if(!D)return!0;if(D?R=$:(R=$==="v"?"h":"v",D=L0($,M)),!D)return!1;if(!s.current&&"changedTouches"in S&&(T||P)&&(s.current=R),!R)return!0;var q=s.current||R;return DO(q,_,S,q==="h"?T:P)},[]),h=b.useCallback(function(S){var _=S;if(!(!Us.length||Us[Us.length-1]!==a)){var j="deltaY"in _?M0(_):ml(_),E=e.current.filter(function(R){return R.name===_.type&&(R.target===_.target||_.target===R.shadowParent)&&$O(R.delta,j)})[0];if(E&&E.should){_.cancelable&&_.preventDefault();return}if(!E){var T=(c.current.shards||[]).map(D0).filter(Boolean).filter(function(R){return R.contains(_.target)}),P=T.length>0?u(_,T[0]):!c.current.noIsolation;P&&_.cancelable&&_.preventDefault()}}},[]),p=b.useCallback(function(S,_,j,E){var T={name:S,delta:_,target:j,should:E,shadowParent:UO(j)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(P){return P!==T})},1)},[]),m=b.useCallback(function(S){n.current=ml(S),s.current=void 0},[]),y=b.useCallback(function(S){p(S.type,M0(S),S.target,u(S,t.lockRef.current))},[]),w=b.useCallback(function(S){p(S.type,ml(S),S.target,u(S,t.lockRef.current))},[]);b.useEffect(function(){return Us.push(a),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:w}),document.addEventListener("wheel",h,zs),document.addEventListener("touchmove",h,zs),document.addEventListener("touchstart",m,zs),function(){Us=Us.filter(function(S){return S!==a}),document.removeEventListener("wheel",h,zs),document.removeEventListener("touchmove",h,zs),document.removeEventListener("touchstart",m,zs)}},[]);var x=t.removeScrollBar,k=t.inert;return b.createElement(b.Fragment,null,k?b.createElement(a,{styles:FO(o)}):null,x?b.createElement(AO,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function UO(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const BO=yO(Wb,zO);var Yb=b.forwardRef(function(t,e){return b.createElement(Xl,kn({},t,{ref:e,sideCar:BO}))});Yb.classNames=Xl.classNames;var WO=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Bs=new WeakMap,gl=new WeakMap,yl={},Bd=0,Qb=function(t){return t&&(t.host||Qb(t.parentNode))},HO=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=Qb(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},GO=function(t,e,n,s){var o=HO(e,Array.isArray(t)?t:[t]);yl[n]||(yl[n]=new WeakMap);var a=yl[n],c=[],u=new Set,h=new Set(o),p=function(y){!y||u.has(y)||(u.add(y),p(y.parentNode))};o.forEach(p);var m=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(w){if(u.has(w))m(w);else try{var x=w.getAttribute(s),k=x!==null&&x!=="false",S=(Bs.get(w)||0)+1,_=(a.get(w)||0)+1;Bs.set(w,S),a.set(w,_),c.push(w),S===1&&k&&gl.set(w,!0),_===1&&w.setAttribute(n,"true"),k||w.setAttribute(s,"true")}catch(j){console.error("aria-hidden: cannot operate on ",w,j)}})};return m(e),u.clear(),Bd++,function(){c.forEach(function(y){var w=Bs.get(y)-1,x=a.get(y)-1;Bs.set(y,w),a.set(y,x),w||(gl.has(y)||y.removeAttribute(s),gl.delete(y)),x||y.removeAttribute(n)}),Bd--,Bd||(Bs=new WeakMap,Bs=new WeakMap,gl=new WeakMap,yl={})}},qO=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),o=WO(t);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live], script"))),GO(s,o,n,"aria-hidden")):function(){return null}},Jl="Dialog",[Xb]=pn(Jl),[KO,mn]=Xb(Jl),Jb=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:o,onOpenChange:a,modal:c=!0}=t,u=b.useRef(null),h=b.useRef(null),[p,m]=yi({prop:s,defaultProp:o??!1,onChange:a,caller:Jl});return d.jsx(KO,{scope:e,triggerRef:u,contentRef:h,contentId:Zr(),titleId:Zr(),descriptionId:Zr(),open:p,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(y=>!y),[m]),modal:c,children:n})};Jb.displayName=Jl;var Zb="DialogTrigger",eS=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=mn(Zb,n),a=Be(e,o.triggerRef);return d.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":np(o.open),...s,ref:a,onClick:Ae(t.onClick,o.onOpenToggle)})});eS.displayName=Zb;var ep="DialogPortal",[YO,tS]=Xb(ep,{forceMount:void 0}),nS=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:o}=t,a=mn(ep,e);return d.jsx(YO,{scope:e,forceMount:n,children:b.Children.map(s,c=>d.jsx(zt,{present:n||a.open,children:d.jsx(Zh,{asChild:!0,container:o,children:c})}))})};nS.displayName=ep;var Fl="DialogOverlay",rS=b.forwardRef((t,e)=>{const n=tS(Fl,t.__scopeDialog),{forceMount:s=n.forceMount,...o}=t,a=mn(Fl,t.__scopeDialog);return a.modal?d.jsx(zt,{present:s||a.open,children:d.jsx(XO,{...o,ref:e})}):null});rS.displayName=Fl;var QO=Eo("DialogOverlay.RemoveScroll"),XO=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=mn(Fl,n);return d.jsx(Yb,{as:QO,allowPinchZoom:!0,shards:[o.contentRef],children:d.jsx(Pe.div,{"data-state":np(o.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),ns="DialogContent",sS=b.forwardRef((t,e)=>{const n=tS(ns,t.__scopeDialog),{forceMount:s=n.forceMount,...o}=t,a=mn(ns,t.__scopeDialog);return d.jsx(zt,{present:s||a.open,children:a.modal?d.jsx(JO,{...o,ref:e}):d.jsx(ZO,{...o,ref:e})})});sS.displayName=ns;var JO=b.forwardRef((t,e)=>{const n=mn(ns,t.__scopeDialog),s=b.useRef(null),o=Be(e,n.contentRef,s);return b.useEffect(()=>{const a=s.current;if(a)return qO(a)},[]),d.jsx(iS,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(t.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ae(t.onPointerDownOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&a.preventDefault()}),onFocusOutside:Ae(t.onFocusOutside,a=>a.preventDefault())})}),ZO=b.forwardRef((t,e)=>{const n=mn(ns,t.__scopeDialog),s=b.useRef(!1),o=b.useRef(!1);return d.jsx(iS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(s.current||n.triggerRef.current?.focus(),a.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;n.triggerRef.current?.contains(c)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),iS=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,...c}=t,u=mn(ns,n),h=b.useRef(null),p=Be(e,h);return aO(),d.jsxs(d.Fragment,{children:[d.jsx(Vb,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:a,children:d.jsx(Jh,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":np(u.open),...c,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(eL,{titleId:u.titleId}),d.jsx(nL,{contentRef:h,descriptionId:u.descriptionId})]})]})}),tp="DialogTitle",oS=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=mn(tp,n);return d.jsx(Pe.h2,{id:o.titleId,...s,ref:e})});oS.displayName=tp;var aS="DialogDescription",lS=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=mn(aS,n);return d.jsx(Pe.p,{id:o.descriptionId,...s,ref:e})});lS.displayName=aS;var cS="DialogClose",uS=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=mn(cS,n);return d.jsx(Pe.button,{type:"button",...s,ref:e,onClick:Ae(t.onClick,()=>o.onOpenChange(!1))})});uS.displayName=cS;function np(t){return t?"open":"closed"}var dS="DialogTitleWarning",[A3,fS]=YC(dS,{contentName:ns,titleName:tp,docsSlug:"dialog"}),eL=({titleId:t})=>{const e=fS(dS),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},tL="DialogDescriptionWarning",nL=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${fS(tL).contentName}}.`;return b.useEffect(()=>{const o=t.current?.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},hS=Jb,pS=eS,mS=nS,Zl=rS,rp=sS,Uf=oS,Bf=lS,gS=uS;function rL({...t}){return d.jsx(hS,{"data-slot":"sheet",...t})}function sL({...t}){return d.jsx(pS,{"data-slot":"sheet-trigger",...t})}function iL({...t}){return d.jsx(mS,{"data-slot":"sheet-portal",...t})}const yS=b.forwardRef(({className:t,...e},n)=>d.jsx(Zl,{ref:n,"data-slot":"sheet-overlay",className:Ie("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));yS.displayName=Zl.displayName;function oL({className:t,children:e,side:n="right",...s}){return d.jsxs(iL,{children:[d.jsx(yS,{}),d.jsxs(rp,{"data-slot":"sheet-content",className:Ie("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...s,children:[e,d.jsxs(gS,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[d.jsx(Iw,{className:"size-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}var aL=b.createContext(void 0);function ec(t){const e=b.useContext(aL);return t||e||"ltr"}function lL(t,[e,n]){return Math.min(n,Math.max(e,t))}function cL(t,e){return b.useReducer((n,s)=>e[n][s]??n,t)}var sp="ScrollArea",[vS]=pn(sp),[uL,en]=vS(sp),wS=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:s="hover",dir:o,scrollHideDelay:a=600,...c}=t,[u,h]=b.useState(null),[p,m]=b.useState(null),[y,w]=b.useState(null),[x,k]=b.useState(null),[S,_]=b.useState(null),[j,E]=b.useState(0),[T,P]=b.useState(0),[R,M]=b.useState(!1),[$,D]=b.useState(!1),q=Be(e,de=>h(de)),X=ec(o);return d.jsx(uL,{scope:n,type:s,dir:X,scrollHideDelay:a,scrollArea:u,viewport:p,onViewportChange:m,content:y,onContentChange:w,scrollbarX:x,onScrollbarXChange:k,scrollbarXEnabled:R,onScrollbarXEnabledChange:M,scrollbarY:S,onScrollbarYChange:_,scrollbarYEnabled:$,onScrollbarYEnabledChange:D,onCornerWidthChange:E,onCornerHeightChange:P,children:d.jsx(Pe.div,{dir:X,...c,ref:q,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":T+"px",...t.style}})})});wS.displayName=sp;var xS="ScrollAreaViewport",bS=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:s,nonce:o,...a}=t,c=en(xS,n),u=b.useRef(null),h=Be(e,u,c.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),d.jsx(Pe.div,{"data-radix-scroll-area-viewport":"",...a,ref:h,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...t.style},children:d.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});bS.displayName=xS;var Nn="ScrollAreaScrollbar",ip=b.forwardRef((t,e)=>{const{forceMount:n,...s}=t,o=en(Nn,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:c}=o,u=t.orientation==="horizontal";return b.useEffect(()=>(u?a(!0):c(!0),()=>{u?a(!1):c(!1)}),[u,a,c]),o.type==="hover"?d.jsx(dL,{...s,ref:e,forceMount:n}):o.type==="scroll"?d.jsx(fL,{...s,ref:e,forceMount:n}):o.type==="auto"?d.jsx(SS,{...s,ref:e,forceMount:n}):o.type==="always"?d.jsx(op,{...s,ref:e}):null});ip.displayName=Nn;var dL=b.forwardRef((t,e)=>{const{forceMount:n,...s}=t,o=en(Nn,t.__scopeScrollArea),[a,c]=b.useState(!1);return b.useEffect(()=>{const u=o.scrollArea;let h=0;if(u){const p=()=>{window.clearTimeout(h),c(!0)},m=()=>{h=window.setTimeout(()=>c(!1),o.scrollHideDelay)};return u.addEventListener("pointerenter",p),u.addEventListener("pointerleave",m),()=>{window.clearTimeout(h),u.removeEventListener("pointerenter",p),u.removeEventListener("pointerleave",m)}}},[o.scrollArea,o.scrollHideDelay]),d.jsx(zt,{present:n||a,children:d.jsx(SS,{"data-state":a?"visible":"hidden",...s,ref:e})})}),fL=b.forwardRef((t,e)=>{const{forceMount:n,...s}=t,o=en(Nn,t.__scopeScrollArea),a=t.orientation==="horizontal",c=nc(()=>h("SCROLL_END"),100),[u,h]=cL("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(u==="idle"){const p=window.setTimeout(()=>h("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(p)}},[u,o.scrollHideDelay,h]),b.useEffect(()=>{const p=o.viewport,m=a?"scrollLeft":"scrollTop";if(p){let y=p[m];const w=()=>{const x=p[m];y!==x&&(h("SCROLL"),c()),y=x};return p.addEventListener("scroll",w),()=>p.removeEventListener("scroll",w)}},[o.viewport,a,h,c]),d.jsx(zt,{present:n||u!=="hidden",children:d.jsx(op,{"data-state":u==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:Ae(t.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Ae(t.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),SS=b.forwardRef((t,e)=>{const n=en(Nn,t.__scopeScrollArea),{forceMount:s,...o}=t,[a,c]=b.useState(!1),u=t.orientation==="horizontal",h=nc(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,m=n.viewport.offsetHeight<n.viewport.scrollHeight;c(u?p:m)}},10);return li(n.viewport,h),li(n.content,h),d.jsx(zt,{present:s||a,children:d.jsx(op,{"data-state":a?"visible":"hidden",...o,ref:e})})}),op=b.forwardRef((t,e)=>{const{orientation:n="vertical",...s}=t,o=en(Nn,t.__scopeScrollArea),a=b.useRef(null),c=b.useRef(0),[u,h]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=ES(u.viewport,u.content),m={...s,sizes:u,onSizesChange:h,hasThumb:p>0&&p<1,onThumbChange:w=>a.current=w,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:w=>c.current=w};function y(w,x){return vL(w,c.current,u,x)}return n==="horizontal"?d.jsx(hL,{...m,ref:e,onThumbPositionChange:()=>{if(o.viewport&&a.current){const w=o.viewport.scrollLeft,x=$0(w,u,o.dir);a.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:w=>{o.viewport&&(o.viewport.scrollLeft=w)},onDragScroll:w=>{o.viewport&&(o.viewport.scrollLeft=y(w,o.dir))}}):n==="vertical"?d.jsx(pL,{...m,ref:e,onThumbPositionChange:()=>{if(o.viewport&&a.current){const w=o.viewport.scrollTop,x=$0(w,u);a.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:w=>{o.viewport&&(o.viewport.scrollTop=w)},onDragScroll:w=>{o.viewport&&(o.viewport.scrollTop=y(w))}}):null}),hL=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...o}=t,a=en(Nn,t.__scopeScrollArea),[c,u]=b.useState(),h=b.useRef(null),p=Be(e,h,a.onScrollbarXChange);return b.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),d.jsx(kS,{"data-orientation":"horizontal",...o,ref:p,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":tc(n)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.x),onDragScroll:m=>t.onDragScroll(m.x),onWheelScroll:(m,y)=>{if(a.viewport){const w=a.viewport.scrollLeft+m.deltaX;t.onWheelScroll(w),PS(w,y)&&m.preventDefault()}},onResize:()=>{h.current&&a.viewport&&c&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:zl(c.paddingLeft),paddingEnd:zl(c.paddingRight)}})}})}),pL=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...o}=t,a=en(Nn,t.__scopeScrollArea),[c,u]=b.useState(),h=b.useRef(null),p=Be(e,h,a.onScrollbarYChange);return b.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),d.jsx(kS,{"data-orientation":"vertical",...o,ref:p,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":tc(n)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.y),onDragScroll:m=>t.onDragScroll(m.y),onWheelScroll:(m,y)=>{if(a.viewport){const w=a.viewport.scrollTop+m.deltaY;t.onWheelScroll(w),PS(w,y)&&m.preventDefault()}},onResize:()=>{h.current&&a.viewport&&c&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:zl(c.paddingTop),paddingEnd:zl(c.paddingBottom)}})}})}),[mL,_S]=vS(Nn),kS=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:o,onThumbChange:a,onThumbPointerUp:c,onThumbPointerDown:u,onThumbPositionChange:h,onDragScroll:p,onWheelScroll:m,onResize:y,...w}=t,x=en(Nn,n),[k,S]=b.useState(null),_=Be(e,q=>S(q)),j=b.useRef(null),E=b.useRef(""),T=x.viewport,P=s.content-s.viewport,R=Rt(m),M=Rt(h),$=nc(y,10);function D(q){if(j.current){const X=q.clientX-j.current.left,de=q.clientY-j.current.top;p({x:X,y:de})}}return b.useEffect(()=>{const q=X=>{const de=X.target;k?.contains(de)&&R(X,P)};return document.addEventListener("wheel",q,{passive:!1}),()=>document.removeEventListener("wheel",q,{passive:!1})},[T,k,P,R]),b.useEffect(M,[s,M]),li(k,$),li(x.content,$),d.jsx(mL,{scope:n,scrollbar:k,hasThumb:o,onThumbChange:Rt(a),onThumbPointerUp:Rt(c),onThumbPositionChange:M,onThumbPointerDown:Rt(u),children:d.jsx(Pe.div,{...w,ref:_,style:{position:"absolute",...w.style},onPointerDown:Ae(t.onPointerDown,q=>{q.button===0&&(q.target.setPointerCapture(q.pointerId),j.current=k.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),D(q))}),onPointerMove:Ae(t.onPointerMove,D),onPointerUp:Ae(t.onPointerUp,q=>{const X=q.target;X.hasPointerCapture(q.pointerId)&&X.releasePointerCapture(q.pointerId),document.body.style.webkitUserSelect=E.current,x.viewport&&(x.viewport.style.scrollBehavior=""),j.current=null})})})}),Vl="ScrollAreaThumb",CS=b.forwardRef((t,e)=>{const{forceMount:n,...s}=t,o=_S(Vl,t.__scopeScrollArea);return d.jsx(zt,{present:n||o.hasThumb,children:d.jsx(gL,{ref:e,...s})})}),gL=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:s,...o}=t,a=en(Vl,n),c=_S(Vl,n),{onThumbPositionChange:u}=c,h=Be(e,y=>c.onThumbChange(y)),p=b.useRef(void 0),m=nc(()=>{p.current&&(p.current(),p.current=void 0)},100);return b.useEffect(()=>{const y=a.viewport;if(y){const w=()=>{if(m(),!p.current){const x=wL(y,u);p.current=x,u()}};return u(),y.addEventListener("scroll",w),()=>y.removeEventListener("scroll",w)}},[a.viewport,m,u]),d.jsx(Pe.div,{"data-state":c.hasThumb?"visible":"hidden",...o,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Ae(t.onPointerDownCapture,y=>{const x=y.target.getBoundingClientRect(),k=y.clientX-x.left,S=y.clientY-x.top;c.onThumbPointerDown({x:k,y:S})}),onPointerUp:Ae(t.onPointerUp,c.onThumbPointerUp)})});CS.displayName=Vl;var ap="ScrollAreaCorner",TS=b.forwardRef((t,e)=>{const n=en(ap,t.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?d.jsx(yL,{...t,ref:e}):null});TS.displayName=ap;var yL=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,...s}=t,o=en(ap,n),[a,c]=b.useState(0),[u,h]=b.useState(0),p=!!(a&&u);return li(o.scrollbarX,()=>{const m=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(m),h(m)}),li(o.scrollbarY,()=>{const m=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(m),c(m)}),p?d.jsx(Pe.div,{...s,ref:e,style:{width:a,height:u,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function zl(t){return t?parseInt(t,10):0}function ES(t,e){const n=t/e;return isNaN(n)?0:n}function tc(t){const e=ES(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-n)*e;return Math.max(s,18)}function vL(t,e,n,s="ltr"){const o=tc(n),a=o/2,c=e||a,u=o-c,h=n.scrollbar.paddingStart+c,p=n.scrollbar.size-n.scrollbar.paddingEnd-u,m=n.content-n.viewport,y=s==="ltr"?[0,m]:[m*-1,0];return jS([h,p],y)(t)}function $0(t,e,n="ltr"){const s=tc(e),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-o,c=e.content-e.viewport,u=a-s,h=n==="ltr"?[0,c]:[c*-1,0],p=lL(t,h);return jS([0,c],[0,u])(p)}function jS(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function PS(t,e){return t>0&&t<e}var wL=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},s=0;return(function o(){const a={left:t.scrollLeft,top:t.scrollTop},c=n.left!==a.left,u=n.top!==a.top;(c||u)&&e(),n=a,s=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(s)};function nc(t,e){const n=Rt(t),s=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(s.current),[]),b.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,e)},[n,e])}function li(t,e){const n=Rt(e);Pn(()=>{let s=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return o.observe(t),()=>{window.cancelAnimationFrame(s),o.unobserve(t)}}},[t,n])}var AS=wS,xL=bS,bL=TS;const lp=b.forwardRef(({className:t,children:e,...n},s)=>d.jsxs(AS,{ref:s,"data-slot":"scroll-area",className:Ie("relative",t),...n,children:[d.jsx(xL,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),d.jsx(NS,{}),d.jsx(bL,{})]}));lp.displayName=AS.displayName;const NS=b.forwardRef(({className:t,orientation:e="vertical",...n},s)=>d.jsx(ip,{ref:s,"data-slot":"scroll-area-scrollbar",orientation:e,className:Ie("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:d.jsx(CS,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})}));NS.displayName=ip.displayName;var rc="Collapsible",[SL]=pn(rc),[_L,cp]=SL(rc),RS=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:s,defaultOpen:o,disabled:a,onOpenChange:c,...u}=t,[h,p]=yi({prop:s,defaultProp:o??!1,onChange:c,caller:rc});return d.jsx(_L,{scope:n,disabled:a,contentId:Zr(),open:h,onOpenToggle:b.useCallback(()=>p(m=>!m),[p]),children:d.jsx(Pe.div,{"data-state":dp(h),"data-disabled":a?"":void 0,...u,ref:e})})});RS.displayName=rc;var IS="CollapsibleTrigger",OS=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,...s}=t,o=cp(IS,n);return d.jsx(Pe.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":dp(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...s,ref:e,onClick:Ae(t.onClick,o.onOpenToggle)})});OS.displayName=IS;var up="CollapsibleContent",LS=b.forwardRef((t,e)=>{const{forceMount:n,...s}=t,o=cp(up,t.__scopeCollapsible);return d.jsx(zt,{present:n||o.open,children:({present:a})=>d.jsx(kL,{...s,ref:e,present:a})})});LS.displayName=up;var kL=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:s,children:o,...a}=t,c=cp(up,n),[u,h]=b.useState(s),p=b.useRef(null),m=Be(e,p),y=b.useRef(0),w=y.current,x=b.useRef(0),k=x.current,S=c.open||u,_=b.useRef(S),j=b.useRef(void 0);return b.useEffect(()=>{const E=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(E)},[]),Pn(()=>{const E=p.current;if(E){j.current=j.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const T=E.getBoundingClientRect();y.current=T.height,x.current=T.width,_.current||(E.style.transitionDuration=j.current.transitionDuration,E.style.animationName=j.current.animationName),h(s)}},[c.open,s]),d.jsx(Pe.div,{"data-state":dp(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!S,...a,ref:m,style:{"--radix-collapsible-content-height":w?`${w}px`:void 0,"--radix-collapsible-content-width":k?`${k}px`:void 0,...t.style},children:S&&o})});function dp(t){return t?"open":"closed"}var CL=RS;function MS({...t}){return d.jsx(CL,{"data-slot":"collapsible",...t})}function DS({...t}){return d.jsx(OS,{"data-slot":"collapsible-trigger",...t})}function $S({...t}){return d.jsx(LS,{"data-slot":"collapsible-content",...t})}function F0({user:t,conversations:e,onConversationSelect:n,onLogout:s}){const[o,a]=b.useState(!0),c=S=>({"Travel & Adventures":zT,"Daily Life & Routines":RT,"Work & Career":gT,"Hobbies & Interests":WT,"Entertainment & Gaming":FT,"Education & Learning":Al,"Technology & Social Media":vT,"Music & Arts":dE,"Food & Cooking":NE,"General Conversation":qs})[S]||qs,u=e.reduce((S,_)=>{const j=_.topic||"General Conversation";return S[j]||(S[j]=[]),S[j].push(_),S},{}),h=Object.keys(u).sort((S,_)=>{const j=Math.max(...u[S].map(T=>new Date(T.timestamp).getTime()));return Math.max(...u[_].map(T=>new Date(T.timestamp).getTime()))-j}),p=!!t.level,m=t.placement_test_completed,y=p&&m,w=p&&!m,x=()=>y?"Set by Placement Test":w?"Self-selected":"Not set",k=()=>p?{Beginner:"New to English pronunciation and prosody. Focus on basic patterns and guided practice.",Intermediate:"Some experience with English speaking. Practice complex patterns and natural conversation.",Advanced:"Strong English skills, refining prosody. Work on subtle nuances and accent reduction."}[t.level]||"Custom learning level.":"No level has been set yet.";return d.jsxs("div",{className:"w-full h-full bg-sidebar border-r border-sidebar-border flex flex-col",children:[d.jsx("div",{className:"p-4 border-b border-sidebar-border",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 bg-sidebar-accent rounded-full flex items-center justify-center",children:d.jsx(Rw,{className:"w-5 h-5 text-sidebar-accent-foreground"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-medium text-sidebar-foreground truncate",children:t.username}),d.jsx("p",{className:"text-sm text-sidebar-foreground/70 truncate",children:t.email})]}),d.jsx(ue,{variant:"ghost",size:"icon",onClick:s,children:d.jsx(ZT,{className:"w-4 h-4"})})]})}),d.jsx(lp,{className:"flex-1",children:d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(vt,{children:[d.jsx(es,{className:"pb-3",children:d.jsxs(Sr,{className:"text-sm flex items-center gap-2",children:[d.jsx(ef,{className:"w-4 h-4"}),"Current Level (",x(),")"]})}),d.jsx(wt,{className:"space-y-3",children:p?d.jsxs(d.Fragment,{children:[d.jsx(ve.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"flex items-center justify-center",children:d.jsxs("div",{className:"flex items-center gap-3 bg-sidebar-primary/10 border border-sidebar-primary/20 rounded-lg px-4 py-4 w-full",children:[d.jsx("div",{className:"w-10 h-10 bg-sidebar-primary rounded-full flex items-center justify-center flex-shrink-0",children:y?d.jsx(Ew,{className:"w-5 h-5 text-sidebar-primary-foreground"}):d.jsx(Al,{className:"w-5 h-5 text-sidebar-primary-foreground"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-semibold text-lg text-sidebar-foreground",children:t.level}),d.jsx("div",{className:"text-xs text-sidebar-foreground/60",children:y?"Assessed level":"Self-selected level"}),t.placement_test_score&&d.jsxs("div",{className:"text-xs text-sidebar-foreground/80 mt-1",children:["Test Score: ",t.placement_test_score,"%"]})]})]})}),d.jsx("div",{className:"bg-sidebar-accent/10 border border-sidebar-accent/20 rounded-lg p-3",children:d.jsx("p",{className:"text-xs text-sidebar-foreground/80 leading-relaxed",children:k()})}),d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:y?"Your level was determined by placement test results for optimal learning.":"You selected this level manually. Consider taking the placement test for a personalized assessment."})})]}):d.jsx(d.Fragment,{children:d.jsxs("div",{className:"text-center space-y-3",children:[d.jsx("div",{className:"w-16 h-16 bg-sidebar-accent/20 rounded-full flex items-center justify-center mx-auto",children:d.jsx(ef,{className:"w-8 h-8 text-sidebar-accent"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-sidebar-foreground",children:"No Level Set"}),d.jsx("p",{className:"text-xs text-sidebar-foreground/60 mt-1",children:"Use the placement test button in the top-right corner to get started with a personalized level assessment."})]})]})})})]}),d.jsxs(MS,{open:o,onOpenChange:a,children:[d.jsx(DS,{asChild:!0,children:d.jsxs(ue,{variant:"outline",className:"w-full justify-between",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(qs,{className:"w-4 h-4"}),"History (",e.length,")"]}),d.jsx(ch,{className:`w-4 h-4 transition-transform ${o?"rotate-180":""}`})]})}),d.jsx($S,{children:d.jsx("div",{className:"mt-2 space-y-3 max-h-80 overflow-y-auto",children:e.length===0?d.jsx(vt,{children:d.jsx(wt,{className:"p-4 text-center",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"No conversations yet. Start chatting to build your practice history!"})})}):h.map(S=>{const _=u[S],j=c(S);_.reduce((T,P)=>T+P.messagesCount,0);const E=_.filter(T=>T.prosodyScore).reduce((T,P,R,M)=>T+(P.prosodyScore||0)/M.length,0);return d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-sidebar-accent/20 rounded",children:[d.jsx(j,{className:"w-3 h-3 text-sidebar-accent"}),d.jsx("span",{className:"text-xs font-medium text-sidebar-foreground",children:S}),d.jsx("div",{className:"flex-1"}),d.jsxs(Ye,{variant:"outline",className:"text-xs",children:[_.length," session",_.length!==1?"s":""]}),E>0&&d.jsxs(Ye,{className:"text-xs bg-sidebar-primary/20 text-sidebar-primary",children:[Math.round(E),"% avg"]})]}),d.jsxs("div",{className:"space-y-1 ml-4",children:[_.sort((T,P)=>new Date(P.timestamp).getTime()-new Date(T.timestamp).getTime()).slice(0,3).map(T=>{const P=D=>D>=85?"bg-success text-success-foreground":D>=70?"bg-secondary text-secondary-foreground":D>=60?"bg-accent text-accent-foreground":"bg-destructive text-destructive-foreground",M=(D=>D>=20?{status:"Complete",icon:ri,color:"text-success"}:D>=10?{status:"In Progress",icon:Jd,color:"text-accent"}:{status:"Started",icon:qs,color:"text-secondary"})(T.messagesCount),$=M.icon;return d.jsx(ve.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:d.jsx(vt,{className:"cursor-pointer hover:bg-sidebar-accent/30 transition-all duration-200 border-l-2 border-l-sidebar-primary/30 hover:border-l-sidebar-primary hover:shadow-sm",onClick:()=>n(T),children:d.jsx(wt,{className:"p-2",children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-start justify-between gap-2",children:[d.jsx("h4",{className:"text-xs font-medium truncate text-sidebar-foreground",children:T.title}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx($,{className:`w-3 h-3 ${M.color}`}),T.prosodyScore&&d.jsxs(Ye,{className:`text-xs ${P(T.prosodyScore)}`,children:[T.prosodyScore,"%"]})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs text-sidebar-foreground/60",children:[d.jsx(Jd,{className:"w-2 h-2"}),d.jsx("span",{children:T.timestamp})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Ye,{variant:"outline",className:`text-xs ${M.color}`,children:M.status}),d.jsxs("span",{className:"text-xs text-sidebar-foreground/60",children:[T.messagesCount,"msg"]})]})]})]})})})},T.id)}),_.length>3&&d.jsxs("div",{className:"text-xs text-sidebar-foreground/60 text-center py-1",children:["+",_.length-3," more sessions"]})]})]},S)})})})]})]})}),d.jsx("div",{className:"p-4 border-t border-sidebar-border",children:d.jsxs(ue,{variant:"outline",className:"w-full justify-start",children:[d.jsx(Nw,{className:"w-4 h-4 mr-2"}),"Settings"]})})]})}function TL({className:t,...e}){return d.jsx("textarea",{"data-slot":"textarea",className:Ie("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}const EL=["top","right","bottom","left"],Cr=Math.min,Ft=Math.max,Ul=Math.round,vl=Math.floor,jn=t=>({x:t,y:t}),jL={left:"right",right:"left",bottom:"top",top:"bottom"},PL={start:"end",end:"start"};function Wf(t,e,n){return Ft(t,Cr(e,n))}function qn(t,e){return typeof t=="function"?t(e):t}function Kn(t){return t.split("-")[0]}function vi(t){return t.split("-")[1]}function fp(t){return t==="x"?"y":"x"}function hp(t){return t==="y"?"height":"width"}const AL=new Set(["top","bottom"]);function Cn(t){return AL.has(Kn(t))?"y":"x"}function pp(t){return fp(Cn(t))}function NL(t,e,n){n===void 0&&(n=!1);const s=vi(t),o=pp(t),a=hp(o);let c=o==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(c=Bl(c)),[c,Bl(c)]}function RL(t){const e=Bl(t);return[Hf(t),e,Hf(e)]}function Hf(t){return t.replace(/start|end/g,e=>PL[e])}const V0=["left","right"],z0=["right","left"],IL=["top","bottom"],OL=["bottom","top"];function LL(t,e,n){switch(t){case"top":case"bottom":return n?e?z0:V0:e?V0:z0;case"left":case"right":return e?IL:OL;default:return[]}}function ML(t,e,n,s){const o=vi(t);let a=LL(Kn(t),n==="start",s);return o&&(a=a.map(c=>c+"-"+o),e&&(a=a.concat(a.map(Hf)))),a}function Bl(t){return t.replace(/left|right|bottom|top/g,e=>jL[e])}function DL(t){return{top:0,right:0,bottom:0,left:0,...t}}function FS(t){return typeof t!="number"?DL(t):{top:t,right:t,bottom:t,left:t}}function Wl(t){const{x:e,y:n,width:s,height:o}=t;return{width:s,height:o,top:n,left:e,right:e+s,bottom:n+o,x:e,y:n}}function U0(t,e,n){let{reference:s,floating:o}=t;const a=Cn(e),c=pp(e),u=hp(c),h=Kn(e),p=a==="y",m=s.x+s.width/2-o.width/2,y=s.y+s.height/2-o.height/2,w=s[u]/2-o[u]/2;let x;switch(h){case"top":x={x:m,y:s.y-o.height};break;case"bottom":x={x:m,y:s.y+s.height};break;case"right":x={x:s.x+s.width,y};break;case"left":x={x:s.x-o.width,y};break;default:x={x:s.x,y:s.y}}switch(vi(e)){case"start":x[c]-=w*(n&&p?-1:1);break;case"end":x[c]+=w*(n&&p?-1:1);break}return x}const $L=async(t,e,n)=>{const{placement:s="bottom",strategy:o="absolute",middleware:a=[],platform:c}=n,u=a.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let p=await c.getElementRects({reference:t,floating:e,strategy:o}),{x:m,y}=U0(p,s,h),w=s,x={},k=0;for(let S=0;S<u.length;S++){const{name:_,fn:j}=u[S],{x:E,y:T,data:P,reset:R}=await j({x:m,y,initialPlacement:s,placement:w,strategy:o,middlewareData:x,rects:p,platform:c,elements:{reference:t,floating:e}});m=E??m,y=T??y,x={...x,[_]:{...x[_],...P}},R&&k<=50&&(k++,typeof R=="object"&&(R.placement&&(w=R.placement),R.rects&&(p=R.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:o}):R.rects),{x:m,y}=U0(p,w,h)),S=-1)}return{x:m,y,placement:w,strategy:o,middlewareData:x}};async function Do(t,e){var n;e===void 0&&(e={});const{x:s,y:o,platform:a,rects:c,elements:u,strategy:h}=t,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:w=!1,padding:x=0}=qn(e,t),k=FS(x),_=u[w?y==="floating"?"reference":"floating":y],j=Wl(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(_)))==null||n?_:_.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:p,rootBoundary:m,strategy:h})),E=y==="floating"?{x:s,y:o,width:c.floating.width,height:c.floating.height}:c.reference,T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),P=await(a.isElement==null?void 0:a.isElement(T))?await(a.getScale==null?void 0:a.getScale(T))||{x:1,y:1}:{x:1,y:1},R=Wl(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:E,offsetParent:T,strategy:h}):E);return{top:(j.top-R.top+k.top)/P.y,bottom:(R.bottom-j.bottom+k.bottom)/P.y,left:(j.left-R.left+k.left)/P.x,right:(R.right-j.right+k.right)/P.x}}const FL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:o,rects:a,platform:c,elements:u,middlewareData:h}=e,{element:p,padding:m=0}=qn(t,e)||{};if(p==null)return{};const y=FS(m),w={x:n,y:s},x=pp(o),k=hp(x),S=await c.getDimensions(p),_=x==="y",j=_?"top":"left",E=_?"bottom":"right",T=_?"clientHeight":"clientWidth",P=a.reference[k]+a.reference[x]-w[x]-a.floating[k],R=w[x]-a.reference[x],M=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let $=M?M[T]:0;(!$||!await(c.isElement==null?void 0:c.isElement(M)))&&($=u.floating[T]||a.floating[k]);const D=P/2-R/2,q=$/2-S[k]/2-1,X=Cr(y[j],q),de=Cr(y[E],q),be=X,me=$-S[k]-de,ae=$/2-S[k]/2+D,we=Wf(be,ae,me),J=!h.arrow&&vi(o)!=null&&ae!==we&&a.reference[k]/2-(ae<be?X:de)-S[k]/2<0,W=J?ae<be?ae-be:ae-me:0;return{[x]:w[x]+W,data:{[x]:we,centerOffset:ae-we-W,...J&&{alignmentOffset:W}},reset:J}}}),VL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:o,middlewareData:a,rects:c,initialPlacement:u,platform:h,elements:p}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:w,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:S=!0,..._}=qn(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const j=Kn(o),E=Cn(u),T=Kn(u)===u,P=await(h.isRTL==null?void 0:h.isRTL(p.floating)),R=w||(T||!S?[Bl(u)]:RL(u)),M=k!=="none";!w&&M&&R.push(...ML(u,S,k,P));const $=[u,...R],D=await Do(e,_),q=[];let X=((s=a.flip)==null?void 0:s.overflows)||[];if(m&&q.push(D[j]),y){const ae=NL(o,c,P);q.push(D[ae[0]],D[ae[1]])}if(X=[...X,{placement:o,overflows:q}],!q.every(ae=>ae<=0)){var de,be;const ae=(((de=a.flip)==null?void 0:de.index)||0)+1,we=$[ae];if(we&&(!(y==="alignment"?E!==Cn(we):!1)||X.every(L=>Cn(L.placement)===E?L.overflows[0]>0:!0)))return{data:{index:ae,overflows:X},reset:{placement:we}};let J=(be=X.filter(W=>W.overflows[0]<=0).sort((W,L)=>W.overflows[1]-L.overflows[1])[0])==null?void 0:be.placement;if(!J)switch(x){case"bestFit":{var me;const W=(me=X.filter(L=>{if(M){const Q=Cn(L.placement);return Q===E||Q==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(Q=>Q>0).reduce((Q,U)=>Q+U,0)]).sort((L,Q)=>L[1]-Q[1])[0])==null?void 0:me[0];W&&(J=W);break}case"initialPlacement":J=u;break}if(o!==J)return{reset:{placement:J}}}return{}}}};function B0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function W0(t){return EL.some(e=>t[e]>=0)}const zL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...o}=qn(t,e);switch(s){case"referenceHidden":{const a=await Do(e,{...o,elementContext:"reference"}),c=B0(a,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:W0(c)}}}case"escaped":{const a=await Do(e,{...o,altBoundary:!0}),c=B0(a,n.floating);return{data:{escapedOffsets:c,escaped:W0(c)}}}default:return{}}}}},VS=new Set(["left","top"]);async function UL(t,e){const{placement:n,platform:s,elements:o}=t,a=await(s.isRTL==null?void 0:s.isRTL(o.floating)),c=Kn(n),u=vi(n),h=Cn(n)==="y",p=VS.has(c)?-1:1,m=a&&h?-1:1,y=qn(e,t);let{mainAxis:w,crossAxis:x,alignmentAxis:k}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof k=="number"&&(x=u==="end"?k*-1:k),h?{x:x*m,y:w*p}:{x:w*p,y:x*m}}const BL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:o,y:a,placement:c,middlewareData:u}=e,h=await UL(e,t);return c===((n=u.offset)==null?void 0:n.placement)&&(s=u.arrow)!=null&&s.alignmentOffset?{}:{x:o+h.x,y:a+h.y,data:{...h,placement:c}}}}},WL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:o}=e,{mainAxis:a=!0,crossAxis:c=!1,limiter:u={fn:_=>{let{x:j,y:E}=_;return{x:j,y:E}}},...h}=qn(t,e),p={x:n,y:s},m=await Do(e,h),y=Cn(Kn(o)),w=fp(y);let x=p[w],k=p[y];if(a){const _=w==="y"?"top":"left",j=w==="y"?"bottom":"right",E=x+m[_],T=x-m[j];x=Wf(E,x,T)}if(c){const _=y==="y"?"top":"left",j=y==="y"?"bottom":"right",E=k+m[_],T=k-m[j];k=Wf(E,k,T)}const S=u.fn({...e,[w]:x,[y]:k});return{...S,data:{x:S.x-n,y:S.y-s,enabled:{[w]:a,[y]:c}}}}}},HL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:o,rects:a,middlewareData:c}=e,{offset:u=0,mainAxis:h=!0,crossAxis:p=!0}=qn(t,e),m={x:n,y:s},y=Cn(o),w=fp(y);let x=m[w],k=m[y];const S=qn(u,e),_=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(h){const T=w==="y"?"height":"width",P=a.reference[w]-a.floating[T]+_.mainAxis,R=a.reference[w]+a.reference[T]-_.mainAxis;x<P?x=P:x>R&&(x=R)}if(p){var j,E;const T=w==="y"?"width":"height",P=VS.has(Kn(o)),R=a.reference[y]-a.floating[T]+(P&&((j=c.offset)==null?void 0:j[y])||0)+(P?0:_.crossAxis),M=a.reference[y]+a.reference[T]+(P?0:((E=c.offset)==null?void 0:E[y])||0)-(P?_.crossAxis:0);k<R?k=R:k>M&&(k=M)}return{[w]:x,[y]:k}}}},GL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:o,rects:a,platform:c,elements:u}=e,{apply:h=()=>{},...p}=qn(t,e),m=await Do(e,p),y=Kn(o),w=vi(o),x=Cn(o)==="y",{width:k,height:S}=a.floating;let _,j;y==="top"||y==="bottom"?(_=y,j=w===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(j=y,_=w==="end"?"top":"bottom");const E=S-m.top-m.bottom,T=k-m.left-m.right,P=Cr(S-m[_],E),R=Cr(k-m[j],T),M=!e.middlewareData.shift;let $=P,D=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(D=T),(s=e.middlewareData.shift)!=null&&s.enabled.y&&($=E),M&&!w){const X=Ft(m.left,0),de=Ft(m.right,0),be=Ft(m.top,0),me=Ft(m.bottom,0);x?D=k-2*(X!==0||de!==0?X+de:Ft(m.left,m.right)):$=S-2*(be!==0||me!==0?be+me:Ft(m.top,m.bottom))}await h({...e,availableWidth:D,availableHeight:$});const q=await c.getDimensions(u.floating);return k!==q.width||S!==q.height?{reset:{rects:!0}}:{}}}};function sc(){return typeof window<"u"}function wi(t){return zS(t)?(t.nodeName||"").toLowerCase():"#document"}function Vt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Rn(t){var e;return(e=(zS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zS(t){return sc()?t instanceof Node||t instanceof Vt(t).Node:!1}function fn(t){return sc()?t instanceof Element||t instanceof Vt(t).Element:!1}function An(t){return sc()?t instanceof HTMLElement||t instanceof Vt(t).HTMLElement:!1}function H0(t){return!sc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Vt(t).ShadowRoot}const qL=new Set(["inline","contents"]);function Ho(t){const{overflow:e,overflowX:n,overflowY:s,display:o}=hn(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!qL.has(o)}const KL=new Set(["table","td","th"]);function YL(t){return KL.has(wi(t))}const QL=[":popover-open",":modal"];function ic(t){return QL.some(e=>{try{return t.matches(e)}catch{return!1}})}const XL=["transform","translate","scale","rotate","perspective"],JL=["transform","translate","scale","rotate","perspective","filter"],ZL=["paint","layout","strict","content"];function mp(t){const e=gp(),n=fn(t)?hn(t):t;return XL.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||JL.some(s=>(n.willChange||"").includes(s))||ZL.some(s=>(n.contain||"").includes(s))}function eM(t){let e=Tr(t);for(;An(e)&&!ci(e);){if(mp(e))return e;if(ic(e))return null;e=Tr(e)}return null}function gp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const tM=new Set(["html","body","#document"]);function ci(t){return tM.has(wi(t))}function hn(t){return Vt(t).getComputedStyle(t)}function oc(t){return fn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Tr(t){if(wi(t)==="html")return t;const e=t.assignedSlot||t.parentNode||H0(t)&&t.host||Rn(t);return H0(e)?e.host:e}function US(t){const e=Tr(t);return ci(e)?t.ownerDocument?t.ownerDocument.body:t.body:An(e)&&Ho(e)?e:US(e)}function $o(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=US(t),a=o===((s=t.ownerDocument)==null?void 0:s.body),c=Vt(o);if(a){const u=Gf(c);return e.concat(c,c.visualViewport||[],Ho(o)?o:[],u&&n?$o(u):[])}return e.concat(o,$o(o,[],n))}function Gf(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function BS(t){const e=hn(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const o=An(t),a=o?t.offsetWidth:n,c=o?t.offsetHeight:s,u=Ul(n)!==a||Ul(s)!==c;return u&&(n=a,s=c),{width:n,height:s,$:u}}function yp(t){return fn(t)?t:t.contextElement}function ni(t){const e=yp(t);if(!An(e))return jn(1);const n=e.getBoundingClientRect(),{width:s,height:o,$:a}=BS(e);let c=(a?Ul(n.width):n.width)/s,u=(a?Ul(n.height):n.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const nM=jn(0);function WS(t){const e=Vt(t);return!gp()||!e.visualViewport?nM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function rM(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Vt(t)?!1:e}function rs(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=yp(t);let c=jn(1);e&&(s?fn(s)&&(c=ni(s)):c=ni(t));const u=rM(a,n,s)?WS(a):jn(0);let h=(o.left+u.x)/c.x,p=(o.top+u.y)/c.y,m=o.width/c.x,y=o.height/c.y;if(a){const w=Vt(a),x=s&&fn(s)?Vt(s):s;let k=w,S=Gf(k);for(;S&&s&&x!==k;){const _=ni(S),j=S.getBoundingClientRect(),E=hn(S),T=j.left+(S.clientLeft+parseFloat(E.paddingLeft))*_.x,P=j.top+(S.clientTop+parseFloat(E.paddingTop))*_.y;h*=_.x,p*=_.y,m*=_.x,y*=_.y,h+=T,p+=P,k=Vt(S),S=Gf(k)}}return Wl({width:m,height:y,x:h,y:p})}function ac(t,e){const n=oc(t).scrollLeft;return e?e.left+n:rs(Rn(t)).left+n}function HS(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-ac(t,n),o=n.top+e.scrollTop;return{x:s,y:o}}function sM(t){let{elements:e,rect:n,offsetParent:s,strategy:o}=t;const a=o==="fixed",c=Rn(s),u=e?ic(e.floating):!1;if(s===c||u&&a)return n;let h={scrollLeft:0,scrollTop:0},p=jn(1);const m=jn(0),y=An(s);if((y||!y&&!a)&&((wi(s)!=="body"||Ho(c))&&(h=oc(s)),An(s))){const x=rs(s);p=ni(s),m.x=x.x+s.clientLeft,m.y=x.y+s.clientTop}const w=c&&!y&&!a?HS(c,h):jn(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+m.x+w.x,y:n.y*p.y-h.scrollTop*p.y+m.y+w.y}}function iM(t){return Array.from(t.getClientRects())}function oM(t){const e=Rn(t),n=oc(t),s=t.ownerDocument.body,o=Ft(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),a=Ft(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let c=-n.scrollLeft+ac(t);const u=-n.scrollTop;return hn(s).direction==="rtl"&&(c+=Ft(e.clientWidth,s.clientWidth)-o),{width:o,height:a,x:c,y:u}}const G0=25;function aM(t,e){const n=Vt(t),s=Rn(t),o=n.visualViewport;let a=s.clientWidth,c=s.clientHeight,u=0,h=0;if(o){a=o.width,c=o.height;const m=gp();(!m||m&&e==="fixed")&&(u=o.offsetLeft,h=o.offsetTop)}const p=ac(s);if(p<=0){const m=s.ownerDocument,y=m.body,w=getComputedStyle(y),x=m.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,k=Math.abs(s.clientWidth-y.clientWidth-x);k<=G0&&(a-=k)}else p<=G0&&(a+=p);return{width:a,height:c,x:u,y:h}}const lM=new Set(["absolute","fixed"]);function cM(t,e){const n=rs(t,!0,e==="fixed"),s=n.top+t.clientTop,o=n.left+t.clientLeft,a=An(t)?ni(t):jn(1),c=t.clientWidth*a.x,u=t.clientHeight*a.y,h=o*a.x,p=s*a.y;return{width:c,height:u,x:h,y:p}}function q0(t,e,n){let s;if(e==="viewport")s=aM(t,n);else if(e==="document")s=oM(Rn(t));else if(fn(e))s=cM(e,n);else{const o=WS(t);s={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Wl(s)}function GS(t,e){const n=Tr(t);return n===e||!fn(n)||ci(n)?!1:hn(n).position==="fixed"||GS(n,e)}function uM(t,e){const n=e.get(t);if(n)return n;let s=$o(t,[],!1).filter(u=>fn(u)&&wi(u)!=="body"),o=null;const a=hn(t).position==="fixed";let c=a?Tr(t):t;for(;fn(c)&&!ci(c);){const u=hn(c),h=mp(c);!h&&u.position==="fixed"&&(o=null),(a?!h&&!o:!h&&u.position==="static"&&!!o&&lM.has(o.position)||Ho(c)&&!h&&GS(t,c))?s=s.filter(m=>m!==c):o=u,c=Tr(c)}return e.set(t,s),s}function dM(t){let{element:e,boundary:n,rootBoundary:s,strategy:o}=t;const c=[...n==="clippingAncestors"?ic(e)?[]:uM(e,this._c):[].concat(n),s],u=c[0],h=c.reduce((p,m)=>{const y=q0(e,m,o);return p.top=Ft(y.top,p.top),p.right=Cr(y.right,p.right),p.bottom=Cr(y.bottom,p.bottom),p.left=Ft(y.left,p.left),p},q0(e,u,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function fM(t){const{width:e,height:n}=BS(t);return{width:e,height:n}}function hM(t,e,n){const s=An(e),o=Rn(e),a=n==="fixed",c=rs(t,!0,a,e);let u={scrollLeft:0,scrollTop:0};const h=jn(0);function p(){h.x=ac(o)}if(s||!s&&!a)if((wi(e)!=="body"||Ho(o))&&(u=oc(e)),s){const x=rs(e,!0,a,e);h.x=x.x+e.clientLeft,h.y=x.y+e.clientTop}else o&&p();a&&!s&&o&&p();const m=o&&!s&&!a?HS(o,u):jn(0),y=c.left+u.scrollLeft-h.x-m.x,w=c.top+u.scrollTop-h.y-m.y;return{x:y,y:w,width:c.width,height:c.height}}function Wd(t){return hn(t).position==="static"}function K0(t,e){if(!An(t)||hn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Rn(t)===n&&(n=n.ownerDocument.body),n}function qS(t,e){const n=Vt(t);if(ic(t))return n;if(!An(t)){let o=Tr(t);for(;o&&!ci(o);){if(fn(o)&&!Wd(o))return o;o=Tr(o)}return n}let s=K0(t,e);for(;s&&YL(s)&&Wd(s);)s=K0(s,e);return s&&ci(s)&&Wd(s)&&!mp(s)?n:s||eM(t)||n}const pM=async function(t){const e=this.getOffsetParent||qS,n=this.getDimensions,s=await n(t.floating);return{reference:hM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function mM(t){return hn(t).direction==="rtl"}const gM={convertOffsetParentRelativeRectToViewportRelativeRect:sM,getDocumentElement:Rn,getClippingRect:dM,getOffsetParent:qS,getElementRects:pM,getClientRects:iM,getDimensions:fM,getScale:ni,isElement:fn,isRTL:mM};function KS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function yM(t,e){let n=null,s;const o=Rn(t);function a(){var u;clearTimeout(s),(u=n)==null||u.disconnect(),n=null}function c(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),a();const p=t.getBoundingClientRect(),{left:m,top:y,width:w,height:x}=p;if(u||e(),!w||!x)return;const k=vl(y),S=vl(o.clientWidth-(m+w)),_=vl(o.clientHeight-(y+x)),j=vl(m),T={rootMargin:-k+"px "+-S+"px "+-_+"px "+-j+"px",threshold:Ft(0,Cr(1,h))||1};let P=!0;function R(M){const $=M[0].intersectionRatio;if($!==h){if(!P)return c();$?c(!1,$):s=setTimeout(()=>{c(!1,1e-7)},1e3)}$===1&&!KS(p,t.getBoundingClientRect())&&c(),P=!1}try{n=new IntersectionObserver(R,{...T,root:o.ownerDocument})}catch{n=new IntersectionObserver(R,T)}n.observe(t)}return c(!0),a}function vM(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,p=yp(t),m=o||a?[...p?$o(p):[],...$o(e)]:[];m.forEach(j=>{o&&j.addEventListener("scroll",n,{passive:!0}),a&&j.addEventListener("resize",n)});const y=p&&u?yM(p,n):null;let w=-1,x=null;c&&(x=new ResizeObserver(j=>{let[E]=j;E&&E.target===p&&x&&(x.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var T;(T=x)==null||T.observe(e)})),n()}),p&&!h&&x.observe(p),x.observe(e));let k,S=h?rs(t):null;h&&_();function _(){const j=rs(t);S&&!KS(S,j)&&n(),S=j,k=requestAnimationFrame(_)}return n(),()=>{var j;m.forEach(E=>{o&&E.removeEventListener("scroll",n),a&&E.removeEventListener("resize",n)}),y?.(),(j=x)==null||j.disconnect(),x=null,h&&cancelAnimationFrame(k)}}const wM=BL,xM=WL,bM=VL,SM=GL,_M=zL,Y0=FL,kM=HL,CM=(t,e,n)=>{const s=new Map,o={platform:gM,...n},a={...o.platform,_c:s};return $L(t,e,{...o,platform:a})};var TM=typeof document<"u",EM=function(){},El=TM?b.useLayoutEffect:EM;function Hl(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!Hl(t[s],e[s]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,o[s]))return!1;for(s=n;s--!==0;){const a=o[s];if(!(a==="_owner"&&t.$$typeof)&&!Hl(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function YS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Q0(t,e){const n=YS(t);return Math.round(e*n)/n}function Hd(t){const e=b.useRef(t);return El(()=>{e.current=t}),e}function jM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:o,elements:{reference:a,floating:c}={},transform:u=!0,whileElementsMounted:h,open:p}=t,[m,y]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[w,x]=b.useState(s);Hl(w,s)||x(s);const[k,S]=b.useState(null),[_,j]=b.useState(null),E=b.useCallback(L=>{L!==M.current&&(M.current=L,S(L))},[]),T=b.useCallback(L=>{L!==$.current&&($.current=L,j(L))},[]),P=a||k,R=c||_,M=b.useRef(null),$=b.useRef(null),D=b.useRef(m),q=h!=null,X=Hd(h),de=Hd(o),be=Hd(p),me=b.useCallback(()=>{if(!M.current||!$.current)return;const L={placement:e,strategy:n,middleware:w};de.current&&(L.platform=de.current),CM(M.current,$.current,L).then(Q=>{const U={...Q,isPositioned:be.current!==!1};ae.current&&!Hl(D.current,U)&&(D.current=U,oh.flushSync(()=>{y(U)}))})},[w,e,n,de,be]);El(()=>{p===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,y(L=>({...L,isPositioned:!1})))},[p]);const ae=b.useRef(!1);El(()=>(ae.current=!0,()=>{ae.current=!1}),[]),El(()=>{if(P&&(M.current=P),R&&($.current=R),P&&R){if(X.current)return X.current(P,R,me);me()}},[P,R,me,X,q]);const we=b.useMemo(()=>({reference:M,floating:$,setReference:E,setFloating:T}),[E,T]),J=b.useMemo(()=>({reference:P,floating:R}),[P,R]),W=b.useMemo(()=>{const L={position:n,left:0,top:0};if(!J.floating)return L;const Q=Q0(J.floating,m.x),U=Q0(J.floating,m.y);return u?{...L,transform:"translate("+Q+"px, "+U+"px)",...YS(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:U}},[n,u,J.floating,m.x,m.y]);return b.useMemo(()=>({...m,update:me,refs:we,elements:J,floatingStyles:W}),[m,me,we,J,W])}const PM=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:o}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?Y0({element:s.current,padding:o}).fn(n):{}:s?Y0({element:s,padding:o}).fn(n):{}}}},AM=(t,e)=>({...wM(t),options:[t,e]}),NM=(t,e)=>({...xM(t),options:[t,e]}),RM=(t,e)=>({...kM(t),options:[t,e]}),IM=(t,e)=>({...bM(t),options:[t,e]}),OM=(t,e)=>({...SM(t),options:[t,e]}),LM=(t,e)=>({..._M(t),options:[t,e]}),MM=(t,e)=>({...PM(t),options:[t,e]});var DM="Arrow",QS=b.forwardRef((t,e)=>{const{children:n,width:s=10,height:o=5,...a}=t;return d.jsx(Pe.svg,{...a,ref:e,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});QS.displayName=DM;var $M=QS;function XS(t){const[e,n]=b.useState(void 0);return Pn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,u;if("borderBoxSize"in a){const h=a.borderBoxSize,p=Array.isArray(h)?h[0]:h;c=p.inlineSize,u=p.blockSize}else c=t.offsetWidth,u=t.offsetHeight;n({width:c,height:u})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var vp="Popper",[JS,ZS]=pn(vp),[FM,e1]=JS(vp),t1=t=>{const{__scopePopper:e,children:n}=t,[s,o]=b.useState(null);return d.jsx(FM,{scope:e,anchor:s,onAnchorChange:o,children:n})};t1.displayName=vp;var n1="PopperAnchor",r1=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...o}=t,a=e1(n1,n),c=b.useRef(null),u=Be(e,c),h=b.useRef(null);return b.useEffect(()=>{const p=h.current;h.current=s?.current||c.current,p!==h.current&&a.onAnchorChange(h.current)}),s?null:d.jsx(Pe.div,{...o,ref:u})});r1.displayName=n1;var wp="PopperContent",[VM,zM]=JS(wp),s1=b.forwardRef((t,e)=>{const{__scopePopper:n,side:s="bottom",sideOffset:o=0,align:a="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:m=0,sticky:y="partial",hideWhenDetached:w=!1,updatePositionStrategy:x="optimized",onPlaced:k,...S}=t,_=e1(wp,n),[j,E]=b.useState(null),T=Be(e,te=>E(te)),[P,R]=b.useState(null),M=XS(P),$=M?.width??0,D=M?.height??0,q=s+(a!=="center"?"-"+a:""),X=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},de=Array.isArray(p)?p:[p],be=de.length>0,me={padding:X,boundary:de.filter(BM),altBoundary:be},{refs:ae,floatingStyles:we,placement:J,isPositioned:W,middlewareData:L}=jM({strategy:"fixed",placement:q,whileElementsMounted:(...te)=>vM(...te,{animationFrame:x==="always"}),elements:{reference:_.anchor},middleware:[AM({mainAxis:o+D,alignmentAxis:c}),h&&NM({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?RM():void 0,...me}),h&&IM({...me}),OM({...me,apply:({elements:te,rects:xe,availableWidth:ke,availableHeight:Me})=>{const{width:Ze,height:Ot}=xe.reference,In=te.floating.style;In.setProperty("--radix-popper-available-width",`${ke}px`),In.setProperty("--radix-popper-available-height",`${Me}px`),In.setProperty("--radix-popper-anchor-width",`${Ze}px`),In.setProperty("--radix-popper-anchor-height",`${Ot}px`)}}),P&&MM({element:P,padding:u}),WM({arrowWidth:$,arrowHeight:D}),w&&LM({strategy:"referenceHidden",...me})]}),[Q,U]=a1(J),N=Rt(k);Pn(()=>{W&&N?.()},[W,N]);const B=L.arrow?.x,ee=L.arrow?.y,ce=L.arrow?.centerOffset!==0,[_e,Ce]=b.useState();return Pn(()=>{j&&Ce(window.getComputedStyle(j).zIndex)},[j]),d.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...we,transform:W?we.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_e,"--radix-popper-transform-origin":[L.transformOrigin?.x,L.transformOrigin?.y].join(" "),...L.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(VM,{scope:n,placedSide:Q,onArrowChange:R,arrowX:B,arrowY:ee,shouldHideArrow:ce,children:d.jsx(Pe.div,{"data-side":Q,"data-align":U,...S,ref:T,style:{...S.style,animation:W?void 0:"none"}})})})});s1.displayName=wp;var i1="PopperArrow",UM={top:"bottom",right:"left",bottom:"top",left:"right"},o1=b.forwardRef(function(e,n){const{__scopePopper:s,...o}=e,a=zM(i1,s),c=UM[a.placedSide];return d.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:d.jsx($M,{...o,ref:n,style:{...o.style,display:"block"}})})});o1.displayName=i1;function BM(t){return t!==null}var WM=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:s,middlewareData:o}=e,c=o.arrow?.centerOffset!==0,u=c?0:t.arrowWidth,h=c?0:t.arrowHeight,[p,m]=a1(n),y={start:"0%",center:"50%",end:"100%"}[m],w=(o.arrow?.x??0)+u/2,x=(o.arrow?.y??0)+h/2;let k="",S="";return p==="bottom"?(k=c?y:`${w}px`,S=`${-h}px`):p==="top"?(k=c?y:`${w}px`,S=`${s.floating.height+h}px`):p==="right"?(k=`${-h}px`,S=c?y:`${x}px`):p==="left"&&(k=`${s.floating.width+h}px`,S=c?y:`${x}px`),{data:{x:k,y:S}}}});function a1(t){const[e,n="center"]=t.split("-");return[e,n]}var HM=t1,GM=r1,qM=s1,KM=o1,YM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),QM="VisuallyHidden",l1=b.forwardRef((t,e)=>d.jsx(Pe.span,{...t,ref:e,style:{...YM,...t.style}}));l1.displayName=QM;var c1=l1,[lc]=pn("Tooltip",[ZS]),cc=ZS(),u1="TooltipProvider",XM=700,qf="tooltip.open",[JM,xp]=lc(u1),d1=t=>{const{__scopeTooltip:e,delayDuration:n=XM,skipDelayDuration:s=300,disableHoverableContent:o=!1,children:a}=t,c=b.useRef(!0),u=b.useRef(!1),h=b.useRef(0);return b.useEffect(()=>{const p=h.current;return()=>window.clearTimeout(p)},[]),d.jsx(JM,{scope:e,isOpenDelayedRef:c,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(h.current),c.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>c.current=!0,s)},[s]),isPointerInTransitRef:u,onPointerInTransitChange:b.useCallback(p=>{u.current=p},[]),disableHoverableContent:o,children:a})};d1.displayName=u1;var Fo="Tooltip",[ZM,Go]=lc(Fo),f1=t=>{const{__scopeTooltip:e,children:n,open:s,defaultOpen:o,onOpenChange:a,disableHoverableContent:c,delayDuration:u}=t,h=xp(Fo,t.__scopeTooltip),p=cc(e),[m,y]=b.useState(null),w=Zr(),x=b.useRef(0),k=c??h.disableHoverableContent,S=u??h.delayDuration,_=b.useRef(!1),[j,E]=yi({prop:s,defaultProp:o??!1,onChange:$=>{$?(h.onOpen(),document.dispatchEvent(new CustomEvent(qf))):h.onClose(),a?.($)},caller:Fo}),T=b.useMemo(()=>j?_.current?"delayed-open":"instant-open":"closed",[j]),P=b.useCallback(()=>{window.clearTimeout(x.current),x.current=0,_.current=!1,E(!0)},[E]),R=b.useCallback(()=>{window.clearTimeout(x.current),x.current=0,E(!1)},[E]),M=b.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{_.current=!0,E(!0),x.current=0},S)},[S,E]);return b.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),d.jsx(HM,{...p,children:d.jsx(ZM,{scope:e,contentId:w,open:j,stateAttribute:T,trigger:m,onTriggerChange:y,onTriggerEnter:b.useCallback(()=>{h.isOpenDelayedRef.current?M():P()},[h.isOpenDelayedRef,M,P]),onTriggerLeave:b.useCallback(()=>{k?R():(window.clearTimeout(x.current),x.current=0)},[R,k]),onOpen:P,onClose:R,disableHoverableContent:k,children:n})})};f1.displayName=Fo;var Kf="TooltipTrigger",h1=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,o=Go(Kf,n),a=xp(Kf,n),c=cc(n),u=b.useRef(null),h=Be(e,u,o.onTriggerChange),p=b.useRef(!1),m=b.useRef(!1),y=b.useCallback(()=>p.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),d.jsx(GM,{asChild:!0,...c,children:d.jsx(Pe.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...s,ref:h,onPointerMove:Ae(t.onPointerMove,w=>{w.pointerType!=="touch"&&!m.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),m.current=!0)}),onPointerLeave:Ae(t.onPointerLeave,()=>{o.onTriggerLeave(),m.current=!1}),onPointerDown:Ae(t.onPointerDown,()=>{o.open&&o.onClose(),p.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:Ae(t.onFocus,()=>{p.current||o.onOpen()}),onBlur:Ae(t.onBlur,o.onClose),onClick:Ae(t.onClick,o.onClose)})})});h1.displayName=Kf;var bp="TooltipPortal",[eD,tD]=lc(bp,{forceMount:void 0}),p1=t=>{const{__scopeTooltip:e,forceMount:n,children:s,container:o}=t,a=Go(bp,e);return d.jsx(eD,{scope:e,forceMount:n,children:d.jsx(zt,{present:n||a.open,children:d.jsx(Zh,{asChild:!0,container:o,children:s})})})};p1.displayName=bp;var ui="TooltipContent",m1=b.forwardRef((t,e)=>{const n=tD(ui,t.__scopeTooltip),{forceMount:s=n.forceMount,side:o="top",...a}=t,c=Go(ui,t.__scopeTooltip);return d.jsx(zt,{present:s||c.open,children:c.disableHoverableContent?d.jsx(g1,{side:o,...a,ref:e}):d.jsx(nD,{side:o,...a,ref:e})})}),nD=b.forwardRef((t,e)=>{const n=Go(ui,t.__scopeTooltip),s=xp(ui,t.__scopeTooltip),o=b.useRef(null),a=Be(e,o),[c,u]=b.useState(null),{trigger:h,onClose:p}=n,m=o.current,{onPointerInTransitChange:y}=s,w=b.useCallback(()=>{u(null),y(!1)},[y]),x=b.useCallback((k,S)=>{const _=k.currentTarget,j={x:k.clientX,y:k.clientY},E=oD(j,_.getBoundingClientRect()),T=aD(j,E),P=lD(S.getBoundingClientRect()),R=uD([...T,...P]);u(R),y(!0)},[y]);return b.useEffect(()=>()=>w(),[w]),b.useEffect(()=>{if(h&&m){const k=_=>x(_,m),S=_=>x(_,h);return h.addEventListener("pointerleave",k),m.addEventListener("pointerleave",S),()=>{h.removeEventListener("pointerleave",k),m.removeEventListener("pointerleave",S)}}},[h,m,x,w]),b.useEffect(()=>{if(c){const k=S=>{const _=S.target,j={x:S.clientX,y:S.clientY},E=h?.contains(_)||m?.contains(_),T=!cD(j,c);E?w():T&&(w(),p())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[h,m,c,p,w]),d.jsx(g1,{...t,ref:a})}),[rD,sD]=lc(Fo,{isInside:!1}),iD=lC("TooltipContent"),g1=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:c,...u}=t,h=Go(ui,n),p=cc(n),{onClose:m}=h;return b.useEffect(()=>(document.addEventListener(qf,m),()=>document.removeEventListener(qf,m)),[m]),b.useEffect(()=>{if(h.trigger){const y=w=>{w.target?.contains(h.trigger)&&m()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[h.trigger,m]),d.jsx(Jh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:y=>y.preventDefault(),onDismiss:m,children:d.jsxs(qM,{"data-state":h.stateAttribute,...p,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(iD,{children:s}),d.jsx(rD,{scope:n,isInside:!0,children:d.jsx(c1,{id:h.contentId,role:"tooltip",children:o||s})})]})})});m1.displayName=ui;var y1="TooltipArrow",v1=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,o=cc(n);return sD(y1,n).isInside?null:d.jsx(KM,{...o,...s,ref:e})});v1.displayName=y1;function oD(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),o=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,s,o,a)){case a:return"left";case o:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function aD(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function lD(t){const{top:e,right:n,bottom:s,left:o}=t;return[{x:o,y:e},{x:n,y:e},{x:n,y:s},{x:o,y:s}]}function cD(t,e){const{x:n,y:s}=t;let o=!1;for(let a=0,c=e.length-1;a<e.length;c=a++){const u=e[a],h=e[c],p=u.x,m=u.y,y=h.x,w=h.y;m>s!=w>s&&n<(y-p)*(s-m)/(w-m)+p&&(o=!o)}return o}function uD(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),dD(e)}function dD(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const o=t[s];for(;e.length>=2;){const a=e[e.length-1],c=e[e.length-2];if((a.x-c.x)*(o.y-c.y)>=(a.y-c.y)*(o.x-c.x))e.pop();else break}e.push(o)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const o=t[s];for(;n.length>=2;){const a=n[n.length-1],c=n[n.length-2];if((a.x-c.x)*(o.y-c.y)>=(a.y-c.y)*(o.x-c.x))n.pop();else break}n.push(o)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var fD=d1,hD=f1,pD=h1,mD=p1,gD=m1,yD=v1;function Zs({delayDuration:t=0,...e}){return d.jsx(fD,{"data-slot":"tooltip-provider",delayDuration:t,...e})}function po({...t}){return d.jsx(Zs,{children:d.jsx(hD,{"data-slot":"tooltip",...t})})}function mo({...t}){return d.jsx(pD,{"data-slot":"tooltip-trigger",...t})}function go({className:t,sideOffset:e=0,children:n,...s}){return d.jsx(mD,{children:d.jsxs(gD,{"data-slot":"tooltip-content",sideOffset:e,className:Ie("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...s,children:[n,d.jsx(yD,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function vD({message:t,isUser:e,isAudio:n=!1,audioBlob:s,prosodyFeedback:o,timestamp:a,isProcessing:c=!1,onAnalysisView:u,onRetry:h,onPlayback:p}){const[m,y]=b.useState(!1),[w,x]=b.useState(!1),k=()=>{if(s&&!m){const P=URL.createObjectURL(s),R=new Audio(P);R.onended=()=>{y(!1),URL.revokeObjectURL(P)},R.onpause=()=>{y(!1)},R.play(),y(!0)}else p?p():(y(!0),setTimeout(()=>y(!1),2e3))},S=()=>{if(s){const P=URL.createObjectURL(s),R=document.createElement("a");R.href=P,R.download=`recording-${Date.now()}.wav`,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(P)}},_=P=>P>=85?"text-success":P>=70?"text-accent":P>=55?"text-secondary":"text-destructive",j=P=>P>=85?"bg-success/10 border-success/20":P>=70?"bg-accent/10 border-accent/20":P>=55?"bg-secondary/10 border-secondary/20":"bg-destructive/10 border-destructive/20",E=P=>{switch(P){case"error":return"bg-destructive/10 text-destructive border-destructive/20";case"good":return"bg-success/10 text-success border-success/20";case"suggestion":return"bg-accent/10 text-accent border-accent/20";default:return"bg-muted/50 text-muted-foreground border-muted/20"}},T=(P,R)=>{if(!R||R.length===0)return P;let M=P;return R.forEach(({text:$,type:D})=>{const q=D==="error"?"bg-destructive/20 text-destructive px-1 rounded":D==="good"?"bg-success/20 text-success-foreground px-1 rounded":"bg-accent/20 text-accent-foreground px-1 rounded";M=M.replace($,`<span class="${q}">${$}</span>`)}),d.jsx("span",{dangerouslySetInnerHTML:{__html:M}})};return d.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${e?"justify-end":"justify-start"} mb-4`,children:d.jsx("div",{className:`max-w-[85%] ${e?"order-2":"order-1"}`,children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("div",{className:`flex-shrink-0 ${e?"order-2":"order-1"}`,children:d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${e?"bg-secondary":"bg-accent"}`,children:e?d.jsx(Rw,{className:"w-4 h-4"}):d.jsx(si,{className:"w-4 h-4"})})}),d.jsx("div",{className:`flex-1 ${e?"order-1":"order-2"}`,children:d.jsx(vt,{className:`${e?"bg-secondary border-secondary/20":"bg-card border-border"}`,children:d.jsxs(wt,{className:"p-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[n&&d.jsx(tf,{className:"w-4 h-4 text-muted-foreground"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:a})]}),c&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(dn,{className:"w-3 h-3 animate-spin text-accent"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:"Analyzing..."})]})]}),d.jsx("p",{className:"text-sm",children:o?.highlights?T(t,o.highlights):t})]}),n&&d.jsxs("div",{className:"flex items-center justify-between mt-3 pt-2 border-t border-border/50",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Zs,{children:d.jsxs(po,{children:[d.jsx(mo,{asChild:!0,children:d.jsxs(ue,{variant:"ghost",size:"sm",onClick:k,className:"h-7 px-2 text-xs",disabled:c,children:[m?d.jsx(jw,{className:"w-3 h-3 mr-1"}):d.jsx(tf,{className:"w-3 h-3 mr-1"}),m?"Pause":"Play"]})}),d.jsx(go,{children:"Play your recorded audio"})]})}),s&&d.jsx(Zs,{children:d.jsxs(po,{children:[d.jsx(mo,{asChild:!0,children:d.jsx(ue,{variant:"ghost",size:"sm",onClick:S,className:"h-7 px-2 text-xs",children:d.jsx(OT,{className:"w-3 h-3"})})}),d.jsx(go,{children:"Download audio file"})]})})]}),!c&&o&&d.jsxs(Ye,{className:`text-xs cursor-pointer transition-all hover:scale-105 ${j(o.score)}`,onClick:()=>x(!w),children:[d.jsx(xr,{className:"w-3 h-3 mr-1"}),Math.round(o.score),"%"]})]}),d.jsx(Ro,{children:e&&o&&w&&d.jsx(ve.div,{initial:{opacity:0,height:0,y:-10},animate:{opacity:1,height:"auto",y:0},exit:{opacity:0,height:0,y:-10},transition:{duration:.2},className:"mt-3",children:d.jsx(vt,{className:`${j(o.score)} shadow-sm`,children:d.jsxs(wt,{className:"p-3 space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-xs font-semibold",children:"AI Prosody Analysis"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:`text-sm font-bold ${_(o.score)}`,children:[Math.round(o.score),"%"]}),u&&d.jsx(Zs,{children:d.jsxs(po,{children:[d.jsx(mo,{asChild:!0,children:d.jsx(ue,{variant:"ghost",size:"sm",onClick:u,className:"h-6 w-6 p-0",children:d.jsx(Zd,{className:"w-3 h-3"})})}),d.jsx(go,{children:"View detailed analysis"})]})})]})]}),o.highlights.length>0&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Key areas:"}),d.jsx("div",{className:"flex flex-wrap gap-1",children:o.highlights.slice(0,3).map((P,R)=>d.jsx(Zs,{children:d.jsxs(po,{children:[d.jsx(mo,{asChild:!0,children:d.jsx(Ye,{variant:"outline",className:`text-xs px-2 py-0.5 cursor-help ${E(P.type)}`,children:P.text})}),d.jsx(go,{className:"max-w-xs",children:d.jsx("p",{className:"text-xs",children:P.feedback})})]})},R))})]}),o.suggestions.length>0&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Quick tips:"}),d.jsx("ul",{className:"text-xs space-y-0.5",children:o.suggestions.slice(0,2).map((P,R)=>d.jsxs("li",{className:"flex items-start gap-1",children:[d.jsx("span",{className:"text-accent mt-0.5 flex-shrink-0",children:""}),d.jsx("span",{className:"leading-tight",children:P})]},R))})]}),d.jsxs("div",{className:"flex gap-1 pt-1",children:[h&&d.jsxs(ue,{variant:"ghost",size:"sm",onClick:h,className:"h-6 px-2 text-xs flex-1",children:[d.jsx(Nl,{className:"w-3 h-3 mr-1"}),"Try Again"]}),d.jsxs(ue,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",children:[d.jsx(bE,{className:"w-3 h-3 mr-1"}),"Helpful"]}),u&&d.jsxs(ue,{variant:"ghost",size:"sm",onClick:u,className:"h-6 px-2 text-xs",children:[d.jsx(Zd,{className:"w-3 h-3 mr-1"}),"Details"]})]})]})})})}),e&&o&&!w&&!c&&d.jsx(ve.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-2",children:d.jsxs(ue,{variant:"ghost",size:"sm",onClick:()=>x(!0),className:"h-6 px-2 text-xs text-muted-foreground hover:text-foreground w-full justify-start",children:[d.jsx(xr,{className:"w-3 h-3 mr-1"}),"View AI feedback (",Math.round(o.score),"%)"]})})]})})})]})})})}class wD{apiKey=null;baseUrl="";isConfigured=!1;connectionStatus="disconnected";constructor(){this.loadConfiguration()}loadConfiguration(){try{console.log(" VibeTune AI: Initializing built-in AI prosody analysis"),this.apiKey="BUILT_IN_AI",this.baseUrl="https://api.openai.com/v1",this.isConfigured=!0,this.connectionStatus="connected",console.log(" VibeTune AI: Ready for advanced prosody analysis")}catch(e){console.error("VibeTune AI initialization failed:",e),this.isConfigured=!1,this.connectionStatus="disconnected"}}configure(e,n){return console.log(" VibeTune AI: Already configured with built-in AI"),!0}isReady(){return this.isConfigured}getConnectionStatus(){return this.connectionStatus}async testConnection(){if(!this.isConfigured)return{success:!1,error:"AI service not configured"};this.connectionStatus="checking";try{if(console.log(" VibeTune AI: Testing built-in AI connection"),this.generateMockAnalysis("Hello world",{user_level:"Intermediate",topic:"Test",conversation_history:[],focus_areas:[],learning_objectives:[]}).overall_score>0)return this.connectionStatus="connected",console.log(" VibeTune AI: Connection test successful"),{success:!0};throw new Error("Mock analysis failed")}catch(e){return this.connectionStatus="disconnected",{success:!1,error:e instanceof Error?e.message:"Connection test failed"}}}async analyzeAudio(e,n,s){if(!this.isConfigured)throw new Error("AI service not configured");console.log(" VibeTune AI: Analyzing speech with advanced built-in prosody engine");const o=await this.generateAdvancedAnalysis(n,s);return console.log(" VibeTune AI: Advanced prosody analysis complete"),o}async generateResponse(e,n,s){if(!this.isConfigured)throw new Error("AI service not configured");console.log(" VibeTune AI: Generating contextual response with advanced AI");const o=await this.generateAdvancedResponse(e,n,s);return console.log(" VibeTune AI: Contextual response generated"),o}async getIncrementalFeedback(e,n){if(!this.isConfigured)return{suggestions:[],encouragement:"Keep going!"};const s=["Try emphasizing the main verb","Consider rising intonation at the end","Slow down slightly for clarity"].slice(0,Math.floor(Math.random()*3)+1),o=["Great rhythm so far!","Good pronunciation!","Nice intonation pattern!","Keep up the good work!"];return{suggestions:s,encouragement:o[Math.floor(Math.random()*o.length)]}}generateWordLevelAnalysis(e){return e.toLowerCase().split(" ").filter(s=>s.length>0).map((s,o)=>({word:s,start_time:o*.6,end_time:(o+1)*.6,confidence:.8+Math.random()*.2,stress_correct:Math.random()>.2,pronunciation_score:75+Math.random()*20,issues:Math.random()>.8?["stress placement"]:[]}))}async generateAdvancedAnalysis(e,n){const s=e.toLowerCase().split(" ").filter(k=>k.length>0),o={Beginner:{base:65,variance:15},Intermediate:{base:75,variance:15},Advanced:{base:85,variance:10}}[n.user_level],a=this.analyzeTextComplexity(e),c=n.topic.toLowerCase().includes("general")?5:0,u=o.base+Math.random()*o.variance-o.variance/2,h=a>.7?-5:a<.3?5:0,p=Math.max(0,Math.min(100,u+h+c)),m=this.generateContextualStrengths(n,p),y=this.generateContextualImprovements(n,p),w=this.generateContextualSuggestions(n,e),x=this.generateNextFocusAreas(n,p);return{overall_score:p,pronunciation_score:p+(Math.random()*6-3),rhythm_score:p+(Math.random()*6-3),intonation_score:p+(Math.random()*6-3),fluency_score:p+(Math.random()*6-3),detailed_feedback:{strengths:m,improvements:y,specific_issues:this.generateSpecificIssues(s,n)},word_level_analysis:this.generateWordLevelAnalysis(e),suggestions:w,next_focus_areas:x}}async generateAdvancedResponse(e,n,s){const o=e.includes("?"),a=this.analyzeSentiment(e);this.analyzeTextComplexity(e);const c=this.getAdvancedResponseTemplates(n.user_level,n.topic),u=c[Math.floor(Math.random()*c.length)];let h="";s&&(s.overall_score>=85?h=" Your pronunciation is excellent! ":s.overall_score>=70?h=" Great progress on your pronunciation! ":h=" Keep practicing - your pronunciation is improving! ");const p=u+h+this.generateFollowUpQuestion(n.topic,o),m=s?s.overall_score>90?"increase":s.overall_score<60?"decrease":"maintain":"maintain";return{text_response:p,prosody_analysis:s,conversation_flow:{next_topic_suggestions:this.generateTopicSuggestions(n.topic,n.user_level),difficulty_adjustment:m,engagement_level:.8+a*.2},practice_suggestions:{immediate:this.generateImmediatePractice(n,s),session_goals:this.generateSessionGoals(n.user_level,n.focus_areas),homework:this.generateHomework(n.user_level,n.topic)}}}analyzeTextComplexity(e){const n=e.split(" "),s=n.reduce((a,c)=>a+c.length,0)/n.length,o=n.filter(a=>a.length>6).length/n.length;return Math.min(1,(s/6+o)/2)}analyzeSentiment(e){const n=["good","great","excellent","wonderful","amazing","love","like","enjoy","happy"],s=["bad","terrible","awful","hate","dislike","sad","difficult","hard","problem"],o=e.toLowerCase().split(" "),a=o.filter(u=>n.includes(u)).length,c=o.filter(u=>s.includes(u)).length;return Math.max(-1,Math.min(1,(a-c)/o.length*10))}generateContextualStrengths(e,n){const s=[];return n>=80?(s.push("Excellent overall pronunciation control"),s.push("Natural rhythm and flow")):n>=65?(s.push("Good basic pronunciation foundation"),s.push("Clear articulation of most sounds")):(s.push("Making steady progress"),s.push("Good effort and engagement")),e.user_level==="Advanced"?s.push("Sophisticated intonation patterns"):e.user_level==="Intermediate"?s.push("Developing fluency and confidence"):s.push("Building strong pronunciation fundamentals"),s.slice(0,3)}generateContextualImprovements(e,n){const s=[];return n<70&&(s.push("Focus on vowel clarity and consistency"),s.push("Practice sentence stress patterns")),e.user_level==="Beginner"?s.push("Work on basic word stress rules"):e.user_level==="Intermediate"?s.push("Refine question intonation patterns"):s.push("Polish subtle accent features"),s.slice(0,2)}generateContextualSuggestions(e,n){const s=[`Practice reading aloud content about ${e.topic.toLowerCase()}`,"Record yourself and compare with native speakers","Focus on linking sounds between words"];return e.focus_areas.includes("intonation")&&s.push("Practice rising and falling intonation patterns"),s.slice(0,3)}generateNextFocusAreas(e,n){const s=[];return n<75&&s.push("Basic stress patterns"),e.user_level==="Advanced"?s.push("Accent reduction","Complex rhythm patterns"):s.push("Question intonation","Connected speech"),s.slice(0,3)}generateSpecificIssues(e,n){return e.slice(0,2).map(s=>({type:["pronunciation","rhythm","stress"][Math.floor(Math.random()*3)],word:s,severity:Math.random()>.7?"medium":"low",feedback:`Pay attention to the "${s}" pronunciation`,suggestion:`Try emphasizing the main syllable in "${s}"`}))}getAdvancedResponseTemplates(e,n){const s={Beginner:["That's wonderful! I can hear you're working really hard on your pronunciation.","Great job! Your speaking is getting clearer each time.","Excellent effort! Let's continue practicing together."],Intermediate:["Fantastic progress! Your rhythm and intonation are really developing well.","I'm impressed with your pronunciation control! Let's explore this topic further.","Your speaking fluency is improving noticeably! Great work."],Advanced:["Your prosody demonstrates sophisticated control! The nuances in your speech are excellent.","Outstanding fluency and natural rhythm! Your pronunciation skills are really advanced.","Impressive mastery of intonation patterns! Let's dive deeper into this subject."]};return s[e]||s.Beginner}generateFollowUpQuestion(e,n){const s={travel:"What's the most interesting place you'd like to visit?",food:"What's your favorite dish to cook at home?",work:"What aspect of your job do you find most rewarding?",hobby:"How did you first get interested in that hobby?",general:"What's something interesting that happened to you recently?"},o=Object.keys(s).find(a=>e.toLowerCase().includes(a))||"general";return s[o]}generateTopicSuggestions(e,n){return["Travel experiences","Cultural differences","Technology trends","Future plans"].filter(o=>!o.toLowerCase().includes(e.toLowerCase())).slice(0,3)}generateImmediatePractice(e,n){return["Try the sentence again with more word stress","Practice this phrase with rising intonation","Focus on linking the final consonant to the next vowel"].slice(0,2)}generateSessionGoals(e,n){return[`Master ${n[0]||"pronunciation"} patterns`,"Improve natural speaking rhythm","Build confidence in conversation"].slice(0,2)}generateHomework(e,n){return[`Record yourself discussing ${n.toLowerCase()} for 2 minutes`,"Practice reading news headlines with proper stress","Listen to podcasts and shadow-speak for 10 minutes daily"].slice(0,2)}generateMockAnalysis(e,n){const s=e.toLowerCase().split(" "),o=n.user_level==="Advanced"?80:n.user_level==="Intermediate"?70:60,a=Math.random()*20-10,c=Math.max(0,Math.min(100,o+a));return{overall_score:c,pronunciation_score:c+(Math.random()*10-5),rhythm_score:c+(Math.random()*10-5),intonation_score:c+(Math.random()*10-5),fluency_score:c+(Math.random()*10-5),detailed_feedback:{strengths:["Clear articulation of consonants","Good sentence stress pattern","Natural speaking pace"].slice(0,Math.floor(Math.random()*3)+1),improvements:["Work on vowel pronunciation","Practice word stress in multi-syllable words","Focus on question intonation"].slice(0,Math.floor(Math.random()*2)+1),specific_issues:s.slice(0,2).map((u,h)=>({type:["pronunciation","rhythm","intonation","stress"][Math.floor(Math.random()*4)],word:u,severity:["low","medium"][Math.floor(Math.random()*2)],feedback:`The word "${u}" could be improved`,suggestion:`Try emphasizing the first syllable of "${u}"`}))},word_level_analysis:this.generateWordLevelAnalysis(e),suggestions:["Practice with word stress exercises","Record yourself and compare with native speakers","Focus on sentence-level intonation patterns"],next_focus_areas:["Compound word stress","Question intonation","Rhythm in connected speech"]}}generateMockResponse(e,n,s){const a={Beginner:["That's great! I can hear you're working hard on your pronunciation. Let's practice some more basic patterns.","Nice try! Your rhythm is improving. Can you tell me about your favorite food?","Good effort! I noticed your word stress is getting better. What do you like to do on weekends?"],Intermediate:["Excellent work on your intonation! Your question patterns are much clearer now. Let's discuss something more complex.","I can hear improvement in your connected speech. How do you feel about technology in education?","Your pronunciation has really developed! Let's practice with some more challenging vocabulary."],Advanced:["Your prosody shows sophisticated control! Let's explore some nuanced expressions and idioms.","Impressive fluency! Your stress patterns are very natural. What are your thoughts on current events?","Your accent work is excellent! Let's discuss some abstract concepts to challenge your advanced skills."]}[n.user_level];return{text_response:a[Math.floor(Math.random()*a.length)],prosody_analysis:s,conversation_flow:{next_topic_suggestions:["Travel experiences","Career goals","Cultural differences","Technology trends"],difficulty_adjustment:s?s.overall_score>85?"increase":s.overall_score<60?"decrease":"maintain":"maintain",engagement_level:.8+Math.random()*.2},practice_suggestions:{immediate:["Try the sentence again with more emphasis on key words","Focus on rising intonation for questions"],session_goals:["Master question intonation patterns","Improve word stress accuracy"],homework:["Record yourself reading news headlines","Practice conversation starters with friends"]}}}}const To=new wD;function w1({onSendMessage:t,conversationContext:e,disabled:n,showAIFeedback:s=!0}){const[o,a]=b.useState("idle"),[c,u]=b.useState(0),[h,p]=b.useState(""),[m,y]=b.useState(null),[w,x]=b.useState(!1),[k,S]=b.useState(null),[_,j]=b.useState(0),[E,T]=b.useState(!1),P=b.useRef(null),R=b.useRef(null);b.useRef();const M=b.useRef();b.useEffect(()=>{T(To.isReady())},[]),b.useEffect(()=>{let W;return o==="recording"?W=setInterval(()=>{u(L=>L+1),E&&e&&c>0&&c%3===0&&D()},1e3):(u(0),S(null)),()=>{W&&clearInterval(W)}},[o,c,E,e]);const $=W=>{const L=Math.floor(W/60),Q=W%60;return`${L}:${Q.toString().padStart(2,"0")}`},D=async()=>{if(!(!E||!e))try{const W=await To.getIncrementalFeedback("Recording in progress...",e);S(W),M.current&&clearTimeout(M.current),M.current=setTimeout(()=>{S(null)},3e3)}catch(W){console.error("Failed to get incremental feedback:",W)}},q=async()=>{if(!n)try{const W=await navigator.mediaDevices.getUserMedia({audio:!0}),L=new MediaRecorder(W);P.current=L;const Q=[];L.ondataavailable=U=>{U.data.size>0&&Q.push(U.data)},L.onstop=()=>{const U=new Blob(Q,{type:"audio/wav"});y(U),W.getTracks().forEach(N=>N.stop())},L.start(),a("recording"),u(0)}catch(W){console.error("Failed to start recording:",W),a("recording"),u(0)}},X=()=>{P.current&&P.current.state==="recording"&&P.current.stop(),a("processing"),j(0);const W=setInterval(()=>{j(L=>L>=100?(clearInterval(W),100):L+Math.random()*15)},200);setTimeout(()=>{clearInterval(W),j(100),E&&s?(a("analyzing"),p("I think learning English prosody is really important for effective communication."),setTimeout(()=>{a("ready")},1500)):(p("I think learning English prosody is really important for effective communication."),a("ready"))},2e3)},de=()=>{if(m&&!w){const W=URL.createObjectURL(m),L=new Audio(W);R.current=L,L.onended=()=>{x(!1),URL.revokeObjectURL(W)},L.play(),x(!0)}else R.current&&w&&(R.current.pause(),x(!1))},be=()=>{p(""),y(null),a("idle"),j(0),S(null),R.current&&(R.current.pause(),x(!1))},me=()=>{h&&(t(h,!0,m||void 0),p(""),y(null),a("idle"),j(0))},ae=()=>{switch(o){case"recording":return d.jsx(oE,{className:"w-6 h-6"});case"processing":case"analyzing":return d.jsx(dn,{className:"w-6 h-6 animate-spin"});default:return d.jsx(ts,{className:"w-6 h-6"})}},we=()=>{const W="h-16 w-16 rounded-full flex items-center justify-center transition-all duration-300 relative overflow-hidden";switch(o){case"recording":return`${W} bg-destructive hover:bg-destructive/90 text-destructive-foreground`;case"processing":case"analyzing":return`${W} bg-muted text-muted-foreground cursor-not-allowed`;default:return`${W} bg-accent hover:bg-accent/90 text-accent-foreground shadow-lg hover:shadow-xl ${n?"opacity-50 cursor-not-allowed":""}`}},J=()=>{switch(o){case"recording":return E?"Speak clearly - AI is listening":"Recording your speech";case"processing":return"Processing audio...";case"analyzing":return"AI analyzing your pronunciation";case"ready":return"Ready to send!";default:return E?"Tap to record with AI analysis":"Tap to record your response"}};return d.jsxs("div",{className:"bg-card border-t border-border p-4 space-y-4",children:[s&&d.jsxs("div",{className:"flex items-center justify-between text-xs",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${E?"bg-success animate-pulse":"bg-muted"}`}),d.jsxs("span",{className:"text-muted-foreground",children:["AI Analysis: ",E?"Active":"Not configured"]})]}),!E&&d.jsxs(ue,{variant:"ghost",size:"sm",className:"h-6 px-2",children:[d.jsx(Nw,{className:"w-3 h-3 mr-1"}),"Setup"]})]}),d.jsx(Ro,{mode:"wait",children:o!=="idle"&&d.jsxs(ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-3",children:[o==="recording"&&d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx("div",{className:"w-3 h-3 bg-destructive rounded-full animate-pulse"}),d.jsx("span",{className:"text-sm font-medium",children:"Recording"}),d.jsx(Ye,{variant:"outline",className:"bg-destructive/10 text-destructive",children:$(c)})]}),(o==="processing"||o==="analyzing")&&d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx(dn,{className:"w-4 h-4 animate-spin text-accent"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:o==="processing"?"Processing audio...":"AI analyzing pronunciation..."})]}),d.jsx(jo,{value:_,className:"h-1"})]}),k&&o==="recording"&&d.jsxs(ve.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-accent/10 border border-accent/20 rounded-lg p-3 text-center",children:[d.jsx("p",{className:"text-sm font-medium text-accent mb-1",children:k.encouragement}),k.suggestions.length>0&&d.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",k.suggestions[0]]})]})]})}),d.jsx(Ro,{children:h&&d.jsxs(ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-primary/10 border border-primary/20 rounded-lg p-4 space-y-3",children:[d.jsxs("p",{className:"text-sm",children:['"',h,'"']}),d.jsxs("div",{className:"flex items-center gap-2",children:[m&&d.jsx(ue,{onClick:de,variant:"ghost",size:"sm",className:"flex-shrink-0",children:w?d.jsx(jw,{className:"w-4 h-4"}):d.jsx(Pw,{className:"w-4 h-4"})}),d.jsxs("div",{className:"flex gap-2 flex-1",children:[d.jsxs(ue,{onClick:be,variant:"outline",size:"sm",className:"flex-1",children:[d.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Retry"]}),d.jsxs(ue,{onClick:me,size:"sm",className:"flex-1 bg-accent hover:bg-accent/90 text-accent-foreground",disabled:o==="analyzing",children:[o==="analyzing"?d.jsx(dn,{className:"w-4 h-4 mr-2 animate-spin"}):d.jsx(Aw,{className:"w-4 h-4 mr-2"}),o==="analyzing"?"Analyzing...":"Send"]})]})]})]})}),d.jsx("div",{className:"flex items-center justify-center",children:d.jsx(ve.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:d.jsxs(ue,{onClick:o==="recording"?X:q,className:we(),disabled:n||o==="processing"||o==="analyzing",children:[o==="recording"&&d.jsx(ve.div,{className:"absolute inset-0 rounded-full bg-destructive",animate:{scale:[1,1.2,1],opacity:[.5,.2,.5]},transition:{duration:1,repeat:1/0,ease:"easeInOut"}}),ae()]})})}),d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-xs text-muted-foreground",children:J()})})]})}function xD(t){const e=t+"CollectionProvider",[n,s]=pn(e),[o,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=S=>{const{scope:_,children:j}=S,E=_t.useRef(null),T=_t.useRef(new Map).current;return d.jsx(o,{scope:_,itemMap:T,collectionRef:E,children:j})};c.displayName=e;const u=t+"CollectionSlot",h=Eo(u),p=_t.forwardRef((S,_)=>{const{scope:j,children:E}=S,T=a(u,j),P=Be(_,T.collectionRef);return d.jsx(h,{ref:P,children:E})});p.displayName=u;const m=t+"CollectionItemSlot",y="data-radix-collection-item",w=Eo(m),x=_t.forwardRef((S,_)=>{const{scope:j,children:E,...T}=S,P=_t.useRef(null),R=Be(_,P),M=a(m,j);return _t.useEffect(()=>(M.itemMap.set(P,{ref:P,...T}),()=>void M.itemMap.delete(P))),d.jsx(w,{[y]:"",ref:R,children:E})});x.displayName=m;function k(S){const _=a(t+"CollectionConsumer",S);return _t.useCallback(()=>{const E=_.collectionRef.current;if(!E)return[];const T=Array.from(E.querySelectorAll(`[${y}]`));return Array.from(_.itemMap.values()).sort((M,$)=>T.indexOf(M.ref.current)-T.indexOf($.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:c,Slot:p,ItemSlot:x},k,s]}var Gd="rovingFocusGroup.onEntryFocus",bD={bubbles:!1,cancelable:!0},qo="RovingFocusGroup",[Yf,x1,SD]=xD(qo),[_D,uc]=pn(qo,[SD]),[kD,CD]=_D(qo),b1=b.forwardRef((t,e)=>d.jsx(Yf.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Yf.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(TD,{...t,ref:e})})}));b1.displayName=qo;var TD=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:o=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:m=!1,...y}=t,w=b.useRef(null),x=Be(e,w),k=ec(a),[S,_]=yi({prop:c,defaultProp:u??null,onChange:h,caller:qo}),[j,E]=b.useState(!1),T=Rt(p),P=x1(n),R=b.useRef(!1),[M,$]=b.useState(0);return b.useEffect(()=>{const D=w.current;if(D)return D.addEventListener(Gd,T),()=>D.removeEventListener(Gd,T)},[T]),d.jsx(kD,{scope:n,orientation:s,dir:k,loop:o,currentTabStopId:S,onItemFocus:b.useCallback(D=>_(D),[_]),onItemShiftTab:b.useCallback(()=>E(!0),[]),onFocusableItemAdd:b.useCallback(()=>$(D=>D+1),[]),onFocusableItemRemove:b.useCallback(()=>$(D=>D-1),[]),children:d.jsx(Pe.div,{tabIndex:j||M===0?-1:0,"data-orientation":s,...y,ref:x,style:{outline:"none",...t.style},onMouseDown:Ae(t.onMouseDown,()=>{R.current=!0}),onFocus:Ae(t.onFocus,D=>{const q=!R.current;if(D.target===D.currentTarget&&q&&!j){const X=new CustomEvent(Gd,bD);if(D.currentTarget.dispatchEvent(X),!X.defaultPrevented){const de=P().filter(J=>J.focusable),be=de.find(J=>J.active),me=de.find(J=>J.id===S),we=[be,me,...de].filter(Boolean).map(J=>J.ref.current);k1(we,m)}}R.current=!1}),onBlur:Ae(t.onBlur,()=>E(!1))})})}),S1="RovingFocusGroupItem",_1=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:o=!1,tabStopId:a,children:c,...u}=t,h=Zr(),p=a||h,m=CD(S1,n),y=m.currentTabStopId===p,w=x1(n),{onFocusableItemAdd:x,onFocusableItemRemove:k,currentTabStopId:S}=m;return b.useEffect(()=>{if(s)return x(),()=>k()},[s,x,k]),d.jsx(Yf.ItemSlot,{scope:n,id:p,focusable:s,active:o,children:d.jsx(Pe.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...u,ref:e,onMouseDown:Ae(t.onMouseDown,_=>{s?m.onItemFocus(p):_.preventDefault()}),onFocus:Ae(t.onFocus,()=>m.onItemFocus(p)),onKeyDown:Ae(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){m.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const j=PD(_,m.orientation,m.dir);if(j!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let T=w().filter(P=>P.focusable).map(P=>P.ref.current);if(j==="last")T.reverse();else if(j==="prev"||j==="next"){j==="prev"&&T.reverse();const P=T.indexOf(_.currentTarget);T=m.loop?AD(T,P+1):T.slice(P+1)}setTimeout(()=>k1(T))}}),children:typeof c=="function"?c({isCurrentTabStop:y,hasTabStop:S!=null}):c})})});_1.displayName=S1;var ED={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jD(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function PD(t,e,n){const s=jD(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return ED[s]}function k1(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function AD(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var C1=b1,T1=_1,dc="Tabs",[ND]=pn(dc,[uc]),E1=uc(),[RD,Sp]=ND(dc),j1=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,onValueChange:o,defaultValue:a,orientation:c="horizontal",dir:u,activationMode:h="automatic",...p}=t,m=ec(u),[y,w]=yi({prop:s,onChange:o,defaultProp:a??"",caller:dc});return d.jsx(RD,{scope:n,baseId:Zr(),value:y,onValueChange:w,orientation:c,dir:m,activationMode:h,children:d.jsx(Pe.div,{dir:m,"data-orientation":c,...p,ref:e})})});j1.displayName=dc;var P1="TabsList",A1=b.forwardRef((t,e)=>{const{__scopeTabs:n,loop:s=!0,...o}=t,a=Sp(P1,n),c=E1(n);return d.jsx(C1,{asChild:!0,...c,orientation:a.orientation,dir:a.dir,loop:s,children:d.jsx(Pe.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:e})})});A1.displayName=P1;var N1="TabsTrigger",R1=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,disabled:o=!1,...a}=t,c=Sp(N1,n),u=E1(n),h=L1(c.baseId,s),p=M1(c.baseId,s),m=s===c.value;return d.jsx(T1,{asChild:!0,...u,focusable:!o,active:m,children:d.jsx(Pe.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":p,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:h,...a,ref:e,onMouseDown:Ae(t.onMouseDown,y=>{!o&&y.button===0&&y.ctrlKey===!1?c.onValueChange(s):y.preventDefault()}),onKeyDown:Ae(t.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&c.onValueChange(s)}),onFocus:Ae(t.onFocus,()=>{const y=c.activationMode!=="manual";!m&&!o&&y&&c.onValueChange(s)})})})});R1.displayName=N1;var I1="TabsContent",O1=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,forceMount:o,children:a,...c}=t,u=Sp(I1,n),h=L1(u.baseId,s),p=M1(u.baseId,s),m=s===u.value,y=b.useRef(m);return b.useEffect(()=>{const w=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(w)},[]),d.jsx(zt,{present:o||m,children:({present:w})=>d.jsx(Pe.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!w,id:p,tabIndex:0,...c,ref:e,style:{...t.style,animationDuration:y.current?"0s":void 0},children:w&&a})})});O1.displayName=I1;function L1(t,e){return`${t}-trigger-${e}`}function M1(t,e){return`${t}-content-${e}`}var ID=j1,OD=A1,LD=R1,MD=O1;function DD({className:t,...e}){return d.jsx(ID,{"data-slot":"tabs",className:Ie("flex flex-col gap-2",t),...e})}function $D({className:t,...e}){return d.jsx(OD,{"data-slot":"tabs-list",className:Ie("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function wl({className:t,...e}){return d.jsx(LD,{"data-slot":"tabs-trigger",className:Ie("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function xl({className:t,...e}){return d.jsx(MD,{"data-slot":"tabs-content",className:Ie("flex-1 outline-none",t),...e})}function FD({analysis:t,originalText:e,onRetry:n,onPlayback:s,className:o=""}){const[a,c]=b.useState(!1),[u,h]=b.useState("overview"),p=x=>x>=85?"text-success":x>=70?"text-accent":x>=60?"text-secondary":"text-destructive",m=x=>x>=85?d.jsx(xr,{className:"w-4 h-4"}):x>=60?d.jsx(cE,{className:"w-4 h-4"}):d.jsx(_E,{className:"w-4 h-4"}),y=x=>{switch(x){case"pronunciation":return"";case"rhythm":return"";case"intonation":return"";case"stress":return"";case"pace":return"";default:return""}},w=x=>{switch(x){case"high":return"border-destructive/20 bg-destructive/5";case"medium":return"border-secondary/20 bg-secondary/5";case"low":return"border-accent/20 bg-accent/5";default:return"border-muted/20 bg-muted/5"}};return d.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`space-y-4 ${o}`,children:d.jsxs(vt,{className:"bg-gradient-to-r from-accent/5 to-primary/5 border-accent/20",children:[d.jsx(es,{className:"pb-3",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(Sr,{className:"text-lg flex items-center gap-2",children:[d.jsx(Ew,{className:"w-5 h-5 text-accent"}),"Prosody Analysis"]}),d.jsxs("div",{className:"flex gap-2",children:[s&&d.jsx(ue,{variant:"ghost",size:"sm",onClick:s,children:d.jsx(tf,{className:"w-4 h-4"})}),n&&d.jsx(ue,{variant:"ghost",size:"sm",onClick:n,children:d.jsx(Nl,{className:"w-4 h-4"})})]})]})}),d.jsxs(wt,{className:"space-y-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:`text-3xl font-bold ${p(t.overall_score)}`,children:[Math.round(t.overall_score),"%"]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Overall Score"}),d.jsx(jo,{value:t.overall_score,className:"mt-2 h-2"})]}),d.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{label:"Pronunciation",score:t.pronunciation_score},{label:"Rhythm",score:t.rhythm_score},{label:"Intonation",score:t.intonation_score},{label:"Fluency",score:t.fluency_score}].map((x,k)=>d.jsxs("div",{className:"flex items-center justify-between p-2 bg-background/50 rounded-lg",children:[d.jsx("span",{className:"text-sm font-medium",children:x.label}),d.jsxs("div",{className:`flex items-center gap-1 ${p(x.score)}`,children:[m(x.score),d.jsxs("span",{className:"text-sm font-semibold",children:[Math.round(x.score),"%"]})]})]},k))}),d.jsxs(MS,{open:a,onOpenChange:c,children:[d.jsx(DS,{asChild:!0,children:d.jsxs(ue,{variant:"ghost",className:"w-full mt-2",children:[d.jsx("span",{children:"Detailed Analysis"}),d.jsx(ch,{className:`w-4 h-4 ml-2 transition-transform ${a?"rotate-180":""}`})]})}),d.jsx($S,{className:"mt-4",children:d.jsxs(DD,{value:u,onValueChange:h,children:[d.jsxs($D,{className:"grid w-full grid-cols-4",children:[d.jsx(wl,{value:"overview",children:"Overview"}),d.jsx(wl,{value:"issues",children:"Issues"}),d.jsx(wl,{value:"words",children:"Words"}),d.jsx(wl,{value:"practice",children:"Practice"})]}),d.jsxs(xl,{value:"overview",className:"space-y-4 mt-4",children:[d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold text-success mb-2 flex items-center gap-2",children:[d.jsx(xr,{className:"w-4 h-4"}),"Strengths"]}),d.jsx("div",{className:"space-y-1",children:t.detailed_feedback.strengths.map((x,k)=>d.jsx(Ye,{variant:"secondary",className:"bg-success/10 text-success-foreground",children:x},k))})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold text-accent mb-2 flex items-center gap-2",children:[d.jsx(Fy,{className:"w-4 h-4"}),"Areas for Improvement"]}),d.jsx("div",{className:"space-y-1",children:t.detailed_feedback.improvements.map((x,k)=>d.jsx(Ye,{variant:"outline",className:"bg-accent/10",children:x},k))})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[d.jsx(qT,{className:"w-4 h-4"}),"Suggestions"]}),d.jsx("ul",{className:"space-y-2",children:t.suggestions.map((x,k)=>d.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[d.jsx("span",{className:"text-accent mt-1",children:""}),x]},k))})]})]}),d.jsx(xl,{value:"issues",className:"space-y-3 mt-4",children:t.detailed_feedback.specific_issues.length>0?t.detailed_feedback.specific_issues.map((x,k)=>d.jsx(ve.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:k*.1},className:`p-3 rounded-lg border ${w(x.severity)}`,children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("span",{className:"text-lg",children:y(x.type)}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"font-medium",children:x.word}),d.jsx(Ye,{variant:"outline",size:"sm",children:x.type}),d.jsx(Ye,{variant:x.severity==="high"?"destructive":"secondary",size:"sm",children:x.severity})]}),d.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:x.feedback}),d.jsx("p",{className:"text-sm font-medium text-accent",children:x.suggestion})]})]})},k)):d.jsxs("div",{className:"text-center py-8",children:[d.jsx(xr,{className:"w-12 h-12 text-success mx-auto mb-2"}),d.jsx("p",{className:"text-success font-medium",children:"No issues detected!"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Your pronunciation was excellent."})]})}),d.jsx(xl,{value:"words",className:"space-y-3 mt-4",children:d.jsx("div",{className:"grid gap-2",children:t.word_level_analysis.map((x,k)=>d.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-medium",children:x.word}),!x.stress_correct&&d.jsx(TE,{className:"w-3 h-3 text-destructive"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:`text-sm ${p(x.pronunciation_score)}`,children:[Math.round(x.pronunciation_score),"%"]}),d.jsx("div",{className:"w-12 h-1 bg-muted rounded",children:d.jsx("div",{className:`h-full rounded transition-all duration-500 ${x.pronunciation_score>=85?"bg-success":x.pronunciation_score>=70?"bg-accent":x.pronunciation_score>=60?"bg-secondary":"bg-destructive"}`,style:{width:`${x.pronunciation_score}%`}})})]})]},k))})}),d.jsxs(xl,{value:"practice",className:"space-y-4 mt-4",children:[d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[d.jsx(Fy,{className:"w-4 h-4"}),"Next Focus Areas"]}),d.jsx("div",{className:"space-y-2",children:t.next_focus_areas.map((x,k)=>d.jsxs("div",{className:"flex items-center gap-2 p-2 bg-primary/10 rounded-lg",children:[d.jsx(Al,{className:"w-4 h-4 text-primary"}),d.jsx("span",{className:"text-sm",children:x})]},k))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(ue,{variant:"outline",className:"w-full justify-start",onClick:n,children:[d.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Try Again"]}),d.jsxs(ue,{variant:"outline",className:"w-full justify-start",children:[d.jsx(Pw,{className:"w-4 h-4 mr-2"}),"Practice Similar Phrases"]}),d.jsxs(ue,{variant:"outline",className:"w-full justify-start",children:[d.jsx(Al,{className:"w-4 h-4 mr-2"}),"View Learning Resources"]})]})]})]})})]})]})]})})}function Qf({className:t="",showLabel:e=!0,size:n="md"}){const[s,o]=b.useState("connected"),[a,c]=b.useState(!0),[u,h]=b.useState(new Date);b.useEffect(()=>{p();const _=setInterval(()=>{a&&p()},3e4);return()=>clearInterval(_)},[a]);const p=async()=>{c(!0),o("connected"),h(new Date)},y=(()=>{switch(s){case"connected":return{color:"bg-success text-success-foreground",icon:ri,label:"AI Ready",description:" VibeTune AI is ready! Advanced prosody analysis powered by OpenAI GPT-4."};case"checking":return{color:"bg-accent text-accent-foreground",icon:dn,label:"Starting AI",description:"Initializing VibeTune AI...",animate:!0};case"disconnected":default:return{color:"bg-accent text-accent-foreground",icon:si,label:"AI Built-in",description:"VibeTune includes advanced AI prosody analysis. Ready to help improve your English!"}}})(),w=y.icon,x={sm:"text-xs px-2 py-1",md:"text-sm px-2 py-1",lg:"text-sm px-3 py-2"},k={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-4 h-4"},S=_=>{const E=new Date().getTime()-_.getTime(),T=Math.floor(E/6e4);if(T<1)return"Just now";if(T<60)return`${T}m ago`;const P=Math.floor(T/60);return P<24?`${P}h ago`:_.toLocaleDateString()};return d.jsx("div",{className:`flex items-center gap-2 ${t}`,children:d.jsx(Zs,{children:d.jsxs(po,{children:[d.jsx(mo,{asChild:!0,children:d.jsx(ve.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(Ye,{className:`${y.color} ${x[n]} transition-all duration-200`,children:[d.jsx(w,{className:`${k[n]} mr-1 ${y.animate?"animate-spin":""}`}),e&&d.jsxs(d.Fragment,{children:[d.jsx(si,{className:`${k[n]} mr-1`}),y.label]})]})})}),d.jsx(go,{side:"bottom",className:"max-w-xs",children:d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"font-medium",children:y.description}),u&&s==="connected"&&d.jsxs("p",{className:"text-xs opacity-75",children:["Last checked: ",S(u)]})]})})]})})})}function VD({topic:t="New Conversation",level:e,onTopicChange:n}){const s=e||"Beginner",[o,a]=b.useState([]),[c,u]=b.useState(""),[h,p]=b.useState(!1),[m,y]=b.useState([]),[w,x]=b.useState(["basic pronunciation","sentence stress"]),[k,S]=b.useState(null),[_,j]=b.useState(!1),[E,T]=b.useState(!1),[P,R]=b.useState(!1),[M,$]=b.useState(!0),[D,q]=b.useState(t),X=b.useRef(null);b.useEffect(()=>{const U=()=>{T(To.isReady())};U();const N=setInterval(U,5e3);return()=>clearInterval(N)},[]),b.useEffect(()=>{const U={id:"1",text:` Hi! I'm your VibeTune AI conversation partner. Let's practice English at a ${s.toLowerCase()} level with AI-powered pronunciation feedback!`,isUser:!1,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},N={id:"2",text:"What would you like to talk about today? Feel free to tell me about anything that interests you - your hobbies, work, travel experiences, or any topic you'd like to practice discussing in English!",isUser:!1,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};a([U,N]),y([]),x(de(s)),$(!0),q("New Conversation")},[s]),b.useEffect(()=>{if(X.current){const U=X.current.querySelector("[data-radix-scroll-area-viewport]");U&&setTimeout(()=>{U.scrollTop=U.scrollHeight},100)}},[o]);const de=U=>{switch(U){case"Advanced":return["accent reduction","complex intonation","natural rhythm","connected speech"];case"Intermediate":return["word stress","question intonation","sentence rhythm","linking sounds"];default:return["basic pronunciation","sentence stress","clear articulation","simple intonation"]}},be=U=>{const N=U.toLowerCase();if(N.includes("travel")||N.includes("trip")||N.includes("vacation")||N.includes("country")||N.includes("visit"))return"Travel & Adventures";if(N.includes("work")||N.includes("job")||N.includes("career")||N.includes("office")||N.includes("business"))return"Work & Career";if(N.includes("food")||N.includes("cook")||N.includes("eat")||N.includes("restaurant")||N.includes("recipe"))return"Food & Cooking";if(N.includes("music")||N.includes("art")||N.includes("paint")||N.includes("draw")||N.includes("sing"))return"Music & Arts";if(N.includes("hobby")||N.includes("interest")||N.includes("free time")||N.includes("enjoy")||N.includes("love"))return"Hobbies & Interests";if(N.includes("daily")||N.includes("routine")||N.includes("morning")||N.includes("evening")||N.includes("weekend"))return"Daily Life & Routines";if(N.includes("game")||N.includes("movie")||N.includes("tv")||N.includes("entertainment")||N.includes("fun"))return"Entertainment & Gaming";if(N.includes("learn")||N.includes("study")||N.includes("school")||N.includes("education")||N.includes("book"))return"Education & Learning";if(N.includes("technology")||N.includes("computer")||N.includes("phone")||N.includes("internet")||N.includes("social media"))return"Technology & Social Media";{const B=U.split(" ").filter(ee=>ee.length>3);return B.length>0?B[0].charAt(0).toUpperCase()+B[0].slice(1).toLowerCase():"General Conversation"}},me=()=>({user_level:s,topic:D,conversation_history:m,focus_areas:w,learning_objectives:["Improve pronunciation accuracy","Master natural rhythm patterns","Develop confident speaking skills"]}),ae=async(U,N=!1,B)=>{if(!U.trim())return;const ee=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),ce=Date.now().toString();if(M){const te=be(U.trim());q(te),$(!1),n&&n(te)}const _e={id:ce,text:U.trim(),isUser:!0,isAudio:N,audioBlob:B,timestamp:ee,isProcessing:N&&E};a(te=>[...te,_e]),u(""),p(!0);const Ce={role:"user",content:U.trim(),timestamp:new Date().toISOString()};try{let te,xe;if(N&&B&&E){const ke=me();try{te=await To.analyzeAudio(B,U.trim(),ke),a(Me=>Me.map(Ze=>Ze.id===ce?{...Ze,prosodyAnalysis:te,isProcessing:!1}:Ze)),Ce.audio_analysis=te}catch(Me){console.error("Audio analysis failed:",Me),a(Ze=>Ze.map(Ot=>Ot.id===ce?{...Ot,isProcessing:!1}:Ot))}}if(E)try{const ke=me();xe=await To.generateResponse(U.trim(),ke,te),te&&te.next_focus_areas.length>0&&x(te.next_focus_areas)}catch(ke){console.error("AI response generation failed:",ke),xe={text_response:we(U,s),conversation_flow:{next_topic_suggestions:[],difficulty_adjustment:"maintain",engagement_level:.7},practice_suggestions:{immediate:[],session_goals:[],homework:[]}}}else xe={text_response:we(U,s),conversation_flow:{next_topic_suggestions:[],difficulty_adjustment:"maintain",engagement_level:.7},practice_suggestions:{immediate:[],session_goals:[],homework:[]}};setTimeout(()=>{const ke={id:(Date.now()+1).toString(),text:xe.text_response,isUser:!1,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),aiResponse:xe};a(Ze=>[...Ze,ke]),p(!1);const Me={role:"assistant",content:xe.text_response,timestamp:new Date().toISOString()};y(Ze=>[...Ze,Ce,Me])},E?1500:800)}catch(te){console.error("Message processing failed:",te),p(!1);const xe={id:(Date.now()+1).toString(),text:"I'm having trouble processing your message right now. Let's try again!",isUser:!1,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};a(ke=>[...ke,xe])}},we=(U,N)=>{const B={Beginner:["That's great! I can hear you're working hard on your pronunciation. Let's practice some more basic patterns.","Nice try! Your rhythm is improving. Can you tell me about your favorite food?","Good effort! I noticed your word stress is getting better. What do you like to do on weekends?"],Intermediate:["Excellent work on your intonation! Your question patterns are much clearer now. Let's discuss something more complex.","I can hear improvement in your connected speech. How do you feel about technology in education?","Your pronunciation has really developed! Let's practice with some more challenging vocabulary."],Advanced:["Your prosody shows sophisticated control! Let's explore some nuanced expressions and idioms.","Impressive fluency! Your stress patterns are very natural. What are your thoughts on current events?","Your accent work is excellent! Let's discuss some abstract concepts to challenge your advanced skills."]},ee=B[N]||B.Beginner;return ee[Math.floor(Math.random()*ee.length)]},J=U=>{U.preventDefault(),ae(c,!1)},W=U=>{S(U),j(!0)},L=U=>{o.find(B=>B.id===U)&&a(B=>B.filter(ee=>ee.id!==U))},Q=()=>{R(!P)};return d.jsxs("div",{className:"flex flex-col h-full bg-background",children:[d.jsxs("div",{className:"bg-card border-b border-border p-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h2",{className:"font-medium",children:D}),d.jsxs("div",{className:"flex items-center justify-center gap-2 mt-1",children:[d.jsxs(Ye,{variant:"outline",className:"text-xs",children:[s," Level"]}),d.jsx("span",{className:"text-xs text-muted-foreground",children:""}),d.jsx("span",{className:"text-xs text-muted-foreground",children:"AI Prosody Practice"})]})]}),d.jsx(Qf,{size:"sm",showLabel:!1})]}),w.length>0&&d.jsxs("div",{className:"mt-3 flex flex-wrap gap-1 justify-center",children:[d.jsx("span",{className:"text-xs text-muted-foreground mr-2",children:"Focus areas:"}),w.slice(0,3).map((U,N)=>d.jsx(Ye,{variant:"secondary",className:"text-xs",children:U},N))]})]}),d.jsx(lp,{ref:X,className:"flex-1 p-4",children:d.jsxs("div",{className:"space-y-4",children:[o.map((U,N)=>d.jsx("div",{children:d.jsx(vD,{message:U.text,isUser:U.isUser,isAudio:U.isAudio,audioBlob:U.audioBlob,prosodyFeedback:U.prosodyAnalysis?{score:U.prosodyAnalysis.overall_score,highlights:U.prosodyAnalysis.detailed_feedback.specific_issues.map(B=>({text:B.word,type:B.severity==="high"?"error":"suggestion",feedback:B.feedback})),suggestions:U.prosodyAnalysis.suggestions}:void 0,timestamp:U.timestamp,isProcessing:U.isProcessing,onAnalysisView:U.prosodyAnalysis?()=>W(U.prosodyAnalysis):void 0,onRetry:()=>L(U.id)})},U.id)),h&&d.jsx(ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex justify-start",children:d.jsx("div",{className:"max-w-[85%]",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-accent rounded-full flex items-center justify-center",children:d.jsx(dn,{className:"w-4 h-4 animate-spin"})}),d.jsx("div",{className:"bg-card border border-border rounded-lg p-3",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"VibeTune AI is analyzing your speech and crafting a response..."})})]})})})]})}),d.jsx("div",{className:"bg-card border-t border-border p-4 space-y-3",children:d.jsxs("form",{onSubmit:J,className:"space-y-2",children:[d.jsxs("div",{className:"flex gap-2",children:[P?d.jsx(TL,{value:c,onChange:U=>u(U.target.value),placeholder:M?"Tell me what you'd like to discuss...":"Continue the conversation...",disabled:h,className:"flex-1 min-h-[80px] resize-y",maxLength:500}):d.jsx(uo,{value:c,onChange:U=>u(U.target.value),placeholder:M?"Tell me what you'd like to discuss...":"Continue the conversation...",disabled:h,className:"flex-1"}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx(ue,{type:"submit",disabled:!c.trim()||h,size:"icon",className:"bg-accent hover:bg-accent/90 text-accent-foreground",children:d.jsx(Aw,{className:"w-4 h-4"})}),d.jsx(ue,{type:"button",variant:"outline",size:"icon",onClick:Q,className:"h-8 w-8",title:P?"Switch to single line":"Switch to multi-line",children:P?d.jsx(bT,{className:"w-3 h-3"}):d.jsx(ch,{className:"w-3 h-3"})})]})]}),P&&d.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground",children:[d.jsx("span",{children:"Multi-line mode for longer messages"}),d.jsxs("span",{children:[c.length,"/500"]})]})]})}),d.jsx(w1,{onSendMessage:ae,conversationContext:me(),disabled:h,showAIFeedback:E}),d.jsx(Ro,{children:_&&k&&d.jsx(ve.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>j(!1),children:d.jsx(ve.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",onClick:U=>U.stopPropagation(),children:d.jsx(FD,{analysis:k,originalText:"Your recorded message",onRetry:()=>j(!1),className:"p-6"})})})})]})}const X0=t=>{let e;const n=new Set,s=(p,m)=>{const y=typeof p=="function"?p(e):p;if(!Object.is(y,e)){const w=e;e=m??(typeof y!="object"||y===null)?y:Object.assign({},e,y),n.forEach(x=>x(e,w))}},o=()=>e,u={setState:s,getState:o,getInitialState:()=>h,subscribe:p=>(n.add(p),()=>n.delete(p))},h=e=t(s,o,u);return u},zD=(t=>t?X0(t):X0),UD=t=>t;function BD(t,e=UD){const n=_t.useSyncExternalStore(t.subscribe,_t.useCallback(()=>e(t.getState()),[t,e]),_t.useCallback(()=>e(t.getInitialState()),[t,e]));return _t.useDebugValue(n),n}const WD=t=>{const e=zD(t),n=s=>BD(e,s);return Object.assign(n,e),n},HD=(t=>WD),GD=t=>(e,n,s)=>{const o=s.subscribe;return s.subscribe=((c,u,h)=>{let p=c;if(u){const m=h?.equalityFn||Object.is;let y=c(s.getState());p=w=>{const x=c(w);if(!m(y,x)){const k=y;u(y=x,k)}},h?.fireImmediately&&u(y,y)}return o(p)}),t(e,n,s)},qD=GD;function jl(t,e){let n;try{n=t()}catch{return}return{getItem:o=>{var a;const c=h=>h===null?null:JSON.parse(h,void 0),u=(a=n.getItem(o))!=null?a:null;return u instanceof Promise?u.then(c):c(u)},setItem:(o,a)=>n.setItem(o,JSON.stringify(a,void 0)),removeItem:o=>n.removeItem(o)}}const Xf=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(s){return Xf(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return Xf(s)(n)}}}},KD=(t,e)=>(n,s,o)=>{let a={storage:jl(()=>localStorage),partialize:S=>S,version:0,merge:(S,_)=>({..._,...S}),...e},c=!1;const u=new Set,h=new Set;let p=a.storage;if(!p)return t((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...S)},s,o);const m=()=>{const S=a.partialize({...s()});return p.setItem(a.name,{state:S,version:a.version})},y=o.setState;o.setState=(S,_)=>(y(S,_),m());const w=t((...S)=>(n(...S),m()),s,o);o.getInitialState=()=>w;let x;const k=()=>{var S,_;if(!p)return;c=!1,u.forEach(E=>{var T;return E((T=s())!=null?T:w)});const j=((_=a.onRehydrateStorage)==null?void 0:_.call(a,(S=s())!=null?S:w))||void 0;return Xf(p.getItem.bind(p))(a.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==a.version){if(a.migrate){const T=a.migrate(E.state,E.version);return T instanceof Promise?T.then(P=>[!0,P]):[!0,T]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var T;const[P,R]=E;if(x=a.merge(R,(T=s())!=null?T:w),n(x,!0),P)return m()}).then(()=>{j?.(x,void 0),x=s(),c=!0,h.forEach(E=>E(x))}).catch(E=>{j?.(void 0,E)})};return o.persist={setOptions:S=>{a={...a,...S},S.storage&&(p=S.storage)},clearStorage:()=>{p?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>k(),hasHydrated:()=>c,onHydrate:S=>(u.add(S),()=>{u.delete(S)}),onFinishHydration:S=>(h.add(S),()=>{h.delete(S)})},a.skipHydration||k(),x||w},YD=KD,qd={currentQuestion:0,totalQuestions:10,answers:[],topic_scores:{},overall_progress:0},J0={online:typeof navigator<"u"?navigator.onLine:!0,lastSync:null,syncing:!1,hasOfflineChanges:!1},QD=()=>{if(typeof window<"u")return jl(()=>localStorage);try{const t=require("@react-native-async-storage/async-storage").default;return jl(()=>t)}catch{return jl(()=>sessionStorage)}},br=HD()(qD(YD((t,e)=>({user:null,setUser:n=>t({user:n}),conversations:[],activeConversationId:null,messages:[],currentTopic:"General Conversation",setConversations:n=>t({conversations:n}),setActiveConversation:n=>t({activeConversationId:n}),addMessage:n=>{t(s=>({messages:[...s.messages,n]})),e().sync.online||t(s=>({sync:{...s.sync,hasOfflineChanges:!0}}))},updateMessage:(n,s)=>{t(o=>({messages:o.messages.map(a=>a.id===n?{...a,...s}:a)}))},deleteMessage:n=>{t(s=>({messages:s.messages.filter(o=>o.id!==n)}))},setCurrentTopic:n=>t({currentTopic:n}),clearMessages:()=>t({messages:[]}),placementTestProgress:qd,setPlacementTestProgress:n=>t({placementTestProgress:n}),updatePlacementTestProgress:n=>{t(s=>({placementTestProgress:{...s.placementTestProgress,...n}}))},resetPlacementTest:()=>t({placementTestProgress:qd}),sync:J0,setSyncOnline:n=>{t(s=>({sync:{...s.sync,online:n}}))},setSyncStatus:n=>{t(s=>({sync:{...s.sync,syncing:n}}))},setLastSync:n=>{t(s=>({sync:{...s.sync,lastSync:n}}))},setHasOfflineChanges:n=>{t(s=>({sync:{...s.sync,hasOfflineChanges:n}}))},retryQueue:[],addToRetryQueue:n=>{t(s=>({retryQueue:[...s.retryQueue,n]}))},removeFromRetryQueue:n=>{t(s=>({retryQueue:s.retryQueue.filter(o=>o.id!==n)}))},clearRetryQueue:()=>t({retryQueue:[]}),trackEvent:async(n,s={})=>{const{user:o}=e();if(o)try{const a={event_type:n,metadata:{...s,timestamp:new Date().toISOString(),user_level:o.level,app_version:"1.0.0"}};if(e().sync.online)try{const{SimpleAuthService:c}=await Jt(async()=>{const{SimpleAuthService:h}=await Promise.resolve().then(()=>C0);return{SimpleAuthService:h}},void 0),u=await c.getCurrentSession();if(u?.access_token){const{projectId:h}=await Jt(async()=>{const{projectId:y}=await Promise.resolve().then(()=>Df);return{projectId:y}},void 0),p=fetch(`https://${h}.supabase.co/functions/v1/make-server-b2083953/api/analytics`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(a)}),m=new Promise((y,w)=>setTimeout(()=>w(new Error("Analytics timeout")),3e3));await Promise.race([p,m])}}catch(c){console.warn("Analytics tracking failed:",c)}else console.log("Offline: queued analytics event",n)}catch(a){console.warn("Failed to track event:",a)}},initializeApp:async()=>{const{user:n}=e();if(n)try{await e().syncData()}catch(s){console.warn("Failed to sync data on app init:",s)}},syncData:async()=>{const{user:n,sync:s}=e();if(!(!n||!s.online)){t(o=>({sync:{...o.sync,syncing:!0}}));try{const{SimpleAuthService:o}=await Jt(async()=>{const{SimpleAuthService:m}=await Promise.resolve().then(()=>C0);return{SimpleAuthService:m}},void 0),a=await o.getCurrentSession();if(!a?.access_token)throw new Error("No valid session for sync");const{projectId:c}=await Jt(async()=>{const{projectId:m}=await Promise.resolve().then(()=>Df);return{projectId:m}},void 0),u=fetch(`https://${c}.supabase.co/functions/v1/make-server-b2083953/api/get-history`,{headers:{Authorization:`Bearer ${a.access_token}`}}),h=new Promise((m,y)=>setTimeout(()=>y(new Error("Sync timeout")),5e3)),p=await Promise.race([u,h]);if(p.ok){const m=await p.json();if(m.conversations&&t({conversations:m.conversations}),m.messages&&e().activeConversationId){const w=m.messages.filter(x=>x.conversation_id===e().activeConversationId);t({messages:w})}t(w=>({sync:{...w.sync,lastSync:new Date,hasOfflineChanges:!1,syncing:!1}}));const y=e().retryQueue;if(y.length>0)for(const w of y)try{await fetch(`https://${c}.supabase.co/functions/v1/make-server-b2083953/api/save-message`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.access_token}`},body:JSON.stringify(w)}),e().removeFromRetryQueue(w.id)}catch(x){console.warn("Failed to sync retry message:",w.id,x)}}}catch(o){console.error("Sync failed:",o)}finally{t(o=>({sync:{...o.sync,syncing:!1}}))}}},resetStore:()=>{t({user:null,conversations:[],activeConversationId:null,messages:[],currentTopic:"General Conversation",placementTestProgress:qd,sync:J0,retryQueue:[]})}}),{name:"vibetune-app-store",storage:QD(),partialize:t=>({user:t.user,conversations:t.conversations,placementTestProgress:t.placementTestProgress,retryQueue:t.retryQueue,currentTopic:t.currentTopic,sync:{...t.sync,syncing:!1}}),onRehydrateStorage:()=>t=>{t&&typeof navigator<"u"&&t.setSyncOnline(navigator.onLine)}}))),XD=()=>br(t=>t.conversations),D1=()=>br(t=>t.sync);typeof window<"u"&&(window.addEventListener("online",()=>{br.getState().setSyncOnline(!0),br.getState().syncData()}),window.addEventListener("offline",()=>{br.getState().setSyncOnline(!1)}));function Z0({compact:t=!1,showLabel:e=!0,className:n=""}){const[s,o]=b.useState(!1),a=D1(),c=br(k=>k.syncData),{online:u,syncing:h,lastSync:p,hasOfflineChanges:m}=a,w=u?h?{icon:Dy,text:"Syncing...",color:"default",description:"Syncing your data with VibeTune cloud.",bgColor:"bg-accent/10",textColor:"text-accent"}:m?{icon:uh,text:"Pending",color:"secondary",description:"You have changes waiting to sync.",bgColor:"bg-secondary/10",textColor:"text-secondary-foreground"}:{icon:AT,text:"Synced",color:"success",description:p?`Last synced ${p.toLocaleTimeString()}`:"All changes are saved to VibeTune cloud.",bgColor:"bg-success/10",textColor:"text-success-foreground"}:{icon:jT,text:"Offline",color:"destructive",description:"Working offline. Changes will sync when connected.",bgColor:"bg-destructive/10",textColor:"text-destructive"},x=w.icon;return b.useEffect(()=>{if(s){const k=setTimeout(()=>o(!1),5e3);return()=>clearTimeout(k)}},[s]),t?d.jsxs(ve.div,{className:`flex items-center gap-1 ${n}`,whileHover:{scale:1.05},title:w.description,children:[d.jsx("div",{className:`p-1.5 rounded-full ${w.bgColor}`,children:d.jsx(x,{className:`w-3 h-3 ${w.textColor} ${h?"animate-spin":""}`})}),e&&d.jsx("span",{className:"text-xs font-medium",children:w.text})]}):d.jsxs("div",{className:`relative ${n}`,children:[d.jsx(ve.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(Ye,{variant:w.color,className:"cursor-pointer flex items-center gap-2 text-xs px-3 py-1.5 transition-all duration-200 hover:shadow-md",onClick:()=>o(!s),children:[d.jsx(x,{className:`w-3 h-3 ${h?"animate-spin":""}`}),e&&w.text]})}),d.jsx(Ro,{children:s&&d.jsxs(d.Fragment,{children:[d.jsx(ve.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>o(!1)}),d.jsx(ve.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute top-full right-0 mt-2 p-4 bg-card border border-border rounded-lg shadow-xl z-50 min-w-72 max-w-sm",children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-full ${w.bgColor}`,children:d.jsx(x,{className:`w-4 h-4 ${w.textColor} ${h?"animate-spin":""}`})}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-sm",children:w.text}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"VibeTune Cloud Sync"})]})]}),d.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:w.description}),d.jsxs("div",{className:"space-y-2 pt-2 border-t border-border",children:[p&&d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-muted-foreground",children:"Last sync:"}),d.jsx("span",{className:"font-medium",children:p.toLocaleString()})]}),d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-muted-foreground",children:"Status:"}),d.jsx("span",{className:`font-medium ${w.textColor}`,children:u?"Connected":"Offline"})]}),m&&d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-muted-foreground",children:"Pending changes:"}),d.jsx("span",{className:"font-medium text-secondary-foreground",children:"Yes"})]})]}),d.jsxs("div",{className:"flex gap-2 pt-2",children:[m&&u&&d.jsxs(ue,{size:"sm",variant:"outline",onClick:()=>{c(),o(!1)},disabled:h,className:"flex-1",children:[d.jsx(Dy,{className:`w-3 h-3 mr-1 ${h?"animate-spin":""}`}),"Sync Now"]}),d.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>o(!1),className:"text-xs",children:"Close"})]})]})})]})})]})}function JD({user:t,onLogout:e,onStartPlacementTest:n}){const s=t.level||"Beginner",[o,a]=b.useState(!1),c=XD(),u=D1(),{currentTopic:h,setCurrentTopic:p,setActiveConversation:m,initializeApp:y,syncData:w,trackEvent:x}=br();b.useEffect(()=>{y(),x("main_app_viewed",{user_level:s})},[y,x,s]),b.useEffect(()=>{u.online&&!u.syncing&&u.hasOfflineChanges&&w()},[u.online,u.syncing,u.hasOfflineChanges,w]);const k=j=>{const E=j.topic||j.title;p(E),m(j.id),a(!1),x("conversation_selected",{conversation_id:j.id,topic:E})},S=()=>t.placement_test_completed?"Retake Placement Test":"Take Placement Test",_=()=>t.placement_test_completed?xr:si;return d.jsxs("div",{className:"h-screen bg-background flex",children:[d.jsx("div",{className:"hidden md:block w-80 h-full",children:d.jsx(F0,{user:t,conversations:c,onConversationSelect:k,onLogout:e})}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsxs("div",{className:"bg-card border-b border-border p-4",children:[d.jsxs("div",{className:"md:hidden flex items-center justify-between",children:[d.jsxs(rL,{open:o,onOpenChange:a,children:[d.jsx(sL,{asChild:!0,children:d.jsx(ue,{variant:"outline",size:"icon",children:d.jsx(rE,{className:"w-4 h-4"})})}),d.jsx(oL,{side:"left",className:"w-80 p-0",children:d.jsx(F0,{user:t,conversations:c,onConversationSelect:k,onLogout:e})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ts,{className:"w-5 h-5 text-accent"}),d.jsx("h1",{className:"font-semibold",children:"VibeTune"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Z0,{compact:!0,showLabel:!1}),d.jsx(Qf,{size:"sm",showLabel:!1}),d.jsx(ve.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:d.jsxs(ue,{onClick:n,className:"bg-accent hover:bg-accent/90 text-accent-foreground shadow-md",size:"sm",children:[_t.createElement(_(),{className:"w-4 h-4 mr-1"}),d.jsx("span",{className:"hidden xs:inline",children:t.placement_test_completed?"Retake Test":"Take Test"}),d.jsx("span",{className:"xs:hidden",children:t.placement_test_completed?"Retake":"Test"})]})})]})]}),d.jsxs("div",{className:"hidden md:flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ts,{className:"w-5 h-5 text-accent"}),d.jsx("h1",{className:"text-lg font-semibold",children:"VibeTune"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(Z0,{compact:!1,showLabel:!0}),d.jsx(Qf,{size:"md",showLabel:!0}),d.jsx(ve.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(ue,{onClick:n,className:"bg-accent hover:bg-accent/90 text-accent-foreground shadow-lg px-4 py-2",size:"default",children:[_t.createElement(_(),{className:"w-4 h-4 mr-2"}),S()]})})]})]})]}),d.jsx("div",{className:"flex-1",children:d.jsx(VD,{topic:h,level:s,onTopicChange:p})})]})]})}function ZD(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var _p="Radio",[e3,$1]=pn(_p),[t3,n3]=e3(_p),F1=b.forwardRef((t,e)=>{const{__scopeRadio:n,name:s,checked:o=!1,required:a,disabled:c,value:u="on",onCheck:h,form:p,...m}=t,[y,w]=b.useState(null),x=Be(e,_=>w(_)),k=b.useRef(!1),S=y?p||!!y.closest("form"):!0;return d.jsxs(t3,{scope:n,checked:o,disabled:c,children:[d.jsx(Pe.button,{type:"button",role:"radio","aria-checked":o,"data-state":B1(o),"data-disabled":c?"":void 0,disabled:c,value:u,...m,ref:x,onClick:Ae(t.onClick,_=>{o||h?.(),S&&(k.current=_.isPropagationStopped(),k.current||_.stopPropagation())})}),S&&d.jsx(U1,{control:y,bubbles:!k.current,name:s,value:u,checked:o,required:a,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});F1.displayName=_p;var V1="RadioIndicator",z1=b.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:s,...o}=t,a=n3(V1,n);return d.jsx(zt,{present:s||a.checked,children:d.jsx(Pe.span,{"data-state":B1(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:e})})});z1.displayName=V1;var r3="RadioBubbleInput",U1=b.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:s=!0,...o},a)=>{const c=b.useRef(null),u=Be(c,a),h=ZD(n),p=XS(e);return b.useEffect(()=>{const m=c.current;if(!m)return;const y=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(y,"checked").set;if(h!==n&&x){const k=new Event("click",{bubbles:s});x.call(m,n),m.dispatchEvent(k)}},[h,n,s]),d.jsx(Pe.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:u,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});U1.displayName=r3;function B1(t){return t?"checked":"unchecked"}var s3=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fc="RadioGroup",[i3]=pn(fc,[uc,$1]),W1=uc(),H1=$1(),[o3,a3]=i3(fc),G1=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:s,defaultValue:o,value:a,required:c=!1,disabled:u=!1,orientation:h,dir:p,loop:m=!0,onValueChange:y,...w}=t,x=W1(n),k=ec(p),[S,_]=yi({prop:a,defaultProp:o??null,onChange:y,caller:fc});return d.jsx(o3,{scope:n,name:s,required:c,disabled:u,value:S,onValueChange:_,children:d.jsx(C1,{asChild:!0,...x,orientation:h,dir:k,loop:m,children:d.jsx(Pe.div,{role:"radiogroup","aria-required":c,"aria-orientation":h,"data-disabled":u?"":void 0,dir:k,...w,ref:e})})})});G1.displayName=fc;var q1="RadioGroupItem",K1=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:s,...o}=t,a=a3(q1,n),c=a.disabled||s,u=W1(n),h=H1(n),p=b.useRef(null),m=Be(e,p),y=a.value===o.value,w=b.useRef(!1);return b.useEffect(()=>{const x=S=>{s3.includes(S.key)&&(w.current=!0)},k=()=>w.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",k),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",k)}},[]),d.jsx(T1,{asChild:!0,...u,focusable:!c,active:y,children:d.jsx(F1,{disabled:c,required:a.required,checked:y,...h,...o,name:a.name,ref:m,onCheck:()=>a.onValueChange(o.value),onKeyDown:Ae(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:Ae(o.onFocus,()=>{w.current&&p.current?.click()})})})});K1.displayName=q1;var l3="RadioGroupIndicator",Y1=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...s}=t,o=H1(n);return d.jsx(z1,{...o,...s,ref:e})});Y1.displayName=l3;var c3=G1,u3=K1,d3=Y1;function Q1({className:t,...e}){return d.jsx(c3,{"data-slot":"radio-group",className:Ie("grid gap-3",t),...e})}function X1({className:t,...e}){return d.jsx(u3,{"data-slot":"radio-group-item",className:Ie("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:d.jsx(d3,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:d.jsx(CT,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}class J1{static API_ENDPOINT=`https://${Qh}.supabase.co/functions/v1/make-server-b2083953/analyze-audio`;static RATE_LIMIT_KEY="audio_analysis_rate_limit";static MAX_REQUESTS_PER_MINUTE=20;static async analyzeAudio({audioBlob:e,text:n,level:s,context:o}){try{if(!this.checkRateLimit())throw new Error("Rate limit exceeded. Please wait before making another request.");const a=new FormData;e&&a.append("audio",e,"recording.wav"),n&&a.append("text",n),a.append("level",s),a.append("context",o||"general");const c=await fetch(this.API_ENDPOINT,{method:"POST",body:a,headers:{Authorization:`Bearer ${await this.getAuthToken()}`}});if(!c.ok)throw c.status===429?new Error("API rate limit exceeded. Please try again later."):new Error(`API request failed: ${c.statusText}`);const u=await c.json();return this.updateRateLimit(),{data:u,error:null}}catch(a){return console.error("Audio analysis error:",a),{data:this.generateMockAnalysis(n||"",s),error:a}}}static async streamTranscription(e,n,s){try{let o="";const a=["I","think","learning","English","pronunciation","is","very","important"];for(let c=0;c<a.length;c++)await new Promise(u=>setTimeout(u,500)),o+=(c>0?" ":"")+a[c],n({text:o,isFinal:c===a.length-1,confidence:.85+Math.random()*.15})}catch(o){s(o)}}static checkRateLimit(){const e=Date.now(),n=localStorage.getItem(this.RATE_LIMIT_KEY);if(!n)return!0;const{count:s,windowStart:o}=JSON.parse(n),a=60*1e3;return e-o>a?!0:s<this.MAX_REQUESTS_PER_MINUTE}static updateRateLimit(){const e=Date.now(),n=localStorage.getItem(this.RATE_LIMIT_KEY);if(!n){localStorage.setItem(this.RATE_LIMIT_KEY,JSON.stringify({count:1,windowStart:e}));return}const{count:s,windowStart:o}=JSON.parse(n),a=60*1e3;e-o>a?localStorage.setItem(this.RATE_LIMIT_KEY,JSON.stringify({count:1,windowStart:e})):localStorage.setItem(this.RATE_LIMIT_KEY,JSON.stringify({count:s+1,windowStart:o}))}static async getAuthToken(){const{data:{session:e}}=await Le.auth.getSession();return e?.access_token||Xh}static generateMockAnalysis(e,n){const s=e.toLowerCase().split(" "),o=Math.floor(Math.random()*30)+70,a=[],c=[];return n==="Beginner"?(s.includes("really")||s.includes("very"))&&a.push({type:"stress",score:.6,location:"really",suggestion:"Emphasize this word with rising stress"}):n==="Intermediate"&&a.push({type:"intonation",score:.75,suggestion:"Try varying your pitch more throughout the sentence"}),s.forEach(u=>{u.length>8&&c.push(u)}),{prosodyErrors:a,vocabSuggestions:c.slice(0,3),guidance:this.generateGuidance(o,n),overallScore:o,transcript:e}}static generateGuidance(e,n){const s={high:["Excellent prosody! Your rhythm and intonation are very natural.","Great job with word stress patterns. Keep practicing!","Your speech sounds very confident and clear."],medium:["Good effort! Try to focus more on sentence-level intonation.","Your pronunciation is clear. Work on varying your pitch more.","Nice rhythm! Pay attention to stressed syllables in longer words."],low:["Keep practicing! Focus on one aspect at a time - start with word stress.","Take your time with pronunciation. Slow, clear speech is better than fast, unclear speech.","Listen to native speakers and try to mimic their intonation patterns."]},o=e>=85?"high":e>=70?"medium":"low",a=s[o];return a[Math.floor(Math.random()*a.length)]}}const ew=[{id:1,type:"multiple-choice",topic:"Basic Stress Patterns",question:'Which syllable is stressed in the word "important"?',options:["im-POR-tant","IM-por-tant","im-por-TANT","All syllables equally"],correctAnswer:1,points:10},{id:2,type:"audio-response",topic:"Sentence Stress",question:'Read this sentence with natural stress: "I REALLY need to finish this project TODAY."',expectedResponse:"I REALLY need to finish this project TODAY.",points:20},{id:3,type:"multiple-choice",topic:"Intonation Patterns",question:"In yes/no questions, the intonation typically:",options:["Falls at the end","Rises at the end","Stays flat","Varies randomly"],correctAnswer:1,points:10},{id:4,type:"audio-response",topic:"Question Intonation",question:'Ask this question with proper intonation: "Are you coming to the meeting?"',expectedResponse:"Are you coming to the meeting?",points:20},{id:5,type:"reading",topic:"Connected Speech",question:"Read this paragraph naturally, paying attention to linking and rhythm:",expectedResponse:"English pronunciation involves more than just individual sounds. The rhythm, stress, and intonation patterns work together to create natural, fluent speech that listeners can easily understand.",points:25},{id:6,type:"multiple-choice",topic:"Word Stress",question:"Which word has the stress on the FIRST syllable?",options:["photograph","photography","photographer","photographic"],correctAnswer:0,points:10},{id:7,type:"audio-response",topic:"Emotion and Intonation",question:`Say "That's interesting" to express genuine curiosity (not sarcasm).`,expectedResponse:"That's interesting",points:15}];function f3(t){const[e,n]=b.useState({questions:ew,currentQuestion:0,answers:[],isLoading:!1,error:null,timeRemaining:900,isCompleted:!1,results:null}),s=b.useCallback(async()=>{if(t){n(x=>({...x,isLoading:!0,error:null,currentQuestion:0,answers:[],isCompleted:!1,results:null,timeRemaining:900}));try{await Le.from("analytics_events").insert({profile_id:t.id,event_type:"placement_test_started",metadata:{question_count:ew.length,timestamp:new Date().toISOString()}}),n(k=>({...k,isLoading:!1}));const x=setInterval(()=>{n(k=>k.timeRemaining<=1?(clearInterval(x),h(),{...k,timeRemaining:0}):{...k,timeRemaining:k.timeRemaining-1})},1e3)}catch(x){console.error("Error starting placement test:",x),n(k=>({...k,error:"Failed to start placement test",isLoading:!1}))}}},[t]),o=b.useCallback((x,k)=>{const S=e.questions.find(E=>E.id===x);if(!S)return;const j=S.correctAnswer===k?S.points:0;n(E=>({...E,answers:[...E.answers.filter(T=>T.questionId!==x),{questionId:x,answer:k,score:j}]}))},[e.questions]),a=b.useCallback(async(x,k)=>{if(!t)return;const S=e.questions.find(_=>_.id===x);if(S){n(_=>({..._,isLoading:!0}));try{const{data:_}=await J1.analyzeAudio({text:k,level:"Assessment",context:S.topic});let j=0;_&&(j=Math.round(_.overallScore/100*S.points)),n(E=>({...E,answers:[...E.answers.filter(T=>T.questionId!==x),{questionId:x,answer:k,score:j}],isLoading:!1}))}catch(_){console.error("Error analyzing audio response:",_),n(j=>({...j,answers:[...j.answers.filter(E=>E.questionId!==x),{questionId:x,answer:k,score:Math.round(S.points*.5)}],isLoading:!1}))}}},[t,e.questions]),c=b.useCallback(()=>{n(x=>({...x,currentQuestion:Math.min(x.currentQuestion+1,x.questions.length-1)}))},[]),u=b.useCallback(()=>{n(x=>({...x,currentQuestion:Math.max(x.currentQuestion-1,0)}))},[]),h=b.useCallback(async()=>{if(t){n(x=>({...x,isLoading:!0}));try{const x=e.answers.reduce((T,P)=>T+(P.score||0),0),k=e.questions.reduce((T,P)=>T+P.points,0),S=Math.round(x/k*100);let _="Beginner";S>=80?_="Advanced":S>=60&&(_="Intermediate");const j={pronunciation:Math.min(100,S+Math.random()*10-5),intonation:Math.min(100,S+Math.random()*10-5),rhythm:Math.min(100,S+Math.random()*10-5),vocabulary:Math.min(100,S+Math.random()*10-5)},E={score:S,level:_,breakdown:j};await Le.from("profiles").update({level:_}).eq("id",t.id),await Le.from("analytics_events").insert({profile_id:t.id,event_type:"placement_test_completed",metadata:{score:S,level:_,answers:e.answers,time_taken:900-e.timeRemaining,breakdown:j,timestamp:new Date().toISOString()}}),n(T=>({...T,isCompleted:!0,results:E,isLoading:!1}))}catch(x){console.error("Error completing placement test:",x),n(k=>({...k,error:"Failed to save test results",isLoading:!1}))}}},[t,e.answers,e.questions,e.timeRemaining]),p=b.useCallback(async()=>{if(t)try{await Le.from("analytics_events").insert({profile_id:t.id,event_type:"placement_test_skipped",metadata:{timestamp:new Date().toISOString()}}),n(x=>({...x,isCompleted:!0,results:{score:0,level:"Beginner",breakdown:{pronunciation:0,intonation:0,rhythm:0,vocabulary:0}}}))}catch(x){console.error("Error recording test skip:",x)}},[t]),m=b.useCallback(()=>e.questions[e.currentQuestion],[e.questions,e.currentQuestion]),y=b.useCallback(()=>{const x=m();return e.answers.find(k=>k.questionId===x?.id)},[e.answers,m]),w=b.useCallback(()=>Math.round((e.currentQuestion+1)/e.questions.length*100),[e.currentQuestion,e.questions.length]);return{...e,startTest:s,answerMultipleChoice:o,answerAudioResponse:a,nextQuestion:c,previousQuestion:u,completeTest:h,skipTest:p,getCurrentQuestion:m,getCurrentAnswer:y,getProgress:w,clearError:()=>n(x=>({...x,error:null}))}}function h3({onComplete:t,onSkip:e,onBack:n}){const[s,o]=b.useState(null),[a,c]=b.useState("");b.useEffect(()=>{(async()=>{const W=await II();if(W){const{data:L}=await Le.from("profiles").select("*").eq("id",W.id).single();o(L)}})()},[]);const{questions:u,currentQuestion:h,isLoading:p,error:m,timeRemaining:y,isCompleted:w,results:x,startTest:k,answerMultipleChoice:S,answerAudioResponse:_,nextQuestion:j,previousQuestion:E,completeTest:T,skipTest:P,getCurrentQuestion:R,getCurrentAnswer:M,getProgress:$,clearError:D}=f3(s);b.useEffect(()=>{s&&u.length>0&&k()},[s,k,u]);const q=()=>{if(a){const J=R();J&&(S(J.id,parseInt(a)),c(""),j())}},X=J=>{const W=R();W&&(_(W.id,J),j())},de=async()=>{await T(),x&&t({level:x.level,score:x.score})},be=async()=>{await P(),e()},me=J=>{const W=Math.floor(J/60),L=J%60;return`${W}:${L.toString().padStart(2,"0")}`};if(!s||u.length===0)return d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:d.jsx(vt,{className:"w-full max-w-md",children:d.jsxs(wt,{className:"p-8 text-center space-y-4",children:[d.jsx("div",{className:"w-8 h-8 border-4 border-accent border-t-transparent rounded-full animate-spin mx-auto"}),d.jsx("h2",{className:"text-xl font-semibold",children:"Preparing your test..."}),d.jsx("p",{className:"text-muted-foreground",children:"Setting up personalized questions"})]})})});if(w)return d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:d.jsx(ve.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md",children:d.jsx(vt,{children:d.jsxs(wt,{className:"p-8 text-center space-y-6",children:[d.jsx(ri,{className:"w-16 h-16 text-success mx-auto"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h2",{className:"text-2xl font-bold",children:"Test Complete!"}),x?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("p",{className:"text-muted-foreground",children:["Your English prosody level: ",d.jsx("span",{className:"font-semibold text-foreground",children:x.level})]}),d.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Overall Score:"}),d.jsxs(Ye,{variant:"secondary",className:"bg-success text-success-foreground",children:[x.score,"%"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Pronunciation:"}),d.jsxs("span",{children:[Math.round(x.breakdown.pronunciation),"%"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Intonation:"}),d.jsxs("span",{children:[Math.round(x.breakdown.intonation),"%"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Rhythm:"}),d.jsxs("span",{children:[Math.round(x.breakdown.rhythm),"%"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Vocabulary:"}),d.jsxs("span",{children:[Math.round(x.breakdown.vocabulary),"%"]})]})]})]}),d.jsxs(ue,{onClick:()=>t({level:x.level,score:x.score}),className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",children:["Start Learning at ",x.level," Level"]})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-muted-foreground",children:"Processing your results and determining your level..."}),d.jsx("div",{className:"animate-pulse",children:d.jsx(jo,{value:100,className:"w-full"})})]})]})]})})})});const ae=R(),we=M();return ae?d.jsx("div",{className:"min-h-screen bg-background p-4",children:d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[n&&d.jsx(ue,{variant:"ghost",size:"icon",onClick:n,children:d.jsx(Xd,{className:"w-4 h-4"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"English Prosody Placement Test"}),d.jsxs("p",{className:"text-muted-foreground",children:["Question ",h+1," of ",u.length]})]}),d.jsx("div",{className:"w-10"})," "]}),m&&d.jsx(ve.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:d.jsx(vt,{className:"border-destructive/20 bg-destructive/5",children:d.jsxs(wt,{className:"p-4",children:[d.jsx("p",{className:"text-destructive text-sm",children:m}),d.jsx(ue,{variant:"outline",size:"sm",onClick:D,className:"mt-2",children:"Dismiss"})]})})}),d.jsx(vt,{children:d.jsxs(wt,{className:"p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm",children:"Progress"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Jd,{className:"w-4 h-4 text-muted-foreground"}),d.jsx("span",{className:"text-sm",children:me(y)})]})]}),d.jsx(jo,{value:$(),className:"w-full"})]})}),d.jsx(ve.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:d.jsxs(vt,{children:[d.jsx(es,{children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(Sr,{className:"text-lg",children:[ae.type==="multiple-choice"&&d.jsx(qs,{className:"w-5 h-5 inline mr-2"}),ae.type==="audio-response"&&d.jsx(ts,{className:"w-5 h-5 inline mr-2"}),ae.type==="reading"&&d.jsx(ts,{className:"w-5 h-5 inline mr-2"}),ae.question]}),d.jsx(Ye,{variant:"outline",children:ae.topic})]})}),d.jsxs(wt,{className:"space-y-4",children:[ae.type==="multiple-choice"&&ae.options&&d.jsxs(d.Fragment,{children:[d.jsx(Q1,{value:we?we.answer.toString():a,onValueChange:c,disabled:p,children:ae.options.map((J,W)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(X1,{value:W.toString(),id:`option-${W}`}),d.jsx(fo,{htmlFor:`option-${W}`,className:"flex-1 cursor-pointer",children:J})]},W))}),d.jsxs("div",{className:"flex gap-2",children:[h>0&&d.jsx(ue,{onClick:E,variant:"outline",className:"flex-1",disabled:p,children:"Previous"}),d.jsx(ue,{onClick:h===u.length-1?de:q,disabled:!a&&!we,className:"flex-1 bg-accent hover:bg-accent/90 text-accent-foreground",children:p?d.jsx("div",{className:"w-4 h-4 border-2 border-accent-foreground border-t-transparent rounded-full animate-spin"}):h===u.length-1?"Complete Test":"Next Question"})]})]}),(ae.type==="audio-response"||ae.type==="reading")&&d.jsxs("div",{className:"space-y-4",children:[ae.expectedResponse&&ae.type==="reading"&&d.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[d.jsx("p",{className:"text-sm font-medium mb-2",children:"Text to read:"}),d.jsxs("p",{className:"italic",children:['"',ae.expectedResponse,'"']})]}),d.jsx(w1,{onSendMessage:J=>X(J),disabled:p}),d.jsxs("div",{className:"flex gap-2",children:[h>0&&d.jsx(ue,{onClick:E,variant:"outline",className:"flex-1",disabled:p,children:"Previous"}),d.jsx(ue,{variant:"outline",onClick:()=>X("Skipped audio response"),className:"flex-1",disabled:p,children:"Skip This Question"})]})]})]})]})},h),d.jsx("div",{className:"text-center",children:d.jsx(ue,{variant:"link",onClick:be,disabled:p,children:"Skip placement test and start with Beginner level"})})]})}):null}const Jf=b.forwardRef(({...t},e)=>d.jsx(c1,{ref:e,...t}));Jf.displayName="VisuallyHidden";function tw({...t}){return d.jsx(hS,{"data-slot":"dialog",...t})}function nw({...t}){return d.jsx(pS,{"data-slot":"dialog-trigger",...t})}function p3({...t}){return d.jsx(mS,{"data-slot":"dialog-portal",...t})}const Z1=b.forwardRef(({className:t,...e},n)=>d.jsx(Zl,{ref:n,"data-slot":"dialog-overlay",className:Ie("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));Z1.displayName=Zl.displayName;const Zf=b.forwardRef(({className:t,children:e,hideTitle:n,hideDescription:s,...o},a)=>{const c=b.Children.toArray(e).some(h=>b.isValidElement(h)&&(h.type===eh||typeof h.type=="object"&&h.type?.displayName===Uf.displayName)),u=b.Children.toArray(e).some(h=>b.isValidElement(h)&&(h.type===th||typeof h.type=="object"&&h.type?.displayName===Bf.displayName));return d.jsxs(p3,{"data-slot":"dialog-portal",children:[d.jsx(Z1,{}),d.jsxs(rp,{ref:a,"data-slot":"dialog-content",className:Ie("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),"aria-describedby":u?void 0:"dialog-description-fallback",...o,children:[!c&&d.jsx(Jf,{children:d.jsx(Uf,{children:"Dialog"})}),!u&&d.jsx(Jf,{children:d.jsx(Bf,{id:"dialog-description-fallback",children:"Dialog content"})}),e,d.jsxs(gS,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[d.jsx(Iw,{}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]})});Zf.displayName=rp.displayName;function rw({className:t,...e}){return d.jsx("div",{"data-slot":"dialog-header",className:Ie("flex flex-col gap-2 text-center sm:text-left",t),...e})}function eh({className:t,...e}){return d.jsx(Uf,{"data-slot":"dialog-title",className:Ie("text-lg leading-none font-semibold",t),...e})}function th({className:t,...e}){return d.jsx(Bf,{"data-slot":"dialog-description",className:Ie("text-muted-foreground text-sm",t),...e})}const m3=[{value:"Beginner",title:"Beginner",emoji:"",color:"bg-emerald-50 border-emerald-200 text-emerald-800",selectedColor:"bg-emerald-100 border-emerald-300 ring-emerald-500",badges:["Basic","Simple","Guided"],description:"Perfect for those new to English pronunciation and prosody",detailedFeatures:["Basic stress patterns","Simple intonation practice","Common vocabulary focus","Step-by-step guided practice","Fundamental rhythm training"],recommended:"Choose if you're just starting with English pronunciation or want to build strong foundations"},{value:"Intermediate",title:"Intermediate",emoji:"",color:"bg-blue-50 border-blue-200 text-blue-800",selectedColor:"bg-blue-100 border-blue-300 ring-blue-500",badges:["Complex","Varied","Natural"],description:"Ideal for learners with some English speaking experience",detailedFeatures:["Complex stress patterns","Varied intonation training","Advanced vocabulary practice","Natural conversation flow","Contextual pronunciation"],recommended:"Choose if you can speak English conversationally but want to improve pronunciation and sound more natural"},{value:"Advanced",title:"Advanced",emoji:"",color:"bg-purple-50 border-purple-200 text-purple-800",selectedColor:"bg-purple-100 border-purple-300 ring-purple-500",badges:["Nuanced","Native","Pro"],description:"Designed for proficient speakers refining their prosody",detailedFeatures:["Subtle pronunciation nuances","Native-like intonation patterns","Professional vocabulary mastery","Accent reduction techniques","Advanced prosody refinement"],recommended:"Choose if you speak English fluently but want to perfect your prosody and achieve native-like pronunciation"}];function g3({onLevelSelect:t,onTakePlacementTest:e,onBack:n,user:s}){const[o,a]=b.useState(""),[c,u]=b.useState(!1),h=s?.level,p=s?.placement_test_completed,m=h&&p,y=h&&!p,w=()=>m?"Redo Placement Test":"Take Placement Test",x=_=>{if(h){u(!0);return}a(_)},k=()=>{o&&!h&&t(o)},S=()=>{u(!1),e()};return h?d.jsx("div",{className:"min-h-screen bg-background",children:d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx("div",{className:"flex-none px-4 py-6 md:px-6 md:py-8",children:d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n&&d.jsx(ue,{variant:"ghost",size:"icon",onClick:n,className:"flex-shrink-0",children:d.jsx(Xd,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Your Learning Level"}),d.jsx("p",{className:"text-sm md:text-base text-muted-foreground",children:"Level locked for consistent progress"})]})]})})}),d.jsx("div",{className:"flex-1 px-4 md:px-6 flex items-center",children:d.jsx("div",{className:"w-full max-w-md mx-auto",children:d.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:d.jsxs(vt,{className:"bg-accent/10 border-accent/20 shadow-lg",children:[d.jsx(es,{className:"text-center pb-4",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx("div",{className:"w-16 h-16 bg-accent rounded-full flex items-center justify-center shadow-lg",children:d.jsx(ef,{className:"w-8 h-8 text-accent-foreground"})}),d.jsxs("div",{children:[d.jsxs(Sr,{className:"text-2xl md:text-3xl font-bold",children:[s.level," Level"]}),d.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[d.jsx(yo,{className:"w-4 h-4 text-muted-foreground"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:m?"Set by placement test":"Self-selected"})]})]})]})}),d.jsxs(wt,{className:"text-center space-y-6 pb-6",children:[d.jsx("p",{className:"text-base text-muted-foreground",children:m?"Your level was determined by placement test results for optimal learning progress.":"You selected this level manually. Take the placement test for a personalized assessment."}),d.jsx(ve.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(ue,{onClick:S,className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground shadow-lg",size:"lg",children:[d.jsx(si,{className:"w-5 h-5 mr-2"}),w()]})}),d.jsxs(tw,{children:[d.jsx(nw,{asChild:!0,children:d.jsxs(ue,{variant:"ghost",size:"sm",className:"w-full text-muted-foreground hover:text-foreground",children:[d.jsx(My,{className:"w-4 h-4 mr-2"}),"Why can't I change my level directly?"]})}),d.jsxs(Zf,{className:"max-w-md mx-auto",children:[d.jsxs(rw,{children:[d.jsxs(eh,{className:"flex items-center gap-3",children:[d.jsx(yo,{className:"w-5 h-5 text-accent"}),"Level Locking System"]}),d.jsx(th,{className:"text-left",children:"VibeTune locks your level to ensure consistent, progressive learning. This prevents switching between difficulty levels that could disrupt your learning path."})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-accent/10 p-4 rounded-lg border border-accent/20",children:[d.jsx("h4",{className:"font-semibold mb-2 text-accent-foreground",children:"Benefits of Level Locking:"}),d.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[d.jsx("li",{children:" Consistent difficulty progression"}),d.jsx("li",{children:" Personalized content at the right level"}),d.jsx("li",{children:" Prevents skill gaps from level jumping"}),d.jsx("li",{children:" Accurate progress tracking"})]})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"The placement test provides the most accurate assessment of your current abilities and ensures you get content that matches your skill level."})]})]})]})]})]})})})}),d.jsx("div",{className:"flex-none px-4 py-6 md:px-6 md:py-8",children:d.jsx("div",{className:"max-w-md mx-auto",children:c&&d.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:d.jsxs(kf,{className:"border-accent/30 bg-accent/10 shadow-lg",children:[d.jsx(uh,{className:"h-5 w-5 text-accent"}),d.jsxs(Cf,{className:"text-base",children:[d.jsx("strong",{className:"text-accent-foreground",children:"Level is locked."}),d.jsx("br",{}),"Take the placement test to change your level and get a personalized assessment of your abilities."]})]})})})})]})}):d.jsx("div",{className:"min-h-screen bg-background",children:d.jsx("div",{className:"min-h-screen flex items-center justify-center px-3 py-2",children:d.jsxs("div",{className:"w-full max-w-md mx-auto",children:[n&&d.jsx("div",{className:"flex justify-start mb-3",children:d.jsx(ue,{variant:"ghost",size:"icon",onClick:n,className:"w-8 h-8",children:d.jsx(Xd,{className:"w-4 h-4"})})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Choose Your Level"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Level locks after selection. Change by retaking placement test."}),d.jsx(ve.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:d.jsxs(ue,{onClick:S,className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",size:"default",children:[d.jsx(xr,{className:"w-4 h-4 mr-2"}),"Take Placement Test (Recommended)"]})}),d.jsxs("div",{className:"flex items-center gap-3 py-1",children:[d.jsx("div",{className:"h-px bg-border flex-1"}),d.jsx("span",{className:"text-xs text-muted-foreground px-2",children:"OR SELF-SELECT"}),d.jsx("div",{className:"h-px bg-border flex-1"})]})]}),d.jsx("div",{children:d.jsx(Q1,{value:o,onValueChange:a,children:d.jsx("div",{className:"grid grid-cols-3 gap-2",children:m3.map((_,j)=>d.jsx(ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:j*.05},className:"relative",children:d.jsxs(vt,{className:`cursor-pointer transition-all duration-300 h-full min-h-[180px] text-center relative overflow-hidden ${o===_.value?`${_.selectedColor} shadow-xl scale-[1.03] ring-2 ring-offset-1`:`${_.color} hover:shadow-lg hover:scale-[1.01] shadow-md`}`,onClick:()=>x(_.value),children:[o===_.value&&d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent pointer-events-none"}),d.jsxs(tw,{children:[d.jsx(nw,{asChild:!0,children:d.jsx(ue,{variant:"ghost",size:"icon",className:"absolute top-1 right-1 w-6 h-6 rounded-full bg-white/90 hover:bg-white shadow-md z-20",onClick:E=>E.stopPropagation(),children:d.jsx(My,{className:"w-3 h-3"})})}),d.jsxs(Zf,{className:"max-w-sm mx-auto",children:[d.jsxs(rw,{children:[d.jsxs(eh,{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-2xl",children:_.emoji}),d.jsxs("div",{className:"text-lg",children:[_.title," Level"]})]}),d.jsx(th,{children:_.description})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-2",children:"What you'll practice:"}),d.jsx("ul",{className:"space-y-1",children:_.detailedFeatures.map((E,T)=>d.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[d.jsx(ri,{className:"w-4 h-4 text-success mt-0.5 flex-shrink-0"}),E]},T))})]}),d.jsx("div",{className:"bg-accent/10 p-3 rounded-lg border border-accent/20",children:d.jsxs("p",{className:"text-sm",children:[d.jsx("strong",{className:"text-accent-foreground",children:"Choose this level if:"}),d.jsx("br",{}),_.recommended]})})]})]})]}),d.jsx("div",{className:"absolute top-1 left-1 z-20",children:d.jsx(X1,{value:_.value,id:_.value,className:"w-4 h-4 border-2 bg-white/90"})}),d.jsxs(wt,{className:"p-2 h-full flex flex-col justify-center pt-6",children:[d.jsxs("div",{className:"space-y-2 mb-3",children:[d.jsx("div",{className:"text-3xl",children:_.emoji}),d.jsx(Sr,{className:"text-sm leading-tight font-bold",children:_.title})]}),d.jsx("div",{className:"space-y-1",children:_.badges.map((E,T)=>d.jsx(Ye,{variant:"secondary",className:"text-xs px-1 py-0 h-4 rounded-sm block w-full bg-white/80 text-gray-800 border border-gray-300 font-medium",children:E},T))})]})]})},_.value))})})}),o&&d.jsx(ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-3",children:d.jsxs("div",{className:"bg-success/10 rounded-lg p-4 border border-success/20 space-y-3",children:[d.jsx("div",{className:"text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[d.jsx(ri,{className:"w-5 h-5 text-success"}),d.jsxs("span",{className:"text-base font-bold text-success-foreground",children:[o," Level Selected"]})]})}),d.jsxs("div",{className:"flex items-start gap-2 p-2 bg-primary/15 rounded border border-primary/25",children:[d.jsx(yo,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),d.jsxs("p",{className:"text-sm text-primary-foreground",children:[d.jsx("strong",{children:"Level will be locked after confirmation."})," You can only change it by taking the placement test later."]})]}),d.jsx(ve.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:d.jsxs(ue,{onClick:k,className:"w-full bg-success hover:bg-success/90 text-success-foreground h-11 text-base font-bold shadow-lg",size:"lg",children:[d.jsx(si,{className:"w-5 h-5 mr-2"}),"Start Learning at ",o," Level"]})})]})}),!o&&d.jsx("div",{className:"text-center py-2",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:" Tap a level card above to continue"})})]})]})})})}class y3 extends _t.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("VibeTune Error Boundary caught an error:",e,n),this.setState({error:e,errorInfo:n}),setTimeout(()=>{try{Jt(async()=>{const{trackEvent:s}=await Promise.resolve().then(()=>MI);return{trackEvent:s}},void 0).then(({trackEvent:s})=>{s("app_error_boundary",{error:e.message,stack:e.stack,componentStack:n.componentStack})})}catch(s){console.warn("Failed to track error boundary event:",s)}},0)}handleReset=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full text-center space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[d.jsx("div",{className:"w-12 h-12 bg-accent rounded-full flex items-center justify-center",children:d.jsx("svg",{className:"w-6 h-6 text-accent-foreground",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"})})}),d.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"VibeTune"})]}),d.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-6",children:[d.jsx("h2",{className:"text-lg font-semibold text-destructive mb-2",children:"Oops! Something went wrong"}),d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"We encountered an unexpected error. Don't worry, your data is safe."}),!1]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("button",{onClick:this.handleReset,className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground px-4 py-2 rounded-lg font-medium transition-colors",children:"Try Again"}),d.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-secondary hover:bg-secondary/90 text-secondary-foreground px-4 py-2 rounded-lg font-medium transition-colors",children:"Refresh Page"}),d.jsx("button",{onClick:()=>{try{localStorage.clear(),sessionStorage.clear()}catch(e){console.warn("Failed to clear storage:",e)}window.location.reload()},className:"w-full border border-border hover:bg-muted px-4 py-2 rounded-lg font-medium transition-colors text-sm",children:"Reset App Data"})]}),d.jsxs("div",{className:"text-xs text-muted-foreground",children:[d.jsx("p",{children:"If this problem persists, please contact support."}),d.jsxs("p",{className:"mt-1",children:["Error ID: ",Date.now().toString(36)]})]})]})}):this.props.children}}const v3={user:null,currentConversation:[],placementTestProgress:0,isLoading:!1,error:null,isOffline:!1,syncStatus:"synced"};function w3(t,e){switch(e.type){case"SET_USER":return{...t,user:e.payload};case"SET_CONVERSATION":return{...t,currentConversation:e.payload};case"ADD_MESSAGE":return{...t,currentConversation:[...t.currentConversation,e.payload]};case"UPDATE_MESSAGE":return{...t,currentConversation:t.currentConversation.map(n=>n.id===e.payload.id?{...n,...e.payload.message}:n)};case"SET_PLACEMENT_TEST_PROGRESS":return{...t,placementTestProgress:e.payload};case"SET_LOADING":return{...t,isLoading:e.payload};case"SET_ERROR":return{...t,error:e.payload};case"SET_OFFLINE":return{...t,isOffline:e.payload};case"SET_SYNC_STATUS":return{...t,syncStatus:e.payload};case"CLEAR_CONVERSATION":return{...t,currentConversation:[]};default:return t}}const e_=b.createContext(null);function x3({children:t}){const[e,n]=b.useReducer(w3,v3);return d.jsx(e_.Provider,{value:{state:e,dispatch:n},children:t})}function b3(){const t=b.useContext(e_);if(!t)throw new Error("useAppContext must be used within an AppProvider");return t}const Ws={setUser:t=>({type:"SET_USER",payload:t}),setConversation:t=>({type:"SET_CONVERSATION",payload:t}),addMessage:t=>({type:"ADD_MESSAGE",payload:t}),updateMessage:(t,e)=>({type:"UPDATE_MESSAGE",payload:{id:t,message:e}}),setPlacementTestProgress:t=>({type:"SET_PLACEMENT_TEST_PROGRESS",payload:t}),setLoading:t=>({type:"SET_LOADING",payload:t}),setError:t=>({type:"SET_ERROR",payload:t}),setOffline:t=>({type:"SET_OFFLINE",payload:t}),setSyncStatus:t=>({type:"SET_SYNC_STATUS",payload:t}),clearConversation:()=>({type:"CLEAR_CONVERSATION"})};class Bn{static STORAGE_KEYS={MESSAGES:"speakpro_offline_messages",CONVERSATIONS:"speakpro_offline_conversations",SYNC_QUEUE:"speakpro_sync_queue",LAST_SYNC:"speakpro_last_sync"};static getStorage(){return typeof window<"u"?{getItem:e=>localStorage.getItem(e),setItem:(e,n)=>localStorage.setItem(e,n),removeItem:e=>localStorage.removeItem(e)}:{getItem:async e=>null,setItem:async(e,n)=>{},removeItem:async e=>{}}}static saveMessageOffline(e){try{const n=this.getStorage(),s=n.getItem(this.STORAGE_KEYS.MESSAGES),o=s?JSON.parse(s):[],a={...e,device_id:this.getDeviceId(),synced:!1};o.push(a),n.setItem(this.STORAGE_KEYS.MESSAGES,JSON.stringify(o)),this.addToSyncQueue("message",a.id)}catch(n){console.error("Failed to save message offline:",n)}}static saveConversationOffline(e){try{const n=this.getStorage(),s=n.getItem(this.STORAGE_KEYS.CONVERSATIONS),o=s?JSON.parse(s):[],a={...e,device_id:this.getDeviceId(),synced:!1};o.push(a),n.setItem(this.STORAGE_KEYS.CONVERSATIONS,JSON.stringify(o)),this.addToSyncQueue("conversation",a.id)}catch(n){console.error("Failed to save conversation offline:",n)}}static getOfflineMessages(e){try{const s=this.getStorage().getItem(this.STORAGE_KEYS.MESSAGES);return(s?JSON.parse(s):[]).filter(a=>a.conversation_id===e)}catch(n){return console.error("Failed to get offline messages:",n),[]}}static getOfflineConversations(){try{const n=this.getStorage().getItem(this.STORAGE_KEYS.CONVERSATIONS);return n?JSON.parse(n):[]}catch(e){return console.error("Failed to get offline conversations:",e),[]}}static getUnsyncedItems(){const e=this.getAllOfflineMessages(),n=this.getOfflineConversations();return{messages:e.filter(s=>!s.synced),conversations:n.filter(s=>!s.synced)}}static markAsSynced(e,n){try{const s=this.getStorage(),o=e==="message"?this.STORAGE_KEYS.MESSAGES:this.STORAGE_KEYS.CONVERSATIONS,a=s.getItem(o);if(!a)return;const u=JSON.parse(a).map(h=>h.id===n?{...h,synced:!0}:h);s.setItem(o,JSON.stringify(u)),this.removeFromSyncQueue(e,n)}catch(s){console.error("Failed to mark item as synced:",s)}}static addToSyncQueue(e,n){try{const s=this.getStorage(),o=s.getItem(this.STORAGE_KEYS.SYNC_QUEUE),a=o?JSON.parse(o):[];a.push({type:e,id:n,timestamp:Date.now()}),s.setItem(this.STORAGE_KEYS.SYNC_QUEUE,JSON.stringify(a))}catch(s){console.error("Failed to add to sync queue:",s)}}static removeFromSyncQueue(e,n){try{const s=this.getStorage(),o=s.getItem(this.STORAGE_KEYS.SYNC_QUEUE);if(!o)return;const c=JSON.parse(o).filter(u=>!(u.type===e&&u.id===n));s.setItem(this.STORAGE_KEYS.SYNC_QUEUE,JSON.stringify(c))}catch(s){console.error("Failed to remove from sync queue:",s)}}static getSyncQueue(){try{const n=this.getStorage().getItem(this.STORAGE_KEYS.SYNC_QUEUE);return n?JSON.parse(n):[]}catch(e){return console.error("Failed to get sync queue:",e),[]}}static clearSyncedItems(){try{const e=this.getStorage(),n=e.getItem(this.STORAGE_KEYS.MESSAGES);if(n){const o=JSON.parse(n),a=Date.now()-10080*60*1e3,c=o.filter(u=>!u.synced||new Date(u.created_at).getTime()>a);e.setItem(this.STORAGE_KEYS.MESSAGES,JSON.stringify(c))}const s=e.getItem(this.STORAGE_KEYS.CONVERSATIONS);if(s){const o=JSON.parse(s),a=Date.now()-720*60*60*1e3,c=o.filter(u=>!u.synced||new Date(u.started_at).getTime()>a);e.setItem(this.STORAGE_KEYS.CONVERSATIONS,JSON.stringify(c))}}catch(e){console.error("Failed to clear synced items:",e)}}static getDeviceId(){try{const e=this.getStorage();let n=e.getItem("device_id");return n||(n="web_"+Date.now().toString(36)+Math.random().toString(36).substr(2),e.setItem("device_id",n)),n}catch(e){return console.error("Failed to get device ID:",e),"unknown_device"}}static getAllOfflineMessages(){try{const n=this.getStorage().getItem(this.STORAGE_KEYS.MESSAGES);return n?JSON.parse(n):[]}catch(e){return console.error("Failed to get all offline messages:",e),[]}}static updateLastSync(){try{this.getStorage().setItem(this.STORAGE_KEYS.LAST_SYNC,Date.now().toString())}catch(e){console.error("Failed to update last sync:",e)}}static getLastSync(){try{const n=this.getStorage().getItem(this.STORAGE_KEYS.LAST_SYNC);return n?parseInt(n):0}catch(e){return console.error("Failed to get last sync:",e),0}}static isOffline(){return typeof navigator<"u"&&!navigator.onLine}static getStorageStats(){const e=this.getAllOfflineMessages(),n=this.getOfflineConversations(),s=this.getUnsyncedItems();return{messageCount:e.length,conversationCount:n.length,unsyncedMessages:s.messages.length,unsyncedConversations:s.conversations.length,lastSync:this.getLastSync()}}}class sw{static syncInProgress=!1;static autoSyncEnabled=!1;static syncListeners=[];static lastAuthCheck=0;static isAuthenticated=!1;static addSyncListener(e){this.syncListeners.push(e)}static removeSyncListener(e){this.syncListeners=this.syncListeners.filter(n=>n!==e)}static notifyListeners(e){this.syncListeners.forEach(n=>n(e))}static async sync(){if(this.syncInProgress)return{success:!1,syncedMessages:0,syncedConversations:0,errors:["Sync already in progress"]};this.syncInProgress=!0,this.notifyListeners("syncing");const e=new Promise((n,s)=>setTimeout(()=>s(new Error("Sync operation timed out")),1e4));try{return await Promise.race([this._performSync(),e])}catch(n){return this.syncInProgress=!1,this.notifyListeners("error"),console.error("Sync failed:",n?.message||n),{success:!1,syncedMessages:0,syncedConversations:0,errors:[n?.message||"Sync failed"]}}}static async _performSync(){const e={success:!1,syncedMessages:0,syncedConversations:0,errors:[]};try{if(Bn.isOffline())return this.syncInProgress=!1,this.notifyListeners("synced"),{success:!0,syncedMessages:0,syncedConversations:0,errors:["Device is offline - sync will resume when online"]};const n=await this.checkAuthentication();if(!n.isAuthenticated)return this.syncInProgress=!1,this.notifyListeners("synced"),{success:!0,syncedMessages:0,syncedConversations:0,errors:[n.reason||"No authenticated user - sync skipped"]};const{messages:s,conversations:o}=Bn.getUnsyncedItems();for(const a of o)try{await this.syncConversation(a),e.syncedConversations++}catch(c){console.error("Failed to sync conversation:",c),e.errors.push(`Failed to sync conversation ${a.id}: ${c}`)}for(const a of s)try{await this.syncMessage(a),e.syncedMessages++}catch(c){console.error("Failed to sync message:",c),e.errors.push(`Failed to sync message ${a.id}: ${c}`)}await this.downloadServerUpdates(),Bn.updateLastSync(),e.success=e.errors.length===0,this.notifyListeners(e.success?"synced":"error"),Bn.clearSyncedItems()}catch(n){console.error("Sync failed:",n);const s=n instanceof Error?n.message:String(n);e.errors.push(`Sync failed: ${s}`),!s.includes("not authenticated")&&!s.includes("offline")?this.notifyListeners("error"):this.notifyListeners("synced")}finally{this.syncInProgress=!1}return e}static async syncConversation(e){try{const{data:n}=await Le.from("conversations").select("id, device_id").eq("id",e.id).single();if(n)await this.resolveConversationConflict(e,n);else{const{error:s}=await Le.from("conversations").insert([{id:e.id,profile_id:e.profile_id,topic:e.topic,is_placement_test:e.is_placement_test,started_at:e.started_at,ended_at:e.ended_at,device_id:e.device_id}]);if(s)throw s}Bn.markAsSynced("conversation",e.id)}catch(n){throw console.error("Failed to sync conversation:",n),n}}static async syncMessage(e){try{const{data:n}=await Le.from("messages").select("id, device_id, version").eq("id",e.id).single();if(n)await this.resolveMessageConflict(e,n);else{let s=null;if(e.type==="audio"&&e.sender==="user")try{const{data:a}=await J1.analyzeAudio({text:e.content,level:"Intermediate"});s=a}catch(a){console.warn("Failed to analyze audio during sync:",a)}const{error:o}=await Le.from("messages").insert([{id:e.id,conversation_id:e.conversation_id,sender:e.sender,type:e.type,content:e.content,audio_url:e.audio_url,prosody_feedback:s,created_at:e.created_at,device_id:e.device_id,version:1}]);if(o)throw o}Bn.markAsSynced("message",e.id)}catch(n){throw console.error("Failed to sync message:",n),n}}static async resolveConversationConflict(e,n){const s=new Date(e.started_at).getTime(),o=new Date(n.started_at).getTime();if(s>o||e.device_id===n.device_id){const{error:a}=await Le.from("conversations").update({topic:e.topic,ended_at:e.ended_at,device_id:e.device_id}).eq("id",e.id);if(a)throw a}}static async resolveMessageConflict(e,n){if(e.sender==="ai"&&e.prosody_feedback){const{error:s}=await Le.from("messages").update({prosody_feedback:e.prosody_feedback,version:(n.version||1)+1,device_id:e.device_id}).eq("id",e.id);if(s)throw s}}static async downloadServerUpdates(){try{const e=await this.checkAuthentication();if(!e.isAuthenticated){console.log("Skipping server updates download:",e.reason);return}const{data:{session:n}}=await Le.auth.getSession();if(!n?.user){console.log("No session available for server updates");return}const s=Bn.getLastSync(),o=new Date(s).toISOString(),{data:a}=await Le.from("conversations").select("*").eq("profile_id",n.user.id).gt("started_at",o).order("started_at",{ascending:!1});if(a&&a.length>0){const c=a.map(h=>h.id),{data:u}=await Le.from("messages").select("*").in("conversation_id",c).gt("created_at",o).order("created_at",{ascending:!0});u&&u.forEach(h=>{const p={...h,synced:!0}})}}catch(e){throw console.error("Failed to download server updates:",e),e}}static enableAutoSync(){return new Promise((e,n)=>{if(this.autoSyncEnabled||typeof window>"u"){console.log(" Auto-sync already enabled"),e();return}try{this.autoSyncEnabled=!0,console.log(" Auto-sync enabled");const s=()=>{console.log(" Online - will sync soon"),setTimeout(()=>{this.sync().catch(a=>{console.warn(" Auto-sync failed:",a?.message||a)})},3e3)};window.addEventListener("online",s);const o=setInterval(async()=>{if(!Bn.isOffline()&&!this.syncInProgress)try{const a=this.checkAuthentication(),c=new Promise((h,p)=>setTimeout(()=>p(new Error("Auth check timeout")),2e3)),u=await Promise.race([a,c]);u.isAuthenticated?(console.log("Starting periodic sync"),this.sync().catch(h=>{console.warn(" Periodic sync failed:",h?.message||h)})):console.log("Periodic sync skipped:",u.reason)}catch(a){console.warn(" Auth check failed for periodic sync:",a?.message||a)}},300*1e3);window.__vibeTuneSyncCleanup||(window.__vibeTuneSyncCleanup=()=>{console.log("Cleaning up auto-sync"),window.removeEventListener("online",s),clearInterval(o),this.autoSyncEnabled=!1,this.resetAuthCache()}),e()}catch(s){console.warn(" Auto-sync setup failed:",s),n(s)}})}static async forceSync(){return this.sync()}static isSyncing(){return this.syncInProgress}static getPendingSyncCount(){const{messages:e,conversations:n}=Bn.getUnsyncedItems();return e.length+n.length}static async checkAuthentication(){const e=Date.now();if(e-this.lastAuthCheck<3e4&&this.isAuthenticated)return{isAuthenticated:!0};try{const{data:{session:n},error:s}=await Le.auth.getSession();if(s)return console.log("Auth check failed:",s.message),this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:`Authentication error: ${s.message}`};if(!n?.user)return this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:"No active session"};if(n.expires_at&&new Date(n.expires_at*1e3)<=new Date)return console.log("Session expired"),this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:"Session expired"};if(n.expires_at&&new Date(n.expires_at*1e3).getTime()-e<300*1e3){console.log("Session close to expiry, attempting refresh...");const{data:o,error:a}=await Le.auth.refreshSession();if(a)return console.log("Session refresh failed:",a.message),this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:`Session refresh failed: ${a.message}`};if(!o.session?.user)return this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:"Session refresh returned no user"}}return this.isAuthenticated=!0,this.lastAuthCheck=e,{isAuthenticated:!0}}catch(n){return console.log("Auth check exception:",n),this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:`Auth check failed: ${n}`}}}static resetAuthCache(){this.isAuthenticated=!1,this.lastAuthCheck=0}}function S3(){const{state:t,dispatch:e}=b3(),{trackEvent:n}=br(),[s,o]=b.useState("onboarding"),[a,c]=b.useState(!1),{user:u}=t;b.useEffect(()=>{if(a)return;c(!0),console.log(" Starting VibeTune - immediate launch"),o("onboarding");const _=async()=>{try{try{typeof navigator<"u"&&e(Ws.setOffline(!navigator.onLine))}catch(E){console.warn("Navigator check failed:",E)}const j=await Lb(()=>_n.getCurrentSession(),800,null);if(j?.user){console.log(" Found existing session - auto-updating UI");const E={id:j.user.id,email:j.user.email||"",username:j.user.user_metadata?.username||"User",level:j.user.user_metadata?.level||null,placement_test_completed:j.user.user_metadata?.placement_test_completed||!1,created_at:j.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:_n.getDeviceId()};e(Ws.setUser(E)),E.level?o("main-app"):o("level-selection")}else console.log(" No valid session - staying on onboarding")}catch(j){console.log(" Background session check failed:",j.message)}};setTimeout(()=>{_().catch(j=>{console.warn("Background session check rejected:",j)})},50)},[e,a]);const h=()=>{o("signup"),n("onboarding_signup_clicked")},p=()=>{o("signin"),n("onboarding_signin_clicked")},m=b.useCallback(_=>{console.log(" Auth completed for user:",_.id),e(Ws.setUser(_)),_.level?(console.log(" Navigating to main app"),o("main-app")):(console.log(" Navigating to level selection"),o("level-selection")),setTimeout(()=>{try{const j=sw.enableAutoSync(),E=new Promise((R,M)=>setTimeout(()=>M(new Error("Sync timeout")),2e3));Promise.race([j,E]).then(()=>console.log(" Auto sync enabled")).catch(R=>console.warn(" Sync setup failed:",R));const T=n("auth_completed",{userId:_.id,level:_.level,isNewUser:!_.level}),P=new Promise((R,M)=>setTimeout(()=>M(new Error("Tracking timeout")),1e3));Promise.race([T,P]).catch(R=>console.warn("Event tracking failed:",R))}catch(j){console.warn("Background tasks failed:",j)}},50)},[e,n]),y=async _=>{o("main-app"),u&&setTimeout(async()=>{try{const j=_n.updateProfile(u.id,{level:_.level,placement_test_completed:!0,placement_test_score:_.score},u),E=new Promise((M,$)=>setTimeout(()=>$(new Error("Profile update timeout")),3e3)),{data:T}=await Promise.race([j,E]);T&&e(Ws.setUser(T));const P=n("placement_test_completed",{userId:u.id,score:_.score,level:_.level,previousLevel:u.level,selectionMethod:"placement_test"}),R=new Promise((M,$)=>setTimeout(()=>$(new Error("Track timeout")),1e3));Promise.race([P,R]).catch(M=>console.warn("Tracking failed:",M))}catch(j){console.error("Background update failed:",j)}},100)},w=()=>{o("main-app"),n("placement_test_skipped",{userId:u?.id})},x=async _=>{console.log(" handleLevelSelection called:",{level:_,userId:u?.id,currentUserLevel:u?.level}),console.log(" Setting state to main-app"),o("main-app"),u?setTimeout(async()=>{try{console.log(" Updating user profile with level:",_);const j=_n.updateProfile(u.id,{level:_,placement_test_completed:!1},u),E=new Promise(($,D)=>setTimeout(()=>D(new Error("Level update timeout")),2e3)),{data:T,error:P}=await Promise.race([j,E]);console.log(" Profile update result:",{updatedProfile:T,updateError:P}),T?(console.log(" Dispatching updated user profile:",T),e(Ws.setUser(T))):console.warn(" No updated profile returned from updateProfile"),P&&console.warn(" Error from updateProfile:",P);const R=n("level_selected",{userId:u.id,level:_,previousLevel:u.level,selectionMethod:"manual"}),M=new Promise(($,D)=>setTimeout(()=>D(new Error("Track timeout")),1e3));Promise.race([R,M]).catch($=>console.warn("Tracking failed:",$))}catch(j){console.warn(" Background level update failed:",j)}},50):console.error(" No user found in handleLevelSelection")},k=b.useCallback(async()=>{console.log(" Starting logout..."),e(Ws.setUser(null)),o("onboarding"),setTimeout(async()=>{try{const _=n("user_logout_initiated",{userId:u?.id}),j=new Promise((M,$)=>setTimeout(()=>$(new Error("Logout track timeout")),500));Promise.race([_,j]).catch(M=>console.warn("Logout tracking failed:",M));const E=sw.resetAuthCache(),T=new Promise((M,$)=>setTimeout(()=>$(new Error("Sync reset timeout")),1e3));Promise.race([E,T]).catch(M=>console.warn("Sync reset failed:",M));const P=_n.signOut(),R=new Promise((M,$)=>setTimeout(()=>$(new Error("Sign out timeout")),2e3));await Promise.race([P,R]),console.log(" Logout cleanup completed")}catch(_){console.warn(" Logout cleanup failed:",_)}},50)},[e,n,u?.id]),S=()=>{o("onboarding"),n("auth_back_to_onboarding")};switch(console.log(" Rendering screen:",s,"User:",!!u,"User level:",u?.level),s){case"onboarding":return console.log(" Rendering: Onboarding"),d.jsx(m2,{onSignUp:h,onSignIn:p,onDemoUser:m});case"signup":return console.log(" Rendering: Signup"),d.jsx(Md,{mode:"signup",onAuthComplete:m,onBack:S});case"signin":return console.log(" Rendering: Signin"),d.jsx(Md,{mode:"signin",onAuthComplete:m,onBack:S});case"level-selection":return console.log(" Rendering: Level Selection"),d.jsx(g3,{onLevelSelect:x,onTakePlacementTest:()=>o("placement-test"),onBack:S,user:u});case"placement-test":return console.log(" Rendering: Placement Test"),d.jsx(h3,{onComplete:y,onSkip:w,onBack:()=>o("level-selection")});case"main-app":return console.log(" Rendering: Main App"),u?d.jsx(JD,{user:u,onLogout:k,onStartPlacementTest:()=>o("placement-test")}):(console.log(" User is null in main-app, redirecting to signin"),o("signin"),d.jsx(Md,{mode:"signin",onAuthComplete:m,onBack:S}));default:return d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("p",{className:"text-destructive",children:"Unexpected app state"}),d.jsx("button",{onClick:()=>o("onboarding"),className:"text-accent underline",children:"Return to start"})]})})}}function _3(){return d.jsx(y3,{children:d.jsx(x3,{children:d.jsx(S3,{})})})}oC.createRoot(document.getElementById("root")).render(d.jsx(_3,{}));

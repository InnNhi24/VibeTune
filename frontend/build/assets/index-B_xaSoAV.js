var nj=Object.defineProperty;var rj=(t,e,n)=>e in t?nj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var jt=(t,e,n)=>rj(t,typeof e!="symbol"?e+"":e,n);function sj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function Ph(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Uw(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var Fd={exports:{}},bo={},Vd={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function ij(){if(Jy)return Ne;Jy=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(P){return P===null||typeof P!="object"?null:(P=y&&P[y]||P["@@iterator"],typeof P=="function"?P:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function k(P,W,Q){this.props=P,this.context=W,this.refs=S,this.updater=Q||x}k.prototype.isReactComponent={},k.prototype.setState=function(P,W){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,W,"setState")},k.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function T(){}T.prototype=k.prototype;function j(P,W,Q){this.props=P,this.context=W,this.refs=S,this.updater=Q||x}var C=j.prototype=new T;C.constructor=j,_(C,k.prototype),C.isPureReactComponent=!0;var N=Array.isArray,R=Object.prototype.hasOwnProperty,L={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function D(P,W,Q){var ie,be={},je=null,te=null;if(W!=null)for(ie in W.ref!==void 0&&(te=W.ref),W.key!==void 0&&(je=""+W.key),W)R.call(W,ie)&&!$.hasOwnProperty(ie)&&(be[ie]=W[ie]);var _e=arguments.length-2;if(_e===1)be.children=Q;else if(1<_e){for(var Te=Array(_e),Me=0;Me<_e;Me++)Te[Me]=arguments[Me+2];be.children=Te}if(P&&P.defaultProps)for(ie in _e=P.defaultProps,_e)be[ie]===void 0&&(be[ie]=_e[ie]);return{$$typeof:t,type:P,key:je,ref:te,props:be,_owner:L.current}}function G(P,W){return{$$typeof:t,type:P.type,key:W,ref:P.ref,props:P.props,_owner:P._owner}}function X(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function fe(P){var W={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Q){return W[Q]})}var Ee=/\/+/g;function ye(P,W){return typeof P=="object"&&P!==null&&P.key!=null?fe(""+P.key):W.toString(36)}function ve(P,W,Q,ie,be){var je=typeof P;(je==="undefined"||je==="boolean")&&(P=null);var te=!1;if(P===null)te=!0;else switch(je){case"string":case"number":te=!0;break;case"object":switch(P.$$typeof){case t:case e:te=!0}}if(te)return te=P,be=be(te),P=ie===""?"."+ye(te,0):ie,N(be)?(Q="",P!=null&&(Q=P.replace(Ee,"$&/")+"/"),ve(be,W,Q,"",function(Me){return Me})):be!=null&&(X(be)&&(be=G(be,Q+(!be.key||te&&te.key===be.key?"":(""+be.key).replace(Ee,"$&/")+"/")+P)),W.push(be)),1;if(te=0,ie=ie===""?".":ie+":",N(P))for(var _e=0;_e<P.length;_e++){je=P[_e];var Te=ie+ye(je,_e);te+=ve(je,W,Q,Te,be)}else if(Te=v(P),typeof Te=="function")for(P=Te.call(P),_e=0;!(je=P.next()).done;)je=je.value,Te=ie+ye(je,_e++),te+=ve(je,W,Q,Te,be);else if(je==="object")throw W=String(P),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return te}function Se(P,W,Q){if(P==null)return P;var ie=[],be=0;return ve(P,ie,"","",function(je){return W.call(Q,je,be++)}),ie}function ce(P){if(P._status===-1){var W=P._result;W=W(),W.then(function(Q){(P._status===0||P._status===-1)&&(P._status=1,P._result=Q)},function(Q){(P._status===0||P._status===-1)&&(P._status=2,P._result=Q)}),P._status===-1&&(P._status=0,P._result=W)}if(P._status===1)return P._result.default;throw P._result}var z={current:null},O={transition:null},H={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:O,ReactCurrentOwner:L};function F(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:Se,forEach:function(P,W,Q){Se(P,function(){W.apply(this,arguments)},Q)},count:function(P){var W=0;return Se(P,function(){W++}),W},toArray:function(P){return Se(P,function(W){return W})||[]},only:function(P){if(!X(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ne.Component=k,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=j,Ne.StrictMode=r,Ne.Suspense=f,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,Ne.act=F,Ne.cloneElement=function(P,W,Q){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var ie=_({},P.props),be=P.key,je=P.ref,te=P._owner;if(W!=null){if(W.ref!==void 0&&(je=W.ref,te=L.current),W.key!==void 0&&(be=""+W.key),P.type&&P.type.defaultProps)var _e=P.type.defaultProps;for(Te in W)R.call(W,Te)&&!$.hasOwnProperty(Te)&&(ie[Te]=W[Te]===void 0&&_e!==void 0?_e[Te]:W[Te])}var Te=arguments.length-2;if(Te===1)ie.children=Q;else if(1<Te){_e=Array(Te);for(var Me=0;Me<Te;Me++)_e[Me]=arguments[Me+2];ie.children=_e}return{$$typeof:t,type:P.type,key:be,ref:je,props:ie,_owner:te}},Ne.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:a,_context:P},P.Consumer=P},Ne.createElement=D,Ne.createFactory=function(P){var W=D.bind(null,P);return W.type=P,W},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(P){return{$$typeof:u,render:P}},Ne.isValidElement=X,Ne.lazy=function(P){return{$$typeof:m,_payload:{_status:-1,_result:P},_init:ce}},Ne.memo=function(P,W){return{$$typeof:p,type:P,compare:W===void 0?null:W}},Ne.startTransition=function(P){var W=O.transition;O.transition={};try{P()}finally{O.transition=W}},Ne.unstable_act=F,Ne.useCallback=function(P,W){return z.current.useCallback(P,W)},Ne.useContext=function(P){return z.current.useContext(P)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(P){return z.current.useDeferredValue(P)},Ne.useEffect=function(P,W){return z.current.useEffect(P,W)},Ne.useId=function(){return z.current.useId()},Ne.useImperativeHandle=function(P,W,Q){return z.current.useImperativeHandle(P,W,Q)},Ne.useInsertionEffect=function(P,W){return z.current.useInsertionEffect(P,W)},Ne.useLayoutEffect=function(P,W){return z.current.useLayoutEffect(P,W)},Ne.useMemo=function(P,W){return z.current.useMemo(P,W)},Ne.useReducer=function(P,W,Q){return z.current.useReducer(P,W,Q)},Ne.useRef=function(P){return z.current.useRef(P)},Ne.useState=function(P){return z.current.useState(P)},Ne.useSyncExternalStore=function(P,W,Q){return z.current.useSyncExternalStore(P,W,Q)},Ne.useTransition=function(){return z.current.useTransition()},Ne.version="18.3.1",Ne}var Qy;function Ah(){return Qy||(Qy=1,Vd.exports=ij()),Vd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function oj(){if(Xy)return bo;Xy=1;var t=Ah(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,f,p){var m,y={},v=null,x=null;p!==void 0&&(v=""+p),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(x=f.ref);for(m in f)r.call(f,m)&&!a.hasOwnProperty(m)&&(y[m]=f[m]);if(u&&u.defaultProps)for(m in f=u.defaultProps,f)y[m]===void 0&&(y[m]=f[m]);return{$$typeof:e,type:u,key:v,ref:x,props:y,_owner:o.current}}return bo.Fragment=n,bo.jsx=l,bo.jsxs=l,bo}var Zy;function aj(){return Zy||(Zy=1,Fd.exports=oj()),Fd.exports}var d=aj(),bl={},Ud={exports:{}},Lt={},zd={exports:{}},Bd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function lj(){return ev||(ev=1,(function(t){function e(O,H){var F=O.length;O.push(H);e:for(;0<F;){var P=F-1>>>1,W=O[P];if(0<o(W,H))O[P]=H,O[F]=W,F=P;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var H=O[0],F=O.pop();if(F!==H){O[0]=F;e:for(var P=0,W=O.length,Q=W>>>1;P<Q;){var ie=2*(P+1)-1,be=O[ie],je=ie+1,te=O[je];if(0>o(be,F))je<W&&0>o(te,be)?(O[P]=te,O[je]=F,P=je):(O[P]=be,O[ie]=F,P=ie);else if(je<W&&0>o(te,F))O[P]=te,O[je]=F,P=je;else break e}}return H}function o(O,H){var F=O.sortIndex-H.sortIndex;return F!==0?F:O.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],p=[],m=1,y=null,v=3,x=!1,_=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(O){for(var H=n(p);H!==null;){if(H.callback===null)r(p);else if(H.startTime<=O)r(p),H.sortIndex=H.expirationTime,e(f,H);else break;H=n(p)}}function N(O){if(S=!1,C(O),!_)if(n(f)!==null)_=!0,ce(R);else{var H=n(p);H!==null&&z(N,H.startTime-O)}}function R(O,H){_=!1,S&&(S=!1,T(D),D=-1),x=!0;var F=v;try{for(C(H),y=n(f);y!==null&&(!(y.expirationTime>H)||O&&!fe());){var P=y.callback;if(typeof P=="function"){y.callback=null,v=y.priorityLevel;var W=P(y.expirationTime<=H);H=t.unstable_now(),typeof W=="function"?y.callback=W:y===n(f)&&r(f),C(H)}else r(f);y=n(f)}if(y!==null)var Q=!0;else{var ie=n(p);ie!==null&&z(N,ie.startTime-H),Q=!1}return Q}finally{y=null,v=F,x=!1}}var L=!1,$=null,D=-1,G=5,X=-1;function fe(){return!(t.unstable_now()-X<G)}function Ee(){if($!==null){var O=t.unstable_now();X=O;var H=!0;try{H=$(!0,O)}finally{H?ye():(L=!1,$=null)}}else L=!1}var ye;if(typeof j=="function")ye=function(){j(Ee)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Se=ve.port2;ve.port1.onmessage=Ee,ye=function(){Se.postMessage(null)}}else ye=function(){k(Ee,0)};function ce(O){$=O,L||(L=!0,ye())}function z(O,H){D=k(function(){O(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){_||x||(_=!0,ce(R))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(O){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var F=v;v=H;try{return O()}finally{v=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var F=v;v=O;try{return H()}finally{v=F}},t.unstable_scheduleCallback=function(O,H,F){var P=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?P+F:P):F=P,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=F+W,O={id:m++,callback:H,priorityLevel:O,startTime:F,expirationTime:W,sortIndex:-1},F>P?(O.sortIndex=F,e(p,O),n(f)===null&&O===n(p)&&(S?(T(D),D=-1):S=!0,z(N,F-P))):(O.sortIndex=W,e(f,O),_||x||(_=!0,ce(R))),O},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(O){var H=v;return function(){var F=v;v=H;try{return O.apply(this,arguments)}finally{v=F}}}})(Bd)),Bd}var tv;function cj(){return tv||(tv=1,zd.exports=lj()),zd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function uj(){if(nv)return Lt;nv=1;var t=Ah(),e=cj();function n(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){l(s,i),l(s+"Capture",i)}function l(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function v(s){return f.call(y,s)?!0:f.call(m,s)?!1:p.test(s)?y[s]=!0:(m[s]=!0,!1)}function x(s,i,c,h){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function _(s,i,c,h){if(i===null||typeof i>"u"||x(s,i,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function S(s,i,c,h,g,w,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=i,this.sanitizeURL=w,this.removeEmptyString=E}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];k[i]=new S(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function j(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(T,j);k[i]=new S(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(T,j);k[i]=new S(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(T,j);k[i]=new S(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function C(s,i,c,h){var g=k.hasOwnProperty(i)?k[i]:null;(g!==null?g.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(_(i,c,g,h)&&(c=null),h||g===null?v(i)&&(c===null?s.removeAttribute(i):s.setAttribute(i,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(i=g.attributeName,h=g.attributeNamespace,c===null?s.removeAttribute(i):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,h?s.setAttributeNS(h,i,c):s.setAttribute(i,c))))}var N=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),L=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),fe=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),O=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var F=Object.assign,P;function W(s){if(P===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);P=i&&i[1]||""}return`
`+P+s}var Q=!1;function ie(s,i){if(!s||Q)return"";Q=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(B){var h=B}Reflect.construct(s,[],i)}else{try{i.call()}catch(B){h=B}s.call(i.prototype)}else{try{throw Error()}catch(B){h=B}s()}}catch(B){if(B&&h&&typeof B.stack=="string"){for(var g=B.stack.split(`
`),w=h.stack.split(`
`),E=g.length-1,A=w.length-1;1<=E&&0<=A&&g[E]!==w[A];)A--;for(;1<=E&&0<=A;E--,A--)if(g[E]!==w[A]){if(E!==1||A!==1)do if(E--,A--,0>A||g[E]!==w[A]){var I=`
`+g[E].replace(" at new "," at ");return s.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",s.displayName)),I}while(1<=E&&0<=A);break}}}finally{Q=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?W(s):""}function be(s){switch(s.tag){case 5:return W(s.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return s=ie(s.type,!1),s;case 11:return s=ie(s.type.render,!1),s;case 1:return s=ie(s.type,!0),s;default:return""}}function je(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case $:return"Fragment";case L:return"Portal";case G:return"Profiler";case D:return"StrictMode";case ye:return"Suspense";case ve:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case fe:return(s.displayName||"Context")+".Consumer";case X:return(s._context.displayName||"Context")+".Provider";case Ee:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Se:return i=s.displayName||null,i!==null?i:je(s.type)||"Memo";case ce:i=s._payload,s=s._init;try{return je(s(i))}catch{}}return null}function te(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(i);case 8:return i===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function _e(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Te(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Me(s){var i=Te(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),h=""+s[i];if(!s.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,w=c.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return g.call(this)},set:function(E){h=""+E,w.call(this,E)}}),Object.defineProperty(s,i,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Xe(s){s._valueTracker||(s._valueTracker=Me(s))}function Nt(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var c=i.getValue(),h="";return s&&(h=Te(s)?s.checked?"true":"false":s.value),s=h,s!==c?(i.setValue(s),!0):!1}function Tn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ks(s,i){var c=i.checked;return F({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function ua(s,i){var c=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;c=_e(i.value!=null?i.value:c),s._wrapperState={initialChecked:h,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function da(s,i){i=i.checked,i!=null&&C(s,"checked",i,!1)}function Ii(s,i){da(s,i);var c=_e(i.value),h=i.type;if(c!=null)h==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?or(s,i.type,c):i.hasOwnProperty("defaultValue")&&or(s,i.type,_e(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function fa(s,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,c||i===s.value||(s.value=i),s.defaultValue=i}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function or(s,i,c){(i!=="number"||Tn(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Li=Array.isArray;function Es(s,i,c,h){if(s=s.options,i){i={};for(var g=0;g<c.length;g++)i["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=i.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&h&&(s[c].defaultSelected=!0)}else{for(c=""+_e(c),i=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}i!==null||s[g].disabled||(i=s[g])}i!==null&&(i.selected=!0)}}function Yc(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return F({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function om(s,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(n(92));if(Li(c)){if(1<c.length)throw Error(n(93));c=c[0]}i=c}i==null&&(i=""),c=i}s._wrapperState={initialValue:_e(c)}}function am(s,i){var c=_e(i.value),h=_e(i.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),i.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),h!=null&&(s.defaultValue=""+h)}function lm(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function cm(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jc(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?cm(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ha,um=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,h,g){MSApp.execUnsafeLocalFunction(function(){return s(i,c,h,g)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(ha=ha||document.createElement("div"),ha.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ha.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function Mi(s,i){if(i){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=i;return}}s.textContent=i}var Di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ok=["Webkit","ms","Moz","O"];Object.keys(Di).forEach(function(s){ok.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),Di[i]=Di[s]})});function dm(s,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||Di.hasOwnProperty(s)&&Di[s]?(""+i).trim():i+"px"}function fm(s,i){s=s.style;for(var c in i)if(i.hasOwnProperty(c)){var h=c.indexOf("--")===0,g=dm(c,i[c],h);c==="float"&&(c="cssFloat"),h?s.setProperty(c,g):s[c]=g}}var ak=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qc(s,i){if(i){if(ak[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Xc(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zc=null;function eu(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var tu=null,js=null,Ts=null;function hm(s){if(s=io(s)){if(typeof tu!="function")throw Error(n(280));var i=s.stateNode;i&&(i=Ma(i),tu(s.stateNode,s.type,i))}}function pm(s){js?Ts?Ts.push(s):Ts=[s]:js=s}function mm(){if(js){var s=js,i=Ts;if(Ts=js=null,hm(s),i)for(s=0;s<i.length;s++)hm(i[s])}}function gm(s,i){return s(i)}function ym(){}var nu=!1;function vm(s,i,c){if(nu)return s(i,c);nu=!0;try{return gm(s,i,c)}finally{nu=!1,(js!==null||Ts!==null)&&(ym(),mm())}}function $i(s,i){var c=s.stateNode;if(c===null)return null;var h=Ma(c);if(h===null)return null;c=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,i,typeof c));return c}var ru=!1;if(u)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){ru=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{ru=!1}function lk(s,i,c,h,g,w,E,A,I){var B=Array.prototype.slice.call(arguments,3);try{i.apply(c,B)}catch(q){this.onError(q)}}var Vi=!1,pa=null,ma=!1,su=null,ck={onError:function(s){Vi=!0,pa=s}};function uk(s,i,c,h,g,w,E,A,I){Vi=!1,pa=null,lk.apply(ck,arguments)}function dk(s,i,c,h,g,w,E,A,I){if(uk.apply(this,arguments),Vi){if(Vi){var B=pa;Vi=!1,pa=null}else throw Error(n(198));ma||(ma=!0,su=B)}}function Ur(s){var i=s,c=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(c=i.return),s=i.return;while(s)}return i.tag===3?c:null}function wm(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function xm(s){if(Ur(s)!==s)throw Error(n(188))}function fk(s){var i=s.alternate;if(!i){if(i=Ur(s),i===null)throw Error(n(188));return i!==s?null:s}for(var c=s,h=i;;){var g=c.return;if(g===null)break;var w=g.alternate;if(w===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===c)return xm(g),s;if(w===h)return xm(g),i;w=w.sibling}throw Error(n(188))}if(c.return!==h.return)c=g,h=w;else{for(var E=!1,A=g.child;A;){if(A===c){E=!0,c=g,h=w;break}if(A===h){E=!0,h=g,c=w;break}A=A.sibling}if(!E){for(A=w.child;A;){if(A===c){E=!0,c=w,h=g;break}if(A===h){E=!0,h=w,c=g;break}A=A.sibling}if(!E)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:i}function bm(s){return s=fk(s),s!==null?Sm(s):null}function Sm(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=Sm(s);if(i!==null)return i;s=s.sibling}return null}var _m=e.unstable_scheduleCallback,km=e.unstable_cancelCallback,hk=e.unstable_shouldYield,pk=e.unstable_requestPaint,Ze=e.unstable_now,mk=e.unstable_getCurrentPriorityLevel,iu=e.unstable_ImmediatePriority,Em=e.unstable_UserBlockingPriority,ga=e.unstable_NormalPriority,gk=e.unstable_LowPriority,jm=e.unstable_IdlePriority,ya=null,Cn=null;function yk(s){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(ya,s,void 0,(s.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:xk,vk=Math.log,wk=Math.LN2;function xk(s){return s>>>=0,s===0?32:31-(vk(s)/wk|0)|0}var va=64,wa=4194304;function Ui(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function xa(s,i){var c=s.pendingLanes;if(c===0)return 0;var h=0,g=s.suspendedLanes,w=s.pingedLanes,E=c&268435455;if(E!==0){var A=E&~g;A!==0?h=Ui(A):(w&=E,w!==0&&(h=Ui(w)))}else E=c&~g,E!==0?h=Ui(E):w!==0&&(h=Ui(w));if(h===0)return 0;if(i!==0&&i!==h&&(i&g)===0&&(g=h&-h,w=i&-i,g>=w||g===16&&(w&4194240)!==0))return i;if((h&4)!==0&&(h|=c&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=h;0<i;)c=31-dn(i),g=1<<c,h|=s[c],i&=~g;return h}function bk(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sk(s,i){for(var c=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var E=31-dn(w),A=1<<E,I=g[E];I===-1?((A&c)===0||(A&h)!==0)&&(g[E]=bk(A,i)):I<=i&&(s.expiredLanes|=A),w&=~A}}function ou(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Tm(){var s=va;return va<<=1,(va&4194240)===0&&(va=64),s}function au(s){for(var i=[],c=0;31>c;c++)i.push(s);return i}function zi(s,i,c){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-dn(i),s[i]=c}function _k(s,i){var c=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-dn(c),w=1<<g;i[g]=0,h[g]=-1,s[g]=-1,c&=~w}}function lu(s,i){var c=s.entangledLanes|=i;for(s=s.entanglements;c;){var h=31-dn(c),g=1<<h;g&i|s[h]&i&&(s[h]|=i),c&=~g}}var Le=0;function Cm(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Nm,cu,Pm,Am,Rm,uu=!1,ba=[],ar=null,lr=null,cr=null,Bi=new Map,Wi=new Map,ur=[],kk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Om(s,i){switch(s){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Bi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wi.delete(i.pointerId)}}function Hi(s,i,c,h,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:i,domEventName:c,eventSystemFlags:h,nativeEvent:w,targetContainers:[g]},i!==null&&(i=io(i),i!==null&&cu(i)),s):(s.eventSystemFlags|=h,i=s.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),s)}function Ek(s,i,c,h,g){switch(i){case"focusin":return ar=Hi(ar,s,i,c,h,g),!0;case"dragenter":return lr=Hi(lr,s,i,c,h,g),!0;case"mouseover":return cr=Hi(cr,s,i,c,h,g),!0;case"pointerover":var w=g.pointerId;return Bi.set(w,Hi(Bi.get(w)||null,s,i,c,h,g)),!0;case"gotpointercapture":return w=g.pointerId,Wi.set(w,Hi(Wi.get(w)||null,s,i,c,h,g)),!0}return!1}function Im(s){var i=zr(s.target);if(i!==null){var c=Ur(i);if(c!==null){if(i=c.tag,i===13){if(i=wm(c),i!==null){s.blockedOn=i,Rm(s.priority,function(){Pm(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Sa(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var c=fu(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);Zc=h,c.target.dispatchEvent(h),Zc=null}else return i=io(c),i!==null&&cu(i),s.blockedOn=c,!1;i.shift()}return!0}function Lm(s,i,c){Sa(s)&&c.delete(i)}function jk(){uu=!1,ar!==null&&Sa(ar)&&(ar=null),lr!==null&&Sa(lr)&&(lr=null),cr!==null&&Sa(cr)&&(cr=null),Bi.forEach(Lm),Wi.forEach(Lm)}function Gi(s,i){s.blockedOn===i&&(s.blockedOn=null,uu||(uu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jk)))}function Ki(s){function i(g){return Gi(g,s)}if(0<ba.length){Gi(ba[0],s);for(var c=1;c<ba.length;c++){var h=ba[c];h.blockedOn===s&&(h.blockedOn=null)}}for(ar!==null&&Gi(ar,s),lr!==null&&Gi(lr,s),cr!==null&&Gi(cr,s),Bi.forEach(i),Wi.forEach(i),c=0;c<ur.length;c++)h=ur[c],h.blockedOn===s&&(h.blockedOn=null);for(;0<ur.length&&(c=ur[0],c.blockedOn===null);)Im(c),c.blockedOn===null&&ur.shift()}var Cs=N.ReactCurrentBatchConfig,_a=!0;function Tk(s,i,c,h){var g=Le,w=Cs.transition;Cs.transition=null;try{Le=1,du(s,i,c,h)}finally{Le=g,Cs.transition=w}}function Ck(s,i,c,h){var g=Le,w=Cs.transition;Cs.transition=null;try{Le=4,du(s,i,c,h)}finally{Le=g,Cs.transition=w}}function du(s,i,c,h){if(_a){var g=fu(s,i,c,h);if(g===null)Nu(s,i,h,ka,c),Om(s,h);else if(Ek(g,s,i,c,h))h.stopPropagation();else if(Om(s,h),i&4&&-1<kk.indexOf(s)){for(;g!==null;){var w=io(g);if(w!==null&&Nm(w),w=fu(s,i,c,h),w===null&&Nu(s,i,h,ka,c),w===g)break;g=w}g!==null&&h.stopPropagation()}else Nu(s,i,h,null,c)}}var ka=null;function fu(s,i,c,h){if(ka=null,s=eu(h),s=zr(s),s!==null)if(i=Ur(s),i===null)s=null;else if(c=i.tag,c===13){if(s=wm(i),s!==null)return s;s=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return ka=s,null}function Mm(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mk()){case iu:return 1;case Em:return 4;case ga:case gk:return 16;case jm:return 536870912;default:return 16}default:return 16}}var dr=null,hu=null,Ea=null;function Dm(){if(Ea)return Ea;var s,i=hu,c=i.length,h,g="value"in dr?dr.value:dr.textContent,w=g.length;for(s=0;s<c&&i[s]===g[s];s++);var E=c-s;for(h=1;h<=E&&i[c-h]===g[w-h];h++);return Ea=g.slice(s,1<h?1-h:void 0)}function ja(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Ta(){return!0}function $m(){return!1}function $t(s){function i(c,h,g,w,E){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=w,this.target=E,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(c=s[A],this[A]=c?c(w):w[A]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ta:$m,this.isPropagationStopped=$m,this}return F(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),i}var Ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pu=$t(Ns),qi=F({},Ns,{view:0,detail:0}),Nk=$t(qi),mu,gu,Yi,Ca=F({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Yi&&(Yi&&s.type==="mousemove"?(mu=s.screenX-Yi.screenX,gu=s.screenY-Yi.screenY):gu=mu=0,Yi=s),mu)},movementY:function(s){return"movementY"in s?s.movementY:gu}}),Fm=$t(Ca),Pk=F({},Ca,{dataTransfer:0}),Ak=$t(Pk),Rk=F({},qi,{relatedTarget:0}),yu=$t(Rk),Ok=F({},Ns,{animationName:0,elapsedTime:0,pseudoElement:0}),Ik=$t(Ok),Lk=F({},Ns,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Mk=$t(Lk),Dk=F({},Ns,{data:0}),Vm=$t(Dk),$k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uk(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Vk[s])?!!i[s]:!1}function vu(){return Uk}var zk=F({},qi,{key:function(s){if(s.key){var i=$k[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=ja(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Fk[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vu,charCode:function(s){return s.type==="keypress"?ja(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ja(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Bk=$t(zk),Wk=F({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Um=$t(Wk),Hk=F({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vu}),Gk=$t(Hk),Kk=F({},Ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),qk=$t(Kk),Yk=F({},Ca,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Jk=$t(Yk),Qk=[9,13,27,32],wu=u&&"CompositionEvent"in window,Ji=null;u&&"documentMode"in document&&(Ji=document.documentMode);var Xk=u&&"TextEvent"in window&&!Ji,zm=u&&(!wu||Ji&&8<Ji&&11>=Ji),Bm=" ",Wm=!1;function Hm(s,i){switch(s){case"keyup":return Qk.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ps=!1;function Zk(s,i){switch(s){case"compositionend":return Gm(i);case"keypress":return i.which!==32?null:(Wm=!0,Bm);case"textInput":return s=i.data,s===Bm&&Wm?null:s;default:return null}}function eE(s,i){if(Ps)return s==="compositionend"||!wu&&Hm(s,i)?(s=Dm(),Ea=hu=dr=null,Ps=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return zm&&i.locale!=="ko"?null:i.data;default:return null}}var tE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Km(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!tE[s.type]:i==="textarea"}function qm(s,i,c,h){pm(h),i=Oa(i,"onChange"),0<i.length&&(c=new pu("onChange","change",null,c,h),s.push({event:c,listeners:i}))}var Qi=null,Xi=null;function nE(s){fg(s,0)}function Na(s){var i=Ls(s);if(Nt(i))return s}function rE(s,i){if(s==="change")return i}var Ym=!1;if(u){var xu;if(u){var bu="oninput"in document;if(!bu){var Jm=document.createElement("div");Jm.setAttribute("oninput","return;"),bu=typeof Jm.oninput=="function"}xu=bu}else xu=!1;Ym=xu&&(!document.documentMode||9<document.documentMode)}function Qm(){Qi&&(Qi.detachEvent("onpropertychange",Xm),Xi=Qi=null)}function Xm(s){if(s.propertyName==="value"&&Na(Xi)){var i=[];qm(i,Xi,s,eu(s)),vm(nE,i)}}function sE(s,i,c){s==="focusin"?(Qm(),Qi=i,Xi=c,Qi.attachEvent("onpropertychange",Xm)):s==="focusout"&&Qm()}function iE(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Na(Xi)}function oE(s,i){if(s==="click")return Na(i)}function aE(s,i){if(s==="input"||s==="change")return Na(i)}function lE(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var fn=typeof Object.is=="function"?Object.is:lE;function Zi(s,i){if(fn(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var c=Object.keys(s),h=Object.keys(i);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!f.call(i,g)||!fn(s[g],i[g]))return!1}return!0}function Zm(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function eg(s,i){var c=Zm(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=i&&h>=i)return{node:c,offset:i-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Zm(c)}}function tg(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?tg(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function ng(){for(var s=window,i=Tn();i instanceof s.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)s=i.contentWindow;else break;i=Tn(s.document)}return i}function Su(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function cE(s){var i=ng(),c=s.focusedElem,h=s.selectionRange;if(i!==c&&c&&c.ownerDocument&&tg(c.ownerDocument.documentElement,c)){if(h!==null&&Su(c)){if(i=h.start,s=h.end,s===void 0&&(s=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(s,c.value.length);else if(s=(i=c.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,w=Math.min(h.start,g);h=h.end===void 0?w:Math.min(h.end,g),!s.extend&&w>h&&(g=h,h=w,w=g),g=eg(c,w);var E=eg(c,h);g&&E&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),s.removeAllRanges(),w>h?(s.addRange(i),s.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),s.addRange(i)))}}for(i=[],s=c;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)s=i[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var uE=u&&"documentMode"in document&&11>=document.documentMode,As=null,_u=null,eo=null,ku=!1;function rg(s,i,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ku||As==null||As!==Tn(h)||(h=As,"selectionStart"in h&&Su(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),eo&&Zi(eo,h)||(eo=h,h=Oa(_u,"onSelect"),0<h.length&&(i=new pu("onSelect","select",null,i,c),s.push({event:i,listeners:h}),i.target=As)))}function Pa(s,i){var c={};return c[s.toLowerCase()]=i.toLowerCase(),c["Webkit"+s]="webkit"+i,c["Moz"+s]="moz"+i,c}var Rs={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionend:Pa("Transition","TransitionEnd")},Eu={},sg={};u&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function Aa(s){if(Eu[s])return Eu[s];if(!Rs[s])return s;var i=Rs[s],c;for(c in i)if(i.hasOwnProperty(c)&&c in sg)return Eu[s]=i[c];return s}var ig=Aa("animationend"),og=Aa("animationiteration"),ag=Aa("animationstart"),lg=Aa("transitionend"),cg=new Map,ug="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fr(s,i){cg.set(s,i),a(i,[s])}for(var ju=0;ju<ug.length;ju++){var Tu=ug[ju],dE=Tu.toLowerCase(),fE=Tu[0].toUpperCase()+Tu.slice(1);fr(dE,"on"+fE)}fr(ig,"onAnimationEnd"),fr(og,"onAnimationIteration"),fr(ag,"onAnimationStart"),fr("dblclick","onDoubleClick"),fr("focusin","onFocus"),fr("focusout","onBlur"),fr(lg,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var to="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hE=new Set("cancel close invalid load scroll toggle".split(" ").concat(to));function dg(s,i,c){var h=s.type||"unknown-event";s.currentTarget=c,dk(h,i,void 0,s),s.currentTarget=null}function fg(s,i){i=(i&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],g=h.event;h=h.listeners;e:{var w=void 0;if(i)for(var E=h.length-1;0<=E;E--){var A=h[E],I=A.instance,B=A.currentTarget;if(A=A.listener,I!==w&&g.isPropagationStopped())break e;dg(g,A,B),w=I}else for(E=0;E<h.length;E++){if(A=h[E],I=A.instance,B=A.currentTarget,A=A.listener,I!==w&&g.isPropagationStopped())break e;dg(g,A,B),w=I}}}if(ma)throw s=su,ma=!1,su=null,s}function Ue(s,i){var c=i[Lu];c===void 0&&(c=i[Lu]=new Set);var h=s+"__bubble";c.has(h)||(hg(i,s,2,!1),c.add(h))}function Cu(s,i,c){var h=0;i&&(h|=4),hg(c,s,h,i)}var Ra="_reactListening"+Math.random().toString(36).slice(2);function no(s){if(!s[Ra]){s[Ra]=!0,r.forEach(function(c){c!=="selectionchange"&&(hE.has(c)||Cu(c,!1,s),Cu(c,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Ra]||(i[Ra]=!0,Cu("selectionchange",!1,i))}}function hg(s,i,c,h){switch(Mm(i)){case 1:var g=Tk;break;case 4:g=Ck;break;default:g=du}c=g.bind(null,i,c,s),g=void 0,!ru||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(i,c,{capture:!0,passive:g}):s.addEventListener(i,c,!0):g!==void 0?s.addEventListener(i,c,{passive:g}):s.addEventListener(i,c,!1)}function Nu(s,i,c,h,g){var w=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var A=h.stateNode.containerInfo;if(A===g||A.nodeType===8&&A.parentNode===g)break;if(E===4)for(E=h.return;E!==null;){var I=E.tag;if((I===3||I===4)&&(I=E.stateNode.containerInfo,I===g||I.nodeType===8&&I.parentNode===g))return;E=E.return}for(;A!==null;){if(E=zr(A),E===null)return;if(I=E.tag,I===5||I===6){h=w=E;continue e}A=A.parentNode}}h=h.return}vm(function(){var B=w,q=eu(c),Y=[];e:{var K=cg.get(s);if(K!==void 0){var Z=pu,ne=s;switch(s){case"keypress":if(ja(c)===0)break e;case"keydown":case"keyup":Z=Bk;break;case"focusin":ne="focus",Z=yu;break;case"focusout":ne="blur",Z=yu;break;case"beforeblur":case"afterblur":Z=yu;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Fm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Ak;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Gk;break;case ig:case og:case ag:Z=Ik;break;case lg:Z=qk;break;case"scroll":Z=Nk;break;case"wheel":Z=Jk;break;case"copy":case"cut":case"paste":Z=Mk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Um}var oe=(i&4)!==0,et=!oe&&s==="scroll",V=oe?K!==null?K+"Capture":null:K;oe=[];for(var M=B,U;M!==null;){U=M;var J=U.stateNode;if(U.tag===5&&J!==null&&(U=J,V!==null&&(J=$i(M,V),J!=null&&oe.push(ro(M,J,U)))),et)break;M=M.return}0<oe.length&&(K=new Z(K,ne,null,c,q),Y.push({event:K,listeners:oe}))}}if((i&7)===0){e:{if(K=s==="mouseover"||s==="pointerover",Z=s==="mouseout"||s==="pointerout",K&&c!==Zc&&(ne=c.relatedTarget||c.fromElement)&&(zr(ne)||ne[Bn]))break e;if((Z||K)&&(K=q.window===q?q:(K=q.ownerDocument)?K.defaultView||K.parentWindow:window,Z?(ne=c.relatedTarget||c.toElement,Z=B,ne=ne?zr(ne):null,ne!==null&&(et=Ur(ne),ne!==et||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(Z=null,ne=B),Z!==ne)){if(oe=Fm,J="onMouseLeave",V="onMouseEnter",M="mouse",(s==="pointerout"||s==="pointerover")&&(oe=Um,J="onPointerLeave",V="onPointerEnter",M="pointer"),et=Z==null?K:Ls(Z),U=ne==null?K:Ls(ne),K=new oe(J,M+"leave",Z,c,q),K.target=et,K.relatedTarget=U,J=null,zr(q)===B&&(oe=new oe(V,M+"enter",ne,c,q),oe.target=U,oe.relatedTarget=et,J=oe),et=J,Z&&ne)t:{for(oe=Z,V=ne,M=0,U=oe;U;U=Os(U))M++;for(U=0,J=V;J;J=Os(J))U++;for(;0<M-U;)oe=Os(oe),M--;for(;0<U-M;)V=Os(V),U--;for(;M--;){if(oe===V||V!==null&&oe===V.alternate)break t;oe=Os(oe),V=Os(V)}oe=null}else oe=null;Z!==null&&pg(Y,K,Z,oe,!1),ne!==null&&et!==null&&pg(Y,et,ne,oe,!0)}}e:{if(K=B?Ls(B):window,Z=K.nodeName&&K.nodeName.toLowerCase(),Z==="select"||Z==="input"&&K.type==="file")var le=rE;else if(Km(K))if(Ym)le=aE;else{le=iE;var he=sE}else(Z=K.nodeName)&&Z.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(le=oE);if(le&&(le=le(s,B))){qm(Y,le,c,q);break e}he&&he(s,K,B),s==="focusout"&&(he=K._wrapperState)&&he.controlled&&K.type==="number"&&or(K,"number",K.value)}switch(he=B?Ls(B):window,s){case"focusin":(Km(he)||he.contentEditable==="true")&&(As=he,_u=B,eo=null);break;case"focusout":eo=_u=As=null;break;case"mousedown":ku=!0;break;case"contextmenu":case"mouseup":case"dragend":ku=!1,rg(Y,c,q);break;case"selectionchange":if(uE)break;case"keydown":case"keyup":rg(Y,c,q)}var pe;if(wu)e:{switch(s){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Ps?Hm(s,c)&&(xe="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(xe="onCompositionStart");xe&&(zm&&c.locale!=="ko"&&(Ps||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Ps&&(pe=Dm()):(dr=q,hu="value"in dr?dr.value:dr.textContent,Ps=!0)),he=Oa(B,xe),0<he.length&&(xe=new Vm(xe,s,null,c,q),Y.push({event:xe,listeners:he}),pe?xe.data=pe:(pe=Gm(c),pe!==null&&(xe.data=pe)))),(pe=Xk?Zk(s,c):eE(s,c))&&(B=Oa(B,"onBeforeInput"),0<B.length&&(q=new Vm("onBeforeInput","beforeinput",null,c,q),Y.push({event:q,listeners:B}),q.data=pe))}fg(Y,i)})}function ro(s,i,c){return{instance:s,listener:i,currentTarget:c}}function Oa(s,i){for(var c=i+"Capture",h=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=$i(s,c),w!=null&&h.unshift(ro(s,w,g)),w=$i(s,i),w!=null&&h.push(ro(s,w,g))),s=s.return}return h}function Os(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function pg(s,i,c,h,g){for(var w=i._reactName,E=[];c!==null&&c!==h;){var A=c,I=A.alternate,B=A.stateNode;if(I!==null&&I===h)break;A.tag===5&&B!==null&&(A=B,g?(I=$i(c,w),I!=null&&E.unshift(ro(c,I,A))):g||(I=$i(c,w),I!=null&&E.push(ro(c,I,A)))),c=c.return}E.length!==0&&s.push({event:i,listeners:E})}var pE=/\r\n?/g,mE=/\u0000|\uFFFD/g;function mg(s){return(typeof s=="string"?s:""+s).replace(pE,`
`).replace(mE,"")}function Ia(s,i,c){if(i=mg(i),mg(s)!==i&&c)throw Error(n(425))}function La(){}var Pu=null,Au=null;function Ru(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ou=typeof setTimeout=="function"?setTimeout:void 0,gE=typeof clearTimeout=="function"?clearTimeout:void 0,gg=typeof Promise=="function"?Promise:void 0,yE=typeof queueMicrotask=="function"?queueMicrotask:typeof gg<"u"?function(s){return gg.resolve(null).then(s).catch(vE)}:Ou;function vE(s){setTimeout(function(){throw s})}function Iu(s,i){var c=i,h=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(h===0){s.removeChild(g),Ki(i);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=g}while(c);Ki(i)}function hr(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function yg(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return s;i--}else c==="/$"&&i++}s=s.previousSibling}return null}var Is=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Is,so="__reactProps$"+Is,Bn="__reactContainer$"+Is,Lu="__reactEvents$"+Is,wE="__reactListeners$"+Is,xE="__reactHandles$"+Is;function zr(s){var i=s[Nn];if(i)return i;for(var c=s.parentNode;c;){if(i=c[Bn]||c[Nn]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(s=yg(s);s!==null;){if(c=s[Nn])return c;s=yg(s)}return i}s=c,c=s.parentNode}return null}function io(s){return s=s[Nn]||s[Bn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ls(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Ma(s){return s[so]||null}var Mu=[],Ms=-1;function pr(s){return{current:s}}function ze(s){0>Ms||(s.current=Mu[Ms],Mu[Ms]=null,Ms--)}function De(s,i){Ms++,Mu[Ms]=s.current,s.current=i}var mr={},vt=pr(mr),Pt=pr(!1),Br=mr;function Ds(s,i){var c=s.type.contextTypes;if(!c)return mr;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in c)g[w]=i[w];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=g),g}function At(s){return s=s.childContextTypes,s!=null}function Da(){ze(Pt),ze(vt)}function vg(s,i,c){if(vt.current!==mr)throw Error(n(168));De(vt,i),De(Pt,c)}function wg(s,i,c){var h=s.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var g in h)if(!(g in i))throw Error(n(108,te(s)||"Unknown",g));return F({},c,h)}function $a(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||mr,Br=vt.current,De(vt,s),De(Pt,Pt.current),!0}function xg(s,i,c){var h=s.stateNode;if(!h)throw Error(n(169));c?(s=wg(s,i,Br),h.__reactInternalMemoizedMergedChildContext=s,ze(Pt),ze(vt),De(vt,s)):ze(Pt),De(Pt,c)}var Wn=null,Fa=!1,Du=!1;function bg(s){Wn===null?Wn=[s]:Wn.push(s)}function bE(s){Fa=!0,bg(s)}function gr(){if(!Du&&Wn!==null){Du=!0;var s=0,i=Le;try{var c=Wn;for(Le=1;s<c.length;s++){var h=c[s];do h=h(!0);while(h!==null)}Wn=null,Fa=!1}catch(g){throw Wn!==null&&(Wn=Wn.slice(s+1)),_m(iu,gr),g}finally{Le=i,Du=!1}}return null}var $s=[],Fs=0,Va=null,Ua=0,qt=[],Yt=0,Wr=null,Hn=1,Gn="";function Hr(s,i){$s[Fs++]=Ua,$s[Fs++]=Va,Va=s,Ua=i}function Sg(s,i,c){qt[Yt++]=Hn,qt[Yt++]=Gn,qt[Yt++]=Wr,Wr=s;var h=Hn;s=Gn;var g=32-dn(h)-1;h&=~(1<<g),c+=1;var w=32-dn(i)+g;if(30<w){var E=g-g%5;w=(h&(1<<E)-1).toString(32),h>>=E,g-=E,Hn=1<<32-dn(i)+g|c<<g|h,Gn=w+s}else Hn=1<<w|c<<g|h,Gn=s}function $u(s){s.return!==null&&(Hr(s,1),Sg(s,1,0))}function Fu(s){for(;s===Va;)Va=$s[--Fs],$s[Fs]=null,Ua=$s[--Fs],$s[Fs]=null;for(;s===Wr;)Wr=qt[--Yt],qt[Yt]=null,Gn=qt[--Yt],qt[Yt]=null,Hn=qt[--Yt],qt[Yt]=null}var Ft=null,Vt=null,Be=!1,hn=null;function _g(s,i){var c=Zt(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=s,i=s.deletions,i===null?(s.deletions=[c],s.flags|=16):i.push(c)}function kg(s,i){switch(s.tag){case 5:var c=s.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,Ft=s,Vt=hr(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,Ft=s,Vt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=Wr!==null?{id:Hn,overflow:Gn}:null,s.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=Zt(18,null,null,0),c.stateNode=i,c.return=s,s.child=c,Ft=s,Vt=null,!0):!1;default:return!1}}function Vu(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Uu(s){if(Be){var i=Vt;if(i){var c=i;if(!kg(s,i)){if(Vu(s))throw Error(n(418));i=hr(c.nextSibling);var h=Ft;i&&kg(s,i)?_g(h,c):(s.flags=s.flags&-4097|2,Be=!1,Ft=s)}}else{if(Vu(s))throw Error(n(418));s.flags=s.flags&-4097|2,Be=!1,Ft=s}}}function Eg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Ft=s}function za(s){if(s!==Ft)return!1;if(!Be)return Eg(s),Be=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Ru(s.type,s.memoizedProps)),i&&(i=Vt)){if(Vu(s))throw jg(),Error(n(418));for(;i;)_g(s,i),i=hr(i.nextSibling)}if(Eg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(i===0){Vt=hr(s.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}s=s.nextSibling}Vt=null}}else Vt=Ft?hr(s.stateNode.nextSibling):null;return!0}function jg(){for(var s=Vt;s;)s=hr(s.nextSibling)}function Vs(){Vt=Ft=null,Be=!1}function zu(s){hn===null?hn=[s]:hn.push(s)}var SE=N.ReactCurrentBatchConfig;function oo(s,i,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var h=c.stateNode}if(!h)throw Error(n(147,s));var g=h,w=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===w?i.ref:(i=function(E){var A=g.refs;E===null?delete A[w]:A[w]=E},i._stringRef=w,i)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function Ba(s,i){throw s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Tg(s){var i=s._init;return i(s._payload)}function Cg(s){function i(V,M){if(s){var U=V.deletions;U===null?(V.deletions=[M],V.flags|=16):U.push(M)}}function c(V,M){if(!s)return null;for(;M!==null;)i(V,M),M=M.sibling;return null}function h(V,M){for(V=new Map;M!==null;)M.key!==null?V.set(M.key,M):V.set(M.index,M),M=M.sibling;return V}function g(V,M){return V=kr(V,M),V.index=0,V.sibling=null,V}function w(V,M,U){return V.index=U,s?(U=V.alternate,U!==null?(U=U.index,U<M?(V.flags|=2,M):U):(V.flags|=2,M)):(V.flags|=1048576,M)}function E(V){return s&&V.alternate===null&&(V.flags|=2),V}function A(V,M,U,J){return M===null||M.tag!==6?(M=Od(U,V.mode,J),M.return=V,M):(M=g(M,U),M.return=V,M)}function I(V,M,U,J){var le=U.type;return le===$?q(V,M,U.props.children,J,U.key):M!==null&&(M.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ce&&Tg(le)===M.type)?(J=g(M,U.props),J.ref=oo(V,M,U),J.return=V,J):(J=hl(U.type,U.key,U.props,null,V.mode,J),J.ref=oo(V,M,U),J.return=V,J)}function B(V,M,U,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=Id(U,V.mode,J),M.return=V,M):(M=g(M,U.children||[]),M.return=V,M)}function q(V,M,U,J,le){return M===null||M.tag!==7?(M=Zr(U,V.mode,J,le),M.return=V,M):(M=g(M,U),M.return=V,M)}function Y(V,M,U){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Od(""+M,V.mode,U),M.return=V,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case R:return U=hl(M.type,M.key,M.props,null,V.mode,U),U.ref=oo(V,null,M),U.return=V,U;case L:return M=Id(M,V.mode,U),M.return=V,M;case ce:var J=M._init;return Y(V,J(M._payload),U)}if(Li(M)||H(M))return M=Zr(M,V.mode,U,null),M.return=V,M;Ba(V,M)}return null}function K(V,M,U,J){var le=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return le!==null?null:A(V,M,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case R:return U.key===le?I(V,M,U,J):null;case L:return U.key===le?B(V,M,U,J):null;case ce:return le=U._init,K(V,M,le(U._payload),J)}if(Li(U)||H(U))return le!==null?null:q(V,M,U,J,null);Ba(V,U)}return null}function Z(V,M,U,J,le){if(typeof J=="string"&&J!==""||typeof J=="number")return V=V.get(U)||null,A(M,V,""+J,le);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case R:return V=V.get(J.key===null?U:J.key)||null,I(M,V,J,le);case L:return V=V.get(J.key===null?U:J.key)||null,B(M,V,J,le);case ce:var he=J._init;return Z(V,M,U,he(J._payload),le)}if(Li(J)||H(J))return V=V.get(U)||null,q(M,V,J,le,null);Ba(M,J)}return null}function ne(V,M,U,J){for(var le=null,he=null,pe=M,xe=M=0,dt=null;pe!==null&&xe<U.length;xe++){pe.index>xe?(dt=pe,pe=null):dt=pe.sibling;var Oe=K(V,pe,U[xe],J);if(Oe===null){pe===null&&(pe=dt);break}s&&pe&&Oe.alternate===null&&i(V,pe),M=w(Oe,M,xe),he===null?le=Oe:he.sibling=Oe,he=Oe,pe=dt}if(xe===U.length)return c(V,pe),Be&&Hr(V,xe),le;if(pe===null){for(;xe<U.length;xe++)pe=Y(V,U[xe],J),pe!==null&&(M=w(pe,M,xe),he===null?le=pe:he.sibling=pe,he=pe);return Be&&Hr(V,xe),le}for(pe=h(V,pe);xe<U.length;xe++)dt=Z(pe,V,xe,U[xe],J),dt!==null&&(s&&dt.alternate!==null&&pe.delete(dt.key===null?xe:dt.key),M=w(dt,M,xe),he===null?le=dt:he.sibling=dt,he=dt);return s&&pe.forEach(function(Er){return i(V,Er)}),Be&&Hr(V,xe),le}function oe(V,M,U,J){var le=H(U);if(typeof le!="function")throw Error(n(150));if(U=le.call(U),U==null)throw Error(n(151));for(var he=le=null,pe=M,xe=M=0,dt=null,Oe=U.next();pe!==null&&!Oe.done;xe++,Oe=U.next()){pe.index>xe?(dt=pe,pe=null):dt=pe.sibling;var Er=K(V,pe,Oe.value,J);if(Er===null){pe===null&&(pe=dt);break}s&&pe&&Er.alternate===null&&i(V,pe),M=w(Er,M,xe),he===null?le=Er:he.sibling=Er,he=Er,pe=dt}if(Oe.done)return c(V,pe),Be&&Hr(V,xe),le;if(pe===null){for(;!Oe.done;xe++,Oe=U.next())Oe=Y(V,Oe.value,J),Oe!==null&&(M=w(Oe,M,xe),he===null?le=Oe:he.sibling=Oe,he=Oe);return Be&&Hr(V,xe),le}for(pe=h(V,pe);!Oe.done;xe++,Oe=U.next())Oe=Z(pe,V,xe,Oe.value,J),Oe!==null&&(s&&Oe.alternate!==null&&pe.delete(Oe.key===null?xe:Oe.key),M=w(Oe,M,xe),he===null?le=Oe:he.sibling=Oe,he=Oe);return s&&pe.forEach(function(tj){return i(V,tj)}),Be&&Hr(V,xe),le}function et(V,M,U,J){if(typeof U=="object"&&U!==null&&U.type===$&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case R:e:{for(var le=U.key,he=M;he!==null;){if(he.key===le){if(le=U.type,le===$){if(he.tag===7){c(V,he.sibling),M=g(he,U.props.children),M.return=V,V=M;break e}}else if(he.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ce&&Tg(le)===he.type){c(V,he.sibling),M=g(he,U.props),M.ref=oo(V,he,U),M.return=V,V=M;break e}c(V,he);break}else i(V,he);he=he.sibling}U.type===$?(M=Zr(U.props.children,V.mode,J,U.key),M.return=V,V=M):(J=hl(U.type,U.key,U.props,null,V.mode,J),J.ref=oo(V,M,U),J.return=V,V=J)}return E(V);case L:e:{for(he=U.key;M!==null;){if(M.key===he)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){c(V,M.sibling),M=g(M,U.children||[]),M.return=V,V=M;break e}else{c(V,M);break}else i(V,M);M=M.sibling}M=Id(U,V.mode,J),M.return=V,V=M}return E(V);case ce:return he=U._init,et(V,M,he(U._payload),J)}if(Li(U))return ne(V,M,U,J);if(H(U))return oe(V,M,U,J);Ba(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,M!==null&&M.tag===6?(c(V,M.sibling),M=g(M,U),M.return=V,V=M):(c(V,M),M=Od(U,V.mode,J),M.return=V,V=M),E(V)):c(V,M)}return et}var Us=Cg(!0),Ng=Cg(!1),Wa=pr(null),Ha=null,zs=null,Bu=null;function Wu(){Bu=zs=Ha=null}function Hu(s){var i=Wa.current;ze(Wa),s._currentValue=i}function Gu(s,i,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),s===c)break;s=s.return}}function Bs(s,i){Ha=s,Bu=zs=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(Rt=!0),s.firstContext=null)}function Jt(s){var i=s._currentValue;if(Bu!==s)if(s={context:s,memoizedValue:i,next:null},zs===null){if(Ha===null)throw Error(n(308));zs=s,Ha.dependencies={lanes:0,firstContext:s}}else zs=zs.next=s;return i}var Gr=null;function Ku(s){Gr===null?Gr=[s]:Gr.push(s)}function Pg(s,i,c,h){var g=i.interleaved;return g===null?(c.next=c,Ku(i)):(c.next=g.next,g.next=c),i.interleaved=c,Kn(s,h)}function Kn(s,i){s.lanes|=i;var c=s.alternate;for(c!==null&&(c.lanes|=i),c=s,s=s.return;s!==null;)s.childLanes|=i,c=s.alternate,c!==null&&(c.childLanes|=i),c=s,s=s.return;return c.tag===3?c.stateNode:null}var yr=!1;function qu(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ag(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function qn(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function vr(s,i,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Re&2)!==0){var g=h.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),h.pending=i,Kn(s,c)}return g=h.interleaved,g===null?(i.next=i,Ku(h)):(i.next=g.next,g.next=i),h.interleaved=i,Kn(s,c)}function Ga(s,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var h=i.lanes;h&=s.pendingLanes,c|=h,i.lanes=c,lu(s,c)}}function Rg(s,i){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var E={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?g=w=E:w=w.next=E,c=c.next}while(c!==null);w===null?g=w=i:w=w.next=i}else g=w=i;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:h.shared,effects:h.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=i:s.next=i,c.lastBaseUpdate=i}function Ka(s,i,c,h){var g=s.updateQueue;yr=!1;var w=g.firstBaseUpdate,E=g.lastBaseUpdate,A=g.shared.pending;if(A!==null){g.shared.pending=null;var I=A,B=I.next;I.next=null,E===null?w=B:E.next=B,E=I;var q=s.alternate;q!==null&&(q=q.updateQueue,A=q.lastBaseUpdate,A!==E&&(A===null?q.firstBaseUpdate=B:A.next=B,q.lastBaseUpdate=I))}if(w!==null){var Y=g.baseState;E=0,q=B=I=null,A=w;do{var K=A.lane,Z=A.eventTime;if((h&K)===K){q!==null&&(q=q.next={eventTime:Z,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ne=s,oe=A;switch(K=i,Z=c,oe.tag){case 1:if(ne=oe.payload,typeof ne=="function"){Y=ne.call(Z,Y,K);break e}Y=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=oe.payload,K=typeof ne=="function"?ne.call(Z,Y,K):ne,K==null)break e;Y=F({},Y,K);break e;case 2:yr=!0}}A.callback!==null&&A.lane!==0&&(s.flags|=64,K=g.effects,K===null?g.effects=[A]:K.push(A))}else Z={eventTime:Z,lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},q===null?(B=q=Z,I=Y):q=q.next=Z,E|=K;if(A=A.next,A===null){if(A=g.shared.pending,A===null)break;K=A,A=K.next,K.next=null,g.lastBaseUpdate=K,g.shared.pending=null}}while(!0);if(q===null&&(I=Y),g.baseState=I,g.firstBaseUpdate=B,g.lastBaseUpdate=q,i=g.shared.interleaved,i!==null){g=i;do E|=g.lane,g=g.next;while(g!==i)}else w===null&&(g.shared.lanes=0);Yr|=E,s.lanes=E,s.memoizedState=Y}}function Og(s,i,c){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var h=s[i],g=h.callback;if(g!==null){if(h.callback=null,h=c,typeof g!="function")throw Error(n(191,g));g.call(h)}}}var ao={},Pn=pr(ao),lo=pr(ao),co=pr(ao);function Kr(s){if(s===ao)throw Error(n(174));return s}function Yu(s,i){switch(De(co,i),De(lo,s),De(Pn,ao),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Jc(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Jc(i,s)}ze(Pn),De(Pn,i)}function Ws(){ze(Pn),ze(lo),ze(co)}function Ig(s){Kr(co.current);var i=Kr(Pn.current),c=Jc(i,s.type);i!==c&&(De(lo,s),De(Pn,c))}function Ju(s){lo.current===s&&(ze(Pn),ze(lo))}var Ge=pr(0);function qa(s){for(var i=s;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qu=[];function Xu(){for(var s=0;s<Qu.length;s++)Qu[s]._workInProgressVersionPrimary=null;Qu.length=0}var Ya=N.ReactCurrentDispatcher,Zu=N.ReactCurrentBatchConfig,qr=0,Ke=null,it=null,ct=null,Ja=!1,uo=!1,fo=0,_E=0;function wt(){throw Error(n(321))}function ed(s,i){if(i===null)return!1;for(var c=0;c<i.length&&c<s.length;c++)if(!fn(s[c],i[c]))return!1;return!0}function td(s,i,c,h,g,w){if(qr=w,Ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ya.current=s===null||s.memoizedState===null?TE:CE,s=c(h,g),uo){w=0;do{if(uo=!1,fo=0,25<=w)throw Error(n(301));w+=1,ct=it=null,i.updateQueue=null,Ya.current=NE,s=c(h,g)}while(uo)}if(Ya.current=Za,i=it!==null&&it.next!==null,qr=0,ct=it=Ke=null,Ja=!1,i)throw Error(n(300));return s}function nd(){var s=fo!==0;return fo=0,s}function An(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ke.memoizedState=ct=s:ct=ct.next=s,ct}function Qt(){if(it===null){var s=Ke.alternate;s=s!==null?s.memoizedState:null}else s=it.next;var i=ct===null?Ke.memoizedState:ct.next;if(i!==null)ct=i,it=s;else{if(s===null)throw Error(n(310));it=s,s={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ct===null?Ke.memoizedState=ct=s:ct=ct.next=s}return ct}function ho(s,i){return typeof i=="function"?i(s):i}function rd(s){var i=Qt(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var h=it,g=h.baseQueue,w=c.pending;if(w!==null){if(g!==null){var E=g.next;g.next=w.next,w.next=E}h.baseQueue=g=w,c.pending=null}if(g!==null){w=g.next,h=h.baseState;var A=E=null,I=null,B=w;do{var q=B.lane;if((qr&q)===q)I!==null&&(I=I.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),h=B.hasEagerState?B.eagerState:s(h,B.action);else{var Y={lane:q,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};I===null?(A=I=Y,E=h):I=I.next=Y,Ke.lanes|=q,Yr|=q}B=B.next}while(B!==null&&B!==w);I===null?E=h:I.next=A,fn(h,i.memoizedState)||(Rt=!0),i.memoizedState=h,i.baseState=E,i.baseQueue=I,c.lastRenderedState=h}if(s=c.interleaved,s!==null){g=s;do w=g.lane,Ke.lanes|=w,Yr|=w,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function sd(s){var i=Qt(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var h=c.dispatch,g=c.pending,w=i.memoizedState;if(g!==null){c.pending=null;var E=g=g.next;do w=s(w,E.action),E=E.next;while(E!==g);fn(w,i.memoizedState)||(Rt=!0),i.memoizedState=w,i.baseQueue===null&&(i.baseState=w),c.lastRenderedState=w}return[w,h]}function Lg(){}function Mg(s,i){var c=Ke,h=Qt(),g=i(),w=!fn(h.memoizedState,g);if(w&&(h.memoizedState=g,Rt=!0),h=h.queue,id(Fg.bind(null,c,h,s),[s]),h.getSnapshot!==i||w||ct!==null&&ct.memoizedState.tag&1){if(c.flags|=2048,po(9,$g.bind(null,c,h,g,i),void 0,null),ut===null)throw Error(n(349));(qr&30)!==0||Dg(c,i,g)}return g}function Dg(s,i,c){s.flags|=16384,s={getSnapshot:i,value:c},i=Ke.updateQueue,i===null?(i={lastEffect:null,stores:null},Ke.updateQueue=i,i.stores=[s]):(c=i.stores,c===null?i.stores=[s]:c.push(s))}function $g(s,i,c,h){i.value=c,i.getSnapshot=h,Vg(i)&&Ug(s)}function Fg(s,i,c){return c(function(){Vg(i)&&Ug(s)})}function Vg(s){var i=s.getSnapshot;s=s.value;try{var c=i();return!fn(s,c)}catch{return!0}}function Ug(s){var i=Kn(s,1);i!==null&&yn(i,s,1,-1)}function zg(s){var i=An();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:s},i.queue=s,s=s.dispatch=jE.bind(null,Ke,s),[i.memoizedState,s]}function po(s,i,c,h){return s={tag:s,create:i,destroy:c,deps:h,next:null},i=Ke.updateQueue,i===null?(i={lastEffect:null,stores:null},Ke.updateQueue=i,i.lastEffect=s.next=s):(c=i.lastEffect,c===null?i.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,i.lastEffect=s)),s}function Bg(){return Qt().memoizedState}function Qa(s,i,c,h){var g=An();Ke.flags|=s,g.memoizedState=po(1|i,c,void 0,h===void 0?null:h)}function Xa(s,i,c,h){var g=Qt();h=h===void 0?null:h;var w=void 0;if(it!==null){var E=it.memoizedState;if(w=E.destroy,h!==null&&ed(h,E.deps)){g.memoizedState=po(i,c,w,h);return}}Ke.flags|=s,g.memoizedState=po(1|i,c,w,h)}function Wg(s,i){return Qa(8390656,8,s,i)}function id(s,i){return Xa(2048,8,s,i)}function Hg(s,i){return Xa(4,2,s,i)}function Gg(s,i){return Xa(4,4,s,i)}function Kg(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function qg(s,i,c){return c=c!=null?c.concat([s]):null,Xa(4,4,Kg.bind(null,i,s),c)}function od(){}function Yg(s,i){var c=Qt();i=i===void 0?null:i;var h=c.memoizedState;return h!==null&&i!==null&&ed(i,h[1])?h[0]:(c.memoizedState=[s,i],s)}function Jg(s,i){var c=Qt();i=i===void 0?null:i;var h=c.memoizedState;return h!==null&&i!==null&&ed(i,h[1])?h[0]:(s=s(),c.memoizedState=[s,i],s)}function Qg(s,i,c){return(qr&21)===0?(s.baseState&&(s.baseState=!1,Rt=!0),s.memoizedState=c):(fn(c,i)||(c=Tm(),Ke.lanes|=c,Yr|=c,s.baseState=!0),i)}function kE(s,i){var c=Le;Le=c!==0&&4>c?c:4,s(!0);var h=Zu.transition;Zu.transition={};try{s(!1),i()}finally{Le=c,Zu.transition=h}}function Xg(){return Qt().memoizedState}function EE(s,i,c){var h=Sr(s);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},Zg(s))ey(i,c);else if(c=Pg(s,i,c,h),c!==null){var g=Et();yn(c,s,h,g),ty(c,i,h)}}function jE(s,i,c){var h=Sr(s),g={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(Zg(s))ey(i,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=i.lastRenderedReducer,w!==null))try{var E=i.lastRenderedState,A=w(E,c);if(g.hasEagerState=!0,g.eagerState=A,fn(A,E)){var I=i.interleaved;I===null?(g.next=g,Ku(i)):(g.next=I.next,I.next=g),i.interleaved=g;return}}catch{}finally{}c=Pg(s,i,g,h),c!==null&&(g=Et(),yn(c,s,h,g),ty(c,i,h))}}function Zg(s){var i=s.alternate;return s===Ke||i!==null&&i===Ke}function ey(s,i){uo=Ja=!0;var c=s.pending;c===null?i.next=i:(i.next=c.next,c.next=i),s.pending=i}function ty(s,i,c){if((c&4194240)!==0){var h=i.lanes;h&=s.pendingLanes,c|=h,i.lanes=c,lu(s,c)}}var Za={readContext:Jt,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},TE={readContext:Jt,useCallback:function(s,i){return An().memoizedState=[s,i===void 0?null:i],s},useContext:Jt,useEffect:Wg,useImperativeHandle:function(s,i,c){return c=c!=null?c.concat([s]):null,Qa(4194308,4,Kg.bind(null,i,s),c)},useLayoutEffect:function(s,i){return Qa(4194308,4,s,i)},useInsertionEffect:function(s,i){return Qa(4,2,s,i)},useMemo:function(s,i){var c=An();return i=i===void 0?null:i,s=s(),c.memoizedState=[s,i],s},useReducer:function(s,i,c){var h=An();return i=c!==void 0?c(i):i,h.memoizedState=h.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},h.queue=s,s=s.dispatch=EE.bind(null,Ke,s),[h.memoizedState,s]},useRef:function(s){var i=An();return s={current:s},i.memoizedState=s},useState:zg,useDebugValue:od,useDeferredValue:function(s){return An().memoizedState=s},useTransition:function(){var s=zg(!1),i=s[0];return s=kE.bind(null,s[1]),An().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,c){var h=Ke,g=An();if(Be){if(c===void 0)throw Error(n(407));c=c()}else{if(c=i(),ut===null)throw Error(n(349));(qr&30)!==0||Dg(h,i,c)}g.memoizedState=c;var w={value:c,getSnapshot:i};return g.queue=w,Wg(Fg.bind(null,h,w,s),[s]),h.flags|=2048,po(9,$g.bind(null,h,w,c,i),void 0,null),c},useId:function(){var s=An(),i=ut.identifierPrefix;if(Be){var c=Gn,h=Hn;c=(h&~(1<<32-dn(h)-1)).toString(32)+c,i=":"+i+"R"+c,c=fo++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=_E++,i=":"+i+"r"+c.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},CE={readContext:Jt,useCallback:Yg,useContext:Jt,useEffect:id,useImperativeHandle:qg,useInsertionEffect:Hg,useLayoutEffect:Gg,useMemo:Jg,useReducer:rd,useRef:Bg,useState:function(){return rd(ho)},useDebugValue:od,useDeferredValue:function(s){var i=Qt();return Qg(i,it.memoizedState,s)},useTransition:function(){var s=rd(ho)[0],i=Qt().memoizedState;return[s,i]},useMutableSource:Lg,useSyncExternalStore:Mg,useId:Xg,unstable_isNewReconciler:!1},NE={readContext:Jt,useCallback:Yg,useContext:Jt,useEffect:id,useImperativeHandle:qg,useInsertionEffect:Hg,useLayoutEffect:Gg,useMemo:Jg,useReducer:sd,useRef:Bg,useState:function(){return sd(ho)},useDebugValue:od,useDeferredValue:function(s){var i=Qt();return it===null?i.memoizedState=s:Qg(i,it.memoizedState,s)},useTransition:function(){var s=sd(ho)[0],i=Qt().memoizedState;return[s,i]},useMutableSource:Lg,useSyncExternalStore:Mg,useId:Xg,unstable_isNewReconciler:!1};function pn(s,i){if(s&&s.defaultProps){i=F({},i),s=s.defaultProps;for(var c in s)i[c]===void 0&&(i[c]=s[c]);return i}return i}function ad(s,i,c,h){i=s.memoizedState,c=c(h,i),c=c==null?i:F({},i,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var el={isMounted:function(s){return(s=s._reactInternals)?Ur(s)===s:!1},enqueueSetState:function(s,i,c){s=s._reactInternals;var h=Et(),g=Sr(s),w=qn(h,g);w.payload=i,c!=null&&(w.callback=c),i=vr(s,w,g),i!==null&&(yn(i,s,g,h),Ga(i,s,g))},enqueueReplaceState:function(s,i,c){s=s._reactInternals;var h=Et(),g=Sr(s),w=qn(h,g);w.tag=1,w.payload=i,c!=null&&(w.callback=c),i=vr(s,w,g),i!==null&&(yn(i,s,g,h),Ga(i,s,g))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var c=Et(),h=Sr(s),g=qn(c,h);g.tag=2,i!=null&&(g.callback=i),i=vr(s,g,h),i!==null&&(yn(i,s,h,c),Ga(i,s,h))}};function ny(s,i,c,h,g,w,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,w,E):i.prototype&&i.prototype.isPureReactComponent?!Zi(c,h)||!Zi(g,w):!0}function ry(s,i,c){var h=!1,g=mr,w=i.contextType;return typeof w=="object"&&w!==null?w=Jt(w):(g=At(i)?Br:vt.current,h=i.contextTypes,w=(h=h!=null)?Ds(s,g):mr),i=new i(c,w),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=el,s.stateNode=i,i._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),i}function sy(s,i,c,h){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,h),i.state!==s&&el.enqueueReplaceState(i,i.state,null)}function ld(s,i,c,h){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},qu(s);var w=i.contextType;typeof w=="object"&&w!==null?g.context=Jt(w):(w=At(i)?Br:vt.current,g.context=Ds(s,w)),g.state=s.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(ad(s,i,w,c),g.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(i=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),i!==g.state&&el.enqueueReplaceState(g,g.state,null),Ka(s,c,g,h),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Hs(s,i){try{var c="",h=i;do c+=be(h),h=h.return;while(h);var g=c}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:i,stack:g,digest:null}}function cd(s,i,c){return{value:s,source:null,stack:c??null,digest:i??null}}function ud(s,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var PE=typeof WeakMap=="function"?WeakMap:Map;function iy(s,i,c){c=qn(-1,c),c.tag=3,c.payload={element:null};var h=i.value;return c.callback=function(){al||(al=!0,Ed=h),ud(s,i)},c}function oy(s,i,c){c=qn(-1,c),c.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=i.value;c.payload=function(){return h(g)},c.callback=function(){ud(s,i)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){ud(s,i),typeof h!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),c}function ay(s,i,c){var h=s.pingCache;if(h===null){h=s.pingCache=new PE;var g=new Set;h.set(i,g)}else g=h.get(i),g===void 0&&(g=new Set,h.set(i,g));g.has(c)||(g.add(c),s=WE.bind(null,s,i,c),i.then(s,s))}function ly(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function cy(s,i,c,h,g){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=qn(-1,1),i.tag=2,vr(c,i,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var AE=N.ReactCurrentOwner,Rt=!1;function kt(s,i,c,h){i.child=s===null?Ng(i,null,c,h):Us(i,s.child,c,h)}function uy(s,i,c,h,g){c=c.render;var w=i.ref;return Bs(i,g),h=td(s,i,c,h,w,g),c=nd(),s!==null&&!Rt?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~g,Yn(s,i,g)):(Be&&c&&$u(i),i.flags|=1,kt(s,i,h,g),i.child)}function dy(s,i,c,h,g){if(s===null){var w=c.type;return typeof w=="function"&&!Rd(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=w,fy(s,i,w,h,g)):(s=hl(c.type,null,h,i,i.mode,g),s.ref=i.ref,s.return=i,i.child=s)}if(w=s.child,(s.lanes&g)===0){var E=w.memoizedProps;if(c=c.compare,c=c!==null?c:Zi,c(E,h)&&s.ref===i.ref)return Yn(s,i,g)}return i.flags|=1,s=kr(w,h),s.ref=i.ref,s.return=i,i.child=s}function fy(s,i,c,h,g){if(s!==null){var w=s.memoizedProps;if(Zi(w,h)&&s.ref===i.ref)if(Rt=!1,i.pendingProps=h=w,(s.lanes&g)!==0)(s.flags&131072)!==0&&(Rt=!0);else return i.lanes=s.lanes,Yn(s,i,g)}return dd(s,i,c,h,g)}function hy(s,i,c){var h=i.pendingProps,g=h.children,w=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Ks,Ut),Ut|=c;else{if((c&1073741824)===0)return s=w!==null?w.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,De(Ks,Ut),Ut|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=w!==null?w.baseLanes:c,De(Ks,Ut),Ut|=h}else w!==null?(h=w.baseLanes|c,i.memoizedState=null):h=c,De(Ks,Ut),Ut|=h;return kt(s,i,g,c),i.child}function py(s,i){var c=i.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function dd(s,i,c,h,g){var w=At(c)?Br:vt.current;return w=Ds(i,w),Bs(i,g),c=td(s,i,c,h,w,g),h=nd(),s!==null&&!Rt?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~g,Yn(s,i,g)):(Be&&h&&$u(i),i.flags|=1,kt(s,i,c,g),i.child)}function my(s,i,c,h,g){if(At(c)){var w=!0;$a(i)}else w=!1;if(Bs(i,g),i.stateNode===null)nl(s,i),ry(i,c,h),ld(i,c,h,g),h=!0;else if(s===null){var E=i.stateNode,A=i.memoizedProps;E.props=A;var I=E.context,B=c.contextType;typeof B=="object"&&B!==null?B=Jt(B):(B=At(c)?Br:vt.current,B=Ds(i,B));var q=c.getDerivedStateFromProps,Y=typeof q=="function"||typeof E.getSnapshotBeforeUpdate=="function";Y||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==h||I!==B)&&sy(i,E,h,B),yr=!1;var K=i.memoizedState;E.state=K,Ka(i,h,E,g),I=i.memoizedState,A!==h||K!==I||Pt.current||yr?(typeof q=="function"&&(ad(i,c,q,h),I=i.memoizedState),(A=yr||ny(i,c,A,h,K,I,B))?(Y||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=I),E.props=h,E.state=I,E.context=B,h=A):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{E=i.stateNode,Ag(s,i),A=i.memoizedProps,B=i.type===i.elementType?A:pn(i.type,A),E.props=B,Y=i.pendingProps,K=E.context,I=c.contextType,typeof I=="object"&&I!==null?I=Jt(I):(I=At(c)?Br:vt.current,I=Ds(i,I));var Z=c.getDerivedStateFromProps;(q=typeof Z=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==Y||K!==I)&&sy(i,E,h,I),yr=!1,K=i.memoizedState,E.state=K,Ka(i,h,E,g);var ne=i.memoizedState;A!==Y||K!==ne||Pt.current||yr?(typeof Z=="function"&&(ad(i,c,Z,h),ne=i.memoizedState),(B=yr||ny(i,c,B,h,K,ne,I)||!1)?(q||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,ne,I),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,ne,I)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||A===s.memoizedProps&&K===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&K===s.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=ne),E.props=h,E.state=ne,E.context=I,h=B):(typeof E.componentDidUpdate!="function"||A===s.memoizedProps&&K===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&K===s.memoizedState||(i.flags|=1024),h=!1)}return fd(s,i,c,h,w,g)}function fd(s,i,c,h,g,w){py(s,i);var E=(i.flags&128)!==0;if(!h&&!E)return g&&xg(i,c,!1),Yn(s,i,w);h=i.stateNode,AE.current=i;var A=E&&typeof c.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,s!==null&&E?(i.child=Us(i,s.child,null,w),i.child=Us(i,null,A,w)):kt(s,i,A,w),i.memoizedState=h.state,g&&xg(i,c,!0),i.child}function gy(s){var i=s.stateNode;i.pendingContext?vg(s,i.pendingContext,i.pendingContext!==i.context):i.context&&vg(s,i.context,!1),Yu(s,i.containerInfo)}function yy(s,i,c,h,g){return Vs(),zu(g),i.flags|=256,kt(s,i,c,h),i.child}var hd={dehydrated:null,treeContext:null,retryLane:0};function pd(s){return{baseLanes:s,cachePool:null,transitions:null}}function vy(s,i,c){var h=i.pendingProps,g=Ge.current,w=!1,E=(i.flags&128)!==0,A;if((A=E)||(A=s!==null&&s.memoizedState===null?!1:(g&2)!==0),A?(w=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),De(Ge,g&1),s===null)return Uu(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(E=h.children,s=h.fallback,w?(h=i.mode,w=i.child,E={mode:"hidden",children:E},(h&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=E):w=pl(E,h,0,null),s=Zr(s,h,c,null),w.return=i,s.return=i,w.sibling=s,i.child=w,i.child.memoizedState=pd(c),i.memoizedState=hd,s):md(i,E));if(g=s.memoizedState,g!==null&&(A=g.dehydrated,A!==null))return RE(s,i,E,h,A,g,c);if(w){w=h.fallback,E=i.mode,g=s.child,A=g.sibling;var I={mode:"hidden",children:h.children};return(E&1)===0&&i.child!==g?(h=i.child,h.childLanes=0,h.pendingProps=I,i.deletions=null):(h=kr(g,I),h.subtreeFlags=g.subtreeFlags&14680064),A!==null?w=kr(A,w):(w=Zr(w,E,c,null),w.flags|=2),w.return=i,h.return=i,h.sibling=w,i.child=h,h=w,w=i.child,E=s.child.memoizedState,E=E===null?pd(c):{baseLanes:E.baseLanes|c,cachePool:null,transitions:E.transitions},w.memoizedState=E,w.childLanes=s.childLanes&~c,i.memoizedState=hd,h}return w=s.child,s=w.sibling,h=kr(w,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=c),h.return=i,h.sibling=null,s!==null&&(c=i.deletions,c===null?(i.deletions=[s],i.flags|=16):c.push(s)),i.child=h,i.memoizedState=null,h}function md(s,i){return i=pl({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function tl(s,i,c,h){return h!==null&&zu(h),Us(i,s.child,null,c),s=md(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function RE(s,i,c,h,g,w,E){if(c)return i.flags&256?(i.flags&=-257,h=cd(Error(n(422))),tl(s,i,E,h)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(w=h.fallback,g=i.mode,h=pl({mode:"visible",children:h.children},g,0,null),w=Zr(w,g,E,null),w.flags|=2,h.return=i,w.return=i,h.sibling=w,i.child=h,(i.mode&1)!==0&&Us(i,s.child,null,E),i.child.memoizedState=pd(E),i.memoizedState=hd,w);if((i.mode&1)===0)return tl(s,i,E,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var A=h.dgst;return h=A,w=Error(n(419)),h=cd(w,h,void 0),tl(s,i,E,h)}if(A=(E&s.childLanes)!==0,Rt||A){if(h=ut,h!==null){switch(E&-E){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|E))!==0?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,Kn(s,g),yn(h,s,g,-1))}return Ad(),h=cd(Error(n(421))),tl(s,i,E,h)}return g.data==="$?"?(i.flags|=128,i.child=s.child,i=HE.bind(null,s),g._reactRetry=i,null):(s=w.treeContext,Vt=hr(g.nextSibling),Ft=i,Be=!0,hn=null,s!==null&&(qt[Yt++]=Hn,qt[Yt++]=Gn,qt[Yt++]=Wr,Hn=s.id,Gn=s.overflow,Wr=i),i=md(i,h.children),i.flags|=4096,i)}function wy(s,i,c){s.lanes|=i;var h=s.alternate;h!==null&&(h.lanes|=i),Gu(s.return,i,c)}function gd(s,i,c,h,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=c,w.tailMode=g)}function xy(s,i,c){var h=i.pendingProps,g=h.revealOrder,w=h.tail;if(kt(s,i,h.children,c),h=Ge.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&wy(s,c,i);else if(s.tag===19)wy(s,c,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(De(Ge,h),(i.mode&1)===0)i.memoizedState=null;else switch(g){case"forwards":for(c=i.child,g=null;c!==null;)s=c.alternate,s!==null&&qa(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=i.child,i.child=null):(g=c.sibling,c.sibling=null),gd(i,!1,g,c,w);break;case"backwards":for(c=null,g=i.child,i.child=null;g!==null;){if(s=g.alternate,s!==null&&qa(s)===null){i.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}gd(i,!0,c,null,w);break;case"together":gd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function nl(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function Yn(s,i,c){if(s!==null&&(i.dependencies=s.dependencies),Yr|=i.lanes,(c&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,c=kr(s,s.pendingProps),i.child=c,c.return=i;s.sibling!==null;)s=s.sibling,c=c.sibling=kr(s,s.pendingProps),c.return=i;c.sibling=null}return i.child}function OE(s,i,c){switch(i.tag){case 3:gy(i),Vs();break;case 5:Ig(i);break;case 1:At(i.type)&&$a(i);break;case 4:Yu(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,g=i.memoizedProps.value;De(Wa,h._currentValue),h._currentValue=g;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(De(Ge,Ge.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?vy(s,i,c):(De(Ge,Ge.current&1),s=Yn(s,i,c),s!==null?s.sibling:null);De(Ge,Ge.current&1);break;case 19:if(h=(c&i.childLanes)!==0,(s.flags&128)!==0){if(h)return xy(s,i,c);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),De(Ge,Ge.current),h)break;return null;case 22:case 23:return i.lanes=0,hy(s,i,c)}return Yn(s,i,c)}var by,yd,Sy,_y;by=function(s,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},yd=function(){},Sy=function(s,i,c,h){var g=s.memoizedProps;if(g!==h){s=i.stateNode,Kr(Pn.current);var w=null;switch(c){case"input":g=ks(s,g),h=ks(s,h),w=[];break;case"select":g=F({},g,{value:void 0}),h=F({},h,{value:void 0}),w=[];break;case"textarea":g=Yc(s,g),h=Yc(s,h),w=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=La)}Qc(c,h);var E;c=null;for(B in g)if(!h.hasOwnProperty(B)&&g.hasOwnProperty(B)&&g[B]!=null)if(B==="style"){var A=g[B];for(E in A)A.hasOwnProperty(E)&&(c||(c={}),c[E]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?w||(w=[]):(w=w||[]).push(B,null));for(B in h){var I=h[B];if(A=g!=null?g[B]:void 0,h.hasOwnProperty(B)&&I!==A&&(I!=null||A!=null))if(B==="style")if(A){for(E in A)!A.hasOwnProperty(E)||I&&I.hasOwnProperty(E)||(c||(c={}),c[E]="");for(E in I)I.hasOwnProperty(E)&&A[E]!==I[E]&&(c||(c={}),c[E]=I[E])}else c||(w||(w=[]),w.push(B,c)),c=I;else B==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,A=A?A.__html:void 0,I!=null&&A!==I&&(w=w||[]).push(B,I)):B==="children"?typeof I!="string"&&typeof I!="number"||(w=w||[]).push(B,""+I):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(I!=null&&B==="onScroll"&&Ue("scroll",s),w||A===I||(w=[])):(w=w||[]).push(B,I))}c&&(w=w||[]).push("style",c);var B=w;(i.updateQueue=B)&&(i.flags|=4)}},_y=function(s,i,c,h){c!==h&&(i.flags|=4)};function mo(s,i){if(!Be)switch(s.tailMode){case"hidden":i=s.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function xt(s){var i=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(i)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=c,i}function IE(s,i,c){var h=i.pendingProps;switch(Fu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(i),null;case 1:return At(i.type)&&Da(),xt(i),null;case 3:return h=i.stateNode,Ws(),ze(Pt),ze(vt),Xu(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(za(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,hn!==null&&(Cd(hn),hn=null))),yd(s,i),xt(i),null;case 5:Ju(i);var g=Kr(co.current);if(c=i.type,s!==null&&i.stateNode!=null)Sy(s,i,c,h,g),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(n(166));return xt(i),null}if(s=Kr(Pn.current),za(i)){h=i.stateNode,c=i.type;var w=i.memoizedProps;switch(h[Nn]=i,h[so]=w,s=(i.mode&1)!==0,c){case"dialog":Ue("cancel",h),Ue("close",h);break;case"iframe":case"object":case"embed":Ue("load",h);break;case"video":case"audio":for(g=0;g<to.length;g++)Ue(to[g],h);break;case"source":Ue("error",h);break;case"img":case"image":case"link":Ue("error",h),Ue("load",h);break;case"details":Ue("toggle",h);break;case"input":ua(h,w),Ue("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!w.multiple},Ue("invalid",h);break;case"textarea":om(h,w),Ue("invalid",h)}Qc(c,w),g=null;for(var E in w)if(w.hasOwnProperty(E)){var A=w[E];E==="children"?typeof A=="string"?h.textContent!==A&&(w.suppressHydrationWarning!==!0&&Ia(h.textContent,A,s),g=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(w.suppressHydrationWarning!==!0&&Ia(h.textContent,A,s),g=["children",""+A]):o.hasOwnProperty(E)&&A!=null&&E==="onScroll"&&Ue("scroll",h)}switch(c){case"input":Xe(h),fa(h,w,!0);break;case"textarea":Xe(h),lm(h);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(h.onclick=La)}h=g,i.updateQueue=h,h!==null&&(i.flags|=4)}else{E=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=cm(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=E.createElement(c,{is:h.is}):(s=E.createElement(c),c==="select"&&(E=s,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):s=E.createElementNS(s,c),s[Nn]=i,s[so]=h,by(s,i,!1,!1),i.stateNode=s;e:{switch(E=Xc(c,h),c){case"dialog":Ue("cancel",s),Ue("close",s),g=h;break;case"iframe":case"object":case"embed":Ue("load",s),g=h;break;case"video":case"audio":for(g=0;g<to.length;g++)Ue(to[g],s);g=h;break;case"source":Ue("error",s),g=h;break;case"img":case"image":case"link":Ue("error",s),Ue("load",s),g=h;break;case"details":Ue("toggle",s),g=h;break;case"input":ua(s,h),g=ks(s,h),Ue("invalid",s);break;case"option":g=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},g=F({},h,{value:void 0}),Ue("invalid",s);break;case"textarea":om(s,h),g=Yc(s,h),Ue("invalid",s);break;default:g=h}Qc(c,g),A=g;for(w in A)if(A.hasOwnProperty(w)){var I=A[w];w==="style"?fm(s,I):w==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&um(s,I)):w==="children"?typeof I=="string"?(c!=="textarea"||I!=="")&&Mi(s,I):typeof I=="number"&&Mi(s,""+I):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(o.hasOwnProperty(w)?I!=null&&w==="onScroll"&&Ue("scroll",s):I!=null&&C(s,w,I,E))}switch(c){case"input":Xe(s),fa(s,h,!1);break;case"textarea":Xe(s),lm(s);break;case"option":h.value!=null&&s.setAttribute("value",""+_e(h.value));break;case"select":s.multiple=!!h.multiple,w=h.value,w!=null?Es(s,!!h.multiple,w,!1):h.defaultValue!=null&&Es(s,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=La)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return xt(i),null;case 6:if(s&&i.stateNode!=null)_y(s,i,s.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(n(166));if(c=Kr(co.current),Kr(Pn.current),za(i)){if(h=i.stateNode,c=i.memoizedProps,h[Nn]=i,(w=h.nodeValue!==c)&&(s=Ft,s!==null))switch(s.tag){case 3:Ia(h.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ia(h.nodeValue,c,(s.mode&1)!==0)}w&&(i.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Nn]=i,i.stateNode=h}return xt(i),null;case 13:if(ze(Ge),h=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Be&&Vt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)jg(),Vs(),i.flags|=98560,w=!1;else if(w=za(i),h!==null&&h.dehydrated!==null){if(s===null){if(!w)throw Error(n(318));if(w=i.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Nn]=i}else Vs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;xt(i),w=!1}else hn!==null&&(Cd(hn),hn=null),w=!0;if(!w)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(Ge.current&1)!==0?ot===0&&(ot=3):Ad())),i.updateQueue!==null&&(i.flags|=4),xt(i),null);case 4:return Ws(),yd(s,i),s===null&&no(i.stateNode.containerInfo),xt(i),null;case 10:return Hu(i.type._context),xt(i),null;case 17:return At(i.type)&&Da(),xt(i),null;case 19:if(ze(Ge),w=i.memoizedState,w===null)return xt(i),null;if(h=(i.flags&128)!==0,E=w.rendering,E===null)if(h)mo(w,!1);else{if(ot!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(E=qa(s),E!==null){for(i.flags|=128,mo(w,!1),h=E.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=c,c=i.child;c!==null;)w=c,s=h,w.flags&=14680066,E=w.alternate,E===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=E.childLanes,w.lanes=E.lanes,w.child=E.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=E.memoizedProps,w.memoizedState=E.memoizedState,w.updateQueue=E.updateQueue,w.type=E.type,s=E.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return De(Ge,Ge.current&1|2),i.child}s=s.sibling}w.tail!==null&&Ze()>qs&&(i.flags|=128,h=!0,mo(w,!1),i.lanes=4194304)}else{if(!h)if(s=qa(E),s!==null){if(i.flags|=128,h=!0,c=s.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),mo(w,!0),w.tail===null&&w.tailMode==="hidden"&&!E.alternate&&!Be)return xt(i),null}else 2*Ze()-w.renderingStartTime>qs&&c!==1073741824&&(i.flags|=128,h=!0,mo(w,!1),i.lanes=4194304);w.isBackwards?(E.sibling=i.child,i.child=E):(c=w.last,c!==null?c.sibling=E:i.child=E,w.last=E)}return w.tail!==null?(i=w.tail,w.rendering=i,w.tail=i.sibling,w.renderingStartTime=Ze(),i.sibling=null,c=Ge.current,De(Ge,h?c&1|2:c&1),i):(xt(i),null);case 22:case 23:return Pd(),h=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(Ut&1073741824)!==0&&(xt(i),i.subtreeFlags&6&&(i.flags|=8192)):xt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function LE(s,i){switch(Fu(i),i.tag){case 1:return At(i.type)&&Da(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Ws(),ze(Pt),ze(vt),Xu(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Ju(i),null;case 13:if(ze(Ge),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Vs()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return ze(Ge),null;case 4:return Ws(),null;case 10:return Hu(i.type._context),null;case 22:case 23:return Pd(),null;case 24:return null;default:return null}}var rl=!1,bt=!1,ME=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Gs(s,i){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){Je(s,i,h)}else c.current=null}function vd(s,i,c){try{c()}catch(h){Je(s,i,h)}}var ky=!1;function DE(s,i){if(Pu=_a,s=ng(),Su(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var E=0,A=-1,I=-1,B=0,q=0,Y=s,K=null;t:for(;;){for(var Z;Y!==c||g!==0&&Y.nodeType!==3||(A=E+g),Y!==w||h!==0&&Y.nodeType!==3||(I=E+h),Y.nodeType===3&&(E+=Y.nodeValue.length),(Z=Y.firstChild)!==null;)K=Y,Y=Z;for(;;){if(Y===s)break t;if(K===c&&++B===g&&(A=E),K===w&&++q===h&&(I=E),(Z=Y.nextSibling)!==null)break;Y=K,K=Y.parentNode}Y=Z}c=A===-1||I===-1?null:{start:A,end:I}}else c=null}c=c||{start:0,end:0}}else c=null;for(Au={focusedElem:s,selectionRange:c},_a=!1,ee=i;ee!==null;)if(i=ee,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,ee=s;else for(;ee!==null;){i=ee;try{var ne=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var oe=ne.memoizedProps,et=ne.memoizedState,V=i.stateNode,M=V.getSnapshotBeforeUpdate(i.elementType===i.type?oe:pn(i.type,oe),et);V.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var U=i.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(J){Je(i,i.return,J)}if(s=i.sibling,s!==null){s.return=i.return,ee=s;break}ee=i.return}return ne=ky,ky=!1,ne}function go(s,i,c){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&vd(i,c,w)}g=g.next}while(g!==h)}}function sl(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&s)===s){var h=c.create;c.destroy=h()}c=c.next}while(c!==i)}}function wd(s){var i=s.ref;if(i!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof i=="function"?i(s):i.current=s}}function Ey(s){var i=s.alternate;i!==null&&(s.alternate=null,Ey(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Nn],delete i[so],delete i[Lu],delete i[wE],delete i[xE])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function jy(s){return s.tag===5||s.tag===3||s.tag===4}function Ty(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||jy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function xd(s,i,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(s,i):c.insertBefore(s,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(s,c)):(i=c,i.appendChild(s)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=La));else if(h!==4&&(s=s.child,s!==null))for(xd(s,i,c),s=s.sibling;s!==null;)xd(s,i,c),s=s.sibling}function bd(s,i,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?c.insertBefore(s,i):c.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(bd(s,i,c),s=s.sibling;s!==null;)bd(s,i,c),s=s.sibling}var ft=null,mn=!1;function wr(s,i,c){for(c=c.child;c!==null;)Cy(s,i,c),c=c.sibling}function Cy(s,i,c){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(ya,c)}catch{}switch(c.tag){case 5:bt||Gs(c,i);case 6:var h=ft,g=mn;ft=null,wr(s,i,c),ft=h,mn=g,ft!==null&&(mn?(s=ft,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):ft.removeChild(c.stateNode));break;case 18:ft!==null&&(mn?(s=ft,c=c.stateNode,s.nodeType===8?Iu(s.parentNode,c):s.nodeType===1&&Iu(s,c),Ki(s)):Iu(ft,c.stateNode));break;case 4:h=ft,g=mn,ft=c.stateNode.containerInfo,mn=!0,wr(s,i,c),ft=h,mn=g;break;case 0:case 11:case 14:case 15:if(!bt&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var w=g,E=w.destroy;w=w.tag,E!==void 0&&((w&2)!==0||(w&4)!==0)&&vd(c,i,E),g=g.next}while(g!==h)}wr(s,i,c);break;case 1:if(!bt&&(Gs(c,i),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(A){Je(c,i,A)}wr(s,i,c);break;case 21:wr(s,i,c);break;case 22:c.mode&1?(bt=(h=bt)||c.memoizedState!==null,wr(s,i,c),bt=h):wr(s,i,c);break;default:wr(s,i,c)}}function Ny(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new ME),i.forEach(function(h){var g=GE.bind(null,s,h);c.has(h)||(c.add(h),h.then(g,g))})}}function gn(s,i){var c=i.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];try{var w=s,E=i,A=E;e:for(;A!==null;){switch(A.tag){case 5:ft=A.stateNode,mn=!1;break e;case 3:ft=A.stateNode.containerInfo,mn=!0;break e;case 4:ft=A.stateNode.containerInfo,mn=!0;break e}A=A.return}if(ft===null)throw Error(n(160));Cy(w,E,g),ft=null,mn=!1;var I=g.alternate;I!==null&&(I.return=null),g.return=null}catch(B){Je(g,i,B)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Py(i,s),i=i.sibling}function Py(s,i){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(gn(i,s),Rn(s),h&4){try{go(3,s,s.return),sl(3,s)}catch(oe){Je(s,s.return,oe)}try{go(5,s,s.return)}catch(oe){Je(s,s.return,oe)}}break;case 1:gn(i,s),Rn(s),h&512&&c!==null&&Gs(c,c.return);break;case 5:if(gn(i,s),Rn(s),h&512&&c!==null&&Gs(c,c.return),s.flags&32){var g=s.stateNode;try{Mi(g,"")}catch(oe){Je(s,s.return,oe)}}if(h&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,E=c!==null?c.memoizedProps:w,A=s.type,I=s.updateQueue;if(s.updateQueue=null,I!==null)try{A==="input"&&w.type==="radio"&&w.name!=null&&da(g,w),Xc(A,E);var B=Xc(A,w);for(E=0;E<I.length;E+=2){var q=I[E],Y=I[E+1];q==="style"?fm(g,Y):q==="dangerouslySetInnerHTML"?um(g,Y):q==="children"?Mi(g,Y):C(g,q,Y,B)}switch(A){case"input":Ii(g,w);break;case"textarea":am(g,w);break;case"select":var K=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var Z=w.value;Z!=null?Es(g,!!w.multiple,Z,!1):K!==!!w.multiple&&(w.defaultValue!=null?Es(g,!!w.multiple,w.defaultValue,!0):Es(g,!!w.multiple,w.multiple?[]:"",!1))}g[so]=w}catch(oe){Je(s,s.return,oe)}}break;case 6:if(gn(i,s),Rn(s),h&4){if(s.stateNode===null)throw Error(n(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(oe){Je(s,s.return,oe)}}break;case 3:if(gn(i,s),Rn(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Ki(i.containerInfo)}catch(oe){Je(s,s.return,oe)}break;case 4:gn(i,s),Rn(s);break;case 13:gn(i,s),Rn(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(kd=Ze())),h&4&&Ny(s);break;case 22:if(q=c!==null&&c.memoizedState!==null,s.mode&1?(bt=(B=bt)||q,gn(i,s),bt=B):gn(i,s),Rn(s),h&8192){if(B=s.memoizedState!==null,(s.stateNode.isHidden=B)&&!q&&(s.mode&1)!==0)for(ee=s,q=s.child;q!==null;){for(Y=ee=q;ee!==null;){switch(K=ee,Z=K.child,K.tag){case 0:case 11:case 14:case 15:go(4,K,K.return);break;case 1:Gs(K,K.return);var ne=K.stateNode;if(typeof ne.componentWillUnmount=="function"){h=K,c=K.return;try{i=h,ne.props=i.memoizedProps,ne.state=i.memoizedState,ne.componentWillUnmount()}catch(oe){Je(h,c,oe)}}break;case 5:Gs(K,K.return);break;case 22:if(K.memoizedState!==null){Oy(Y);continue}}Z!==null?(Z.return=K,ee=Z):Oy(Y)}q=q.sibling}e:for(q=null,Y=s;;){if(Y.tag===5){if(q===null){q=Y;try{g=Y.stateNode,B?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(A=Y.stateNode,I=Y.memoizedProps.style,E=I!=null&&I.hasOwnProperty("display")?I.display:null,A.style.display=dm("display",E))}catch(oe){Je(s,s.return,oe)}}}else if(Y.tag===6){if(q===null)try{Y.stateNode.nodeValue=B?"":Y.memoizedProps}catch(oe){Je(s,s.return,oe)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===s)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===s)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===s)break e;q===Y&&(q=null),Y=Y.return}q===Y&&(q=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:gn(i,s),Rn(s),h&4&&Ny(s);break;case 21:break;default:gn(i,s),Rn(s)}}function Rn(s){var i=s.flags;if(i&2){try{e:{for(var c=s.return;c!==null;){if(jy(c)){var h=c;break e}c=c.return}throw Error(n(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Mi(g,""),h.flags&=-33);var w=Ty(s);bd(s,w,g);break;case 3:case 4:var E=h.stateNode.containerInfo,A=Ty(s);xd(s,A,E);break;default:throw Error(n(161))}}catch(I){Je(s,s.return,I)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function $E(s,i,c){ee=s,Ay(s)}function Ay(s,i,c){for(var h=(s.mode&1)!==0;ee!==null;){var g=ee,w=g.child;if(g.tag===22&&h){var E=g.memoizedState!==null||rl;if(!E){var A=g.alternate,I=A!==null&&A.memoizedState!==null||bt;A=rl;var B=bt;if(rl=E,(bt=I)&&!B)for(ee=g;ee!==null;)E=ee,I=E.child,E.tag===22&&E.memoizedState!==null?Iy(g):I!==null?(I.return=E,ee=I):Iy(g);for(;w!==null;)ee=w,Ay(w),w=w.sibling;ee=g,rl=A,bt=B}Ry(s)}else(g.subtreeFlags&8772)!==0&&w!==null?(w.return=g,ee=w):Ry(s)}}function Ry(s){for(;ee!==null;){var i=ee;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:bt||sl(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!bt)if(c===null)h.componentDidMount();else{var g=i.elementType===i.type?c.memoizedProps:pn(i.type,c.memoizedProps);h.componentDidUpdate(g,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var w=i.updateQueue;w!==null&&Og(i,w,h);break;case 3:var E=i.updateQueue;if(E!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}Og(i,E,c)}break;case 5:var A=i.stateNode;if(c===null&&i.flags&4){c=A;var I=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&c.focus();break;case"img":I.src&&(c.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var B=i.alternate;if(B!==null){var q=B.memoizedState;if(q!==null){var Y=q.dehydrated;Y!==null&&Ki(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}bt||i.flags&512&&wd(i)}catch(K){Je(i,i.return,K)}}if(i===s){ee=null;break}if(c=i.sibling,c!==null){c.return=i.return,ee=c;break}ee=i.return}}function Oy(s){for(;ee!==null;){var i=ee;if(i===s){ee=null;break}var c=i.sibling;if(c!==null){c.return=i.return,ee=c;break}ee=i.return}}function Iy(s){for(;ee!==null;){var i=ee;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{sl(4,i)}catch(I){Je(i,c,I)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var g=i.return;try{h.componentDidMount()}catch(I){Je(i,g,I)}}var w=i.return;try{wd(i)}catch(I){Je(i,w,I)}break;case 5:var E=i.return;try{wd(i)}catch(I){Je(i,E,I)}}}catch(I){Je(i,i.return,I)}if(i===s){ee=null;break}var A=i.sibling;if(A!==null){A.return=i.return,ee=A;break}ee=i.return}}var FE=Math.ceil,il=N.ReactCurrentDispatcher,Sd=N.ReactCurrentOwner,Xt=N.ReactCurrentBatchConfig,Re=0,ut=null,nt=null,ht=0,Ut=0,Ks=pr(0),ot=0,yo=null,Yr=0,ol=0,_d=0,vo=null,Ot=null,kd=0,qs=1/0,Jn=null,al=!1,Ed=null,xr=null,ll=!1,br=null,cl=0,wo=0,jd=null,ul=-1,dl=0;function Et(){return(Re&6)!==0?Ze():ul!==-1?ul:ul=Ze()}function Sr(s){return(s.mode&1)===0?1:(Re&2)!==0&&ht!==0?ht&-ht:SE.transition!==null?(dl===0&&(dl=Tm()),dl):(s=Le,s!==0||(s=window.event,s=s===void 0?16:Mm(s.type)),s)}function yn(s,i,c,h){if(50<wo)throw wo=0,jd=null,Error(n(185));zi(s,c,h),((Re&2)===0||s!==ut)&&(s===ut&&((Re&2)===0&&(ol|=c),ot===4&&_r(s,ht)),It(s,h),c===1&&Re===0&&(i.mode&1)===0&&(qs=Ze()+500,Fa&&gr()))}function It(s,i){var c=s.callbackNode;Sk(s,i);var h=xa(s,s===ut?ht:0);if(h===0)c!==null&&km(c),s.callbackNode=null,s.callbackPriority=0;else if(i=h&-h,s.callbackPriority!==i){if(c!=null&&km(c),i===1)s.tag===0?bE(My.bind(null,s)):bg(My.bind(null,s)),yE(function(){(Re&6)===0&&gr()}),c=null;else{switch(Cm(h)){case 1:c=iu;break;case 4:c=Em;break;case 16:c=ga;break;case 536870912:c=jm;break;default:c=ga}c=Wy(c,Ly.bind(null,s))}s.callbackPriority=i,s.callbackNode=c}}function Ly(s,i){if(ul=-1,dl=0,(Re&6)!==0)throw Error(n(327));var c=s.callbackNode;if(Ys()&&s.callbackNode!==c)return null;var h=xa(s,s===ut?ht:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||i)i=fl(s,h);else{i=h;var g=Re;Re|=2;var w=$y();(ut!==s||ht!==i)&&(Jn=null,qs=Ze()+500,Qr(s,i));do try{zE();break}catch(A){Dy(s,A)}while(!0);Wu(),il.current=w,Re=g,nt!==null?i=0:(ut=null,ht=0,i=ot)}if(i!==0){if(i===2&&(g=ou(s),g!==0&&(h=g,i=Td(s,g))),i===1)throw c=yo,Qr(s,0),_r(s,h),It(s,Ze()),c;if(i===6)_r(s,h);else{if(g=s.current.alternate,(h&30)===0&&!VE(g)&&(i=fl(s,h),i===2&&(w=ou(s),w!==0&&(h=w,i=Td(s,w))),i===1))throw c=yo,Qr(s,0),_r(s,h),It(s,Ze()),c;switch(s.finishedWork=g,s.finishedLanes=h,i){case 0:case 1:throw Error(n(345));case 2:Xr(s,Ot,Jn);break;case 3:if(_r(s,h),(h&130023424)===h&&(i=kd+500-Ze(),10<i)){if(xa(s,0)!==0)break;if(g=s.suspendedLanes,(g&h)!==h){Et(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Ou(Xr.bind(null,s,Ot,Jn),i);break}Xr(s,Ot,Jn);break;case 4:if(_r(s,h),(h&4194240)===h)break;for(i=s.eventTimes,g=-1;0<h;){var E=31-dn(h);w=1<<E,E=i[E],E>g&&(g=E),h&=~w}if(h=g,h=Ze()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*FE(h/1960))-h,10<h){s.timeoutHandle=Ou(Xr.bind(null,s,Ot,Jn),h);break}Xr(s,Ot,Jn);break;case 5:Xr(s,Ot,Jn);break;default:throw Error(n(329))}}}return It(s,Ze()),s.callbackNode===c?Ly.bind(null,s):null}function Td(s,i){var c=vo;return s.current.memoizedState.isDehydrated&&(Qr(s,i).flags|=256),s=fl(s,i),s!==2&&(i=Ot,Ot=c,i!==null&&Cd(i)),s}function Cd(s){Ot===null?Ot=s:Ot.push.apply(Ot,s)}function VE(s){for(var i=s;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var g=c[h],w=g.getSnapshot;g=g.value;try{if(!fn(w(),g))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function _r(s,i){for(i&=~_d,i&=~ol,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var c=31-dn(i),h=1<<c;s[c]=-1,i&=~h}}function My(s){if((Re&6)!==0)throw Error(n(327));Ys();var i=xa(s,0);if((i&1)===0)return It(s,Ze()),null;var c=fl(s,i);if(s.tag!==0&&c===2){var h=ou(s);h!==0&&(i=h,c=Td(s,h))}if(c===1)throw c=yo,Qr(s,0),_r(s,i),It(s,Ze()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Xr(s,Ot,Jn),It(s,Ze()),null}function Nd(s,i){var c=Re;Re|=1;try{return s(i)}finally{Re=c,Re===0&&(qs=Ze()+500,Fa&&gr())}}function Jr(s){br!==null&&br.tag===0&&(Re&6)===0&&Ys();var i=Re;Re|=1;var c=Xt.transition,h=Le;try{if(Xt.transition=null,Le=1,s)return s()}finally{Le=h,Xt.transition=c,Re=i,(Re&6)===0&&gr()}}function Pd(){Ut=Ks.current,ze(Ks)}function Qr(s,i){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,gE(c)),nt!==null)for(c=nt.return;c!==null;){var h=c;switch(Fu(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Da();break;case 3:Ws(),ze(Pt),ze(vt),Xu();break;case 5:Ju(h);break;case 4:Ws();break;case 13:ze(Ge);break;case 19:ze(Ge);break;case 10:Hu(h.type._context);break;case 22:case 23:Pd()}c=c.return}if(ut=s,nt=s=kr(s.current,null),ht=Ut=i,ot=0,yo=null,_d=ol=Yr=0,Ot=vo=null,Gr!==null){for(i=0;i<Gr.length;i++)if(c=Gr[i],h=c.interleaved,h!==null){c.interleaved=null;var g=h.next,w=c.pending;if(w!==null){var E=w.next;w.next=g,h.next=E}c.pending=h}Gr=null}return s}function Dy(s,i){do{var c=nt;try{if(Wu(),Ya.current=Za,Ja){for(var h=Ke.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Ja=!1}if(qr=0,ct=it=Ke=null,uo=!1,fo=0,Sd.current=null,c===null||c.return===null){ot=1,yo=i,nt=null;break}e:{var w=s,E=c.return,A=c,I=i;if(i=ht,A.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var B=I,q=A,Y=q.tag;if((q.mode&1)===0&&(Y===0||Y===11||Y===15)){var K=q.alternate;K?(q.updateQueue=K.updateQueue,q.memoizedState=K.memoizedState,q.lanes=K.lanes):(q.updateQueue=null,q.memoizedState=null)}var Z=ly(E);if(Z!==null){Z.flags&=-257,cy(Z,E,A,w,i),Z.mode&1&&ay(w,B,i),i=Z,I=B;var ne=i.updateQueue;if(ne===null){var oe=new Set;oe.add(I),i.updateQueue=oe}else ne.add(I);break e}else{if((i&1)===0){ay(w,B,i),Ad();break e}I=Error(n(426))}}else if(Be&&A.mode&1){var et=ly(E);if(et!==null){(et.flags&65536)===0&&(et.flags|=256),cy(et,E,A,w,i),zu(Hs(I,A));break e}}w=I=Hs(I,A),ot!==4&&(ot=2),vo===null?vo=[w]:vo.push(w),w=E;do{switch(w.tag){case 3:w.flags|=65536,i&=-i,w.lanes|=i;var V=iy(w,I,i);Rg(w,V);break e;case 1:A=I;var M=w.type,U=w.stateNode;if((w.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(xr===null||!xr.has(U)))){w.flags|=65536,i&=-i,w.lanes|=i;var J=oy(w,A,i);Rg(w,J);break e}}w=w.return}while(w!==null)}Vy(c)}catch(le){i=le,nt===c&&c!==null&&(nt=c=c.return);continue}break}while(!0)}function $y(){var s=il.current;return il.current=Za,s===null?Za:s}function Ad(){(ot===0||ot===3||ot===2)&&(ot=4),ut===null||(Yr&268435455)===0&&(ol&268435455)===0||_r(ut,ht)}function fl(s,i){var c=Re;Re|=2;var h=$y();(ut!==s||ht!==i)&&(Jn=null,Qr(s,i));do try{UE();break}catch(g){Dy(s,g)}while(!0);if(Wu(),Re=c,il.current=h,nt!==null)throw Error(n(261));return ut=null,ht=0,ot}function UE(){for(;nt!==null;)Fy(nt)}function zE(){for(;nt!==null&&!hk();)Fy(nt)}function Fy(s){var i=By(s.alternate,s,Ut);s.memoizedProps=s.pendingProps,i===null?Vy(s):nt=i,Sd.current=null}function Vy(s){var i=s;do{var c=i.alternate;if(s=i.return,(i.flags&32768)===0){if(c=IE(c,i,Ut),c!==null){nt=c;return}}else{if(c=LE(c,i),c!==null){c.flags&=32767,nt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{ot=6,nt=null;return}}if(i=i.sibling,i!==null){nt=i;return}nt=i=s}while(i!==null);ot===0&&(ot=5)}function Xr(s,i,c){var h=Le,g=Xt.transition;try{Xt.transition=null,Le=1,BE(s,i,c,h)}finally{Xt.transition=g,Le=h}return null}function BE(s,i,c,h){do Ys();while(br!==null);if((Re&6)!==0)throw Error(n(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var w=c.lanes|c.childLanes;if(_k(s,w),s===ut&&(nt=ut=null,ht=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||ll||(ll=!0,Wy(ga,function(){return Ys(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=Xt.transition,Xt.transition=null;var E=Le;Le=1;var A=Re;Re|=4,Sd.current=null,DE(s,c),Py(c,s),cE(Au),_a=!!Pu,Au=Pu=null,s.current=c,$E(c),pk(),Re=A,Le=E,Xt.transition=w}else s.current=c;if(ll&&(ll=!1,br=s,cl=g),w=s.pendingLanes,w===0&&(xr=null),yk(c.stateNode),It(s,Ze()),i!==null)for(h=s.onRecoverableError,c=0;c<i.length;c++)g=i[c],h(g.value,{componentStack:g.stack,digest:g.digest});if(al)throw al=!1,s=Ed,Ed=null,s;return(cl&1)!==0&&s.tag!==0&&Ys(),w=s.pendingLanes,(w&1)!==0?s===jd?wo++:(wo=0,jd=s):wo=0,gr(),null}function Ys(){if(br!==null){var s=Cm(cl),i=Xt.transition,c=Le;try{if(Xt.transition=null,Le=16>s?16:s,br===null)var h=!1;else{if(s=br,br=null,cl=0,(Re&6)!==0)throw Error(n(331));var g=Re;for(Re|=4,ee=s.current;ee!==null;){var w=ee,E=w.child;if((ee.flags&16)!==0){var A=w.deletions;if(A!==null){for(var I=0;I<A.length;I++){var B=A[I];for(ee=B;ee!==null;){var q=ee;switch(q.tag){case 0:case 11:case 15:go(8,q,w)}var Y=q.child;if(Y!==null)Y.return=q,ee=Y;else for(;ee!==null;){q=ee;var K=q.sibling,Z=q.return;if(Ey(q),q===B){ee=null;break}if(K!==null){K.return=Z,ee=K;break}ee=Z}}}var ne=w.alternate;if(ne!==null){var oe=ne.child;if(oe!==null){ne.child=null;do{var et=oe.sibling;oe.sibling=null,oe=et}while(oe!==null)}}ee=w}}if((w.subtreeFlags&2064)!==0&&E!==null)E.return=w,ee=E;else e:for(;ee!==null;){if(w=ee,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:go(9,w,w.return)}var V=w.sibling;if(V!==null){V.return=w.return,ee=V;break e}ee=w.return}}var M=s.current;for(ee=M;ee!==null;){E=ee;var U=E.child;if((E.subtreeFlags&2064)!==0&&U!==null)U.return=E,ee=U;else e:for(E=M;ee!==null;){if(A=ee,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:sl(9,A)}}catch(le){Je(A,A.return,le)}if(A===E){ee=null;break e}var J=A.sibling;if(J!==null){J.return=A.return,ee=J;break e}ee=A.return}}if(Re=g,gr(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(ya,s)}catch{}h=!0}return h}finally{Le=c,Xt.transition=i}}return!1}function Uy(s,i,c){i=Hs(c,i),i=iy(s,i,1),s=vr(s,i,1),i=Et(),s!==null&&(zi(s,1,i),It(s,i))}function Je(s,i,c){if(s.tag===3)Uy(s,s,c);else for(;i!==null;){if(i.tag===3){Uy(i,s,c);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(xr===null||!xr.has(h))){s=Hs(c,s),s=oy(i,s,1),i=vr(i,s,1),s=Et(),i!==null&&(zi(i,1,s),It(i,s));break}}i=i.return}}function WE(s,i,c){var h=s.pingCache;h!==null&&h.delete(i),i=Et(),s.pingedLanes|=s.suspendedLanes&c,ut===s&&(ht&c)===c&&(ot===4||ot===3&&(ht&130023424)===ht&&500>Ze()-kd?Qr(s,0):_d|=c),It(s,i)}function zy(s,i){i===0&&((s.mode&1)===0?i=1:(i=wa,wa<<=1,(wa&130023424)===0&&(wa=4194304)));var c=Et();s=Kn(s,i),s!==null&&(zi(s,i,c),It(s,c))}function HE(s){var i=s.memoizedState,c=0;i!==null&&(c=i.retryLane),zy(s,c)}function GE(s,i){var c=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(i),zy(s,c)}var By;By=function(s,i,c){if(s!==null)if(s.memoizedProps!==i.pendingProps||Pt.current)Rt=!0;else{if((s.lanes&c)===0&&(i.flags&128)===0)return Rt=!1,OE(s,i,c);Rt=(s.flags&131072)!==0}else Rt=!1,Be&&(i.flags&1048576)!==0&&Sg(i,Ua,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;nl(s,i),s=i.pendingProps;var g=Ds(i,vt.current);Bs(i,c),g=td(null,i,h,s,g,c);var w=nd();return i.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,At(h)?(w=!0,$a(i)):w=!1,i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,qu(i),g.updater=el,i.stateNode=g,g._reactInternals=i,ld(i,h,s,c),i=fd(null,i,h,!0,w,c)):(i.tag=0,Be&&w&&$u(i),kt(null,i,g,c),i=i.child),i;case 16:h=i.elementType;e:{switch(nl(s,i),s=i.pendingProps,g=h._init,h=g(h._payload),i.type=h,g=i.tag=qE(h),s=pn(h,s),g){case 0:i=dd(null,i,h,s,c);break e;case 1:i=my(null,i,h,s,c);break e;case 11:i=uy(null,i,h,s,c);break e;case 14:i=dy(null,i,h,pn(h.type,s),c);break e}throw Error(n(306,h,""))}return i;case 0:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:pn(h,g),dd(s,i,h,g,c);case 1:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:pn(h,g),my(s,i,h,g,c);case 3:e:{if(gy(i),s===null)throw Error(n(387));h=i.pendingProps,w=i.memoizedState,g=w.element,Ag(s,i),Ka(i,h,null,c);var E=i.memoizedState;if(h=E.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=w,i.memoizedState=w,i.flags&256){g=Hs(Error(n(423)),i),i=yy(s,i,h,c,g);break e}else if(h!==g){g=Hs(Error(n(424)),i),i=yy(s,i,h,c,g);break e}else for(Vt=hr(i.stateNode.containerInfo.firstChild),Ft=i,Be=!0,hn=null,c=Ng(i,null,h,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Vs(),h===g){i=Yn(s,i,c);break e}kt(s,i,h,c)}i=i.child}return i;case 5:return Ig(i),s===null&&Uu(i),h=i.type,g=i.pendingProps,w=s!==null?s.memoizedProps:null,E=g.children,Ru(h,g)?E=null:w!==null&&Ru(h,w)&&(i.flags|=32),py(s,i),kt(s,i,E,c),i.child;case 6:return s===null&&Uu(i),null;case 13:return vy(s,i,c);case 4:return Yu(i,i.stateNode.containerInfo),h=i.pendingProps,s===null?i.child=Us(i,null,h,c):kt(s,i,h,c),i.child;case 11:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:pn(h,g),uy(s,i,h,g,c);case 7:return kt(s,i,i.pendingProps,c),i.child;case 8:return kt(s,i,i.pendingProps.children,c),i.child;case 12:return kt(s,i,i.pendingProps.children,c),i.child;case 10:e:{if(h=i.type._context,g=i.pendingProps,w=i.memoizedProps,E=g.value,De(Wa,h._currentValue),h._currentValue=E,w!==null)if(fn(w.value,E)){if(w.children===g.children&&!Pt.current){i=Yn(s,i,c);break e}}else for(w=i.child,w!==null&&(w.return=i);w!==null;){var A=w.dependencies;if(A!==null){E=w.child;for(var I=A.firstContext;I!==null;){if(I.context===h){if(w.tag===1){I=qn(-1,c&-c),I.tag=2;var B=w.updateQueue;if(B!==null){B=B.shared;var q=B.pending;q===null?I.next=I:(I.next=q.next,q.next=I),B.pending=I}}w.lanes|=c,I=w.alternate,I!==null&&(I.lanes|=c),Gu(w.return,c,i),A.lanes|=c;break}I=I.next}}else if(w.tag===10)E=w.type===i.type?null:w.child;else if(w.tag===18){if(E=w.return,E===null)throw Error(n(341));E.lanes|=c,A=E.alternate,A!==null&&(A.lanes|=c),Gu(E,c,i),E=w.sibling}else E=w.child;if(E!==null)E.return=w;else for(E=w;E!==null;){if(E===i){E=null;break}if(w=E.sibling,w!==null){w.return=E.return,E=w;break}E=E.return}w=E}kt(s,i,g.children,c),i=i.child}return i;case 9:return g=i.type,h=i.pendingProps.children,Bs(i,c),g=Jt(g),h=h(g),i.flags|=1,kt(s,i,h,c),i.child;case 14:return h=i.type,g=pn(h,i.pendingProps),g=pn(h.type,g),dy(s,i,h,g,c);case 15:return fy(s,i,i.type,i.pendingProps,c);case 17:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:pn(h,g),nl(s,i),i.tag=1,At(h)?(s=!0,$a(i)):s=!1,Bs(i,c),ry(i,h,g),ld(i,h,g,c),fd(null,i,h,!0,s,c);case 19:return xy(s,i,c);case 22:return hy(s,i,c)}throw Error(n(156,i.tag))};function Wy(s,i){return _m(s,i)}function KE(s,i,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(s,i,c,h){return new KE(s,i,c,h)}function Rd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function qE(s){if(typeof s=="function")return Rd(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Ee)return 11;if(s===Se)return 14}return 2}function kr(s,i){var c=s.alternate;return c===null?(c=Zt(s.tag,i,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=i,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,i=s.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function hl(s,i,c,h,g,w){var E=2;if(h=s,typeof s=="function")Rd(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case $:return Zr(c.children,g,w,i);case D:E=8,g|=8;break;case G:return s=Zt(12,c,i,g|2),s.elementType=G,s.lanes=w,s;case ye:return s=Zt(13,c,i,g),s.elementType=ye,s.lanes=w,s;case ve:return s=Zt(19,c,i,g),s.elementType=ve,s.lanes=w,s;case z:return pl(c,g,w,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case X:E=10;break e;case fe:E=9;break e;case Ee:E=11;break e;case Se:E=14;break e;case ce:E=16,h=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return i=Zt(E,c,i,g),i.elementType=s,i.type=h,i.lanes=w,i}function Zr(s,i,c,h){return s=Zt(7,s,h,i),s.lanes=c,s}function pl(s,i,c,h){return s=Zt(22,s,h,i),s.elementType=z,s.lanes=c,s.stateNode={isHidden:!1},s}function Od(s,i,c){return s=Zt(6,s,null,i),s.lanes=c,s}function Id(s,i,c){return i=Zt(4,s.children!==null?s.children:[],s.key,i),i.lanes=c,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function YE(s,i,c,h,g){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=au(0),this.expirationTimes=au(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=au(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Ld(s,i,c,h,g,w,E,A,I){return s=new YE(s,i,c,A,I),i===1?(i=1,w===!0&&(i|=8)):i=0,w=Zt(3,null,null,i),s.current=w,w.stateNode=s,w.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},qu(w),s}function JE(s,i,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:h==null?null:""+h,children:s,containerInfo:i,implementation:c}}function Hy(s){if(!s)return mr;s=s._reactInternals;e:{if(Ur(s)!==s||s.tag!==1)throw Error(n(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(At(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(At(c))return wg(s,c,i)}return i}function Gy(s,i,c,h,g,w,E,A,I){return s=Ld(c,h,!0,s,g,w,E,A,I),s.context=Hy(null),c=s.current,h=Et(),g=Sr(c),w=qn(h,g),w.callback=i??null,vr(c,w,g),s.current.lanes=g,zi(s,g,h),It(s,h),s}function ml(s,i,c,h){var g=i.current,w=Et(),E=Sr(g);return c=Hy(c),i.context===null?i.context=c:i.pendingContext=c,i=qn(w,E),i.payload={element:s},h=h===void 0?null:h,h!==null&&(i.callback=h),s=vr(g,i,E),s!==null&&(yn(s,g,E,w),Ga(s,g,E)),E}function gl(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Ky(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<i?c:i}}function Md(s,i){Ky(s,i),(s=s.alternate)&&Ky(s,i)}function QE(){return null}var qy=typeof reportError=="function"?reportError:function(s){console.error(s)};function Dd(s){this._internalRoot=s}yl.prototype.render=Dd.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));ml(s,i,null,null)},yl.prototype.unmount=Dd.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Jr(function(){ml(null,s,null,null)}),i[Bn]=null}};function yl(s){this._internalRoot=s}yl.prototype.unstable_scheduleHydration=function(s){if(s){var i=Am();s={blockedOn:null,target:s,priority:i};for(var c=0;c<ur.length&&i!==0&&i<ur[c].priority;c++);ur.splice(c,0,s),c===0&&Im(s)}};function $d(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function vl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Yy(){}function XE(s,i,c,h,g){if(g){if(typeof h=="function"){var w=h;h=function(){var B=gl(E);w.call(B)}}var E=Gy(i,h,s,0,null,!1,!1,"",Yy);return s._reactRootContainer=E,s[Bn]=E.current,no(s.nodeType===8?s.parentNode:s),Jr(),E}for(;g=s.lastChild;)s.removeChild(g);if(typeof h=="function"){var A=h;h=function(){var B=gl(I);A.call(B)}}var I=Ld(s,0,!1,null,null,!1,!1,"",Yy);return s._reactRootContainer=I,s[Bn]=I.current,no(s.nodeType===8?s.parentNode:s),Jr(function(){ml(i,I,c,h)}),I}function wl(s,i,c,h,g){var w=c._reactRootContainer;if(w){var E=w;if(typeof g=="function"){var A=g;g=function(){var I=gl(E);A.call(I)}}ml(i,E,s,g)}else E=XE(c,i,s,g,h);return gl(E)}Nm=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var c=Ui(i.pendingLanes);c!==0&&(lu(i,c|1),It(i,Ze()),(Re&6)===0&&(qs=Ze()+500,gr()))}break;case 13:Jr(function(){var h=Kn(s,1);if(h!==null){var g=Et();yn(h,s,1,g)}}),Md(s,1)}},cu=function(s){if(s.tag===13){var i=Kn(s,134217728);if(i!==null){var c=Et();yn(i,s,134217728,c)}Md(s,134217728)}},Pm=function(s){if(s.tag===13){var i=Sr(s),c=Kn(s,i);if(c!==null){var h=Et();yn(c,s,i,h)}Md(s,i)}},Am=function(){return Le},Rm=function(s,i){var c=Le;try{return Le=s,i()}finally{Le=c}},tu=function(s,i,c){switch(i){case"input":if(Ii(s,c),i=c.name,c.type==="radio"&&i!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var h=c[i];if(h!==s&&h.form===s.form){var g=Ma(h);if(!g)throw Error(n(90));Nt(h),Ii(h,g)}}}break;case"textarea":am(s,c);break;case"select":i=c.value,i!=null&&Es(s,!!c.multiple,i,!1)}},gm=Nd,ym=Jr;var ZE={usingClientEntryPoint:!1,Events:[io,Ls,Ma,pm,mm,Nd]},xo={findFiberByHostInstance:zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ej={bundleType:xo.bundleType,version:xo.version,rendererPackageName:xo.rendererPackageName,rendererConfig:xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=bm(s),s===null?null:s.stateNode},findFiberByHostInstance:xo.findFiberByHostInstance||QE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{ya=xl.inject(ej),Cn=xl}catch{}}return Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZE,Lt.createPortal=function(s,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$d(i))throw Error(n(200));return JE(s,i,null,c)},Lt.createRoot=function(s,i){if(!$d(s))throw Error(n(299));var c=!1,h="",g=qy;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=Ld(s,1,!1,null,null,c,!1,h,g),s[Bn]=i.current,no(s.nodeType===8?s.parentNode:s),new Dd(i)},Lt.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=bm(i),s=s===null?null:s.stateNode,s},Lt.flushSync=function(s){return Jr(s)},Lt.hydrate=function(s,i,c){if(!vl(i))throw Error(n(200));return wl(null,s,i,!0,c)},Lt.hydrateRoot=function(s,i,c){if(!$d(s))throw Error(n(405));var h=c!=null&&c.hydratedSources||null,g=!1,w="",E=qy;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(E=c.onRecoverableError)),i=Gy(i,null,s,1,c??null,g,!1,w,E),s[Bn]=i.current,no(s),h)for(s=0;s<h.length;s++)c=h[s],g=c._getVersion,g=g(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,g]:i.mutableSourceEagerHydrationData.push(c,g);return new yl(i)},Lt.render=function(s,i,c){if(!vl(i))throw Error(n(200));return wl(null,s,i,!1,c)},Lt.unmountComponentAtNode=function(s){if(!vl(s))throw Error(n(40));return s._reactRootContainer?(Jr(function(){wl(null,null,s,!1,function(){s._reactRootContainer=null,s[Bn]=null})}),!0):!1},Lt.unstable_batchedUpdates=Nd,Lt.unstable_renderSubtreeIntoContainer=function(s,i,c,h){if(!vl(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return wl(s,i,c,!1,h)},Lt.version="18.3.1-next-f1338f8080-20240426",Lt}var rv;function zw(){if(rv)return Ud.exports;rv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ud.exports=uj(),Ud.exports}var sv;function dj(){if(sv)return bl;sv=1;var t=zw();return bl.createRoot=t.createRoot,bl.hydrateRoot=t.hydrateRoot,bl}var fj=dj(),b=Ah();const Tt=Ph(b),Bw=sj({__proto__:null,default:Tt},[b]);function iv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ww(...t){return e=>{let n=!1;const r=t.map(o=>{const a=iv(o,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():iv(t[o],null)}}}}function Ve(...t){return b.useCallback(Ww(...t),t)}function Uo(t){const e=hj(t),n=b.forwardRef((r,o)=>{const{children:a,...l}=r,u=b.Children.toArray(a),f=u.find(mj);if(f){const p=f.props.children,m=u.map(y=>y===f?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:y);return d.jsx(e,{...l,ref:o,children:b.isValidElement(p)?b.cloneElement(p,void 0,m):null})}return d.jsx(e,{...l,ref:o,children:a})});return n.displayName=`${t}.Slot`,n}var Hw=Uo("Slot");function hj(t){const e=b.forwardRef((n,r)=>{const{children:o,...a}=n;if(b.isValidElement(o)){const l=yj(o),u=gj(a,o.props);return o.type!==b.Fragment&&(u.ref=r?Ww(r,l):l),b.cloneElement(o,u)}return b.Children.count(o)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Gw=Symbol("radix.slottable");function pj(t){const e=({children:n})=>d.jsx(d.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Gw,e}function mj(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Gw}function gj(t,e){const n={...e};for(const r in e){const o=t[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...u)=>{const f=a(...u);return o(...u),f}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...t,...n}}function yj(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Kw(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=Kw(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function qw(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=Kw(t))&&(r&&(r+=" "),r+=e);return r}const ov=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,av=qw,Rh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return av(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:a}=e,l=Object.keys(o).map(p=>{const m=n==null?void 0:n[p],y=a==null?void 0:a[p];if(m===null)return null;const v=ov(m)||ov(y);return o[p][v]}),u=n&&Object.entries(n).reduce((p,m)=>{let[y,v]=m;return v===void 0||(p[y]=v),p},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,m)=>{let{class:y,className:v,...x}=m;return Object.entries(x).every(_=>{let[S,k]=_;return Array.isArray(k)?k.includes({...a,...u}[S]):{...a,...u}[S]===k})?[...p,y,v]:p},[]);return av(t,l,f,n==null?void 0:n.class,n==null?void 0:n.className)},Oh="-",vj=t=>{const e=xj(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const u=l.split(Oh);return u[0]===""&&u.length!==1&&u.shift(),Yw(u,e)||wj(l)},getConflictingClassGroupIds:(l,u)=>{const f=n[l]||[];return u&&r[l]?[...f,...r[l]]:f}}},Yw=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),o=r?Yw(t.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const a=t.join(Oh);return(l=e.validators.find(({validator:u})=>u(a)))==null?void 0:l.classGroupId},lv=/^\[(.+)\]$/,wj=t=>{if(lv.test(t)){const e=lv.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},xj=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const o in n)Cf(n[o],r,o,e);return r},Cf=(t,e,n,r)=>{t.forEach(o=>{if(typeof o=="string"){const a=o===""?e:cv(e,o);a.classGroupId=n;return}if(typeof o=="function"){if(bj(o)){Cf(o(r),e,n,r);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,l])=>{Cf(l,cv(e,a),n,r)})})},cv=(t,e)=>{let n=t;return e.split(Oh).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},bj=t=>t.isThemeGetter,Sj=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const o=(a,l)=>{n.set(a,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return o(a,l),l},set(a,l){n.has(a)?n.set(a,l):o(a,l)}}},Nf="!",Pf=":",_j=Pf.length,kj=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=o=>{const a=[];let l=0,u=0,f=0,p;for(let _=0;_<o.length;_++){let S=o[_];if(l===0&&u===0){if(S===Pf){a.push(o.slice(f,_)),f=_+_j;continue}if(S==="/"){p=_;continue}}S==="["?l++:S==="]"?l--:S==="("?u++:S===")"&&u--}const m=a.length===0?o:o.substring(f),y=Ej(m),v=y!==m,x=p&&p>f?p-f:void 0;return{modifiers:a,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:x}};if(e){const o=e+Pf,a=r;r=l=>l.startsWith(o)?a(l.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const o=r;r=a=>n({className:a,parseClassName:o})}return r},Ej=t=>t.endsWith(Nf)?t.substring(0,t.length-1):t.startsWith(Nf)?t.substring(1):t,jj=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let a=[];return r.forEach(l=>{l[0]==="["||e[l]?(o.push(...a.sort(),l),a=[]):a.push(l)}),o.push(...a.sort()),o}},Tj=t=>({cache:Sj(t.cacheSize),parseClassName:kj(t),sortModifiers:jj(t),...vj(t)}),Cj=/\s+/,Nj=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:a}=e,l=[],u=t.trim().split(Cj);let f="";for(let p=u.length-1;p>=0;p-=1){const m=u[p],{isExternal:y,modifiers:v,hasImportantModifier:x,baseClassName:_,maybePostfixModifierPosition:S}=n(m);if(y){f=m+(f.length>0?" "+f:f);continue}let k=!!S,T=r(k?_.substring(0,S):_);if(!T){if(!k){f=m+(f.length>0?" "+f:f);continue}if(T=r(_),!T){f=m+(f.length>0?" "+f:f);continue}k=!1}const j=a(v).join(":"),C=x?j+Nf:j,N=C+T;if(l.includes(N))continue;l.push(N);const R=o(T,k);for(let L=0;L<R.length;++L){const $=R[L];l.push(C+$)}f=m+(f.length>0?" "+f:f)}return f};function Pj(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Jw(e))&&(r&&(r+=" "),r+=n);return r}const Jw=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Jw(t[r]))&&(n&&(n+=" "),n+=e);return n};function Aj(t,...e){let n,r,o,a=l;function l(f){const p=e.reduce((m,y)=>y(m),t());return n=Tj(p),r=n.cache.get,o=n.cache.set,a=u,u(f)}function u(f){const p=r(f);if(p)return p;const m=Nj(f,n);return o(f,m),m}return function(){return a(Pj.apply(null,arguments))}}const at=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Qw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Xw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Rj=/^\d+\/\d+$/,Oj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ij=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Lj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Mj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Dj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Js=t=>Rj.test(t),Ce=t=>!!t&&!Number.isNaN(Number(t)),jr=t=>!!t&&Number.isInteger(Number(t)),Wd=t=>t.endsWith("%")&&Ce(t.slice(0,-1)),Qn=t=>Oj.test(t),$j=()=>!0,Fj=t=>Ij.test(t)&&!Lj.test(t),Zw=()=>!1,Vj=t=>Mj.test(t),Uj=t=>Dj.test(t),zj=t=>!re(t)&&!se(t),Bj=t=>ji(t,nx,Zw),re=t=>Qw.test(t),es=t=>ji(t,rx,Fj),Hd=t=>ji(t,qj,Ce),uv=t=>ji(t,ex,Zw),Wj=t=>ji(t,tx,Uj),Sl=t=>ji(t,sx,Vj),se=t=>Xw.test(t),So=t=>Ti(t,rx),Hj=t=>Ti(t,Yj),dv=t=>Ti(t,ex),Gj=t=>Ti(t,nx),Kj=t=>Ti(t,tx),_l=t=>Ti(t,sx,!0),ji=(t,e,n)=>{const r=Qw.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Ti=(t,e,n=!1)=>{const r=Xw.exec(t);return r?r[1]?e(r[1]):n:!1},ex=t=>t==="position"||t==="percentage",tx=t=>t==="image"||t==="url",nx=t=>t==="length"||t==="size"||t==="bg-size",rx=t=>t==="length",qj=t=>t==="number",Yj=t=>t==="family-name",sx=t=>t==="shadow",Jj=()=>{const t=at("color"),e=at("font"),n=at("text"),r=at("font-weight"),o=at("tracking"),a=at("leading"),l=at("breakpoint"),u=at("container"),f=at("spacing"),p=at("radius"),m=at("shadow"),y=at("inset-shadow"),v=at("text-shadow"),x=at("drop-shadow"),_=at("blur"),S=at("perspective"),k=at("aspect"),T=at("ease"),j=at("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...N(),se,re],L=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto","contain","none"],D=()=>[se,re,f],G=()=>[Js,"full","auto",...D()],X=()=>[jr,"none","subgrid",se,re],fe=()=>["auto",{span:["full",jr,se,re]},jr,se,re],Ee=()=>[jr,"auto",se,re],ye=()=>["auto","min","max","fr",se,re],ve=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Se=()=>["start","end","center","stretch","center-safe","end-safe"],ce=()=>["auto",...D()],z=()=>[Js,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],O=()=>[t,se,re],H=()=>[...N(),dv,uv,{position:[se,re]}],F=()=>["no-repeat",{repeat:["","x","y","space","round"]}],P=()=>["auto","cover","contain",Gj,Bj,{size:[se,re]}],W=()=>[Wd,So,es],Q=()=>["","none","full",p,se,re],ie=()=>["",Ce,So,es],be=()=>["solid","dashed","dotted","double"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[Ce,Wd,dv,uv],_e=()=>["","none",_,se,re],Te=()=>["none",Ce,se,re],Me=()=>["none",Ce,se,re],Xe=()=>[Ce,se,re],Nt=()=>[Js,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Qn],breakpoint:[Qn],color:[$j],container:[Qn],"drop-shadow":[Qn],ease:["in","out","in-out"],font:[zj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Qn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Qn],shadow:[Qn],spacing:["px",Ce],text:[Qn],"text-shadow":[Qn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Js,re,se,k]}],container:["container"],columns:[{columns:[Ce,re,se,u]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:G()}],"inset-x":[{"inset-x":G()}],"inset-y":[{"inset-y":G()}],start:[{start:G()}],end:[{end:G()}],top:[{top:G()}],right:[{right:G()}],bottom:[{bottom:G()}],left:[{left:G()}],visibility:["visible","invisible","collapse"],z:[{z:[jr,"auto",se,re]}],basis:[{basis:[Js,"full","auto",u,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ce,Js,"auto","initial","none",re]}],grow:[{grow:["",Ce,se,re]}],shrink:[{shrink:["",Ce,se,re]}],order:[{order:[jr,"first","last","none",se,re]}],"grid-cols":[{"grid-cols":X()}],"col-start-end":[{col:fe()}],"col-start":[{"col-start":Ee()}],"col-end":[{"col-end":Ee()}],"grid-rows":[{"grid-rows":X()}],"row-start-end":[{row:fe()}],"row-start":[{"row-start":Ee()}],"row-end":[{"row-end":Ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ye()}],"auto-rows":[{"auto-rows":ye()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...ve(),"normal"]}],"justify-items":[{"justify-items":[...Se(),"normal"]}],"justify-self":[{"justify-self":["auto",...Se()]}],"align-content":[{content:["normal",...ve()]}],"align-items":[{items:[...Se(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Se(),{baseline:["","last"]}]}],"place-content":[{"place-content":ve()}],"place-items":[{"place-items":[...Se(),"baseline"]}],"place-self":[{"place-self":["auto",...Se()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:ce()}],mx:[{mx:ce()}],my:[{my:ce()}],ms:[{ms:ce()}],me:[{me:ce()}],mt:[{mt:ce()}],mr:[{mr:ce()}],mb:[{mb:ce()}],ml:[{ml:ce()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:z()}],w:[{w:[u,"screen",...z()]}],"min-w":[{"min-w":[u,"screen","none",...z()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...z()]}],h:[{h:["screen","lh",...z()]}],"min-h":[{"min-h":["screen","lh","none",...z()]}],"max-h":[{"max-h":["screen","lh",...z()]}],"font-size":[{text:["base",n,So,es]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,se,Hd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Wd,re]}],"font-family":[{font:[Hj,re,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,se,re]}],"line-clamp":[{"line-clamp":[Ce,"none",se,Hd]}],leading:[{leading:[a,...D()]}],"list-image":[{"list-image":["none",se,re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",se,re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ce,"from-font","auto",se,es]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[Ce,"auto",se,re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se,re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se,re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:H()}],"bg-repeat":[{bg:F()}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},jr,se,re],radial:["",se,re],conic:[jr,se,re]},Kj,Wj]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ce,se,re]}],"outline-w":[{outline:["",Ce,So,es]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",m,_l,Sl]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",y,_l,Sl]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[Ce,es]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",v,_l,Sl]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[Ce,se,re]}],"mix-blend":[{"mix-blend":[...je(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":je()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ce]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[se,re]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[Ce]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:H()}],"mask-repeat":[{mask:F()}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",se,re]}],filter:[{filter:["","none",se,re]}],blur:[{blur:_e()}],brightness:[{brightness:[Ce,se,re]}],contrast:[{contrast:[Ce,se,re]}],"drop-shadow":[{"drop-shadow":["","none",x,_l,Sl]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",Ce,se,re]}],"hue-rotate":[{"hue-rotate":[Ce,se,re]}],invert:[{invert:["",Ce,se,re]}],saturate:[{saturate:[Ce,se,re]}],sepia:[{sepia:["",Ce,se,re]}],"backdrop-filter":[{"backdrop-filter":["","none",se,re]}],"backdrop-blur":[{"backdrop-blur":_e()}],"backdrop-brightness":[{"backdrop-brightness":[Ce,se,re]}],"backdrop-contrast":[{"backdrop-contrast":[Ce,se,re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ce,se,re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ce,se,re]}],"backdrop-invert":[{"backdrop-invert":["",Ce,se,re]}],"backdrop-opacity":[{"backdrop-opacity":[Ce,se,re]}],"backdrop-saturate":[{"backdrop-saturate":[Ce,se,re]}],"backdrop-sepia":[{"backdrop-sepia":["",Ce,se,re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",se,re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ce,"initial",se,re]}],ease:[{ease:["linear","initial",T,se,re]}],delay:[{delay:[Ce,se,re]}],animate:[{animate:["none",j,se,re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,se,re]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:Te()}],"rotate-x":[{"rotate-x":Te()}],"rotate-y":[{"rotate-y":Te()}],"rotate-z":[{"rotate-z":Te()}],scale:[{scale:Me()}],"scale-x":[{"scale-x":Me()}],"scale-y":[{"scale-y":Me()}],"scale-z":[{"scale-z":Me()}],"scale-3d":["scale-3d"],skew:[{skew:Xe()}],"skew-x":[{"skew-x":Xe()}],"skew-y":[{"skew-y":Xe()}],transform:[{transform:[se,re,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Nt()}],"translate-x":[{"translate-x":Nt()}],"translate-y":[{"translate-y":Nt()}],"translate-z":[{"translate-z":Nt()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se,re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se,re]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[Ce,So,es,Hd]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Qj=Aj(Jj);function Ie(...t){return Qj(qw(t))}const Xj=Rh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),de=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...o},a)=>{const l=r?Hw:"button";return d.jsx(l,{"data-slot":"button",className:Ie(Xj({variant:e,size:n,className:t})),ref:a,...o})});de.displayName="Button";function gt({className:t,...e}){return d.jsx("div",{"data-slot":"card",className:Ie("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function Sn({className:t,...e}){return d.jsx("div",{"data-slot":"card-header",className:Ie("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function sn({className:t,...e}){return d.jsx("h4",{"data-slot":"card-title",className:Ie("leading-none",t),...e})}function Po({className:t,...e}){return d.jsx("p",{"data-slot":"card-description",className:Ie("text-muted-foreground",t),...e})}function yt({className:t,...e}){return d.jsx("div",{"data-slot":"card-content",className:Ie("px-6 [&:last-child]:pb-6",t),...e})}const Zj=Rh("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function We({className:t,variant:e,asChild:n=!1,...r}){const o=n?Hw:"span";return d.jsx(o,{"data-slot":"badge",className:Ie(Zj({variant:e}),t),...r})}function eT(t,e){const n=b.createContext(e),r=a=>{const{children:l,...u}=a,f=b.useMemo(()=>u,Object.values(u));return d.jsx(n.Provider,{value:f,children:l})};r.displayName=t+"Provider";function o(a){const l=b.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,o]}function cn(t,e=[]){let n=[];function r(a,l){const u=b.createContext(l),f=n.length;n=[...n,l];const p=y=>{var T;const{scope:v,children:x,..._}=y,S=((T=v==null?void 0:v[t])==null?void 0:T[f])||u,k=b.useMemo(()=>_,Object.values(_));return d.jsx(S.Provider,{value:k,children:x})};p.displayName=a+"Provider";function m(y,v){var S;const x=((S=v==null?void 0:v[t])==null?void 0:S[f])||u,_=b.useContext(x);if(_)return _;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[p,m]}const o=()=>{const a=n.map(l=>b.createContext(l));return function(u){const f=(u==null?void 0:u[t])||a;return b.useMemo(()=>({[`__scope${t}`]:{...u,[t]:f}}),[u,f])}};return o.scopeName=t,[r,tT(o,...e)]}function tT(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const l=r.reduce((u,{useScope:f,scopeName:p})=>{const y=f(a)[`__scope${p}`];return{...u,...y}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}var Ih=zw();const nT=Ph(Ih);var rT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pe=rT.reduce((t,e)=>{const n=Uo(`Primitive.${e}`),r=b.forwardRef((o,a)=>{const{asChild:l,...u}=o,f=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(f,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function sT(t,e){t&&Ih.flushSync(()=>t.dispatchEvent(e))}var Lh="Progress",Mh=100,[iT]=cn(Lh),[oT,aT]=iT(Lh),ix=b.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:o,getValueLabel:a=lT,...l}=t;(o||o===0)&&!fv(o)&&console.error(cT(`${o}`,"Progress"));const u=fv(o)?o:Mh;r!==null&&!hv(r,u)&&console.error(uT(`${r}`,"Progress"));const f=hv(r,u)?r:null,p=Zl(f)?a(f,u):void 0;return d.jsx(oT,{scope:n,value:f,max:u,children:d.jsx(Pe.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":Zl(f)?f:void 0,"aria-valuetext":p,role:"progressbar","data-state":lx(f,u),"data-value":f??void 0,"data-max":u,...l,ref:e})})});ix.displayName=Lh;var ox="ProgressIndicator",ax=b.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,o=aT(ox,n);return d.jsx(Pe.div,{"data-state":lx(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...r,ref:e})});ax.displayName=ox;function lT(t,e){return`${Math.round(t/e*100)}%`}function lx(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Zl(t){return typeof t=="number"}function fv(t){return Zl(t)&&!isNaN(t)&&t>0}function hv(t,e){return Zl(t)&&!isNaN(t)&&t<=e&&t>=0}function cT(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Mh}\`.`}function uT(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Mh} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var dT=ix,fT=ax;function kc({className:t,value:e,...n}){return d.jsx(dT,{"data-slot":"progress",className:Ie("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...n,children:d.jsx(fT,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pT=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),pv=t=>{const e=pT(t);return e.charAt(0).toUpperCase()+e.slice(1)},cx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:l,...u},f)=>b.createElement("svg",{ref:f,...mT,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:cx("lucide",o),...u},[...l.map(([p,m])=>b.createElement(p,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(t,e)=>{const n=b.forwardRef(({className:r,...o},a)=>b.createElement(gT,{ref:a,iconNode:e,className:cx(`lucide-${hT(pv(t))}`,`lucide-${t}`,r),...o}));return n.displayName=pv(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],zo=ue("arrow-left",yT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ux=ue("award",vT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],xT=ue("bell",wT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ec=ue("book-open",bT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],mv=ue("bot",ST);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],kT=ue("briefcase",_T);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],jT=ue("camera",ET);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Dh=ue("chevron-down",TT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],NT=ue("chevron-up",CT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ps=ue("circle-alert",PT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],tr=ue("circle-check",AT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],OT=ue("circle",RT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Af=ue("clock",IT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],MT=ue("cloud-off",LT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],$T=ue("cloud",DT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],VT=ue("coffee",FT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],zT=ue("download",UT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],WT=ue("eye-off",BT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rf=ue("eye",HT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],KT=ue("gamepad-2",GT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],YT=ue("globe",qT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],tc=ue("graduation-cap",JT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],XT=ue("heart",QT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],gv=ue("info",ZT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],tC=ue("lightbulb",eC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],er=ue("loader-circle",nC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ao=ue("lock",rC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],iC=ue("log-in",sC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],aC=ue("log-out",oC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],dx=ue("mail",lC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],uC=ue("menu",cC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],ai=ue("message-circle",dC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],hC=ue("mic-off",fC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Bo=ue("mic",pC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["path",{d:"M5 12h14",key:"1ays0h"}]],gC=ue("minus",mC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],vC=ue("music",yC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],xC=ue("palette",wC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],fx=ue("pause",bC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],_C=ue("pen-line",SC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],hx=ue("play",kC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],yv=ue("refresh-cw",EC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],nc=ue("rotate-ccw",jC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],CC=ue("save",TC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],$h=ue("send",NC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fh=ue("settings",PC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],RC=ue("shield",AC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],vv=ue("star",OC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],wv=ue("target",IC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],MC=ue("thumbs-up",LC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],xv=ue("trash-2",DC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],FC=ue("trending-down",$C);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Ln=ue("trending-up",VC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zC=ue("triangle-alert",UC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],WC=ue("user-plus",BC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ec=ue("user",HC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],KC=ue("utensils",GC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],rc=ue("volume-2",qC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vh=ue("x",YC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Or=ue("zap",JC),Uh=b.createContext({});function zh(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const Bh=typeof window<"u",px=Bh?b.useLayoutEffect:b.useEffect,jc=b.createContext(null);function Wh(t,e){t.indexOf(e)===-1&&t.push(e)}function Hh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const nr=(t,e,n)=>n>e?e:n<t?t:n;let Gh=()=>{};const rr={},mx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function gx(t){return typeof t=="object"&&t!==null}const yx=t=>/^0[^.\s]+$/u.test(t);function Kh(t){let e;return()=>(e===void 0&&(e=t()),e)}const ln=t=>t,QC=(t,e)=>n=>e(t(n)),na=(...t)=>t.reduce(QC),Wo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class qh{constructor(){this.subscriptions=[]}add(e){return Wh(this.subscriptions,e),()=>Hh(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let a=0;a<o;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mn=t=>t*1e3,on=t=>t/1e3;function vx(t,e){return e?t*(1e3/e):0}const wx=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,XC=1e-7,ZC=12;function eN(t,e,n,r,o){let a,l,u=0;do l=e+(n-e)/2,a=wx(l,r,o)-t,a>0?n=l:e=l;while(Math.abs(a)>XC&&++u<ZC);return l}function ra(t,e,n,r){if(t===e&&n===r)return ln;const o=a=>eN(a,0,1,t,n);return a=>a===0||a===1?a:wx(o(a),e,r)}const xx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,bx=t=>e=>1-t(1-e),Sx=ra(.33,1.53,.69,.99),Yh=bx(Sx),_x=xx(Yh),kx=t=>(t*=2)<1?.5*Yh(t):.5*(2-Math.pow(2,-10*(t-1))),Jh=t=>1-Math.sin(Math.acos(t)),Ex=bx(Jh),jx=xx(Jh),tN=ra(.42,0,1,1),nN=ra(0,0,.58,1),Tx=ra(.42,0,.58,1),rN=t=>Array.isArray(t)&&typeof t[0]!="number",Cx=t=>Array.isArray(t)&&typeof t[0]=="number",sN={linear:ln,easeIn:tN,easeInOut:Tx,easeOut:nN,circIn:Jh,circInOut:jx,circOut:Ex,backIn:Yh,backInOut:_x,backOut:Sx,anticipate:kx},iN=t=>typeof t=="string",bv=t=>{if(Cx(t)){Gh(t.length===4);const[e,n,r,o]=t;return ra(e,n,r,o)}else if(iN(t))return sN[t];return t},kl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function oN(t,e){let n=new Set,r=new Set,o=!1,a=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(m){l.has(m)&&(p.schedule(m),t()),m(u)}const p={schedule:(m,y=!1,v=!1)=>{const _=v&&o?n:r;return y&&l.add(m),_.has(m)||_.add(m),m},cancel:m=>{r.delete(m),l.delete(m)},process:m=>{if(u=m,o){a=!0;return}o=!0,[n,r]=[r,n],n.forEach(f),n.clear(),o=!1,a&&(a=!1,p.process(m))}};return p}const aN=40;function Nx(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=kl.reduce((C,N)=>(C[N]=oN(a),C),{}),{setup:u,read:f,resolveKeyframes:p,preUpdate:m,update:y,preRender:v,render:x,postRender:_}=l,S=()=>{const C=rr.useManualTiming?o.timestamp:performance.now();n=!1,rr.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(C-o.timestamp,aN),1)),o.timestamp=C,o.isProcessing=!0,u.process(o),f.process(o),p.process(o),m.process(o),y.process(o),v.process(o),x.process(o),_.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(S))},k=()=>{n=!0,r=!0,o.isProcessing||t(S)};return{schedule:kl.reduce((C,N)=>{const R=l[N];return C[N]=(L,$=!1,D=!1)=>(n||k(),R.schedule(L,$,D)),C},{}),cancel:C=>{for(let N=0;N<kl.length;N++)l[kl[N]].cancel(C)},state:o,steps:l}}const{schedule:He,cancel:Ir,state:mt,steps:Gd}=Nx(typeof requestAnimationFrame<"u"?requestAnimationFrame:ln,!0);let Hl;function lN(){Hl=void 0}const Dt={now:()=>(Hl===void 0&&Dt.set(mt.isProcessing||rr.useManualTiming?mt.timestamp:performance.now()),Hl),set:t=>{Hl=t,queueMicrotask(lN)}},Px=t=>e=>typeof e=="string"&&e.startsWith(t),Qh=Px("--"),cN=Px("var(--"),Xh=t=>cN(t)?uN.test(t.split("/*")[0].trim()):!1,uN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ci={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ho={...Ci,transform:t=>nr(0,1,t)},El={...Ci,default:1},Ro=t=>Math.round(t*1e5)/1e5,Zh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function dN(t){return t==null}const fN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ep=(t,e)=>n=>!!(typeof n=="string"&&fN.test(n)&&n.startsWith(t)||e&&!dN(n)&&Object.prototype.hasOwnProperty.call(n,e)),Ax=(t,e,n)=>r=>{if(typeof r!="string")return r;const[o,a,l,u]=r.match(Zh);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},hN=t=>nr(0,255,t),Kd={...Ci,transform:t=>Math.round(hN(t))},us={test:ep("rgb","red"),parse:Ax("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Kd.transform(t)+", "+Kd.transform(e)+", "+Kd.transform(n)+", "+Ro(Ho.transform(r))+")"};function pN(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Of={test:ep("#"),parse:pN,transform:us.transform},sa=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Cr=sa("deg"),Dn=sa("%"),we=sa("px"),mN=sa("vh"),gN=sa("vw"),Sv={...Dn,parse:t=>Dn.parse(t)/100,transform:t=>Dn.transform(t*100)},li={test:ep("hsl","hue"),parse:Ax("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Dn.transform(Ro(e))+", "+Dn.transform(Ro(n))+", "+Ro(Ho.transform(r))+")"},st={test:t=>us.test(t)||Of.test(t)||li.test(t),parse:t=>us.test(t)?us.parse(t):li.test(t)?li.parse(t):Of.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?us.transform(t):li.transform(t),getAnimatableNone:t=>{const e=st.parse(t);return e.alpha=0,st.transform(e)}},yN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vN(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Zh))==null?void 0:e.length)||0)+(((n=t.match(yN))==null?void 0:n.length)||0)>0}const Rx="number",Ox="color",wN="var",xN="var(",_v="${}",bN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Go(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let a=0;const u=e.replace(bN,f=>(st.test(f)?(r.color.push(a),o.push(Ox),n.push(st.parse(f))):f.startsWith(xN)?(r.var.push(a),o.push(wN),n.push(f)):(r.number.push(a),o.push(Rx),n.push(parseFloat(f))),++a,_v)).split(_v);return{values:n,split:u,indexes:r,types:o}}function Ix(t){return Go(t).values}function Lx(t){const{split:e,types:n}=Go(t),r=e.length;return o=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],o[l]!==void 0){const u=n[l];u===Rx?a+=Ro(o[l]):u===Ox?a+=st.transform(o[l]):a+=o[l]}return a}}const SN=t=>typeof t=="number"?0:st.test(t)?st.getAnimatableNone(t):t;function _N(t){const e=Ix(t);return Lx(t)(e.map(SN))}const Lr={test:vN,parse:Ix,createTransformer:Lx,getAnimatableNone:_N};function qd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function kN({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,a=0,l=0;if(!e)o=a=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,f=2*n-u;o=qd(f,u,t+1/3),a=qd(f,u,t),l=qd(f,u,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function sc(t,e){return n=>n>0?e:t}const Ye=(t,e,n)=>t+(e-t)*n,Yd=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},EN=[Of,us,li],jN=t=>EN.find(e=>e.test(t));function kv(t){const e=jN(t);if(!e)return!1;let n=e.parse(t);return e===li&&(n=kN(n)),n}const Ev=(t,e)=>{const n=kv(t),r=kv(e);if(!n||!r)return sc(t,e);const o={...n};return a=>(o.red=Yd(n.red,r.red,a),o.green=Yd(n.green,r.green,a),o.blue=Yd(n.blue,r.blue,a),o.alpha=Ye(n.alpha,r.alpha,a),us.transform(o))},If=new Set(["none","hidden"]);function TN(t,e){return If.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function CN(t,e){return n=>Ye(t,e,n)}function tp(t){return typeof t=="number"?CN:typeof t=="string"?Xh(t)?sc:st.test(t)?Ev:AN:Array.isArray(t)?Mx:typeof t=="object"?st.test(t)?Ev:NN:sc}function Mx(t,e){const n=[...t],r=n.length,o=t.map((a,l)=>tp(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=o[l](a);return n}}function NN(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=tp(t[o])(t[o],e[o]));return o=>{for(const a in r)n[a]=r[a](o);return n}}function PN(t,e){const n=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],l=t.indexes[a][r[a]],u=t.values[l]??0;n[o]=u,r[a]++}return n}const AN=(t,e)=>{const n=Lr.createTransformer(e),r=Go(t),o=Go(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?If.has(t)&&!o.values.length||If.has(e)&&!r.values.length?TN(t,e):na(Mx(PN(r,o),o.values),n):sc(t,e)};function Dx(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ye(t,e,n):tp(t)(t,e)}const RN=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>He.update(e,n),stop:()=>Ir(e),now:()=>mt.isProcessing?mt.timestamp:Dt.now()}},$x=(t,e,n=10)=>{let r="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)r+=Math.round(t(a/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ic=2e4;function np(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ic;)e+=n,r=t.next(e);return e>=ic?1/0:e}function ON(t,e=100,n){const r=n({...t,keyframes:[0,e]}),o=Math.min(np(r),ic);return{type:"keyframes",ease:a=>r.next(o*a).value/e,duration:on(o)}}const IN=5;function Fx(t,e,n){const r=Math.max(e-IN,0);return vx(n-t(r),e-r)}const Qe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Jd=.001;function LN({duration:t=Qe.duration,bounce:e=Qe.bounce,velocity:n=Qe.velocity,mass:r=Qe.mass}){let o,a,l=1-e;l=nr(Qe.minDamping,Qe.maxDamping,l),t=nr(Qe.minDuration,Qe.maxDuration,on(t)),l<1?(o=p=>{const m=p*l,y=m*t,v=m-n,x=Lf(p,l),_=Math.exp(-y);return Jd-v/x*_},a=p=>{const y=p*l*t,v=y*n+n,x=Math.pow(l,2)*Math.pow(p,2)*t,_=Math.exp(-y),S=Lf(Math.pow(p,2),l);return(-o(p)+Jd>0?-1:1)*((v-x)*_)/S}):(o=p=>{const m=Math.exp(-p*t),y=(p-n)*t+1;return-Jd+m*y},a=p=>{const m=Math.exp(-p*t),y=(n-p)*(t*t);return m*y});const u=5/t,f=DN(o,a,u);if(t=Mn(t),isNaN(f))return{stiffness:Qe.stiffness,damping:Qe.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const MN=12;function DN(t,e,n){let r=n;for(let o=1;o<MN;o++)r=r-t(r)/e(r);return r}function Lf(t,e){return t*Math.sqrt(1-e*e)}const $N=["duration","bounce"],FN=["stiffness","damping","mass"];function jv(t,e){return e.some(n=>t[n]!==void 0)}function VN(t){let e={velocity:Qe.velocity,stiffness:Qe.stiffness,damping:Qe.damping,mass:Qe.mass,isResolvedFromDuration:!1,...t};if(!jv(t,FN)&&jv(t,$N))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,a=2*nr(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Qe.mass,stiffness:o,damping:a}}else{const n=LN(t);e={...e,...n,mass:Qe.mass},e.isResolvedFromDuration=!0}return e}function oc(t=Qe.visualDuration,e=Qe.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:f,damping:p,mass:m,duration:y,velocity:v,isResolvedFromDuration:x}=VN({...n,velocity:-on(n.velocity||0)}),_=v||0,S=p/(2*Math.sqrt(f*m)),k=l-a,T=on(Math.sqrt(f/m)),j=Math.abs(k)<5;r||(r=j?Qe.restSpeed.granular:Qe.restSpeed.default),o||(o=j?Qe.restDelta.granular:Qe.restDelta.default);let C;if(S<1){const R=Lf(T,S);C=L=>{const $=Math.exp(-S*T*L);return l-$*((_+S*T*k)/R*Math.sin(R*L)+k*Math.cos(R*L))}}else if(S===1)C=R=>l-Math.exp(-T*R)*(k+(_+T*k)*R);else{const R=T*Math.sqrt(S*S-1);C=L=>{const $=Math.exp(-S*T*L),D=Math.min(R*L,300);return l-$*((_+S*T*k)*Math.sinh(D)+R*k*Math.cosh(D))/R}}const N={calculatedDuration:x&&y||null,next:R=>{const L=C(R);if(x)u.done=R>=y;else{let $=R===0?_:0;S<1&&($=R===0?Mn(_):Fx(C,R,L));const D=Math.abs($)<=r,G=Math.abs(l-L)<=o;u.done=D&&G}return u.value=u.done?l:L,u},toString:()=>{const R=Math.min(np(N),ic),L=$x($=>N.next(R*$).value,R,30);return R+"ms "+L},toTransition:()=>{}};return N}oc.applyToOptions=t=>{const e=ON(t,100,oc);return t.ease=e.ease,t.duration=Mn(e.duration),t.type="keyframes",t};function Mf({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:f,restDelta:p=.5,restSpeed:m}){const y=t[0],v={done:!1,value:y},x=D=>u!==void 0&&D<u||f!==void 0&&D>f,_=D=>u===void 0?f:f===void 0||Math.abs(u-D)<Math.abs(f-D)?u:f;let S=n*e;const k=y+S,T=l===void 0?k:l(k);T!==k&&(S=T-y);const j=D=>-S*Math.exp(-D/r),C=D=>T+j(D),N=D=>{const G=j(D),X=C(D);v.done=Math.abs(G)<=p,v.value=v.done?T:X};let R,L;const $=D=>{x(v.value)&&(R=D,L=oc({keyframes:[v.value,_(v.value)],velocity:Fx(C,D,v.value),damping:o,stiffness:a,restDelta:p,restSpeed:m}))};return $(0),{calculatedDuration:null,next:D=>{let G=!1;return!L&&R===void 0&&(G=!0,N(D),$(D)),R!==void 0&&D>=R?L.next(D-R):(!G&&N(D),v)}}}function UN(t,e,n){const r=[],o=n||rr.mix||Dx,a=t.length-1;for(let l=0;l<a;l++){let u=o(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||ln:e;u=na(f,u)}r.push(u)}return r}function zN(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const a=t.length;if(Gh(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=UN(e,r,o),f=u.length,p=m=>{if(l&&m<t[0])return e[0];let y=0;if(f>1)for(;y<t.length-2&&!(m<t[y+1]);y++);const v=Wo(t[y],t[y+1],m);return u[y](v)};return n?m=>p(nr(t[0],t[a-1],m)):p}function BN(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=Wo(0,e,r);t.push(Ye(n,1,o))}}function WN(t){const e=[0];return BN(e,t.length-1),e}function HN(t,e){return t.map(n=>n*e)}function GN(t,e){return t.map(()=>e||Tx).splice(0,t.length-1)}function Oo({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=rN(r)?r.map(bv):bv(r),a={done:!1,value:e[0]},l=HN(n&&n.length===e.length?n:WN(e),t),u=zN(l,e,{ease:Array.isArray(o)?o:GN(e,o)});return{calculatedDuration:t,next:f=>(a.value=u(f),a.done=f>=t,a)}}const KN=t=>t!==null;function rp(t,{repeat:e,repeatType:n="loop"},r,o=1){const a=t.filter(KN),u=o<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||r===void 0?a[u]:r}const qN={decay:Mf,inertia:Mf,tween:Oo,keyframes:Oo,spring:oc};function Vx(t){typeof t.type=="string"&&(t.type=qN[t.type])}class sp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const YN=t=>t/100;class ip extends sp{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:n}=this.options;n&&n.updatedAt!==Dt.now()&&this.tick(Dt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Vx(e);const{type:n=Oo,repeat:r=0,repeatDelay:o=0,repeatType:a,velocity:l=0}=e;let{keyframes:u}=e;const f=n||Oo;f!==Oo&&typeof u[0]!="number"&&(this.mixKeyframes=na(YN,Dx(u[0],u[1])),u=[0,100]);const p=f({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...u].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=np(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:o,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:m,repeat:y,repeatType:v,repeatDelay:x,type:_,onUpdate:S,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const T=this.currentTime-p*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?T<0:T>o;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let C=this.currentTime,N=r;if(y){const D=Math.min(this.currentTime,o)/u;let G=Math.floor(D),X=D%1;!X&&D>=1&&(X=1),X===1&&G--,G=Math.min(G,y+1),!!(G%2)&&(v==="reverse"?(X=1-X,x&&(X-=x/u)):v==="mirror"&&(N=l)),C=nr(0,1,X)*u}const R=j?{done:!1,value:m[0]}:N.next(C);a&&(R.value=a(R.value));let{done:L}=R;!j&&f!==null&&(L=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return $&&_!==Mf&&(R.value=rp(m,this.options,k,this.speed)),S&&S(R.value),$&&this.finish(),R}then(e,n){return this.finished.then(e,n)}get duration(){return on(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+on(e)}get time(){return on(this.currentTime)}set time(e){var n;e=Mn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Dt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=on(this.currentTime))}play(){var o,a;if(this.isStopped)return;const{driver:e=RN,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(a=(o=this.options).onPlay)==null||a.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Dt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function JN(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ds=t=>t*180/Math.PI,Df=t=>{const e=ds(Math.atan2(t[1],t[0]));return $f(e)},QN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Df,rotateZ:Df,skewX:t=>ds(Math.atan(t[1])),skewY:t=>ds(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},$f=t=>(t=t%360,t<0&&(t+=360),t),Tv=Df,Cv=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Nv=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),XN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Cv,scaleY:Nv,scale:t=>(Cv(t)+Nv(t))/2,rotateX:t=>$f(ds(Math.atan2(t[6],t[5]))),rotateY:t=>$f(ds(Math.atan2(-t[2],t[0]))),rotateZ:Tv,rotate:Tv,skewX:t=>ds(Math.atan(t[4])),skewY:t=>ds(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ff(t){return t.includes("scale")?1:0}function Vf(t,e){if(!t||t==="none")return Ff(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=XN,o=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=QN,o=u}if(!o)return Ff(e);const a=r[e],l=o[1].split(",").map(eP);return typeof a=="function"?a(l):l[a]}const ZN=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Vf(n,e)};function eP(t){return parseFloat(t.trim())}const Ni=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pi=new Set(Ni),Pv=t=>t===Ci||t===we,tP=new Set(["x","y","z"]),nP=Ni.filter(t=>!tP.has(t));function rP(t){const e=[];return nP.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ms={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Vf(e,"x"),y:(t,{transform:e})=>Vf(e,"y")};ms.translateX=ms.x;ms.translateY=ms.y;const gs=new Set;let Uf=!1,zf=!1,Bf=!1;function Ux(){if(zf){const t=Array.from(gs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=rP(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([a,l])=>{var u;(u=r.getValue(a))==null||u.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}zf=!1,Uf=!1,gs.forEach(t=>t.complete(Bf)),gs.clear()}function zx(){gs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(zf=!0)})}function sP(){Bf=!0,zx(),Ux(),Bf=!1}class op{constructor(e,n,r,o,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(gs.add(this),Uf||(Uf=!0,He.read(zx),He.resolveKeyframes(Ux))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;if(e[0]===null){const a=o==null?void 0:o.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),o&&a===void 0&&o.set(e[0])}JN(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),gs.delete(this)}cancel(){this.state==="scheduled"&&(gs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const iP=t=>t.startsWith("--");function oP(t,e,n){iP(e)?t.style.setProperty(e,n):t.style[e]=n}const aP=Kh(()=>window.ScrollTimeline!==void 0),lP={};function cP(t,e){const n=Kh(t);return()=>lP[e]??n()}const Bx=cP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Eo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Av={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Eo([0,.65,.55,1]),circOut:Eo([.55,0,1,.45]),backIn:Eo([.31,.01,.66,-.59]),backOut:Eo([.33,1.53,.69,.99])};function Wx(t,e){if(t)return typeof t=="function"?Bx()?$x(t,e):"ease-out":Cx(t)?Eo(t):Array.isArray(t)?t.map(n=>Wx(n,e)||Av.easeOut):Av[t]}function uP(t,e,n,{delay:r=0,duration:o=300,repeat:a=0,repeatType:l="loop",ease:u="easeOut",times:f}={},p=void 0){const m={[e]:n};f&&(m.offset=f);const y=Wx(u,o);Array.isArray(y)&&(m.easing=y);const v={delay:r,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(v.pseudoElement=p),t.animate(m,v)}function Hx(t){return typeof t=="function"&&"applyToOptions"in t}function dP({type:t,...e}){return Hx(t)&&Bx()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class fP extends sp{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:o,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:u,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Gh(typeof e.type!="string");const p=dP(e);this.animation=uP(n,r,o,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=rp(o,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):oP(n,r,m),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return on(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+on(e)}get time(){return on(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Mn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&aP()?(this.animation.timeline=e,ln):n(this)}}const Gx={anticipate:kx,backInOut:_x,circInOut:jx};function hP(t){return t in Gx}function pP(t){typeof t.ease=="string"&&hP(t.ease)&&(t.ease=Gx[t.ease])}const Rv=10;class mP extends fP{constructor(e){pP(e),Vx(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:o,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new ip({...l,autoplay:!1}),f=Mn(this.finishedTime??this.time);n.setWithVelocity(u.sample(f-Rv).value,u.sample(f).value,Rv),u.stop()}}const Ov=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Lr.test(t)||t==="0")&&!t.startsWith("url("));function gP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function yP(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=Ov(o,e),u=Ov(a,e);return!l||!u?!1:gP(t)||(n==="spring"||Hx(n))&&r}function Wf(t){t.duration=0,t.type="keyframes"}const vP=new Set(["opacity","clipPath","filter","transform"]),wP=Kh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function xP(t){var m;const{motionValue:e,name:n,repeatDelay:r,repeatType:o,damping:a,type:l}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return wP()&&n&&vP.has(n)&&(n!=="transform"||!p)&&!f&&!r&&o!=="mirror"&&a!==0&&l!=="inertia"}const bP=40;class SP extends sp{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:f,motionValue:p,element:m,...y}){var _;super(),this.stop=()=>{var S,k;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=Dt.now();const v={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:a,repeatType:l,name:f,motionValue:p,element:m,...y},x=(m==null?void 0:m.KeyframeResolver)||op;this.keyframeResolver=new x(u,(S,k,T)=>this.onKeyframesResolved(S,k,v,!T),f,p,m),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(e,n,r,o){this.keyframeResolver=void 0;const{name:a,type:l,velocity:u,delay:f,isHandoff:p,onUpdate:m}=r;this.resolvedAt=Dt.now(),yP(e,a,l,u)||((rr.instantAnimations||!f)&&(m==null||m(rp(e,r,n))),e[0]=e[e.length-1],Wf(r),r.repeat=0);const v={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>bP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!p&&xP(v)?new mP({...v,element:v.motionValue.owner.current}):new ip(v);x.finished.then(()=>this.notifyFinished()).catch(ln),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),sP()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const _P=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kP(t){const e=_P.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n??r}`,o]}function Kx(t,e,n=1){const[r,o]=kP(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return mx(l)?parseFloat(l):l}return Xh(o)?Kx(o,e,n+1):o}function ap(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const qx=new Set(["width","height","top","left","right","bottom",...Ni]),EP={test:t=>t==="auto",parse:t=>t},Yx=t=>e=>e.test(t),Jx=[Ci,we,Dn,Cr,gN,mN,EP],Iv=t=>Jx.find(Yx(t));function jP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||yx(t):!0}const TP=new Set(["brightness","contrast","saturate","opacity"]);function CP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Zh)||[];if(!r)return t;const o=n.replace(r,"");let a=TP.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+o+")"}const NP=/\b([a-z-]*)\(.*?\)/gu,Hf={...Lr,getAnimatableNone:t=>{const e=t.match(NP);return e?e.map(CP).join(" "):t}},Lv={...Ci,transform:Math.round},PP={rotate:Cr,rotateX:Cr,rotateY:Cr,rotateZ:Cr,scale:El,scaleX:El,scaleY:El,scaleZ:El,skew:Cr,skewX:Cr,skewY:Cr,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Ho,originX:Sv,originY:Sv,originZ:we},lp={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,...PP,zIndex:Lv,fillOpacity:Ho,strokeOpacity:Ho,numOctaves:Lv},AP={...lp,color:st,backgroundColor:st,outlineColor:st,fill:st,stroke:st,borderColor:st,borderTopColor:st,borderRightColor:st,borderBottomColor:st,borderLeftColor:st,filter:Hf,WebkitFilter:Hf},Qx=t=>AP[t];function Xx(t,e){let n=Qx(t);return n!==Hf&&(n=Lr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const RP=new Set(["auto","none","0"]);function OP(t,e,n){let r=0,o;for(;r<t.length&&!o;){const a=t[r];typeof a=="string"&&!RP.has(a)&&Go(a).values.length&&(o=t[r]),r++}if(o&&n)for(const a of e)t[a]=Xx(n,o)}class IP extends op{constructor(e,n,r,o,a){super(e,n,r,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Xh(p))){const m=Kx(p,n.current);m!==void 0&&(e[f]=m),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!qx.has(r)||e.length!==2)return;const[o,a]=e,l=Iv(o),u=Iv(a);if(l!==u)if(Pv(l)&&Pv(u))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else ms[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||jP(e[o]))&&r.push(o);r.length&&OP(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ms[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=ms[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function LP(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=(n==null?void 0:n[t])??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const Zx=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function eb(t){return gx(t)&&"offsetHeight"in t}const Mv=30,MP=t=>!isNaN(parseFloat(t));class DP{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const o=Dt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Dt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=MP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new qh);const r=this.events[e].add(n);return e==="change"?()=>{r(),He.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Dt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Mv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Mv);return vx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vi(t,e){return new DP(t,e)}const{schedule:cp}=Nx(queueMicrotask,!1),wn={x:!1,y:!1};function tb(){return wn.x||wn.y}function $P(t){return t==="x"||t==="y"?wn[t]?null:(wn[t]=!0,()=>{wn[t]=!1}):wn.x||wn.y?null:(wn.x=wn.y=!0,()=>{wn.x=wn.y=!1})}function nb(t,e){const n=LP(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[n,o,()=>r.abort()]}function Dv(t){return!(t.pointerType==="touch"||tb())}function FP(t,e,n={}){const[r,o,a]=nb(t,n),l=u=>{if(!Dv(u))return;const{target:f}=u,p=e(f,u);if(typeof p!="function"||!f)return;const m=y=>{Dv(y)&&(p(y),f.removeEventListener("pointerleave",m))};f.addEventListener("pointerleave",m,o)};return r.forEach(u=>{u.addEventListener("pointerenter",l,o)}),a}const rb=(t,e)=>e?t===e?!0:rb(t,e.parentElement):!1,up=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,VP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function UP(t){return VP.has(t.tagName)||t.tabIndex!==-1}const Gl=new WeakSet;function $v(t){return e=>{e.key==="Enter"&&t(e)}}function Qd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const zP=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=$v(()=>{if(Gl.has(n))return;Qd(n,"down");const o=$v(()=>{Qd(n,"up")}),a=()=>Qd(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Fv(t){return up(t)&&!tb()}function BP(t,e,n={}){const[r,o,a]=nb(t,n),l=u=>{const f=u.currentTarget;if(!Fv(u))return;Gl.add(f);const p=e(f,u),m=(x,_)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),Gl.has(f)&&Gl.delete(f),Fv(x)&&typeof p=="function"&&p(x,{success:_})},y=x=>{m(x,f===window||f===document||n.useGlobalTarget||rb(f,x.target))},v=x=>{m(x,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",v,o)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,o),eb(u)&&(u.addEventListener("focus",p=>zP(p,o)),!UP(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function sb(t){return gx(t)&&"ownerSVGElement"in t}function WP(t){return sb(t)&&t.tagName==="svg"}const _t=t=>!!(t&&t.getVelocity),HP=[...Jx,st,Lr],GP=t=>HP.find(Yx(t)),dp=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Vv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function KP(...t){return e=>{let n=!1;const r=t.map(o=>{const a=Vv(o,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():Vv(t[o],null)}}}}function qP(...t){return b.useCallback(KP(...t),t)}class YP extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,o=eb(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=o-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function JP({children:t,isPresent:e,anchorX:n,root:r}){const o=b.useId(),a=b.useRef(null),l=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=b.useContext(dp),f=qP(a,t==null?void 0:t.ref);return b.useInsertionEffect(()=>{const{width:p,height:m,top:y,left:v,right:x}=l.current;if(e||!a.current||!p||!m)return;const _=n==="left"?`left: ${v}`:`right: ${x}`;a.current.dataset.motionPopId=o;const S=document.createElement("style");u&&(S.nonce=u);const k=r??document.head;return k.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${m}px !important;
            ${_}px !important;
            top: ${y}px !important;
          }
        `),()=>{k.contains(S)&&k.removeChild(S)}},[e]),d.jsx(YP,{isPresent:e,childRef:a,sizeRef:l,children:b.cloneElement(t,{ref:f})})}const QP=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:a,mode:l,anchorX:u,root:f})=>{const p=zh(XP),m=b.useId();let y=!0,v=b.useMemo(()=>(y=!1,{id:m,initial:e,isPresent:n,custom:o,onExitComplete:x=>{p.set(x,!0);for(const _ of p.values())if(!_)return;r&&r()},register:x=>(p.set(x,!1),()=>p.delete(x))}),[n,p,r]);return a&&y&&(v={...v}),b.useMemo(()=>{p.forEach((x,_)=>p.set(_,!1))},[n]),b.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),l==="popLayout"&&(t=d.jsx(JP,{isPresent:n,anchorX:u,root:f,children:t})),d.jsx(jc.Provider,{value:v,children:t})};function XP(){return new Map}function ib(t=!0){const e=b.useContext(jc);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=e,a=b.useId();b.useEffect(()=>{if(t)return o(a)},[t]);const l=b.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const jl=t=>t.key||"";function Uv(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const wi=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:a="sync",propagate:l=!1,anchorX:u="left",root:f})=>{const[p,m]=ib(l),y=b.useMemo(()=>Uv(t),[t]),v=l&&!p?[]:y.map(jl),x=b.useRef(!0),_=b.useRef(y),S=zh(()=>new Map),[k,T]=b.useState(y),[j,C]=b.useState(y);px(()=>{x.current=!1,_.current=y;for(let L=0;L<j.length;L++){const $=jl(j[L]);v.includes($)?S.delete($):S.get($)!==!0&&S.set($,!1)}},[j,v.length,v.join("-")]);const N=[];if(y!==k){let L=[...y];for(let $=0;$<j.length;$++){const D=j[$],G=jl(D);v.includes(G)||(L.splice($,0,D),N.push(D))}return a==="wait"&&N.length&&(L=N),C(Uv(L)),T(y),null}const{forceRender:R}=b.useContext(Uh);return d.jsx(d.Fragment,{children:j.map(L=>{const $=jl(L),D=l&&!p?!1:y===j||v.includes($),G=()=>{if(S.has($))S.set($,!0);else return;let X=!0;S.forEach(fe=>{fe||(X=!1)}),X&&(R==null||R(),C(_.current),l&&(m==null||m()),r&&r())};return d.jsx(QP,{isPresent:D,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:a,root:f,onExitComplete:D?void 0:G,anchorX:u,children:L},$)})})},ob=b.createContext({strict:!1}),zv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xi={};for(const t in zv)xi[t]={isEnabled:e=>zv[t].some(n=>!!e[n])};function ZP(t){for(const e in t)xi[e]={...xi[e],...t[e]}}const eA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ac(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||eA.has(t)}let ab=t=>!ac(t);function tA(t){typeof t=="function"&&(ab=e=>e.startsWith("on")?!ac(e):t(e))}try{tA(require("@emotion/is-prop-valid").default)}catch{}function nA(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(ab(o)||n===!0&&ac(o)||!e&&!ac(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}const Tc=b.createContext({});function Cc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ko(t){return typeof t=="string"||Array.isArray(t)}const fp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hp=["initial",...fp];function Nc(t){return Cc(t.animate)||hp.some(e=>Ko(t[e]))}function lb(t){return!!(Nc(t)||t.variants)}function rA(t,e){if(Nc(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ko(n)?n:void 0,animate:Ko(r)?r:void 0}}return t.inherit!==!1?e:{}}function sA(t){const{initial:e,animate:n}=rA(t,b.useContext(Tc));return b.useMemo(()=>({initial:e,animate:n}),[Bv(e),Bv(n)])}function Bv(t){return Array.isArray(t)?t.join(" "):t}const qo={};function iA(t){for(const e in t)qo[e]=t[e],Qh(e)&&(qo[e].isCSSVariable=!0)}function cb(t,{layout:e,layoutId:n}){return Pi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!qo[t]||t==="opacity")}const oA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aA=Ni.length;function lA(t,e,n){let r="",o=!0;for(let a=0;a<aA;a++){const l=Ni[a],u=t[l];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(l.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||n){const p=Zx(u,lp[l]);if(!f){o=!1;const m=oA[l]||l;r+=`${m}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,o?"":r):o&&(r="none"),r}function pp(t,e,n){const{style:r,vars:o,transformOrigin:a}=t;let l=!1,u=!1;for(const f in e){const p=e[f];if(Pi.has(f)){l=!0;continue}else if(Qh(f)){o[f]=p;continue}else{const m=Zx(p,lp[f]);f.startsWith("origin")?(u=!0,a[f]=m):r[f]=m}}if(e.transform||(l||n?r.transform=lA(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${f} ${p} ${m}`}}const mp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ub(t,e,n){for(const r in e)!_t(e[r])&&!cb(r,n)&&(t[r]=e[r])}function cA({transformTemplate:t},e){return b.useMemo(()=>{const n=mp();return pp(n,e,t),Object.assign({},n.vars,n.style)},[e])}function uA(t,e){const n=t.style||{},r={};return ub(r,n,t),Object.assign(r,cA(t,e)),r}function dA(t,e){const n={},r=uA(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const fA={offset:"stroke-dashoffset",array:"stroke-dasharray"},hA={offset:"strokeDashoffset",array:"strokeDasharray"};function pA(t,e,n=1,r=0,o=!0){t.pathLength=1;const a=o?fA:hA;t[a.offset]=we.transform(-r);const l=we.transform(e),u=we.transform(n);t[a.array]=`${l} ${u}`}function db(t,{attrX:e,attrY:n,attrScale:r,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},f,p,m){if(pp(t,u,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:v}=t;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),o!==void 0&&pA(y,o,a,l,!1)}const fb=()=>({...mp(),attrs:{}}),hb=t=>typeof t=="string"&&t.toLowerCase()==="svg";function mA(t,e,n,r){const o=b.useMemo(()=>{const a=fb();return db(a,e,hb(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};ub(a,t.style,t),o.style={...a,...o.style}}return o}const gA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gp(t){return typeof t!="string"||t.includes("-")?!1:!!(gA.indexOf(t)>-1||/[A-Z]/u.test(t))}function yA(t,e,n,{latestValues:r},o,a=!1){const u=(gp(t)?mA:dA)(e,r,o,t),f=nA(e,typeof t=="string",a),p=t!==b.Fragment?{...f,...u,ref:n}:{},{children:m}=e,y=b.useMemo(()=>_t(m)?m.get():m,[m]);return b.createElement(t,{...p,children:y})}function Wv(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function yp(t,e,n,r){if(typeof e=="function"){const[o,a]=Wv(r);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=Wv(r);e=e(n!==void 0?n:t.custom,o,a)}return e}function Kl(t){return _t(t)?t.get():t}function vA({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,o){return{latestValues:wA(n,r,o,t),renderState:e()}}function wA(t,e,n,r){const o={},a=r(t,{});for(const v in a)o[v]=Kl(a[v]);let{initial:l,animate:u}=t;const f=Nc(t),p=lb(t);e&&p&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const y=m?u:l;if(y&&typeof y!="boolean"&&!Cc(y)){const v=Array.isArray(y)?y:[y];for(let x=0;x<v.length;x++){const _=yp(t,v[x]);if(_){const{transitionEnd:S,transition:k,...T}=_;for(const j in T){let C=T[j];if(Array.isArray(C)){const N=m?C.length-1:0;C=C[N]}C!==null&&(o[j]=C)}for(const j in S)o[j]=S[j]}}}return o}const pb=t=>(e,n)=>{const r=b.useContext(Tc),o=b.useContext(jc),a=()=>vA(t,e,r,o);return n?a():zh(a)};function vp(t,e,n){var a;const{style:r}=t,o={};for(const l in r)(_t(r[l])||e.style&&_t(e.style[l])||cb(l,t)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(o[l]=r[l]);return o}const xA=pb({scrapeMotionValuesFromProps:vp,createRenderState:mp});function mb(t,e,n){const r=vp(t,e,n);for(const o in t)if(_t(t[o])||_t(e[o])){const a=Ni.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[a]=t[o]}return r}const bA=pb({scrapeMotionValuesFromProps:mb,createRenderState:fb}),SA=Symbol.for("motionComponentSymbol");function ci(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function _A(t,e,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ci(n)&&(n.current=r))},[e])}const wp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kA="framerAppearId",gb="data-"+wp(kA),yb=b.createContext({});function EA(t,e,n,r,o){var S,k;const{visualElement:a}=b.useContext(Tc),l=b.useContext(ob),u=b.useContext(jc),f=b.useContext(dp).reducedMotion,p=b.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const m=p.current,y=b.useContext(yb);m&&!m.projection&&o&&(m.type==="html"||m.type==="svg")&&jA(p.current,n,o,y);const v=b.useRef(!1);b.useInsertionEffect(()=>{m&&v.current&&m.update(n,u)});const x=n[gb],_=b.useRef(!!x&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,x))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,x)));return px(()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),_.current&&m.animationState&&m.animationState.animateChanges())}),b.useEffect(()=>{m&&(!_.current&&m.animationState&&m.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,x)}),_.current=!1),m.enteringChildren=void 0)}),m}function jA(t,e,n,r){const{layoutId:o,layout:a,drag:l,dragConstraints:u,layoutScroll:f,layoutRoot:p,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:vb(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!l||u&&ci(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:f,layoutRoot:p})}function vb(t){if(t)return t.options.allowProjection!==!1?t.projection:vb(t.parent)}function Xd(t,{forwardMotionProps:e=!1}={},n,r){n&&ZP(n);const o=gp(t)?bA:xA;function a(u,f){let p;const m={...b.useContext(dp),...u,layoutId:TA(u)},{isStatic:y}=m,v=sA(u),x=o(u,y);if(!y&&Bh){CA();const _=NA(m);p=_.MeasureLayout,v.visualElement=EA(t,x,m,r,_.ProjectionNode)}return d.jsxs(Tc.Provider,{value:v,children:[p&&v.visualElement?d.jsx(p,{visualElement:v.visualElement,...m}):null,yA(t,u,_A(x,v.visualElement,f),x,y,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=b.forwardRef(a);return l[SA]=t,l}function TA({layoutId:t}){const e=b.useContext(Uh).id;return e&&t!==void 0?e+"-"+t:t}function CA(t,e){b.useContext(ob).strict}function NA(t){const{drag:e,layout:n}=xi;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function PA(t,e){if(typeof Proxy>"u")return Xd;const n=new Map,r=(a,l)=>Xd(a,l,t,e),o=(a,l)=>r(a,l);return new Proxy(o,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,Xd(l,void 0,t,e)),n.get(l))})}function wb({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function AA({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function RA(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Zd(t){return t===void 0||t===1}function Gf({scale:t,scaleX:e,scaleY:n}){return!Zd(t)||!Zd(e)||!Zd(n)}function is(t){return Gf(t)||xb(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function xb(t){return Hv(t.x)||Hv(t.y)}function Hv(t){return t&&t!=="0%"}function lc(t,e,n){const r=t-n,o=e*r;return n+o}function Gv(t,e,n,r,o){return o!==void 0&&(t=lc(t,o,r)),lc(t,n,r)+e}function Kf(t,e=0,n=1,r,o){t.min=Gv(t.min,e,n,r,o),t.max=Gv(t.max,e,n,r,o)}function bb(t,{x:e,y:n}){Kf(t.x,e.translate,e.scale,e.originPoint),Kf(t.y,n.translate,n.scale,n.originPoint)}const Kv=.999999999999,qv=1.0000000000001;function OA(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,l;for(let u=0;u<o;u++){a=n[u],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&di(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,bb(t,l)),r&&is(a.latestValues)&&di(t,a.latestValues))}e.x<qv&&e.x>Kv&&(e.x=1),e.y<qv&&e.y>Kv&&(e.y=1)}function ui(t,e){t.min=t.min+e,t.max=t.max+e}function Yv(t,e,n,r,o=.5){const a=Ye(t.min,t.max,o);Kf(t,e,n,a,r)}function di(t,e){Yv(t.x,e.x,e.scaleX,e.scale,e.originX),Yv(t.y,e.y,e.scaleY,e.scale,e.originY)}function Sb(t,e){return wb(RA(t.getBoundingClientRect(),e))}function IA(t,e,n){const r=Sb(t,n),{scroll:o}=e;return o&&(ui(r.x,o.offset.x),ui(r.y,o.offset.y)),r}const Jv=()=>({translate:0,scale:1,origin:0,originPoint:0}),fi=()=>({x:Jv(),y:Jv()}),Qv=()=>({min:0,max:0}),tt=()=>({x:Qv(),y:Qv()}),qf={current:null},_b={current:!1};function LA(){if(_b.current=!0,!!Bh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>qf.current=t.matches;t.addEventListener("change",e),e()}else qf.current=!1}const MA=new WeakMap;function DA(t,e,n){for(const r in e){const o=e[r],a=n[r];if(_t(o))t.addValue(r,o);else if(_t(a))t.addValue(r,vi(o,{owner:t}));else if(a!==o)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(o):l.hasAnimated||l.set(o)}else{const l=t.getStaticValue(r);t.addValue(r,vi(l!==void 0?l:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Xv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $A{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=op,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Dt.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,He.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=Nc(n),this.isVariantNode=lb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in y){const x=y[v];f[v]!==void 0&&_t(x)&&x.set(f[v])}}mount(e){var n;this.current=e,MA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),_b.current||LA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qf.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ir(this.notifyUpdate),Ir(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Pi.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&He.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in xi){const n=xi[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Xv.length;r++){const o=Xv[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,l=e[a];l&&(this.propEventSubscriptions[o]=this.on(o,l))}this.prevMotionValues=DA(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=vi(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(mx(r)||yx(r))?r=parseFloat(r):!GP(r)&&Lr.test(n)&&(r=Xx(e,n)),this.setBaseTarget(e,_t(r)?r.get():r)),_t(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=yp(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!_t(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new qh),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){cp.render(this.render)}}class kb extends $A{constructor(){super(...arguments),this.KeyframeResolver=IP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;_t(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Eb(t,{style:e,vars:n},r,o){const a=t.style;let l;for(l in e)a[l]=e[l];o==null||o.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function FA(t){return window.getComputedStyle(t)}class VA extends kb{constructor(){super(...arguments),this.type="html",this.renderInstance=Eb}readValueFromInstance(e,n){var r;if(Pi.has(n))return(r=this.projection)!=null&&r.isProjecting?Ff(n):ZN(e,n);{const o=FA(e),a=(Qh(n)?o.getPropertyValue(n):o[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Sb(e,n)}build(e,n,r){pp(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return vp(e,n,r)}}const jb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function UA(t,e,n,r){Eb(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(jb.has(o)?o:wp(o),e.attrs[o])}class zA extends kb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Pi.has(n)){const r=Qx(n);return r&&r.default||0}return n=jb.has(n)?n:wp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return mb(e,n,r)}build(e,n,r){db(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,o){UA(e,n,r,o)}mount(e){this.isSVGTag=hb(e.tagName),super.mount(e)}}const BA=(t,e)=>gp(t)?new zA(e):new VA(e,{allowProjection:t!==b.Fragment});function pi(t,e,n){const r=t.getProps();return yp(r,e,n!==void 0?n:r.custom,t)}const Yf=t=>Array.isArray(t);function WA(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vi(n))}function HA(t){return Yf(t)?t[t.length-1]||0:t}function GA(t,e){const n=pi(t,e);let{transitionEnd:r={},transition:o={},...a}=n||{};a={...a,...r};for(const l in a){const u=HA(a[l]);WA(t,l,u)}}function KA(t){return!!(_t(t)&&t.add)}function Jf(t,e){const n=t.getValue("willChange");if(KA(n))return n.add(e);if(!n&&rr.WillChange){const r=new rr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Tb(t){return t.props[gb]}const qA=t=>t!==null;function YA(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(qA),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[a]}const JA={type:"spring",stiffness:500,damping:25,restSpeed:10},QA=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),XA={type:"keyframes",duration:.8},ZA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},e2=(t,{keyframes:e})=>e.length>2?XA:Pi.has(t)?t.startsWith("scale")?QA(e[1]):JA:ZA;function t2({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:a,repeatType:l,repeatDelay:u,from:f,elapsed:p,...m}){return!!Object.keys(m).length}const xp=(t,e,n,r={},o,a)=>l=>{const u=ap(r,t)||{},f=u.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Mn(f);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:o};t2(u)||Object.assign(m,e2(t,m)),m.duration&&(m.duration=Mn(m.duration)),m.repeatDelay&&(m.repeatDelay=Mn(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Wf(m),m.delay===0&&(y=!0)),(rr.instantAnimations||rr.skipAnimations)&&(y=!0,Wf(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,y&&!a&&e.get()!==void 0){const v=YA(m.keyframes,u);if(v!==void 0){He.update(()=>{m.onUpdate(v),m.onComplete()});return}}return u.isSync?new ip(m):new SP(m)};function n2({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Cb(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(a=r);const f=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const m in u){const y=t.getValue(m,t.latestValues[m]??null),v=u[m];if(v===void 0||p&&n2(p,m))continue;const x={delay:n,...ap(a||{},m)},_=y.get();if(_!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===_&&!x.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const T=Tb(t);if(T){const j=window.MotionHandoffAnimation(T,m,He);j!==null&&(x.startTime=j,S=!0)}}Jf(t,m),y.start(xp(m,y,v,t.shouldReduceMotion&&qx.has(m)?{type:!1}:x,t,S));const k=y.animation;k&&f.push(k)}return l&&Promise.all(f).then(()=>{He.update(()=>{l&&GA(t,l)})}),f}function Nb(t,e,n,r=0,o=1){const a=Array.from(t).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),l=t.size,u=(l-1)*r;return typeof n=="function"?n(a,l):o===1?a*r:u-a*r}function Qf(t,e,n={}){var f;const r=pi(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const a=r?()=>Promise.all(Cb(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:v}=o;return r2(t,e,p,m,y,v,n)}:()=>Promise.resolve(),{when:u}=o;if(u){const[p,m]=u==="beforeChildren"?[a,l]:[l,a];return p().then(()=>m())}else return Promise.all([a(),l(n.delay)])}function r2(t,e,n=0,r=0,o=0,a=1,l){const u=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),u.push(Qf(f,e,{...l,delay:n+(typeof r=="function"?0:r)+Nb(t.variantChildren,f,r,o,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(u)}function s2(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(a=>Qf(t,a,n));r=Promise.all(o)}else if(typeof e=="string")r=Qf(t,e,n);else{const o=typeof e=="function"?pi(t,e,n.custom):e;r=Promise.all(Cb(t,o,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Pb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const i2=hp.length;function Ab(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Ab(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<i2;n++){const r=hp[n],o=t.props[r];(Ko(o)||o===!1)&&(e[r]=o)}return e}const o2=[...fp].reverse(),a2=fp.length;function l2(t){return e=>Promise.all(e.map(({animation:n,options:r})=>s2(t,n,r)))}function c2(t){let e=l2(t),n=Zv(),r=!0;const o=f=>(p,m)=>{var v;const y=pi(t,m,f==="exit"?(v=t.presenceContext)==null?void 0:v.custom:void 0);if(y){const{transition:x,transitionEnd:_,...S}=y;p={...p,...S,..._}}return p};function a(f){e=f(t)}function l(f){const{props:p}=t,m=Ab(t.parent)||{},y=[],v=new Set;let x={},_=1/0;for(let k=0;k<a2;k++){const T=o2[k],j=n[T],C=p[T]!==void 0?p[T]:m[T],N=Ko(C),R=T===f?j.isActive:null;R===!1&&(_=k);let L=C===m[T]&&C!==p[T]&&N;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),j.protectedKeys={...x},!j.isActive&&R===null||!C&&!j.prevProp||Cc(C)||typeof C=="boolean")continue;const $=u2(j.prevProp,C);let D=$||T===f&&j.isActive&&!L&&N||k>_&&N,G=!1;const X=Array.isArray(C)?C:[C];let fe=X.reduce(o(T),{});R===!1&&(fe={});const{prevResolvedValues:Ee={}}=j,ye={...Ee,...fe},ve=z=>{D=!0,v.has(z)&&(G=!0,v.delete(z)),j.needsAnimating[z]=!0;const O=t.getValue(z);O&&(O.liveStyle=!1)};for(const z in ye){const O=fe[z],H=Ee[z];if(x.hasOwnProperty(z))continue;let F=!1;Yf(O)&&Yf(H)?F=!Pb(O,H):F=O!==H,F?O!=null?ve(z):v.add(z):O!==void 0&&v.has(z)?ve(z):j.protectedKeys[z]=!0}j.prevProp=C,j.prevResolvedValues=fe,j.isActive&&(x={...x,...fe}),r&&t.blockInitialAnimation&&(D=!1);const Se=L&&$;D&&(!Se||G)&&y.push(...X.map(z=>{const O={type:T};if(typeof z=="string"&&r&&!Se&&t.manuallyAnimateOnMount&&t.parent){const{parent:H}=t,F=pi(H,z);if(H.enteringChildren&&F){const{delayChildren:P}=F.transition||{};O.delay=Nb(H.enteringChildren,t,P)}}return{animation:z,options:O}}))}if(v.size){const k={};if(typeof p.initial!="boolean"){const T=pi(t,Array.isArray(p.initial)?p.initial[0]:p.initial);T&&T.transition&&(k.transition=T.transition)}v.forEach(T=>{const j=t.getBaseTarget(T),C=t.getValue(T);C&&(C.liveStyle=!0),k[T]=j??null}),y.push({animation:k})}let S=!!y.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(y):Promise.resolve()}function u(f,p){var y;if(n[f].isActive===p)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(v=>{var x;return(x=v.animationState)==null?void 0:x.setActive(f,p)}),n[f].isActive=p;const m=l(f);for(const v in n)n[v].protectedKeys={};return m}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Zv()}}}function u2(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Pb(e,t):!1}function ts(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Zv(){return{animate:ts(!0),whileInView:ts(),whileHover:ts(),whileTap:ts(),whileDrag:ts(),whileFocus:ts(),exit:ts()}}class $r{constructor(e){this.isMounted=!1,this.node=e}update(){}}class d2 extends $r{constructor(e){super(e),e.animationState||(e.animationState=c2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Cc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let f2=0;class h2 extends $r{constructor(){super(...arguments),this.id=f2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const p2={animation:{Feature:d2},exit:{Feature:h2}};function Yo(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ia(t){return{point:{x:t.pageX,y:t.pageY}}}const m2=t=>e=>up(e)&&t(e,ia(e));function Io(t,e,n,r){return Yo(t,e,m2(n),r)}const Rb=1e-4,g2=1-Rb,y2=1+Rb,Ob=.01,v2=0-Ob,w2=0+Ob;function Ct(t){return t.max-t.min}function x2(t,e,n){return Math.abs(t-e)<=n}function e0(t,e,n,r=.5){t.origin=r,t.originPoint=Ye(e.min,e.max,t.origin),t.scale=Ct(n)/Ct(e),t.translate=Ye(n.min,n.max,t.origin)-t.originPoint,(t.scale>=g2&&t.scale<=y2||isNaN(t.scale))&&(t.scale=1),(t.translate>=v2&&t.translate<=w2||isNaN(t.translate))&&(t.translate=0)}function Lo(t,e,n,r){e0(t.x,e.x,n.x,r?r.originX:void 0),e0(t.y,e.y,n.y,r?r.originY:void 0)}function t0(t,e,n){t.min=n.min+e.min,t.max=t.min+Ct(e)}function b2(t,e,n){t0(t.x,e.x,n.x),t0(t.y,e.y,n.y)}function n0(t,e,n){t.min=e.min-n.min,t.max=t.min+Ct(e)}function Mo(t,e,n){n0(t.x,e.x,n.x),n0(t.y,e.y,n.y)}function nn(t){return[t("x"),t("y")]}const Ib=({current:t})=>t?t.ownerDocument.defaultView:null,r0=(t,e)=>Math.abs(t-e);function S2(t,e){const n=r0(t.x,e.x),r=r0(t.y,e.y);return Math.sqrt(n**2+r**2)}class Lb{constructor(e,n,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=tf(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,_=S2(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!_)return;const{point:S}=v,{timestamp:k}=mt;this.history.push({...S,timestamp:k});const{onStart:T,onMove:j}=this.handlers;x||(T&&T(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,v)},this.handlePointerMove=(v,x)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=ef(x,this.transformPagePoint),He.update(this.updatePoint,!0)},this.handlePointerUp=(v,x)=>{this.end();const{onEnd:_,onSessionEnd:S,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=tf(v.type==="pointercancel"?this.lastMoveEventInfo:ef(x,this.transformPagePoint),this.history);this.startEvent&&_&&_(v,T),S&&S(v,T)},!up(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=o||window;const u=ia(e),f=ef(u,this.transformPagePoint),{point:p}=f,{timestamp:m}=mt;this.history=[{...p,timestamp:m}];const{onSessionStart:y}=n;y&&y(e,tf(f,this.history)),this.removeListeners=na(Io(this.contextWindow,"pointermove",this.handlePointerMove),Io(this.contextWindow,"pointerup",this.handlePointerUp),Io(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ir(this.updatePoint)}}function ef(t,e){return e?{point:e(t.point)}:t}function s0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function tf({point:t},e){return{point:t,delta:s0(t,Mb(e)),offset:s0(t,_2(e)),velocity:k2(e,.1)}}function _2(t){return t[0]}function Mb(t){return t[t.length-1]}function k2(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=Mb(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>Mn(e)));)n--;if(!r)return{x:0,y:0};const a=on(o.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function E2(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ye(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ye(n,t,r.max):Math.min(t,n)),t}function i0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function j2(t,{top:e,left:n,bottom:r,right:o}){return{x:i0(t.x,n,o),y:i0(t.y,e,r)}}function o0(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function T2(t,e){return{x:o0(t.x,e.x),y:o0(t.y,e.y)}}function C2(t,e){let n=.5;const r=Ct(t),o=Ct(e);return o>r?n=Wo(e.min,e.max-r,t.min):r>o&&(n=Wo(t.min,t.max-o,e.min)),nr(0,1,n)}function N2(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Xf=.35;function P2(t=Xf){return t===!1?t=0:t===!0&&(t=Xf),{x:a0(t,"left","right"),y:a0(t,"top","bottom")}}function a0(t,e,n){return{min:l0(t,e),max:l0(t,n)}}function l0(t,e){return typeof t=="number"?t:t[e]||0}const A2=new WeakMap;class R2{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ia(y).point)},l=(y,v)=>{const{drag:x,dragPropagation:_,onDragStart:S}=this.getProps();if(x&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$P(x),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nn(T=>{let j=this.getAxisMotionValue(T).get()||0;if(Dn.test(j)){const{projection:C}=this.visualElement;if(C&&C.layout){const N=C.layout.layoutBox[T];N&&(j=Ct(N)*(parseFloat(j)/100))}}this.originPoint[T]=j}),S&&He.postRender(()=>S(y,v)),Jf(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},u=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v;const{dragPropagation:x,dragDirectionLock:_,onDirectionLock:S,onDrag:k}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:T}=v;if(_&&this.currentDirection===null){this.currentDirection=O2(T),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",v.point,T),this.updateAxis("y",v.point,T),this.visualElement.render(),k&&k(y,v)},f=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v,this.stop(y,v),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>nn(y=>{var v;return this.getAnimationState(y)==="paused"&&((v=this.getAxisMotionValue(y).animation)==null?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Lb(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:Ib(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,o=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!r)return;const{velocity:l}=o;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&He.postRender(()=>u(r,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!Tl(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=E2(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,o=this.constraints;e&&ci(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=j2(r.layoutBox,e):this.constraints=!1,this.elastic=P2(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&nn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=N2(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ci(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=IA(r,o.root,this.visualElement.getTransformPagePoint());let l=T2(o.layout.layoutBox,a);if(n){const u=n(AA(l));this.hasMutatedConstraints=!!u,u&&(l=wb(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},p=nn(m=>{if(!Tl(m,n,this.currentDirection))return;let y=f&&f[m]||{};l&&(y={min:0,max:0});const v=o?200:1e6,x=o?40:1e7,_={type:"inertia",velocity:r?e[m]:0,bounceStiffness:v,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(m,_)});return Promise.all(p).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Jf(this.visualElement,e),r.start(xp(e,r,0,n,this.visualElement,!1))}stopAnimation(){nn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){nn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){nn(n=>{const{drag:r}=this.getProps();if(!Tl(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:l,max:u}=o.layout.layoutBox[n];a.set(e[n]-Ye(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ci(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};nn(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const f=u.get();o[l]=C2({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),nn(l=>{if(!Tl(l,e,null))return;const u=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];u.set(Ye(f,p,o[l]))})}addListeners(){if(!this.visualElement.current)return;A2.set(this.visualElement,this);const e=this.visualElement.current,n=Io(e,"pointerdown",f=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();ci(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),He.read(r);const l=Yo(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(nn(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=f[m].translate,y.set(y.get()+f[m].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:l=Xf,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function Tl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function O2(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class I2 extends $r{constructor(e){super(e),this.removeGroupControls=ln,this.removeListeners=ln,this.controls=new R2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ln}unmount(){this.removeGroupControls(),this.removeListeners()}}const c0=t=>(e,n)=>{t&&He.postRender(()=>t(e,n))};class L2 extends $r{constructor(){super(...arguments),this.removePointerDownListener=ln}onPointerDown(e){this.session=new Lb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ib(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:c0(e),onStart:c0(n),onMove:r,onEnd:(a,l)=>{delete this.session,o&&He.postRender(()=>o(a,l))}}}mount(){this.removePointerDownListener=Io(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ql={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function u0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const _o={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=u0(t,e.target.x),r=u0(t,e.target.y);return`${n}% ${r}%`}},M2={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=Lr.parse(t);if(o.length>5)return r;const a=Lr.createTransformer(t),l=typeof o[0]!="number"?1:0,u=n.x.scale*e.x,f=n.y.scale*e.y;o[0+l]/=u,o[1+l]/=f;const p=Ye(u,f,.5);return typeof o[2+l]=="number"&&(o[2+l]/=p),typeof o[3+l]=="number"&&(o[3+l]/=p),a(o)}};let nf=!1;class D2 extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:a}=e;iA($2),a&&(n.group&&n.group.add(a),r&&r.register&&o&&r.register(a),nf&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),ql.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,nf=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||He.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),cp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;nf=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Db(t){const[e,n]=ib(),r=b.useContext(Uh);return d.jsx(D2,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(yb),isPresent:e,safeToRemove:n})}const $2={borderRadius:{..._o,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_o,borderTopRightRadius:_o,borderBottomLeftRadius:_o,borderBottomRightRadius:_o,boxShadow:M2};function F2(t,e,n){const r=_t(t)?t:vi(t);return r.start(xp("",r,e,n)),r.animation}const V2=(t,e)=>t.depth-e.depth;class U2{constructor(){this.children=[],this.isDirty=!1}add(e){Wh(this.children,e),this.isDirty=!0}remove(e){Hh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(V2),this.isDirty=!1,this.children.forEach(e)}}function z2(t,e){const n=Dt.now(),r=({timestamp:o})=>{const a=o-n;a>=e&&(Ir(r),t(a-e))};return He.setup(r,!0),()=>Ir(r)}const $b=["TopLeft","TopRight","BottomLeft","BottomRight"],B2=$b.length,d0=t=>typeof t=="string"?parseFloat(t):t,f0=t=>typeof t=="number"||we.test(t);function W2(t,e,n,r,o,a){o?(t.opacity=Ye(0,n.opacity??1,H2(r)),t.opacityExit=Ye(e.opacity??1,0,G2(r))):a&&(t.opacity=Ye(e.opacity??1,n.opacity??1,r));for(let l=0;l<B2;l++){const u=`border${$b[l]}Radius`;let f=h0(e,u),p=h0(n,u);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||f0(f)===f0(p)?(t[u]=Math.max(Ye(d0(f),d0(p),r),0),(Dn.test(p)||Dn.test(f))&&(t[u]+="%")):t[u]=p}(e.rotate||n.rotate)&&(t.rotate=Ye(e.rotate||0,n.rotate||0,r))}function h0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const H2=Fb(0,.5,Ex),G2=Fb(.5,.95,ln);function Fb(t,e,n){return r=>r<t?0:r>e?1:n(Wo(t,e,r))}function p0(t,e){t.min=e.min,t.max=e.max}function en(t,e){p0(t.x,e.x),p0(t.y,e.y)}function m0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function g0(t,e,n,r,o){return t-=e,t=lc(t,1/n,r),o!==void 0&&(t=lc(t,1/o,r)),t}function K2(t,e=0,n=1,r=.5,o,a=t,l=t){if(Dn.test(e)&&(e=parseFloat(e),e=Ye(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Ye(a.min,a.max,r);t===a&&(u-=e),t.min=g0(t.min,e,n,u,o),t.max=g0(t.max,e,n,u,o)}function y0(t,e,[n,r,o],a,l){K2(t,e[n],e[r],e[o],e.scale,a,l)}const q2=["x","scaleX","originX"],Y2=["y","scaleY","originY"];function v0(t,e,n,r){y0(t.x,e,q2,n?n.x:void 0,r?r.x:void 0),y0(t.y,e,Y2,n?n.y:void 0,r?r.y:void 0)}function w0(t){return t.translate===0&&t.scale===1}function Vb(t){return w0(t.x)&&w0(t.y)}function x0(t,e){return t.min===e.min&&t.max===e.max}function J2(t,e){return x0(t.x,e.x)&&x0(t.y,e.y)}function b0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Ub(t,e){return b0(t.x,e.x)&&b0(t.y,e.y)}function S0(t){return Ct(t.x)/Ct(t.y)}function _0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Q2{constructor(){this.members=[]}add(e){Wh(this.members,e),e.scheduleRender()}remove(e){if(Hh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function X2(t,e,n){let r="";const o=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((o||a||l)&&(r=`translate3d(${o}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:y,rotateY:v,skewX:x,skewY:_}=n;p&&(r=`perspective(${p}px) ${r}`),m&&(r+=`rotate(${m}deg) `),y&&(r+=`rotateX(${y}deg) `),v&&(r+=`rotateY(${v}deg) `),x&&(r+=`skewX(${x}deg) `),_&&(r+=`skewY(${_}deg) `)}const u=t.x.scale*e.x,f=t.y.scale*e.y;return(u!==1||f!==1)&&(r+=`scale(${u}, ${f})`),r||"none"}const rf=["","X","Y","Z"],Z2=1e3;let eR=0;function sf(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function zb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Tb(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",He,!(o||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&zb(r)}function Bb({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(l={},u=e==null?void 0:e()){this.id=eR++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(rR),this.nodes.forEach(aR),this.nodes.forEach(lR),this.nodes.forEach(sR)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new U2)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new qh),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const f=this.eventHandlers.get(l);f&&f.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=sb(l)&&!WP(l),this.instance=l;const{layoutId:u,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),t){let m,y=0;const v=()=>this.root.updateBlockedByResize=!1;He.read(()=>{y=window.innerWidth}),t(l,()=>{const x=window.innerWidth;x!==y&&(y=x,this.root.updateBlockedByResize=!0,m&&m(),m=z2(v,250),ql.hasAnimatedSinceResize&&(ql.hasAnimatedSinceResize=!1,this.nodes.forEach(j0)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||p.getDefaultTransition()||hR,{onLayoutAnimationStart:S,onLayoutAnimationComplete:k}=p.getProps(),T=!this.targetLayout||!Ub(this.targetLayout,x),j=!y&&v;if(this.options.layoutRoot||this.resumeFrom||j||y&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...ap(_,"layout"),onPlay:S,onComplete:k};(p.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(m,j)}else y||j0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ir(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cR),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(k0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(E0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(oR),this.nodes.forEach(tR),this.nodes.forEach(nR)):this.nodes.forEach(E0),this.clearAllSnapshots();const u=Dt.now();mt.delta=nr(0,1e3/60,u-mt.timestamp),mt.timestamp=u,mt.isProcessing=!0,Gd.update.process(mt),Gd.preRender.process(mt),Gd.render.process(mt),mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iR),this.sharedNodes.forEach(uR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,He.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){He.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ct(this.snapshot.measuredBox.x)&&!Ct(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!Vb(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&this.instance&&(u||is(this.latestValues)||m)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return l&&(f=this.removeTransform(f)),pR(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:l}=this.options;if(!l)return tt();const u=l.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(mR))){const{scroll:m}=this.root;m&&(ui(u.x,m.offset.x),ui(u.y,m.offset.y))}return u}removeElementScroll(l){var f;const u=tt();if(en(u,l),(f=this.scroll)!=null&&f.wasRoot)return u;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:y,options:v}=m;m!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&en(u,l),ui(u.x,y.offset.x),ui(u.y,y.offset.y))}return u}applyTransform(l,u=!1){const f=tt();en(f,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&di(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),is(m.latestValues)&&di(f,m.latestValues)}return is(this.latestValues)&&di(f,this.latestValues),f}removeTransform(l){const u=tt();en(u,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!is(p.latestValues))continue;Gf(p.latestValues)&&p.updateSnapshot();const m=tt(),y=p.measurePageBox();en(m,y),v0(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return is(this.latestValues)&&v0(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var v;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=mt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tt(),this.relativeTargetOrigin=tt(),Mo(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tt(),this.targetWithTransforms=tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),b2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):en(this.target,this.layout.layoutBox),bb(this.target,this.targetDelta)):en(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tt(),this.relativeTargetOrigin=tt(),Mo(this.relativeTargetOrigin,this.target,x.target),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gf(this.parent.latestValues)||xb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===mt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;en(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;OA(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=tt());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(m0(this.prevProjectionDelta.x,this.projectionDelta.x),m0(this.prevProjectionDelta.y,this.projectionDelta.y)),Lo(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!_0(this.projectionDelta.x,this.prevProjectionDelta.x)||!_0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fi(),this.projectionDelta=fi(),this.projectionDeltaWithTransform=fi()}setAnimationOrigin(l,u=!1){const f=this.snapshot,p=f?f.latestValues:{},m={...this.latestValues},y=fi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=tt(),x=f?f.source:void 0,_=this.layout?this.layout.source:void 0,S=x!==_,k=this.getStack(),T=!k||k.members.length<=1,j=!!(S&&!T&&this.options.crossfade===!0&&!this.path.some(fR));this.animationProgress=0;let C;this.mixTargetDelta=N=>{const R=N/1e3;T0(y.x,l.x,R),T0(y.y,l.y,R),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mo(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dR(this.relativeTarget,this.relativeTargetOrigin,v,R),C&&J2(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=tt()),en(C,this.relativeTarget)),S&&(this.animationValues=m,W2(m,p,this.latestValues,R,j,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,f,p;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Ir(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=He.update(()=>{ql.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=vi(0)),this.currentAnimation=F2(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),l.onUpdate&&l.onUpdate(m)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Z2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:f,layout:p,latestValues:m}=l;if(!(!u||!f||!p)){if(this!==l&&this.layout&&p&&Wb(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||tt();const y=Ct(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+y;const v=Ct(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+v}en(u,f),di(u,m),Lo(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Q2),this.sharedNodes.get(l).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const p={};f.z&&sf("z",l,p,this.animationValues);for(let m=0;m<rf.length;m++)sf(`rotate${rf[m]}`,l,p,this.animationValues),sf(`skew${rf[m]}`,l,p,this.animationValues);l.render();for(const m in p)l.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Kl(u==null?void 0:u.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Kl(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!is(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=X2(this.projectionDeltaWithTransform,this.treeScale,m);f&&(y=f(m,y)),l.transform=y;const{x:v,y:x}=this.projectionDelta;l.transformOrigin=`${v.origin*100}% ${x.origin*100}% 0`,p.animationValues?l.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in qo){if(m[_]===void 0)continue;const{correct:S,applyTo:k,isCSSVariable:T}=qo[_],j=y==="none"?m[_]:S(m[_],p);if(k){const C=k.length;for(let N=0;N<C;N++)l[k[N]]=j}else T?this.options.visualElement.renderState.vars[_]=j:l[_]=j}this.options.layoutId&&(l.pointerEvents=p===this?Kl(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(k0),this.root.sharedNodes.clear()}}}function tR(t){t.updateLayout()}function nR(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?nn(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],x=Ct(v);v.min=r[y].min,v.max=v.min+x}):Wb(a,e.layoutBox,r)&&nn(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],x=Ct(r[y]);v.max=v.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+x)});const u=fi();Lo(u,r,e.layoutBox);const f=fi();l?Lo(f,t.applyTransform(o,!0),e.measuredBox):Lo(f,r,e.layoutBox);const p=!Vb(u);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:x}=y;if(v&&x){const _=tt();Mo(_,e.layoutBox,v.layoutBox);const S=tt();Mo(S,r,x.layoutBox),Ub(_,S)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=_,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function rR(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function sR(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function iR(t){t.clearSnapshot()}function k0(t){t.clearMeasurements()}function E0(t){t.isLayoutDirty=!1}function oR(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function j0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function aR(t){t.resolveTargetDelta()}function lR(t){t.calcProjection()}function cR(t){t.resetSkewAndRotation()}function uR(t){t.removeLeadSnapshot()}function T0(t,e,n){t.translate=Ye(e.translate,0,n),t.scale=Ye(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function C0(t,e,n,r){t.min=Ye(e.min,n.min,r),t.max=Ye(e.max,n.max,r)}function dR(t,e,n,r){C0(t.x,e.x,n.x,r),C0(t.y,e.y,n.y,r)}function fR(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hR={duration:.45,ease:[.4,0,.1,1]},N0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),P0=N0("applewebkit/")&&!N0("chrome/")?Math.round:ln;function A0(t){t.min=P0(t.min),t.max=P0(t.max)}function pR(t){A0(t.x),A0(t.y)}function Wb(t,e,n){return t==="position"||t==="preserve-aspect"&&!x2(S0(e),S0(n),.2)}function mR(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const gR=Bb({attachResizeListener:(t,e)=>Yo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),of={current:void 0},Hb=Bb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!of.current){const t=new gR({});t.mount(window),t.setOptions({layoutScroll:!0}),of.current=t}return of.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),yR={pan:{Feature:L2},drag:{Feature:I2,ProjectionNode:Hb,MeasureLayout:Db}};function R0(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=r[o];a&&He.postRender(()=>a(e,ia(e)))}class vR extends $r{mount(){const{current:e}=this.node;e&&(this.unmount=FP(e,(n,r)=>(R0(this.node,r,"Start"),o=>R0(this.node,o,"End"))))}unmount(){}}class wR extends $r{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=na(Yo(this.node.current,"focus",()=>this.onFocus()),Yo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function O0(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=r[o];a&&He.postRender(()=>a(e,ia(e)))}class xR extends $r{mount(){const{current:e}=this.node;e&&(this.unmount=BP(e,(n,r)=>(O0(this.node,r,"Start"),(o,{success:a})=>O0(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Zf=new WeakMap,af=new WeakMap,bR=t=>{const e=Zf.get(t.target);e&&e(t)},SR=t=>{t.forEach(bR)};function _R({root:t,...e}){const n=t||document;af.has(n)||af.set(n,{});const r=af.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(SR,{root:t,...e})),r[o]}function kR(t,e,n){const r=_R(e);return Zf.set(t,n),r.observe(t),()=>{Zf.delete(t),r.unobserve(t)}}const ER={some:0,all:1};class jR extends $r{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:ER[o]},u=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),v=p?m:y;v&&v(f)};return kR(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(TR(e,n))&&this.startObserver()}unmount(){}}function TR({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const CR={inView:{Feature:jR},tap:{Feature:xR},focus:{Feature:wR},hover:{Feature:vR}},NR={layout:{ProjectionNode:Hb,MeasureLayout:Db}},PR={...p2,...CR,...yR,...NR},ge=PA(PR,BA);function AR({onSignUp:t,onSignIn:e}){return d.jsx("div",{className:"min-h-screen bg-background flex flex-col justify-center p-4",children:d.jsx("div",{className:"max-w-4xl mx-auto w-full",children:d.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-center",children:[d.jsxs("div",{className:"space-y-8",children:[d.jsxs(ge.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center lg:text-left",children:[d.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-3 mb-6",children:[d.jsx(ge.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-16 h-16 bg-accent rounded-full flex items-center justify-center",children:d.jsx(Bo,{className:"w-8 h-8 text-accent-foreground"})}),d.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-foreground",children:"VibeTune"})]}),d.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-4",children:[d.jsx("h2",{className:"text-2xl lg:text-3xl font-semibold text-foreground",children:"Master English Prosody with AI"}),d.jsx("p",{className:"text-lg text-muted-foreground",children:"Perfect your pronunciation, rhythm, and intonation through personalized AI conversations"}),d.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-2 pt-2",children:[d.jsx(We,{className:"bg-success text-success-foreground",children:" AI-Powered"}),d.jsx(We,{variant:"outline",children:"No Setup Required"})]})]})]}),d.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-4 max-w-md mx-auto lg:mx-0",children:[d.jsx(ge.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(de,{onClick:()=>{console.log("Onboarding: Sign Up clicked"),t()},className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",size:"lg",children:[d.jsx(WC,{className:"w-5 h-5 mr-2"}),"Sign Up"]})}),d.jsx(ge.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(de,{onClick:()=>{console.log("Onboarding: Sign In clicked"),e()},variant:"outline",className:"w-full",size:"lg",children:[d.jsx(iC,{className:"w-5 h-5 mr-2"}),"Log In"]})})]}),d.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-center lg:text-left",children:d.jsx("p",{className:"text-xs text-muted-foreground max-w-md mx-auto lg:mx-0",children:"Sign up required to access features  Placement test takes 10-15 minutes and personalizes your experience"})})]}),d.jsx(ge.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:1},className:"hidden lg:block",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-center mb-6",children:"See Your Progress"}),d.jsxs(gt,{className:"bg-card/80 backdrop-blur-sm",children:[d.jsx(Sn,{className:"pb-3",children:d.jsxs(sn,{className:"flex items-center gap-2 text-lg",children:[d.jsx(Ln,{className:"w-5 h-5 text-success"}),"Your Progress"]})}),d.jsxs(yt,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm",children:"Prosody Score"}),d.jsx(We,{className:"bg-success text-success-foreground",children:"85%"})]}),d.jsx(kc,{value:85,className:"h-2"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm",children:"Current Level"}),d.jsx(We,{variant:"outline",children:"Intermediate"})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm",children:"Practice Sessions"}),d.jsx("span",{className:"text-sm font-medium",children:"12 completed"})]})]})]})]}),d.jsxs(gt,{className:"bg-card/80 backdrop-blur-sm",children:[d.jsx(Sn,{className:"pb-3",children:d.jsxs(sn,{className:"flex items-center gap-2 text-lg",children:[d.jsx(ai,{className:"w-5 h-5 text-accent"}),"AI Feedback"]})}),d.jsxs(yt,{children:[d.jsx("div",{className:"bg-muted/30 p-3 rounded-lg mb-3",children:d.jsxs("p",{className:"text-sm",children:['"I went to the ',d.jsx("span",{className:"bg-destructive/20 px-1 rounded",children:"store"}),' yesterday."']})}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(vv,{className:"w-4 h-4 text-accent mt-0.5 flex-shrink-0"}),d.jsx("p",{className:"text-xs",children:'Try emphasizing "store" with rising intonation'})]}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(vv,{className:"w-4 h-4 text-success mt-0.5 flex-shrink-0"}),d.jsx("p",{className:"text-xs",children:'Great rhythm on "yesterday"!'})]})]})]})]})]})})]})})})}function fs({className:t,type:e,...n}){return d.jsx("input",{type:e,"data-slot":"input",className:Ie("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var RR="Label",Gb=b.forwardRef((t,e)=>d.jsx(Pe.label,{...t,ref:e,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=t.onMouseDown)==null||o.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Gb.displayName=RR;var OR=Gb;function pt({className:t,...e}){return d.jsx(OR,{"data-slot":"label",className:Ie("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const IR=Rh("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function ys({className:t,variant:e,...n}){return d.jsx("div",{"data-slot":"alert",role:"alert",className:Ie(IR({variant:e}),t),...n})}function vs({className:t,...e}){return d.jsx("div",{"data-slot":"alert-description",className:Ie("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}var eh=function(t,e){return eh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},eh(t,e)};function Kb(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");eh(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var rn=function(){return rn=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},rn.apply(this,arguments)};function Fr(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function qb(t,e,n,r){var o=arguments.length,a=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(l=t[u])&&(a=(o<3?l(a):o>3?l(e,n,a):l(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function Yb(t,e){return function(n,r){e(n,r,t)}}function Jb(t,e,n,r,o,a){function l(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var u=r.kind,f=u==="getter"?"get":u==="setter"?"set":"value",p=!e&&t?r.static?t:t.prototype:null,m=e||(p?Object.getOwnPropertyDescriptor(p,r.name):{}),y,v=!1,x=n.length-1;x>=0;x--){var _={};for(var S in r)_[S]=S==="access"?{}:r[S];for(var S in r.access)_.access[S]=r.access[S];_.addInitializer=function(T){if(v)throw new TypeError("Cannot add initializers after decoration has completed");a.push(l(T||null))};var k=(0,n[x])(u==="accessor"?{get:m.get,set:m.set}:m[f],_);if(u==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(y=l(k.get))&&(m.get=y),(y=l(k.set))&&(m.set=y),(y=l(k.init))&&o.unshift(y)}else(y=l(k))&&(u==="field"?o.unshift(y):m[f]=y)}p&&Object.defineProperty(p,r.name,m),v=!0}function Qb(t,e,n){for(var r=arguments.length>2,o=0;o<e.length;o++)n=r?e[o].call(t,n):e[o].call(t);return r?n:void 0}function Xb(t){return typeof t=="symbol"?t:"".concat(t)}function Zb(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function eS(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ae(t,e,n,r){function o(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(m){try{p(r.next(m))}catch(y){l(y)}}function f(m){try{p(r.throw(m))}catch(y){l(y)}}function p(m){m.done?a(m.value):o(m.value).then(u,f)}p((r=r.apply(t,e||[])).next())})}function tS(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(m){return f([p,m])}}function f(p){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(r=1,o&&(a=p[0]&2?o.return:p[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,p[1])).done)return a;switch(o=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(m){p=[6,m],o=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Pc=Object.create?(function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]});function nS(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Pc(e,t,n)}function cc(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bp(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,a=[],l;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(u){l={error:u}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return a}function rS(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(bp(arguments[e]));return t}function sS(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var a=arguments[e],l=0,u=a.length;l<u;l++,o++)r[o]=a[l];return r}function Sp(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function bi(t){return this instanceof bi?(this.v=t,this):new bi(t)}function iS(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),o[Symbol.asyncIterator]=function(){return this},o;function l(x){return function(_){return Promise.resolve(_).then(x,y)}}function u(x,_){r[x]&&(o[x]=function(S){return new Promise(function(k,T){a.push([x,S,k,T])>1||f(x,S)})},_&&(o[x]=_(o[x])))}function f(x,_){try{p(r[x](_))}catch(S){v(a[0][3],S)}}function p(x){x.value instanceof bi?Promise.resolve(x.value.v).then(m,y):v(a[0][2],x)}function m(x){f("next",x)}function y(x){f("throw",x)}function v(x,_){x(_),a.shift(),a.length&&f(a[0][0],a[0][1])}}function oS(t){var e,n;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,a){e[o]=t[o]?function(l){return(n=!n)?{value:bi(t[o](l)),done:!1}:a?a(l):l}:a}}function aS(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof cc=="function"?cc(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(l){return new Promise(function(u,f){l=t[a](l),o(u,f,l.done,l.value)})}}function o(a,l,u,f){Promise.resolve(f).then(function(p){a({value:p,done:u})},l)}}function lS(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var LR=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},th=function(t){return th=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},th(t)};function cS(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=th(t),r=0;r<n.length;r++)n[r]!=="default"&&Pc(e,t,n[r]);return LR(e,t),e}function uS(t){return t&&t.__esModule?t:{default:t}}function dS(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function fS(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n}function hS(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function pS(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var MR=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function mS(t){function e(a){t.error=t.hasError?new MR(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var n,r=0;function o(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(o);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(o,function(l){return e(l),o()})}else r|=1}catch(l){e(l)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function gS(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,o,a,l){return r?e?".jsx":".js":o&&(!a||!l)?n:o+a+"."+l.toLowerCase()+"js"}):t}const DR={__extends:Kb,__assign:rn,__rest:Fr,__decorate:qb,__param:Yb,__esDecorate:Jb,__runInitializers:Qb,__propKey:Xb,__setFunctionName:Zb,__metadata:eS,__awaiter:ae,__generator:tS,__createBinding:Pc,__exportStar:nS,__values:cc,__read:bp,__spread:rS,__spreadArrays:sS,__spreadArray:Sp,__await:bi,__asyncGenerator:iS,__asyncDelegator:oS,__asyncValues:aS,__makeTemplateObject:lS,__importStar:cS,__importDefault:uS,__classPrivateFieldGet:dS,__classPrivateFieldSet:fS,__classPrivateFieldIn:hS,__addDisposableResource:pS,__disposeResources:mS,__rewriteRelativeImportExtension:gS},$R=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:pS,get __assign(){return rn},__asyncDelegator:oS,__asyncGenerator:iS,__asyncValues:aS,__await:bi,__awaiter:ae,__classPrivateFieldGet:dS,__classPrivateFieldIn:hS,__classPrivateFieldSet:fS,__createBinding:Pc,__decorate:qb,__disposeResources:mS,__esDecorate:Jb,__exportStar:nS,__extends:Kb,__generator:tS,__importDefault:uS,__importStar:cS,__makeTemplateObject:lS,__metadata:eS,__param:Yb,__propKey:Xb,__read:bp,__rest:Fr,__rewriteRelativeImportExtension:gS,__runInitializers:Qb,__setFunctionName:Zb,__spread:rS,__spreadArray:Sp,__spreadArrays:sS,__values:cc,default:DR},Symbol.toStringTag,{value:"Module"})),FR="modulepreload",VR=function(t){return"/"+t},I0={},an=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){let l=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=l(n.map(p=>{if(p=VR(p),p in I0)return;I0[p]=!0;const m=p.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":FR,m||(v.as="script"),v.crossOrigin="",v.href=p,f&&v.setAttribute("nonce",f),document.head.appendChild(v),m)return new Promise((x,_)=>{v.addEventListener("load",x),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return o.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},UR=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>an(async()=>{const{default:r}=await Promise.resolve().then(()=>Ss);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class _p extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class L0 extends _p{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class M0 extends _p{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class D0 extends _p{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var nh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(nh||(nh={}));class zR{constructor(e,{headers:n={},customFetch:r,region:o=nh.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=UR(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ae(this,arguments,void 0,function*(n,r={}){var o;try{const{headers:a,method:l,body:u,signal:f}=r;let p={},{region:m}=r;m||(m=this.region);const y=new URL(`${this.url}/${n}`);m&&m!=="any"&&(p["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let v;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(p["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(p["Content-Type"]="application/json",v=JSON.stringify(u)):v=u;const x=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:v,signal:f}).catch(T=>{throw T.name==="AbortError"?T:new L0(T)}),_=x.headers.get("x-relay-error");if(_&&_==="true")throw new M0(x);if(!x.ok)throw new D0(x);let S=((o=x.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),k;return S==="application/json"?k=yield x.json():S==="application/octet-stream"||S==="application/pdf"?k=yield x.blob():S==="text/event-stream"?k=x:S==="multipart/form-data"?k=yield x.formData():k=yield x.text(),{data:k,error:null,response:x}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new L0(a)}:{data:null,error:a,response:a instanceof D0||a instanceof M0?a.context:void 0}}})}}var St={};const Ai=Uw($R);var Cl={},Nl={},Pl={},Al={},Rl={},BR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Si=BR();const WR=Si.fetch,yS=Si.fetch.bind(Si),vS=Si.Headers,HR=Si.Request,GR=Si.Response,Ss=Object.freeze(Object.defineProperty({__proto__:null,Headers:vS,Request:HR,Response:GR,default:yS,fetch:WR},Symbol.toStringTag,{value:"Module"})),KR=Uw(Ss);var Ol={},$0;function wS(){if($0)return Ol;$0=1,Object.defineProperty(Ol,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ol.default=t,Ol}var F0;function xS(){if(F0)return Rl;F0=1,Object.defineProperty(Rl,"__esModule",{value:!0});const t=Ai,e=t.__importDefault(KR),n=t.__importDefault(wS());class r{constructor(a){var l,u;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(u=a.isMaybeSingle)!==null&&u!==void 0?u:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var m,y,v,x;let _=null,S=null,k=null,T=p.status,j=p.statusText;if(p.ok){if(this.method!=="HEAD"){const L=await p.text();L===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?S=L:S=JSON.parse(L))}const N=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),R=(v=p.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");N&&R&&R.length>1&&(k=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(_={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,k=null,T=406,j="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const N=await p.text();try{_=JSON.parse(N),Array.isArray(_)&&p.status===404&&(S=[],_=null,T=200,j="OK")}catch{p.status===404&&N===""?(T=204,j="No Content"):_={message:N}}if(_&&this.isMaybeSingle&&(!((x=_==null?void 0:_.details)===null||x===void 0)&&x.includes("0 rows"))&&(_=null,T=200,j="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:S,count:k,status:T,statusText:j}});return this.shouldThrowOnError||(f=f.catch(p=>{var m,y,v;return{error:{message:`${(m=p==null?void 0:p.name)!==null&&m!==void 0?m:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(y=p==null?void 0:p.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(v=p==null?void 0:p.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),f.then(a,l)}returns(){return this}overrideTypes(){return this}}return Rl.default=r,Rl}var V0;function bS(){if(V0)return Al;V0=1,Object.defineProperty(Al,"__esModule",{value:!0});const e=Ai.__importDefault(xS());class n extends e.default{select(o){let a=!1;const l=(o??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:a=!0,nullsFirst:l,foreignTable:u,referencedTable:f=u}={}){const p=f?`${f}.order`:"order",m=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${m?`${m},`:""}${o}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${o}`),this}range(o,a,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"offset":`${u}.offset`,p=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(p,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:a=!1,settings:l=!1,buffers:u=!1,wal:f=!1,format:p="text"}={}){var m;const y=[o?"analyze":null,a?"verbose":null,l?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),v=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${v}"; options=${y};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Al.default=n,Al}var U0;function kp(){if(U0)return Pl;U0=1,Object.defineProperty(Pl,"__esModule",{value:!0});const e=Ai.__importDefault(bS());class n extends e.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const l=Array.from(new Set(a)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(o,`in.(${l})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:l,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const p=l===void 0?"":`(${l})`;return this.url.searchParams.append(o,`${f}fts${p}.${a}`),this}match(o){return Object.entries(o).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(o,a,l){return this.url.searchParams.append(o,`not.${a}.${l}`),this}or(o,{foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${o})`),this}filter(o,a,l){return this.url.searchParams.append(o,`${a}.${l}`),this}}return Pl.default=n,Pl}var z0;function SS(){if(z0)return Nl;z0=1,Object.defineProperty(Nl,"__esModule",{value:!0});const e=Ai.__importDefault(kp());class n{constructor(o,{headers:a={},schema:l,fetch:u}){this.url=o,this.headers=new Headers(a),this.schema=l,this.fetch=u}select(o,a){const{head:l=!1,count:u}=a??{},f=l?"HEAD":"GET";let p=!1;const m=(o??"*").split("").map(y=>/\s/.test(y)&&!p?"":(y==='"'&&(p=!p),y)).join("");return this.url.searchParams.set("select",m),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:a,defaultToNull:l=!0}={}){var u;const f="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(p.length>0){const m=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(o,{onConflict:a,ignoreDuplicates:l=!1,count:u,defaultToNull:f=!0}={}){var p;const m="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const y=o.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(y.length>0){const v=[...new Set(y)].map(x=>`"${x}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:a}={}){var l;const u="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:o}={}){var a;const l="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Nl.default=n,Nl}var B0;function qR(){if(B0)return Cl;B0=1,Object.defineProperty(Cl,"__esModule",{value:!0});const t=Ai,e=t.__importDefault(SS()),n=t.__importDefault(kp());class r{constructor(a,{headers:l={},schema:u,fetch:f}={}){this.url=a,this.headers=new Headers(l),this.schemaName=u,this.fetch=f}from(a){const l=new URL(`${this.url}/${a}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:u=!1,get:f=!1,count:p}={}){var m;let y;const v=new URL(`${this.url}/rpc/${a}`);let x;u||f?(y=u?"HEAD":"GET",Object.entries(l).filter(([S,k])=>k!==void 0).map(([S,k])=>[S,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([S,k])=>{v.searchParams.append(S,k)})):(y="POST",x=l);const _=new Headers(this.headers);return p&&_.set("Prefer",`count=${p}`),new n.default({method:y,url:v,headers:_,schema:this.schemaName,body:x,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return Cl.default=r,Cl}var W0;function YR(){if(W0)return St;W0=1,Object.defineProperty(St,"__esModule",{value:!0}),St.PostgrestError=St.PostgrestBuilder=St.PostgrestTransformBuilder=St.PostgrestFilterBuilder=St.PostgrestQueryBuilder=St.PostgrestClient=void 0;const t=Ai,e=t.__importDefault(qR());St.PostgrestClient=e.default;const n=t.__importDefault(SS());St.PostgrestQueryBuilder=n.default;const r=t.__importDefault(kp());St.PostgrestFilterBuilder=r.default;const o=t.__importDefault(bS());St.PostgrestTransformBuilder=o.default;const a=t.__importDefault(xS());St.PostgrestBuilder=a.default;const l=t.__importDefault(wS());return St.PostgrestError=l.default,St.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:a.default,PostgrestError:l.default},St}var JR=YR();const QR=Ph(JR),{PostgrestClient:XR,PostgrestQueryBuilder:u$,PostgrestFilterBuilder:d$,PostgrestTransformBuilder:f$,PostgrestBuilder:h$,PostgrestError:p$}=QR;class ZR{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const eO="2.76.1",tO=`realtime-js/${eO}`,nO="1.0.0",rh=1e4,rO=1e3,sO=100;var Do;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Do||(Do={}));var lt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(lt||(lt={}));var bn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(bn||(bn={}));var sh;(function(t){t.websocket="websocket"})(sh||(sh={}));var as;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(as||(as={}));class iO{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const o=n.getUint8(1),a=n.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(e.slice(l,l+o));l=l+o;const f=r.decode(e.slice(l,l+a));l=l+a;const p=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:u,event:f,payload:p}}}class _S{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})($e||($e={}));const H0=(t,e,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=oO(l,t,e,o),a),{}):{}},oO=(t,e,n,r)=>{const o=e.find(u=>u.name===t),a=o==null?void 0:o.type,l=n[t];return a&&!r.includes(a)?kS(a,l):ih(l)},kS=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return uO(e,n)}switch(t){case $e.bool:return aO(e);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return lO(e);case $e.json:case $e.jsonb:return cO(e);case $e.timestamp:return dO(e);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return ih(e);default:return ih(e)}},ih=t=>t,aO=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},lO=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},cO=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},uO=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const l=t.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(u=>kS(e,u))}return t},dO=t=>typeof t=="string"?t.replace(" ","T"):t,ES=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class lf{constructor(e,n,r={},o=rh){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var G0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(G0||(G0={}));class $o{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$o.syncState(this.state,o,a,l),this.pendingDiffs.forEach(f=>{this.state=$o.syncDiff(this.state,f,a,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},o=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=$o.syncDiff(this.state,o,a,l),u())}),this.onJoin((o,a,l)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:l})}),this.onLeave((o,a,l)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){const a=this.cloneDeep(e),l=this.transformState(n),u={},f={};return this.map(a,(p,m)=>{l[p]||(f[p]=m)}),this.map(l,(p,m)=>{const y=a[p];if(y){const v=m.map(k=>k.presence_ref),x=y.map(k=>k.presence_ref),_=m.filter(k=>x.indexOf(k.presence_ref)<0),S=y.filter(k=>v.indexOf(k.presence_ref)<0);_.length>0&&(u[p]=_),S.length>0&&(f[p]=S)}else u[p]=m}),this.syncDiff(a,{joins:u,leaves:f},r,o)}static syncDiff(e,n,r,o){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(a,(u,f)=>{var p;const m=(p=e[u])!==null&&p!==void 0?p:[];if(e[u]=this.cloneDeep(f),m.length>0){const y=e[u].map(x=>x.presence_ref),v=m.filter(x=>y.indexOf(x.presence_ref)<0);e[u].unshift(...v)}r(u,m,f)}),this.map(l,(u,f)=>{let p=e[u];if(!p)return;const m=f.map(y=>y.presence_ref);p=p.filter(y=>m.indexOf(y.presence_ref)<0),e[u]=p,o(u,p,f),p.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const o=e[r];return"metas"in o?n[r]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var K0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(K0||(K0={}));var Fo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Fo||(Fo={}));var Zn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Zn||(Zn={}));class Ep{constructor(e,n={config:{}},r){var o,a;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new lf(this,bn.join,this.params,this.timeout),this.rejoinTimer=new _S(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bn.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new $o(this),this.broadcastEndpointURL=ES(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==lt.closed){const{config:{broadcast:l,presence:u,private:f}}=this.params,p=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&o!==void 0?o:[],m=!!this.bindings[Fo.PRESENCE]&&this.bindings[Fo.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,y={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:m}),postgres_changes:p,private:f};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(x=>e==null?void 0:e(Zn.CHANNEL_ERROR,x)),this._onClose(()=>e==null?void 0:e(Zn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var _;if(this.socket.setAuth(),x===void 0){e==null||e(Zn.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,k=(_=S==null?void 0:S.length)!==null&&_!==void 0?_:0,T=[];for(let j=0;j<k;j++){const C=S[j],{filter:{event:N,schema:R,table:L,filter:$}}=C,D=x&&x[j];if(D&&D.event===N&&D.schema===R&&D.table===L&&D.filter===$)T.push(Object.assign(Object.assign({},C),{id:D.id}));else{this.unsubscribe(),this.state=lt.errored,e==null||e(Zn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(Zn.SUBSCRIBED);return}}).receive("error",x=>{this.state=lt.errored,e==null||e(Zn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Zn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===lt.joined&&e===Fo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var o;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(u.status===202)return{success:!0};let f=u.statusText;try{const p=await u.json();f=p.error||p.message||f}catch{}return Promise.reject(new Error(f))}async send(e,n={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,u,f;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=lt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new lf(this,bn.leave,{},e),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const o=new AbortController,a=setTimeout(()=>o.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),l}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new lf(this,e,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>sO){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,a;const l=e.toLocaleLowerCase(),{close:u,error:f,leave:p,join:m}=bn;if(r&&[u,f,p,m].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(x=>{var _,S,k;return((_=x.filter)===null||_===void 0?void 0:_.event)==="*"||((k=(S=x.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===l}).map(x=>x.callback(v,r)):(a=this.bindings[l])===null||a===void 0||a.filter(x=>{var _,S,k,T,j,C;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const N=x.id,R=(_=x.filter)===null||_===void 0?void 0:_.event;return N&&((S=n.ids)===null||S===void 0?void 0:S.includes(N))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const N=(j=(T=x==null?void 0:x.filter)===null||T===void 0?void 0:T.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return N==="*"||N===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof v=="object"&&"ids"in v){const _=v.data,{schema:S,table:k,commit_timestamp:T,type:j,errors:C}=_;v=Object.assign(Object.assign({},{schema:S,table:k,commit_timestamp:T,eventType:j,new:{},old:{},errors:C}),this._getPayloadRecords(_))}x.callback(v,r)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const o=e.toLocaleLowerCase(),a={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Ep.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(bn.close,{},e)}_onError(e){this._on(bn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=H0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=H0(e.columns,e.old_record)),n}}const cf=()=>{},Il={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fO=[1e3,2e3,5e3,1e4],hO=1e4,pO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mO{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rh,this.transport=null,this.heartbeatIntervalMs=Il.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cf,this.ref=0,this.reconnectTimer=null,this.logger=cf,this.conn=null,this.sendBuffer=[],this.serializer=new iO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...l)=>an(async()=>{const{default:u}=await Promise.resolve().then(()=>Ss);return{default:u}},void 0).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...l)=>a(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${sh.websocket}`,this.httpEndpoint=ES(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ZR.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:nO}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Do.connecting:return as.Connecting;case Do.open:return as.Open;case Do.closing:return as.Closing;default:return as.Closed}}isConnected(){return this.connectionState()===as.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===r);if(o)return o;{const a=new Ep(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:o,ref:a}=e,l=()=>{this.encode(e,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${n} ${r} (${a})`,o),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(rO,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Il.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:a,ref:l}=n,u=l?`(${l})`:"",f=a.status||"";this.log("receive",`${f} ${r} ${o} ${u}`.trim(),a),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(o,a,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(bn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([pO],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const o={access_token:n,version:tO};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(bn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new _S(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Il.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,o,a,l,u,f,p,m;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:rh,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Il.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:cf,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(y=>fO[y-1]||hO),this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:((y,v)=>v(JSON.stringify(y))),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class jp extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function qe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class gO extends jp{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class oh extends jp{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Tp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>an(async()=>{const{default:r}=await Promise.resolve().then(()=>Ss);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},yO=()=>ae(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield an(()=>Promise.resolve().then(()=>Ss),void 0)).Response:Response}),ah=t=>{if(Array.isArray(t))return t.map(n=>ah(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=ah(r)}),e},vO=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},uf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wO=(t,e,n)=>ae(void 0,void 0,void 0,function*(){const r=yield yO();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{const a=t.status||500,l=(o==null?void 0:o.statusCode)||a+"";e(new gO(uf(o),a,l))}).catch(o=>{e(new oh(uf(o),o))}):e(new oh(uf(t),t))}),xO=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?o:(vO(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function oa(t,e,n,r,o,a){return ae(this,void 0,void 0,function*(){return new Promise((l,u)=>{t(n,xO(e,r,o,a)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>wO(f,u,r))})})}function Jo(t,e,n,r){return ae(this,void 0,void 0,function*(){return oa(t,"GET",e,n,r)})}function xn(t,e,n,r,o){return ae(this,void 0,void 0,function*(){return oa(t,"POST",e,r,o,n)})}function lh(t,e,n,r,o){return ae(this,void 0,void 0,function*(){return oa(t,"PUT",e,r,o,n)})}function bO(t,e,n,r){return ae(this,void 0,void 0,function*(){return oa(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Cp(t,e,n,r,o){return ae(this,void 0,void 0,function*(){return oa(t,"DELETE",e,r,o,n)})}class SO{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return ae(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(qe(e))return{data:null,error:e};throw e}})}}var jS;class _O{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[jS]="BlobDownloadBuilder",this.promise=null}asStream(){return new SO(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ae(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(qe(e))return{data:null,error:e};throw e}})}}jS=Symbol.toStringTag;const kO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},q0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class EO{constructor(e,n={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Tp(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,o){return ae(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},q0),o);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),f&&a.append("metadata",this.encodeMetadata(f)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",l.cacheControl),f&&a.append("metadata",this.encodeMetadata(f))):(a=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),o!=null&&o.headers&&(u=Object.assign(Object.assign({},u),o.headers));const p=this._removeEmptyFolders(n),m=this._getFinalPath(p),y=yield(e=="PUT"?lh:xn)(this.fetch,`${this.url}/object/${m}`,a,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:p,id:y.Id,fullPath:y.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qe(a))return{data:null,error:a};throw a}})}upload(e,n,r){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return ae(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let f;const p=Object.assign({upsert:q0.upsert},o),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",p.cacheControl)):(f=r,m["cache-control"]=`max-age=${p.cacheControl}`,m["content-type"]=p.contentType);const y=yield lh(this.fetch,u.toString(),f,{headers:m});return{data:{path:a,fullPath:y.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(qe(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,n){return ae(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const a=yield xn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),l=new URL(this.url+a.url),u=l.searchParams.get("token");if(!u)throw new jp("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}update(e,n,r){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ae(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}})}copy(e,n,r){return ae(this,void 0,void 0,function*(){try{return{data:{path:(yield xn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,r){return ae(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield xn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return ae(this,void 0,void 0,function*(){try{const o=yield xn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}})}download(e,n){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=a?`?${a}`:"",u=this._getFinalPath(e),f=()=>Jo(this.fetch,`${this.url}/${o}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new _O(f,this.shouldThrowOnError)}info(e){return ae(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Jo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ah(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}exists(e){return ae(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield bO(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r)&&r instanceof oh){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),o=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&o.push(f);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${p}`)}}}remove(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Cp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}list(e,n,r){return ae(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},kO),n),{prefix:e||""});return{data:yield xn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}})}listV2(e,n){return ae(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield xn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const TS="2.76.1",CS={"X-Client-Info":`storage-js/${TS}`};class jO{constructor(e,n={},r,o){this.shouldThrowOnError=!1;const a=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},CS),n),this.fetch=Tp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ae(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(qe(e))return{data:null,error:e};throw e}})}getBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}createBucket(e){return ae(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}})}updateBucket(e,n){return ae(this,void 0,void 0,function*(){try{return{data:yield lh(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Cp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}}class TO{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},CS),n),this.fetch=Tp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}listBuckets(e){return ae(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`,a=yield Jo(this.fetch,o,{headers:this.headers});return{data:Array.isArray(a)?a.filter(u=>u.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Cp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}}const Np={"X-Client-Info":`storage-js/${TS}`,"Content-Type":"application/json"};class NS extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Wt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class df extends NS{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class CO extends NS{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Y0;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Y0||(Y0={}));const Pp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>an(async()=>{const{default:r}=await Promise.resolve().then(()=>Ss);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},NO=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},J0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),PO=(t,e,n)=>ae(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const o=t.status||500,a=t;if(typeof a.json=="function")a.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||o+"";e(new df(J0(l),o,u))}).catch(()=>{const l=o+"",u=a.statusText||`HTTP ${o} error`;e(new df(u,o,l))});else{const l=o+"",u=a.statusText||`HTTP ${o} error`;e(new df(u,o,l))}}else e(new CO(J0(t),t))}),AO=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(NO(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),n)):o};function RO(t,e,n,r,o,a){return ae(this,void 0,void 0,function*(){return new Promise((l,u)=>{t(n,AO(e,r,o,a)).then(f=>{if(!f.ok)throw f;if(r!=null&&r.noResolveJson)return f;const p=f.headers.get("content-type");return!p||!p.includes("application/json")?{}:f.json()}).then(f=>l(f)).catch(f=>PO(f,u,r))})})}function Ht(t,e,n,r,o){return ae(this,void 0,void 0,function*(){return RO(t,"POST",e,r,o,n)})}class OO{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Np),n),this.fetch=Pp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ae(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wt(n))return{data:null,error:n};throw n}})}getIndex(e,n){return ae(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wt(r))return{data:null,error:r};throw r}})}listIndexes(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wt(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return ae(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wt(r))return{data:null,error:r};throw r}})}}class IO{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Np),n),this.fetch=Pp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ae(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ht(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wt(n))return{data:null,error:n};throw n}})}getVectors(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wt(n))return{data:null,error:n};throw n}})}listVectors(e){return ae(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ht(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wt(n))return{data:null,error:n};throw n}})}queryVectors(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wt(n))return{data:null,error:n};throw n}})}deleteVectors(e){return ae(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ht(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wt(n))return{data:null,error:n};throw n}})}}class LO{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Np),n),this.fetch=Pp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wt(n))return{data:null,error:n};throw n}})}getBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wt(n))return{data:null,error:n};throw n}})}listBuckets(){return ae(this,arguments,void 0,function*(e={}){try{return{data:yield Ht(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ae(this,void 0,void 0,function*(){try{return{data:(yield Ht(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wt(n))return{data:null,error:n};throw n}})}}class MO extends LO{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new DO(this.url,this.headers,e,this.fetch)}}class DO extends OO{constructor(e,n,r,o){super(e,n,o),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ae(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ae(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ae(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ae(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new $O(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class $O extends IO{constructor(e,n,r,o,a){super(e,n,a),this.vectorBucketName=r,this.indexName=o}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ae(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ae(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ae(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ae(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ae(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class FO extends jO{constructor(e,n={},r,o){super(e,n,r,o)}from(e){return new EO(this.url,this.headers,e,this.fetch)}get vectors(){return new MO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new TO(this.url+"/iceberg",this.headers,this.fetch)}}const VO="2.76.1";let jo="";typeof Deno<"u"?jo="deno":typeof document<"u"?jo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jo="react-native":jo="node";const UO={"X-Client-Info":`supabase-js-${jo}/${VO}`},zO={headers:UO},BO={schema:"public"},WO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},HO={},GO=t=>{let e;return t?e=t:typeof fetch>"u"?e=yS:e=fetch,(...n)=>e(...n)},KO=()=>typeof Headers>"u"?vS:Headers,qO=(t,e,n)=>{const r=GO(n),o=KO();return async(a,l)=>{var u;const f=(u=await e())!==null&&u!==void 0?u:t;let p=new o(l==null?void 0:l.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),r(a,Object.assign(Object.assign({},l),{headers:p}))}};function YO(t){return t.endsWith("/")?t:t+"/"}function JO(t,e){var n,r;const{db:o,auth:a,realtime:l,global:u}=t,{db:f,auth:p,realtime:m,global:y}=e,v={db:Object.assign(Object.assign({},f),o),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},m),l),storage:{},global:Object.assign(Object.assign(Object.assign({},y),u),{headers:Object.assign(Object.assign({},(n=y==null?void 0:y.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function QO(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(YO(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const PS="2.76.1",ii=30*1e3,ch=3,ff=ch*ii,XO="http://localhost:9999",ZO="supabase.auth.token",eI={"X-Client-Info":`gotrue-js/${PS}`},uh="X-Supabase-Api-Version",AS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nI=600*1e3;class Qo extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function me(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class rI extends Qo{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function sI(t){return me(t)&&t.name==="AuthApiError"}class ls extends Qo{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Vr extends Qo{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}}class Nr extends Vr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function iI(t){return me(t)&&t.name==="AuthSessionMissingError"}class Qs extends Vr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ll extends Vr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ml extends Vr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function oI(t){return me(t)&&t.name==="AuthImplicitGrantRedirectError"}class Q0 extends Vr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dh extends Vr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function hf(t){return me(t)&&t.name==="AuthRetryableFetchError"}class X0 extends Vr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class fh extends Vr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const uc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Z0=` 	
\r=`.split(""),aI=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Z0.length;e+=1)t[Z0[e].charCodeAt(0)]=-2;for(let e=0;e<uc.length;e+=1)t[uc[e].charCodeAt(0)]=e;return t})();function ew(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(uc[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(uc[r]),e.queuedBits-=6}}function RS(t,e,n){const r=aI[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function tw(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=l=>{uI(l,r,n)};for(let l=0;l<t.length;l+=1)RS(t.charCodeAt(l),o,a);return e.join("")}function lI(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function cI(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}lI(r,e)}}function uI(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function mi(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)RS(t.charCodeAt(o),n,r);return new Uint8Array(e)}function dI(t){const e=[];return cI(t,n=>e.push(n)),new Uint8Array(e)}function hs(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>ew(o,n,r)),ew(null,n,r),e.join("")}function fI(t){return Math.round(Date.now()/1e3)+t}function hI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const zt=()=>typeof window<"u"&&typeof document<"u",ns={tested:!1,writable:!1},OS=()=>{if(!zt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ns.tested)return ns.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ns.tested=!0,ns.writable=!0}catch{ns.tested=!0,ns.writable=!1}return ns.writable};function pI(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}const IS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>an(async()=>{const{default:r}=await Promise.resolve().then(()=>Ss);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},mI=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",oi=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},rs=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Tr=async(t,e)=>{await t.removeItem(e)};class Ac{constructor(){this.promise=new Ac.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ac.promiseConstructor=Promise;function pf(t){const e=t.split(".");if(e.length!==3)throw new fh("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!tI.test(e[r]))throw new fh("JWT not in base64url format");return{header:JSON.parse(tw(e[0])),payload:JSON.parse(tw(e[1])),signature:mi(e[2]),raw:{header:e[0],payload:e[1]}}}async function gI(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function yI(t,e){return new Promise((r,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await t(a);if(!e(a,null,l)){r(l);return}}catch(l){if(!e(a,l)){o(l);return}}})()})}function vI(t){return("0"+t.toString(16)).substr(-2)}function wI(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,vI).join("")}async function xI(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function bI(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await xI(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xs(t,e,n=!1){const r=wI();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await oi(t,`${e}-code-verifier`,o);const a=await bI(r);return[a,r===a?"plain":"s256"]}const SI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _I(t){const e=t.headers.get(uh);if(!e||!e.match(SI))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function kI(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function EI(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zs(t){if(!jI.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mf(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function nw(t){return JSON.parse(JSON.stringify(t))}const os=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),TI=[502,503,504];async function rw(t){var e;if(!mI(t))throw new dh(os(t),0);if(TI.includes(t.status))throw new dh(os(t),t.status);let n;try{n=await t.json()}catch(a){throw new ls(os(a),a)}let r;const o=_I(t);if(o&&o.getTime()>=AS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new X0(os(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Nr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new X0(os(n),t.status,n.weak_password.reasons);throw new rI(os(n),t.status||500,r)}const CI=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function ke(t,e,n,r){var o;const a=Object.assign({},r==null?void 0:r.headers);a[uh]||(a[uh]=AS["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await NI(t,e,n+u,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function NI(t,e,n,r,o,a){const l=CI(e,r,o,a);let u;try{u=await t(n,Object.assign({},l))}catch(f){throw console.error(f),new dh(os(f),0)}if(u.ok||await rw(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(f){await rw(f)}}function vn(t){var e;let n=null;RI(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=fI(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function sw(t){const e=vn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ar(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function PI(t){return{data:t,error:null}}function AI(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a}=t,l=Fr(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a},f=Object.assign({},l);return{data:{properties:u,user:f},error:null}}function iw(t){return t}function RI(t){return t.access_token&&t.refresh_token&&t.expires_in}const gf=["global","local","others"];class OI{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=IS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=gf[0]){if(gf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gf.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ar})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Fr(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:AI,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(me(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ar})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,o,a,l,u,f;try{const p={nextPage:null,lastPage:0,total:0},m=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:iw});if(m.error)throw m.error;const y=await m.json(),v=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(f=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(_=>{const S=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(_.split(";")[1].split("=")[1]);p[`${k}Page`]=S}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(me(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Zs(e);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ar})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Zs(e);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ar})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Zs(e);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ar})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Zs(e.userId);try{const{data:n,error:r}=await ke(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Zs(e.userId),Zs(e.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,o,a,l,u,f;try{const p={nextPage:null,lastPage:0,total:0},m=await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:iw});if(m.error)throw m.error;const y=await m.json(),v=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(f=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(_=>{const S=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(_.split(";")[1].split("=")[1]);p[`${k}Page`]=S}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(me(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await ke(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}}function ow(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const ei={debug:!!(globalThis&&OS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LS extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class II extends LS{}async function LI(t,e,n){ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ei.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new II(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ei.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function MI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function MS(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function DI(t){return parseInt(t,16)}function $I(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function FI(t){var e;const{chainId:n,domain:r,expirationTime:o,issuedAt:a=new Date,nonce:l,notBefore:u,requestId:f,resources:p,scheme:m,uri:y,version:v}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const x=MS(t.address),_=m?`${m}://${r}`:r,S=t.statement?`${t.statement}
`:"",k=`${_} wants you to sign in with your Ethereum account:
${x}

${S}`;let T=`URI: ${y}
Version: ${v}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(o&&(T+=`
Expiration Time: ${o.toISOString()}`),u&&(T+=`
Not Before: ${u.toISOString()}`),f&&(T+=`
Request ID: ${f}`),p){let j=`
Resources:`;for(const C of p){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);j+=`
- ${C}`}T+=j}return`${k}
${T}`}class rt extends Error{constructor({message:e,code:n,cause:r,name:o}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=o??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class dc extends rt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function VI({error:t,options:e}){var n,r,o;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new rt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(DS(l)){if(a.rp.id!==l)return new rt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function UI({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new rt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(DS(r)){if(n.rpId!==r)return new rt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class zI{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const BI=new zI;function WI(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,o=Fr(t,["challenge","user","excludeCredentials"]),a=mi(e).buffer,l=Object.assign(Object.assign({},n),{id:mi(n.id).buffer}),u=Object.assign(Object.assign({},o),{challenge:a,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const p=r[f];u.excludeCredentials[f]=Object.assign(Object.assign({},p),{id:mi(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return u}function HI(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Fr(t,["challenge","allowCredentials"]),o=mi(e).buffer,a=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.allowCredentials[l]=Object.assign(Object.assign({},u),{id:mi(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function GI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:hs(new Uint8Array(t.response.attestationObject)),clientDataJSON:hs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function KI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:hs(new Uint8Array(o.authenticatorData)),clientDataJSON:hs(new Uint8Array(o.clientDataJSON)),signature:hs(new Uint8Array(o.signature)),userHandle:o.userHandle?hs(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function DS(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function aw(){var t,e;return!!(zt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function qI(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new dc("Browser returned unexpected credential type",e)}:{data:null,error:new dc("Empty credential response",e)}}catch(e){return{data:null,error:VI({error:e,options:t})}}}async function YI(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new dc("Browser returned unexpected credential type",e)}:{data:null,error:new dc("Empty credential response",e)}}catch(e){return{data:null,error:UI({error:e,options:t})}}}const JI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},QI={userVerification:"preferred",hints:["security-key"]};function fc(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of t)if(o)for(const a in o){const l=o[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(n(l))r[a]=l;else if(e(l)){const u=r[a];e(u)?r[a]=fc(u,l):r[a]=fc(l)}else r[a]=l}return r}function XI(t,e){return fc(JI,t,e||{})}function ZI(t,e){return fc(QI,t,e||{})}class eL{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:o},a){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!l)return{data:null,error:u};const f=o??BI.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:p}=l.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(l.webauthn.type){case"create":{const p=XI(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:m,error:y}=await qI({publicKey:p,signal:f});return m?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:y}}case"request":{const p=ZI(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:m,error:y}=await YI(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:p,signal:f}));return m?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:y}}}}catch(l){return me(l)?{data:null,error:l}:{data:null,error:new ls("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}},a){if(!n)return{data:null,error:new Qo("rpId is required for WebAuthn authentication")};try{if(!aw())return{data:null,error:new ls("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:a});if(!l)return{data:null,error:u};const{webauthn:f}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(l){return me(l)?{data:null,error:l}:{data:null,error:new ls("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o},a){if(!n)return{data:null,error:new Qo("rpId is required for WebAuthn registration")};try{if(!aw())return{data:null,error:new ls("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(m=>{var y;return(y=m.data)===null||y===void 0?void 0:y.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:u};const{data:f,error:p}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:a});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:p}}catch(l){return me(l)?{data:null,error:l}:{data:null,error:new ls("Unexpected error in register",l)}}}}MI();const tL={url:XO,storageKey:ZO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lw(t,e,n){return await n()}const ti={};class Xo{get jwks(){var e,n;return(n=(e=ti[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ti[this.storageKey]=Object.assign(Object.assign({},ti[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ti[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ti[this.storageKey]=Object.assign(Object.assign({},ti[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xo.nextInstanceID,Xo.nextInstanceID+=1,this.instanceID>0&&zt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},tL),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new OI({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=IS(o.fetch),this.lock=o.lock||lw,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:zt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=LI:this.lock=lw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new eL(this)},this.persistSession?(o.storage?this.storage=o.storage:OS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ow(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=ow(this.memoryStorage)),zt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${PS}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=pI(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),zt()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),oI(a)){const f=(e=a.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:u}=o;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return me(n)?{error:n}:{error:new ls("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,o;try{const a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:vn}),{data:l,error:u}=a;if(u||!l)return{data:{user:null,session:null},error:u};const f=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(a){if(me(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,o;try{let a;if("email"in e){const{email:m,password:y,options:v}=e;let x=null,_=null;this.flowType==="pkce"&&([x,_]=await Xs(this.storage,this.storageKey)),a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:m,password:y,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:x,code_challenge_method:_},xform:vn})}else if("phone"in e){const{phone:m,password:y,options:v}=e;a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:y,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(o=v==null?void 0:v.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:vn})}else throw new Ll("You must provide either an email or phone number and a password");const{data:l,error:u}=a;if(u||!l)return{data:{user:null,session:null},error:u};const f=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(a){if(me(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:l,options:u}=e;n=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:sw})}else if("phone"in e){const{phone:a,password:l,options:u}=e;n=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:sw})}else throw new Ll("You must provide either an email or phone number and a password");const{data:r,error:o}=n;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Qs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,o,a,l,u,f,p,m,y,v;let x,_;if("message"in e)x=e.message,_=e.signature;else{const{chain:S,wallet:k,statement:T,options:j}=e;let C;if(zt())if(typeof k=="object")C=k;else{const G=window;if("ethereum"in G&&typeof G.ethereum=="object"&&"request"in G.ethereum&&typeof G.ethereum.request=="function")C=G.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=k}const N=new URL((n=j==null?void 0:j.url)!==null&&n!==void 0?n:window.location.href),R=await C.request({method:"eth_requestAccounts"}).then(G=>G).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const L=MS(R[0]);let $=(r=j==null?void 0:j.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!$){const G=await C.request({method:"eth_chainId"});$=DI(G)}const D={domain:N.host,address:L,statement:T,uri:N.href,version:"1",chainId:$,nonce:(o=j==null?void 0:j.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(l=(a=j==null?void 0:j.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=j==null?void 0:j.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=j==null?void 0:j.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(p=j==null?void 0:j.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(m=j==null?void 0:j.signInWithEthereum)===null||m===void 0?void 0:m.resources};x=FI(D),_=await C.request({method:"personal_sign",params:[$I(x),L]})}try{const{data:S,error:k}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:_},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:vn});if(k)throw k;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Qs}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:k})}catch(S){if(me(S))return{data:{user:null,session:null},error:S};throw S}}async signInWithSolana(e){var n,r,o,a,l,u,f,p,m,y,v,x;let _,S;if("message"in e)_=e.message,S=e.signature;else{const{chain:k,wallet:T,statement:j,options:C}=e;let N;if(zt())if(typeof T=="object")N=T;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))N=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=T}const R=new URL((n=C==null?void 0:C.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in N&&N.signIn){const L=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),j?{statement:j}:null));let $;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")$=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)$=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)_=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),S=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${R.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(o=(r=C==null?void 0:C.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=C==null?void 0:C.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((l=C==null?void 0:C.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((u=C==null?void 0:C.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((f=C==null?void 0:C.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((p=C==null?void 0:C.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((y=(m=C==null?void 0:C.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||y===void 0)&&y.length?["Resources",...C.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const L=await N.signMessage(new TextEncoder().encode(_),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=L}}try{const{data:k,error:T}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:hs(S)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:vn});if(T)throw T;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Qs}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:T})}catch(k){if(me(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(e){const n=await rs(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:a,error:l}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:vn});if(await Tr(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Qs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:l})}catch(a){if(me(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:o,access_token:a,nonce:l}=e,u=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:vn}),{data:f,error:p}=u;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Qs}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:p})}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,o,a,l;try{if("email"in e){const{email:u,options:f}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Xs(this.storage,this.storageKey));const{error:y}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:m},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:u,options:f}=e,{data:p,error:m}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=f==null?void 0:f.data)!==null&&o!==void 0?o:{},create_user:(a=f==null?void 0:f.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:m}}throw new Ll("You must provide either an email or phone number.")}catch(u){if(me(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,r;try{let o,a;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:vn});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,p=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(o){if(me(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var n,r,o;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await Xs(this.storage,this.storageKey)),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:PI})}catch(a){if(me(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Nr;const{error:o}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(me(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:a}=e,{error:l}=await ke(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:o,options:a}=e,{data:l,error:u}=await ke(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Ll("You must provide either an email or phone number and a type")}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await rs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ff:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await rs(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=mf()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,p,m)=>(!l&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,p,m))})}return{data:{session:e},error:null}}const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ar}):await this._useSession(async n=>{var r,o,a;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nr}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Ar})})}catch(n){if(me(n))return iI(n)&&(await this._removeSession(),await Tr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:o,error:a}=r;if(a)throw a;if(!o.session)throw new Nr;const l=o.session;let u=null,f=null;this.flowType==="pkce"&&e.email!=null&&([u,f]=await Xs(this.storage,this.storageKey));const{data:p,error:m}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:f}),jwt:l.access_token,xform:Ar});if(m)throw m;return l.user=p.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Nr;const n=Date.now()/1e3;let r=n,o=!0,a=null;const{payload:l}=pf(e.access_token);if(l.exp&&(r=l.exp,o=r<=n),o){const{data:u,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:f}=await this._getUser(e.access_token);if(f)throw f;a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(me(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:l,error:u}=n;if(u)throw u;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Nr;const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(me(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!zt())throw new Ml("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ml(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Q0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ml("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Q0("No code detected.");const{data:j,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:a,refresh_token:l,expires_in:u,expires_at:f,token_type:p}=e;if(!a||!u||!l||!p)throw new Ml("No session defined in URL");const m=Math.round(Date.now()/1e3),y=parseInt(u);let v=m+y;f&&(v=parseInt(f));const x=v-m;x*1e3<=ii&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${y}s`);const _=v-y;m-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,v,m):m-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,v,m);const{data:S,error:k}=await this._getUser(a);if(k)throw k;const T={provider_token:r,provider_refresh_token:o,access_token:a,expires_in:y,expires_at:v,refresh_token:l,token_type:p,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:e.type},error:null}}catch(r){if(me(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await rs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{error:a};const l=(r=o.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(sI(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await Tr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=hI(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,o;try{const{data:{session:a},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Xs(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(me(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:o}=await this._useSession(async a=>{var l,u,f,p,m;const{data:y,error:v}=a;if(v)throw v;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",x,{headers:this.headers,jwt:(m=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return zt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(me(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:o,data:{session:a}}=n;if(o)throw o;const{options:l,provider:u,token:f,access_token:p,nonce:m}=e,y=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:f,access_token:p,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:vn}),{data:v,error:x}=y;return x?{data:{user:null,session:null},error:x}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new Qs}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:x})}catch(o){if(me(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,o;const{data:a,error:l}=n;if(l)throw l;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await yI(async o=>(o>0&&await gI(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:vn})),(o,a)=>{const l=200*Math.pow(2,o);return a&&hf(a)&&Date.now()+l-r<ii})}catch(r){if(this._debug(n,"error",r),me(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),zt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await rs(this.storage,this.storageKey);if(o&&this.userStorage){let l=await rs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:o.user},await oi(this.userStorage,this.storageKey+"-user",l)),o.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:mf()}else if(o&&!o.user&&!o.user){const l=await rs(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(o.user=l.user,await Tr(this.storage,this.storageKey+"-user"),await oi(this.storage,this.storageKey,o)):o.user=mf()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const a=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ff;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${ff}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:l}=await this._callRefreshToken(o.refresh_token);l&&(console.error(l),hf(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(o.access_token);!u&&(l!=null&&l.user)?(o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Nr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ac;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new Nr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(o,"error",a),me(a)){const l={data:null,error:a};return hf(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(f){a.push(f)}});if(await Promise.all(l),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await oi(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const a=nw(o);await oi(this.storage,this.storageKey,a)}else{const o=nw(n);await oi(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Tr(this.storage,this.storageKey),await Tr(this.storage,this.storageKey+"-code-verifier"),await Tr(this.storage,this.storageKey+"-user"),this.userStorage&&await Tr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&zt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ii);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/ii);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ii}ms, refresh threshold is ${ch} ticks`),o<=ch&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof LS)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await Xs(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});o.push(u.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);o.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?{data:null,error:a}:await ke(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,o;const{data:a,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:p}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&f.type==="totp"&&(!((o=f==null?void 0:f.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(me(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?GI(e.webauthn.credential_response):KI(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:f}=await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:f})})}catch(n){if(me(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{data:null,error:a};const l=await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:WI(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:HI(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(me(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:o},error:a}=e;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=pf(o.access_token);let u=null;l.aal&&(u=l.aal);let f=u;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(u=>u.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+nI>o)return r;const{data:a,error:l}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,r=a.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:x,error:_}=await this.getSession();if(_||!x.session)return{data:null,error:_};r=x.session.access_token}const{header:o,payload:a,signature:l,raw:{header:u,payload:f}}=pf(r);n!=null&&n.allowExpired||kI(a.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:a,header:o,signature:l},error:null}}const m=EI(o.alg),y=await crypto.subtle.importKey("jwk",p,m,!0,["verify"]);if(!await crypto.subtle.verify(m,y,l,dI(`${u}.${f}`)))throw new fh("Invalid JWT signature");return{data:{claims:a,header:o,signature:l},error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}}Xo.nextInstanceID=0;const nL=Xo;class rL extends nL{constructor(e){super(e)}}class sL{constructor(e,n,r){var o,a,l;this.supabaseUrl=e,this.supabaseKey=n;const u=QO(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,p={db:BO,realtime:HO,auth:Object.assign(Object.assign({},WO),{storageKey:f}),global:zO},m=JO(r??{},p);this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=m.global.headers)!==null&&a!==void 0?a:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=qO(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new XR(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new FO(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new zR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:a,storageKey:l,flowType:u,lock:f,debug:p},m,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rL({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),m),storageKey:l,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:a,flowType:u,lock:f,debug:p,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new mO(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const iL=(t,e,n)=>new sL(t,e,n);function oL(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}oL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ap="qwvxgdrhjtgqwwksqebf",Rp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF3dnhnZHJoanRncXd3a3NxZWJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgxNTA2NDIsImV4cCI6MjA3MzcyNjY0Mn0.A37IkjTB0pZCs1JQEuE65IL6OQt0gJk1Wt6YpVpGnKA",$S=`https://${Ap}.supabase.co`,FS=typeof process<"u"&&!1,cw=Object.freeze(Object.defineProperty({__proto__:null,isDevelopment:FS,projectId:Ap,publicAnonKey:Rp,supabaseUrl:$S},Symbol.toStringTag,{value:"Module"})),Fe=iL($S,Rp,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"vibetune-auth",flowType:"pkce",debug:FS},realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"vibetune-web","X-App-Version":"1.0.0"}},db:{schema:"public"}});class _n{static async signUp({email:e,password:n,username:r}){try{console.log(" Starting signup for:",e);const{data:o,error:a}=await Fe.auth.signUp({email:e,password:n,options:{data:{username:r,display_name:r}}});if(a)throw console.error(" Signup error:",a),a;if(console.log(" Signup successful:",{hasUser:!!o.user,hasSession:!!o.session,needsConfirmation:!o.session}),o.user&&!o.session)return{data:{user:o.user,needsConfirmation:!0,message:"Please check your email and click the confirmation link, then try signing in."},error:null};if(o.user&&o.session){const l={id:o.user.id,email:o.user.email||e,username:r,level:null,placement_test_completed:!1,created_at:o.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()},{error:u}=await Fe.from("profiles").upsert(l,{onConflict:"id"});return u&&console.warn(" Profile creation failed:",u),{data:{user:o.user,profile:l},error:null}}return{data:o,error:null}}catch(o){return console.error(" Signup failed:",o),{data:null,error:o}}}static async signIn({email:e,password:n}){var r,o,a,l,u;try{console.log(" Starting signin for:",e);const{data:f,error:p}=await Fe.auth.signInWithPassword({email:e,password:n});if(p)throw console.error(" Signin error:",p),p;if(console.log(" Signin successful:",{hasUser:!!f.user,hasSession:!!f.session}),f.user&&f.session){let{data:m,error:y}=await Fe.from("profiles").select("*").eq("id",f.user.id).single();if(y&&y.code==="PGRST116"){const v={id:f.user.id,email:f.user.email||e,username:((r=f.user.user_metadata)==null?void 0:r.username)||((o=f.user.user_metadata)==null?void 0:o.display_name)||((a=f.user.email)==null?void 0:a.split("@")[0])||"User",level:null,placement_test_completed:!1,created_at:f.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()},{error:x}=await Fe.from("profiles").insert(v);x&&console.warn(" Profile creation failed:",x),m=v}else if(y)console.error(" Profile fetch error:",y),m={id:f.user.id,email:f.user.email||e,username:((l=f.user.user_metadata)==null?void 0:l.username)||((u=f.user.email)==null?void 0:u.split("@")[0])||"User",level:null,placement_test_completed:!1,created_at:f.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()};else{const{error:v}=await Fe.from("profiles").update({last_login:new Date().toISOString()}).eq("id",f.user.id);v&&console.warn(" Last login update failed:",v)}return{data:{user:f.user,profile:m},error:null}}return{data:f,error:null}}catch(f){return console.error(" Signin failed:",f),{data:null,error:f}}}static async signOut(){try{console.log(" Signing out...");const{error:e}=await Fe.auth.signOut();return e?console.error(" Signout error:",e):console.log(" Signout successful"),{error:e}}catch(e){return console.error(" Signout failed:",e),{error:e}}}static async signInWithOAuth(e){try{console.log(` Starting OAuth with ${e}...`);const{data:n,error:r}=await Fe.auth.signInWithOAuth({provider:e,options:{redirectTo:window.location.origin}});if(r)throw console.error(` OAuth ${e} error:`,r),r;return{data:n,error:r}}catch(n){return console.error(` OAuth ${e} failed:`,n),{data:null,error:n}}}static async resetPassword(e){try{console.log(" Sending password reset for:",e);const{data:n,error:r}=await Fe.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});if(r)throw console.error(" Password reset error:",r),r;return console.log(" Password reset email sent"),{data:n,error:r}}catch(n){return console.error(" Password reset failed:",n),{data:null,error:n}}}static async updateProfile(e,n,r){var o;try{console.log(" Updating profile:",{userId:e,updates:n});const{data:a}=await Fe.auth.getSession();if((o=a==null?void 0:a.session)!=null&&o.user){const{data:l}=await Fe.from("profiles").select("*").eq("id",e).single(),u={id:e,email:(l==null?void 0:l.email)||a.session.user.email||n.email,username:n.username||(l==null?void 0:l.username)||"User",level:n.level!==void 0?n.level:l==null?void 0:l.level,placement_test_completed:n.placement_test_completed!==void 0?n.placement_test_completed:(l==null?void 0:l.placement_test_completed)||!1,placement_test_score:n.placement_test_score!==void 0?n.placement_test_score:l==null?void 0:l.placement_test_score,created_at:(l==null?void 0:l.created_at)||new Date().toISOString(),last_login:new Date().toISOString(),device_id:(l==null?void 0:l.device_id)||this.getDeviceId()},{data:f,error:p}=await Fe.from("profiles").upsert(u,{onConflict:"id"}).select().single();return p?(console.error(" Profile update error:",p),{data:null,error:p}):(console.log(" Profile updated successfully"),{data:f,error:null})}if(r){const l={...r,username:n.username||r.username,level:n.level!==void 0?n.level:r.level,placement_test_completed:n.placement_test_completed!==void 0?n.placement_test_completed:r.placement_test_completed,placement_test_score:n.placement_test_score!==void 0?n.placement_test_score:r.placement_test_score,last_login:new Date().toISOString()};return console.log(" Demo profile updated"),{data:l,error:null}}return console.warn(" No session or existing profile for update"),{data:null,error:new Error("No valid session or profile")}}catch(a){return console.error(" Profile update failed:",a),{data:null,error:a}}}static async getCurrentSession(){var e,n;try{console.log(" Checking current session...");const{data:{session:r},error:o}=await Fe.auth.getSession();if(o)return console.error(" Session check error:",o),{data:null,error:o};if(!(r!=null&&r.user))return console.log(" No active session"),{data:null,error:null};console.log(" Active session found");const{data:a,error:l}=await Fe.from("profiles").select("*").eq("id",r.user.id).single();l&&l.code!=="PGRST116"&&console.error(" Profile fetch error:",l);const u=a||{id:r.user.id,email:r.user.email||"",username:((e=r.user.user_metadata)==null?void 0:e.username)||((n=r.user.email)==null?void 0:n.split("@")[0])||"User",level:null,placement_test_completed:!1,created_at:r.user.created_at||new Date().toISOString(),last_login:new Date().toISOString(),device_id:this.getDeviceId()};return{data:{session:r,user:r.user,profile:u},error:null}}catch(r){return console.error(" Session check failed:",r),{data:null,error:r}}}static getDeviceId(){let e=localStorage.getItem("vibetune-device-id");return e||(e="device-"+Math.random().toString(36).substr(2,9),localStorage.setItem("vibetune-device-id",e)),e}}const uw=Object.freeze(Object.defineProperty({__proto__:null,SimpleAuthService:_n},Symbol.toStringTag,{value:"Module"})),VS=()=>{const t=navigator.userAgent;return{isMobile:/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t),isTablet:/iPad|Android.*(?!.*Mobile)|Silk/i.test(t),isDesktop:!/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t),platform:navigator.platform,userAgent:t,language:navigator.language,onLine:navigator.onLine}},hh=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),US=t=>{const e=[];return t.length<6&&e.push("Password must be at least 6 characters long"),{isValid:e.length===0,errors:e}},aL=(t,e)=>{setTimeout(async()=>{try{if(typeof window>"u"){console.log("Analytics: No window object, skipping event:",t);return}const{AnalyticsService:n}=await an(async()=>{const{AnalyticsService:r}=await import("./analyticsServiceSimple-5HgWIX1f.js");return{AnalyticsService:r}},[]);n.track(t,{...e,deviceInfo:VS()})}catch(n){console.warn("Analytics import failed, using direct fallback:",n);try{if(typeof localStorage>"u"){console.log("Analytics: No localStorage available");return}const r=JSON.parse(localStorage.getItem("vibetune_analytics_simple")||"[]");r.push({event_type:t,metadata:{...e,timestamp:Date.now(),created_at:new Date().toISOString()}}),r.length>100&&r.splice(0,r.length-100),localStorage.setItem("vibetune_analytics_simple",JSON.stringify(r)),console.log("Analytics: Event stored via direct fallback:",t)}catch{console.log("Analytics: All methods failed, skipping event:",t)}}},0)},lL=Object.freeze(Object.defineProperty({__proto__:null,getDeviceInfo:VS,trackEvent:aL,validateEmail:hh,validatePassword:US},Symbol.toStringTag,{value:"Module"}));function dw({onAuthComplete:t,onBack:e,mode:n="signin"}){const[r,o]=b.useState(n==="signin"),[a,l]=b.useState(!1),[u,f]=b.useState(!1),[p,m]=b.useState(""),[y,v]=b.useState(""),[x,_]=b.useState({email:"",password:"",username:"",confirmPassword:""});b.useEffect(()=>{o(n==="signin")},[n]);const S=async j=>{var C,N;j.preventDefault(),m(""),v(""),f(!0);try{if(console.log("Auth: Starting authentication...",{isLogin:r,email:x.email}),!hh(x.email))throw new Error("Please enter a valid email address");if(!x.password)throw new Error("Password is required");if(!r){const L=US(x.password);if(!L.isValid)throw new Error(L.errors[0]);if(x.password!==x.confirmPassword)throw new Error("Passwords do not match");if(!x.username.trim())throw new Error("Username is required")}let R;if(r?R=await _n.signIn({email:x.email.trim().toLowerCase(),password:x.password}):R=await _n.signUp({email:x.email.trim().toLowerCase(),password:x.password,username:x.username.trim()}),console.log("Auth: Auth result:",{success:!!R.data,error:!!R.error}),R.error){console.error("Auth: Auth error:",R.error);let L=R.error.message||"An error occurred during authentication";throw L.includes("Invalid login credentials")?L="Invalid email or password. Please check your credentials and try again.":L.includes("User already registered")?L="An account with this email already exists. Try signing in instead.":L.includes("Email not confirmed")?L="Please check your email and click the confirmation link before signing in.":L.includes("Too many requests")&&(L="Too many attempts. Please wait a moment and try again."),new Error(L)}if((C=R.data)!=null&&C.profile)console.log("Auth: Authentication successful with profile"),v(r?"Welcome back!":"Account created successfully!"),setTimeout(()=>{t(R.data.profile)},500);else if((N=R.data)!=null&&N.needsConfirmation){console.log("Auth: User needs email confirmation");const L=R.data.message||"Please check your email and click the confirmation link, then try signing in.";v(L),r||setTimeout(()=>{o(!0),_($=>({...$,password:"",confirmPassword:""}))},3e3)}else throw console.warn("Auth: Unexpected result structure:",R),new Error("Authentication completed but no user data received")}catch(R){console.error("Auth: Authentication error:",R),m(R.message||"An unexpected error occurred during authentication")}finally{f(!1)}},k=async()=>{if(console.log("Auth: Initiating password reset for email:",x.email),!x.email){m("Please enter your email address first");return}if(!hh(x.email)){m("Please enter a valid email address");return}m(""),f(!0);try{const{error:j}=await _n.resetPassword(x.email);if(j)throw j;v("Password reset email sent! Check your inbox."),console.log("Auth: Password reset email sent successfully.")}catch(j){console.error("Auth: Failed to send password reset email:",j),m(j.message||"Failed to send password reset email")}finally{f(!1)}},T=async j=>{console.log(`Auth: Attempting social sign-in with ${j}`),f(!0),m(""),v("");try{const{error:C}=await _n.signInWithOAuth(j);if(C)throw console.error(`Auth: Social sign-in with ${j} failed:`,C),C;console.log(`Auth: Social sign-in with ${j} initiated. Redirecting...`)}catch(C){console.error(`Auth: Error during social sign-in with ${j}:`,C),m(C.message||`Failed to sign in with ${j}`)}finally{f(!1)}};return d.jsx("div",{className:"min-h-screen bg-background flex flex-col justify-center p-4",children:d.jsxs("div",{className:"max-w-sm mx-auto w-full space-y-6",children:[d.jsxs(ge.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[d.jsx(Bo,{className:"w-8 h-8 text-accent"}),d.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"VibeTune"})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:r?"Welcome back!":"Join the prosody learning community"})]}),p&&d.jsx(ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:d.jsxs(ys,{variant:"destructive",children:[d.jsx(ps,{className:"h-4 w-4"}),d.jsx(vs,{children:p})]})}),y&&d.jsx(ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:d.jsxs(ys,{className:"border-green-200 bg-green-50",children:[d.jsx(tr,{className:"h-4 w-4 text-green-600"}),d.jsx(vs,{className:"text-green-800",children:y})]})}),d.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:d.jsxs(gt,{children:[d.jsxs(Sn,{children:[d.jsx(sn,{children:r?"Sign In":"Create Account"}),d.jsx(Po,{children:r?"Enter your credentials to access your learning progress":"Start your English prosody learning journey"})]}),d.jsxs(yt,{children:[d.jsxs("form",{onSubmit:S,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(pt,{htmlFor:"email",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(dx,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(fs,{id:"email",type:"email",placeholder:"your@email.com",className:"pl-10",value:x.email,onChange:j=>_({...x,email:j.target.value}),required:!0,disabled:u})]})]}),!r&&d.jsxs(ge.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-2",children:[d.jsx(pt,{htmlFor:"username",children:"Username"}),d.jsx(fs,{id:"username",type:"text",placeholder:"Your display name",value:x.username,onChange:j=>_({...x,username:j.target.value}),required:!0,disabled:u})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(pt,{htmlFor:"password",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(Ao,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(fs,{id:"password",type:a?"text":"password",placeholder:"Enter your password",className:"pl-10 pr-10",value:x.password,onChange:j=>_({...x,password:j.target.value}),required:!0,disabled:u}),d.jsx(de,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>l(!a),disabled:u,children:a?d.jsx(WT,{className:"h-4 w-4"}):d.jsx(Rf,{className:"h-4 w-4"})})]})]}),!r&&d.jsxs(ge.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-2",children:[d.jsx(pt,{htmlFor:"confirmPassword",children:"Confirm Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(Ao,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(fs,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",className:"pl-10",value:x.confirmPassword,onChange:j=>_({...x,confirmPassword:j.target.value}),required:!0,disabled:u})]})]}),d.jsxs(de,{type:"submit",className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",disabled:u,children:[u&&d.jsx(er,{className:"w-4 h-4 mr-2 animate-spin"}),r?"Sign In":"Create Account"]})]}),r&&d.jsx("div",{className:"mt-4 text-center",children:d.jsx(de,{variant:"link",onClick:k,disabled:u,className:"text-sm",children:"Forgot your password?"})}),d.jsxs("div",{className:"mt-4 text-center text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:r?"Don't have an account? ":"Already have an account? "}),d.jsx(de,{variant:"link",onClick:()=>{console.log("Auth: Toggling between signin/signup"),o(!r),m(""),v(""),_({email:x.email,password:"",username:"",confirmPassword:""})},disabled:u,className:"p-0 h-auto font-semibold",children:r?"Sign up":"Sign in"})]})]})]})}),d.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-3",children:[d.jsx(de,{variant:"outline",className:"w-full",onClick:()=>T("google"),disabled:u,children:"Sign in with Google"}),d.jsx(de,{variant:"outline",className:"w-full",onClick:()=>T("github"),disabled:u,children:"Sign in with GitHub"})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs(de,{variant:"link",onClick:e,className:"text-sm",children:[d.jsx(zo,{className:"w-4 h-4 mr-2"}),"Back to Onboarding"]})})]})})}function Ae(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t==null||t(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}var Fn=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},cL=Bw[" useId ".trim().toString()]||(()=>{}),uL=0;function ws(t){const[e,n]=b.useState(cL());return Fn(()=>{n(r=>r??String(uL++))},[t]),t||(e?`radix-${e}`:"")}var dL=Bw[" useInsertionEffect ".trim().toString()]||Fn;function _s({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[o,a,l]=fL({defaultProp:e,onChange:n}),u=t!==void 0,f=u?t:o;{const m=b.useRef(t!==void 0);b.useEffect(()=>{const y=m.current;y!==u&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,r])}const p=b.useCallback(m=>{var y;if(u){const v=hL(m)?m(t):m;v!==t&&((y=l.current)==null||y.call(l,v))}else a(m)},[u,t,a,l]);return[f,p]}function fL({defaultProp:t,onChange:e}){const[n,r]=b.useState(t),o=b.useRef(n),a=b.useRef(e);return dL(()=>{a.current=e},[e]),b.useEffect(()=>{var l;o.current!==n&&((l=a.current)==null||l.call(a,n),o.current=n)},[n,o]),[n,r,a]}function hL(t){return typeof t=="function"}function Mt(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function pL(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t);b.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var mL="DismissableLayer",ph="dismissableLayer.update",gL="dismissableLayer.pointerDownOutside",yL="dismissableLayer.focusOutside",fw,zS=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Op=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...f}=t,p=b.useContext(zS),[m,y]=b.useState(null),v=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=b.useState({}),_=Ve(e,$=>y($)),S=Array.from(p.layers),[k]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),T=S.indexOf(k),j=m?S.indexOf(m):-1,C=p.layersWithOutsidePointerEventsDisabled.size>0,N=j>=T,R=xL($=>{const D=$.target,G=[...p.branches].some(X=>X.contains(D));!N||G||(o==null||o($),l==null||l($),$.defaultPrevented||u==null||u())},v),L=bL($=>{const D=$.target;[...p.branches].some(X=>X.contains(D))||(a==null||a($),l==null||l($),$.defaultPrevented||u==null||u())},v);return pL($=>{j===p.layers.size-1&&(r==null||r($),!$.defaultPrevented&&u&&($.preventDefault(),u()))},v),b.useEffect(()=>{if(m)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(fw=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),hw(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=fw)}},[m,v,n,p]),b.useEffect(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),hw())},[m,p]),b.useEffect(()=>{const $=()=>x({});return document.addEventListener(ph,$),()=>document.removeEventListener(ph,$)},[]),d.jsx(Pe.div,{...f,ref:_,style:{pointerEvents:C?N?"auto":"none":void 0,...t.style},onFocusCapture:Ae(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Ae(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Ae(t.onPointerDownCapture,R.onPointerDownCapture)})});Op.displayName=mL;var vL="DismissableLayerBranch",wL=b.forwardRef((t,e)=>{const n=b.useContext(zS),r=b.useRef(null),o=Ve(e,r);return b.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),d.jsx(Pe.div,{...t,ref:o})});wL.displayName=vL;function xL(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=b.useRef(!1),o=b.useRef(()=>{});return b.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let f=function(){BS(gL,n,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function bL(t,e=globalThis==null?void 0:globalThis.document){const n=Mt(t),r=b.useRef(!1);return b.useEffect(()=>{const o=a=>{a.target&&!r.current&&BS(yL,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function hw(){const t=new CustomEvent(ph);document.dispatchEvent(t)}function BS(t,e,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?sT(o,a):o.dispatchEvent(a)}var yf="focusScope.autoFocusOnMount",vf="focusScope.autoFocusOnUnmount",pw={bubbles:!1,cancelable:!0},SL="FocusScope",WS=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...l}=t,[u,f]=b.useState(null),p=Mt(o),m=Mt(a),y=b.useRef(null),v=Ve(e,S=>f(S)),x=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let S=function(C){if(x.paused||!u)return;const N=C.target;u.contains(N)?y.current=N:Pr(y.current,{select:!0})},k=function(C){if(x.paused||!u)return;const N=C.relatedTarget;N!==null&&(u.contains(N)||Pr(y.current,{select:!0}))},T=function(C){if(document.activeElement===document.body)for(const R of C)R.removedNodes.length>0&&Pr(u)};document.addEventListener("focusin",S),document.addEventListener("focusout",k);const j=new MutationObserver(T);return u&&j.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",k),j.disconnect()}}},[r,u,x.paused]),b.useEffect(()=>{if(u){gw.add(x);const S=document.activeElement;if(!u.contains(S)){const T=new CustomEvent(yf,pw);u.addEventListener(yf,p),u.dispatchEvent(T),T.defaultPrevented||(_L(CL(HS(u)),{select:!0}),document.activeElement===S&&Pr(u))}return()=>{u.removeEventListener(yf,p),setTimeout(()=>{const T=new CustomEvent(vf,pw);u.addEventListener(vf,m),u.dispatchEvent(T),T.defaultPrevented||Pr(S??document.body,{select:!0}),u.removeEventListener(vf,m),gw.remove(x)},0)}}},[u,p,m,x]);const _=b.useCallback(S=>{if(!n&&!r||x.paused)return;const k=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,T=document.activeElement;if(k&&T){const j=S.currentTarget,[C,N]=kL(j);C&&N?!S.shiftKey&&T===N?(S.preventDefault(),n&&Pr(C,{select:!0})):S.shiftKey&&T===C&&(S.preventDefault(),n&&Pr(N,{select:!0})):T===j&&S.preventDefault()}},[n,r,x.paused]);return d.jsx(Pe.div,{tabIndex:-1,...l,ref:v,onKeyDown:_})});WS.displayName=SL;function _L(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Pr(r,{select:e}),document.activeElement!==n)return}function kL(t){const e=HS(t),n=mw(e,t),r=mw(e.reverse(),t);return[n,r]}function HS(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function mw(t,e){for(const n of t)if(!EL(n,{upTo:e}))return n}function EL(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function jL(t){return t instanceof HTMLInputElement&&"select"in t}function Pr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&jL(t)&&e&&t.select()}}var gw=TL();function TL(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=yw(t,e),t.unshift(e)},remove(e){var n;t=yw(t,e),(n=t[0])==null||n.resume()}}}function yw(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function CL(t){return t.filter(e=>e.tagName!=="A")}var NL="Portal",Ip=b.forwardRef((t,e)=>{var u;const{container:n,...r}=t,[o,a]=b.useState(!1);Fn(()=>a(!0),[]);const l=n||o&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?nT.createPortal(d.jsx(Pe.div,{...r,ref:e}),l):null});Ip.displayName=NL;function PL(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var Kt=t=>{const{present:e,children:n}=t,r=AL(e),o=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),a=Ve(r.ref,RL(o));return typeof n=="function"||r.isPresent?b.cloneElement(o,{ref:a}):null};Kt.displayName="Presence";function AL(t){const[e,n]=b.useState(),r=b.useRef(null),o=b.useRef(t),a=b.useRef("none"),l=t?"mounted":"unmounted",[u,f]=PL(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const p=Dl(r.current);a.current=u==="mounted"?p:"none"},[u]),Fn(()=>{const p=r.current,m=o.current;if(m!==t){const v=a.current,x=Dl(p);t?f("MOUNT"):x==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(m&&v!==x?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,f]),Fn(()=>{if(e){let p;const m=e.ownerDocument.defaultView??window,y=x=>{const S=Dl(r.current).includes(CSS.escape(x.animationName));if(x.target===e&&S&&(f("ANIMATION_END"),!o.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",p=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},v=x=>{x.target===e&&(a.current=Dl(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{m.clearTimeout(p),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:b.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function Dl(t){return(t==null?void 0:t.animationName)||"none"}function RL(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var wf=0;function OL(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??vw()),document.body.insertAdjacentElement("beforeend",t[1]??vw()),wf++,()=>{wf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),wf--}},[])}function vw(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Yl="right-scroll-bar-position",Jl="width-before-scroll-bar",IL="with-scroll-bars-hidden",LL="--removed-body-scroll-bar-size";function xf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ML(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=e,n.facade}var DL=typeof window<"u"?b.useLayoutEffect:b.useEffect,ww=new WeakMap;function $L(t,e){var n=ML(null,function(r){return t.forEach(function(o){return xf(o,r)})});return DL(function(){var r=ww.get(n);if(r){var o=new Set(r),a=new Set(t),l=n.current;o.forEach(function(u){a.has(u)||xf(u,null)}),a.forEach(function(u){o.has(u)||xf(u,l)})}ww.set(n,t)},[t]),n}function FL(t){return t}function VL(t,e){e===void 0&&(e=FL);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var l=e(a,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(r=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(a),l=n}var f=function(){var m=l;l=[],m.forEach(a)},p=function(){return Promise.resolve().then(f)};p(),n={push:function(m){l.push(m),p()},filter:function(m){return l=l.filter(m),n}}}};return o}function UL(t){t===void 0&&(t={});var e=VL(null);return e.options=rn({async:!0,ssr:!1},t),e}var GS=function(t){var e=t.sideCar,n=Fr(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,rn({},n))};GS.isSideCarExport=!0;function zL(t,e){return t.useMedium(e),GS}var KS=UL(),bf=function(){},Rc=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:bf,onWheelCapture:bf,onTouchMoveCapture:bf}),o=r[0],a=r[1],l=t.forwardProps,u=t.children,f=t.className,p=t.removeScrollBar,m=t.enabled,y=t.shards,v=t.sideCar,x=t.noRelative,_=t.noIsolation,S=t.inert,k=t.allowPinchZoom,T=t.as,j=T===void 0?"div":T,C=t.gapMode,N=Fr(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=v,L=$L([n,e]),$=rn(rn({},N),o);return b.createElement(b.Fragment,null,m&&b.createElement(R,{sideCar:KS,removeScrollBar:p,shards:y,noRelative:x,noIsolation:_,inert:S,setCallbacks:a,allowPinchZoom:!!k,lockRef:n,gapMode:C}),l?b.cloneElement(b.Children.only(u),rn(rn({},$),{ref:L})):b.createElement(j,rn({},$,{className:f,ref:L}),u))});Rc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rc.classNames={fullWidth:Jl,zeroRight:Yl};var BL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function WL(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=BL();return e&&t.setAttribute("nonce",e),t}function HL(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function GL(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var KL=function(){var t=0,e=null;return{add:function(n){t==0&&(e=WL())&&(HL(e,n),GL(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},qL=function(){var t=KL();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},qS=function(){var t=qL(),e=function(n){var r=n.styles,o=n.dynamic;return t(r,o),null};return e},YL={left:0,top:0,right:0,gap:0},Sf=function(t){return parseInt(t||"",10)||0},JL=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[Sf(n),Sf(r),Sf(o)]},QL=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return YL;var e=JL(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},XL=qS(),gi="data-scroll-locked",ZL=function(t,e,n,r){var o=t.left,a=t.top,l=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(IL,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(gi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yl,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Jl,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Yl," .").concat(Yl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Jl," .").concat(Jl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(gi,`] {
    `).concat(LL,": ").concat(u,`px;
  }
`)},xw=function(){var t=parseInt(document.body.getAttribute(gi)||"0",10);return isFinite(t)?t:0},eM=function(){b.useEffect(function(){return document.body.setAttribute(gi,(xw()+1).toString()),function(){var t=xw()-1;t<=0?document.body.removeAttribute(gi):document.body.setAttribute(gi,t.toString())}},[])},tM=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,o=r===void 0?"margin":r;eM();var a=b.useMemo(function(){return QL(o)},[o]);return b.createElement(XL,{styles:ZL(a,!e,o,n?"":"!important")})},mh=!1;if(typeof window<"u")try{var $l=Object.defineProperty({},"passive",{get:function(){return mh=!0,!0}});window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{mh=!1}var ni=mh?{passive:!1}:!1,nM=function(t){return t.tagName==="TEXTAREA"},YS=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!nM(t)&&n[e]==="visible")},rM=function(t){return YS(t,"overflowY")},sM=function(t){return YS(t,"overflowX")},bw=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=JS(t,r);if(o){var a=QS(t,r),l=a[1],u=a[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},iM=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},oM=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},JS=function(t,e){return t==="v"?rM(e):sM(e)},QS=function(t,e){return t==="v"?iM(e):oM(e)},aM=function(t,e){return t==="h"&&e==="rtl"?-1:1},lM=function(t,e,n,r,o){var a=aM(t,window.getComputedStyle(e).direction),l=a*r,u=n.target,f=e.contains(u),p=!1,m=l>0,y=0,v=0;do{if(!u)break;var x=QS(t,u),_=x[0],S=x[1],k=x[2],T=S-k-a*_;(_||T)&&JS(t,u)&&(y+=T,v+=_);var j=u.parentNode;u=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!f&&u!==document.body||f&&(e.contains(u)||e===u));return(m&&Math.abs(y)<1||!m&&Math.abs(v)<1)&&(p=!0),p},Fl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Sw=function(t){return[t.deltaX,t.deltaY]},_w=function(t){return t&&"current"in t?t.current:t},cM=function(t,e){return t[0]===e[0]&&t[1]===e[1]},uM=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},dM=0,ri=[];function fM(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),o=b.useState(dM++)[0],a=b.useState(qS)[0],l=b.useRef(t);b.useEffect(function(){l.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var S=Sp([t.lockRef.current],(t.shards||[]).map(_w),!0).filter(Boolean);return S.forEach(function(k){return k.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),S.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var u=b.useCallback(function(S,k){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!l.current.allowPinchZoom;var T=Fl(S),j=n.current,C="deltaX"in S?S.deltaX:j[0]-T[0],N="deltaY"in S?S.deltaY:j[1]-T[1],R,L=S.target,$=Math.abs(C)>Math.abs(N)?"h":"v";if("touches"in S&&$==="h"&&L.type==="range")return!1;var D=bw($,L);if(!D)return!0;if(D?R=$:(R=$==="v"?"h":"v",D=bw($,L)),!D)return!1;if(!r.current&&"changedTouches"in S&&(C||N)&&(r.current=R),!R)return!0;var G=r.current||R;return lM(G,k,S,G==="h"?C:N)},[]),f=b.useCallback(function(S){var k=S;if(!(!ri.length||ri[ri.length-1]!==a)){var T="deltaY"in k?Sw(k):Fl(k),j=e.current.filter(function(R){return R.name===k.type&&(R.target===k.target||k.target===R.shadowParent)&&cM(R.delta,T)})[0];if(j&&j.should){k.cancelable&&k.preventDefault();return}if(!j){var C=(l.current.shards||[]).map(_w).filter(Boolean).filter(function(R){return R.contains(k.target)}),N=C.length>0?u(k,C[0]):!l.current.noIsolation;N&&k.cancelable&&k.preventDefault()}}},[]),p=b.useCallback(function(S,k,T,j){var C={name:S,delta:k,target:T,should:j,shadowParent:hM(T)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(N){return N!==C})},1)},[]),m=b.useCallback(function(S){n.current=Fl(S),r.current=void 0},[]),y=b.useCallback(function(S){p(S.type,Sw(S),S.target,u(S,t.lockRef.current))},[]),v=b.useCallback(function(S){p(S.type,Fl(S),S.target,u(S,t.lockRef.current))},[]);b.useEffect(function(){return ri.push(a),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:v}),document.addEventListener("wheel",f,ni),document.addEventListener("touchmove",f,ni),document.addEventListener("touchstart",m,ni),function(){ri=ri.filter(function(S){return S!==a}),document.removeEventListener("wheel",f,ni),document.removeEventListener("touchmove",f,ni),document.removeEventListener("touchstart",m,ni)}},[]);var x=t.removeScrollBar,_=t.inert;return b.createElement(b.Fragment,null,_?b.createElement(a,{styles:uM(o)}):null,x?b.createElement(tM,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function hM(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const pM=zL(KS,fM);var XS=b.forwardRef(function(t,e){return b.createElement(Rc,rn({},t,{ref:e,sideCar:pM}))});XS.classNames=Rc.classNames;var mM=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},si=new WeakMap,Vl=new WeakMap,Ul={},_f=0,ZS=function(t){return t&&(t.host||ZS(t.parentNode))},gM=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=ZS(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},yM=function(t,e,n,r){var o=gM(e,Array.isArray(t)?t:[t]);Ul[n]||(Ul[n]=new WeakMap);var a=Ul[n],l=[],u=new Set,f=new Set(o),p=function(y){!y||u.has(y)||(u.add(y),p(y.parentNode))};o.forEach(p);var m=function(y){!y||f.has(y)||Array.prototype.forEach.call(y.children,function(v){if(u.has(v))m(v);else try{var x=v.getAttribute(r),_=x!==null&&x!=="false",S=(si.get(v)||0)+1,k=(a.get(v)||0)+1;si.set(v,S),a.set(v,k),l.push(v),S===1&&_&&Vl.set(v,!0),k===1&&v.setAttribute(n,"true"),_||v.setAttribute(r,"true")}catch(T){console.error("aria-hidden: cannot operate on ",v,T)}})};return m(e),u.clear(),_f++,function(){l.forEach(function(y){var v=si.get(y)-1,x=a.get(y)-1;si.set(y,v),a.set(y,x),v||(Vl.has(y)||y.removeAttribute(r),Vl.delete(y)),x||y.removeAttribute(n)}),_f--,_f||(si=new WeakMap,si=new WeakMap,Vl=new WeakMap,Ul={})}},vM=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),o=mM(t);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),yM(r,o,n,"aria-hidden")):function(){return null}},Oc="Dialog",[e1]=cn(Oc),[wM,jn]=e1(Oc),t1=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:o,onOpenChange:a,modal:l=!0}=t,u=b.useRef(null),f=b.useRef(null),[p,m]=_s({prop:r,defaultProp:o??!1,onChange:a,caller:Oc});return d.jsx(wM,{scope:e,triggerRef:u,contentRef:f,contentId:ws(),titleId:ws(),descriptionId:ws(),open:p,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(y=>!y),[m]),modal:l,children:n})};t1.displayName=Oc;var n1="DialogTrigger",r1=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=jn(n1,n),a=Ve(e,o.triggerRef);return d.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Dp(o.open),...r,ref:a,onClick:Ae(t.onClick,o.onOpenToggle)})});r1.displayName=n1;var Lp="DialogPortal",[xM,s1]=e1(Lp,{forceMount:void 0}),i1=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:o}=t,a=jn(Lp,e);return d.jsx(xM,{scope:e,forceMount:n,children:b.Children.map(r,l=>d.jsx(Kt,{present:n||a.open,children:d.jsx(Ip,{asChild:!0,container:o,children:l})}))})};i1.displayName=Lp;var hc="DialogOverlay",o1=b.forwardRef((t,e)=>{const n=s1(hc,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,a=jn(hc,t.__scopeDialog);return a.modal?d.jsx(Kt,{present:r||a.open,children:d.jsx(SM,{...o,ref:e})}):null});o1.displayName=hc;var bM=Uo("DialogOverlay.RemoveScroll"),SM=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=jn(hc,n);return d.jsx(XS,{as:bM,allowPinchZoom:!0,shards:[o.contentRef],children:d.jsx(Pe.div,{"data-state":Dp(o.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),xs="DialogContent",a1=b.forwardRef((t,e)=>{const n=s1(xs,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,a=jn(xs,t.__scopeDialog);return d.jsx(Kt,{present:r||a.open,children:a.modal?d.jsx(_M,{...o,ref:e}):d.jsx(kM,{...o,ref:e})})});a1.displayName=xs;var _M=b.forwardRef((t,e)=>{const n=jn(xs,t.__scopeDialog),r=b.useRef(null),o=Ve(e,n.contentRef,r);return b.useEffect(()=>{const a=r.current;if(a)return vM(a)},[]),d.jsx(l1,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(t.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ae(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&a.preventDefault()}),onFocusOutside:Ae(t.onFocusOutside,a=>a.preventDefault())})}),kM=b.forwardRef((t,e)=>{const n=jn(xs,t.__scopeDialog),r=b.useRef(!1),o=b.useRef(!1);return d.jsx(l1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,u;(l=t.onCloseAutoFocus)==null||l.call(t,a),a.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{var f,p;(f=t.onInteractOutside)==null||f.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=a.target;((p=n.triggerRef.current)==null?void 0:p.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),l1=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...l}=t,u=jn(xs,n),f=b.useRef(null),p=Ve(e,f);return OL(),d.jsxs(d.Fragment,{children:[d.jsx(WS,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:d.jsx(Op,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Dp(u.open),...l,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(EM,{titleId:u.titleId}),d.jsx(TM,{contentRef:f,descriptionId:u.descriptionId})]})]})}),Mp="DialogTitle",c1=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=jn(Mp,n);return d.jsx(Pe.h2,{id:o.titleId,...r,ref:e})});c1.displayName=Mp;var u1="DialogDescription",d1=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=jn(u1,n);return d.jsx(Pe.p,{id:o.descriptionId,...r,ref:e})});d1.displayName=u1;var f1="DialogClose",h1=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=jn(f1,n);return d.jsx(Pe.button,{type:"button",...r,ref:e,onClick:Ae(t.onClick,()=>o.onOpenChange(!1))})});h1.displayName=f1;function Dp(t){return t?"open":"closed"}var p1="DialogTitleWarning",[m$,m1]=eT(p1,{contentName:xs,titleName:Mp,docsSlug:"dialog"}),EM=({titleId:t})=>{const e=m1(p1),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},jM="DialogDescriptionWarning",TM=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${m1(jM).contentName}}.`;return b.useEffect(()=>{var a;const o=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},g1=t1,y1=r1,v1=i1,Ic=o1,$p=a1,gh=c1,yh=d1,w1=h1;function CM({...t}){return d.jsx(g1,{"data-slot":"sheet",...t})}function NM({...t}){return d.jsx(y1,{"data-slot":"sheet-trigger",...t})}function PM({...t}){return d.jsx(v1,{"data-slot":"sheet-portal",...t})}const x1=b.forwardRef(({className:t,...e},n)=>d.jsx(Ic,{ref:n,"data-slot":"sheet-overlay",className:Ie("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));x1.displayName=Ic.displayName;function AM({className:t,children:e,side:n="right",...r}){return d.jsxs(PM,{children:[d.jsx(x1,{}),d.jsxs($p,{"data-slot":"sheet-content",className:Ie("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...r,children:[e,d.jsxs(w1,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[d.jsx(Vh,{className:"size-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}var RM=b.createContext(void 0);function Lc(t){const e=b.useContext(RM);return t||e||"ltr"}function OM(t,[e,n]){return Math.min(n,Math.max(e,t))}function IM(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var Fp="ScrollArea",[b1]=cn(Fp),[LM,un]=b1(Fp),S1=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:a=600,...l}=t,[u,f]=b.useState(null),[p,m]=b.useState(null),[y,v]=b.useState(null),[x,_]=b.useState(null),[S,k]=b.useState(null),[T,j]=b.useState(0),[C,N]=b.useState(0),[R,L]=b.useState(!1),[$,D]=b.useState(!1),G=Ve(e,fe=>f(fe)),X=Lc(o);return d.jsx(LM,{scope:n,type:r,dir:X,scrollHideDelay:a,scrollArea:u,viewport:p,onViewportChange:m,content:y,onContentChange:v,scrollbarX:x,onScrollbarXChange:_,scrollbarXEnabled:R,onScrollbarXEnabledChange:L,scrollbarY:S,onScrollbarYChange:k,scrollbarYEnabled:$,onScrollbarYEnabledChange:D,onCornerWidthChange:j,onCornerHeightChange:N,children:d.jsx(Pe.div,{dir:X,...l,ref:G,style:{position:"relative","--radix-scroll-area-corner-width":T+"px","--radix-scroll-area-corner-height":C+"px",...t.style}})})});S1.displayName=Fp;var _1="ScrollAreaViewport",k1=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:o,...a}=t,l=un(_1,n),u=b.useRef(null),f=Ve(e,u,l.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),d.jsx(Pe.div,{"data-radix-scroll-area-viewport":"",...a,ref:f,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:d.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});k1.displayName=_1;var Un="ScrollAreaScrollbar",Vp=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=un(Un,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:l}=o,u=t.orientation==="horizontal";return b.useEffect(()=>(u?a(!0):l(!0),()=>{u?a(!1):l(!1)}),[u,a,l]),o.type==="hover"?d.jsx(MM,{...r,ref:e,forceMount:n}):o.type==="scroll"?d.jsx(DM,{...r,ref:e,forceMount:n}):o.type==="auto"?d.jsx(E1,{...r,ref:e,forceMount:n}):o.type==="always"?d.jsx(Up,{...r,ref:e}):null});Vp.displayName=Un;var MM=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=un(Un,t.__scopeScrollArea),[a,l]=b.useState(!1);return b.useEffect(()=>{const u=o.scrollArea;let f=0;if(u){const p=()=>{window.clearTimeout(f),l(!0)},m=()=>{f=window.setTimeout(()=>l(!1),o.scrollHideDelay)};return u.addEventListener("pointerenter",p),u.addEventListener("pointerleave",m),()=>{window.clearTimeout(f),u.removeEventListener("pointerenter",p),u.removeEventListener("pointerleave",m)}}},[o.scrollArea,o.scrollHideDelay]),d.jsx(Kt,{present:n||a,children:d.jsx(E1,{"data-state":a?"visible":"hidden",...r,ref:e})})}),DM=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=un(Un,t.__scopeScrollArea),a=t.orientation==="horizontal",l=Dc(()=>f("SCROLL_END"),100),[u,f]=IM("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(u==="idle"){const p=window.setTimeout(()=>f("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(p)}},[u,o.scrollHideDelay,f]),b.useEffect(()=>{const p=o.viewport,m=a?"scrollLeft":"scrollTop";if(p){let y=p[m];const v=()=>{const x=p[m];y!==x&&(f("SCROLL"),l()),y=x};return p.addEventListener("scroll",v),()=>p.removeEventListener("scroll",v)}},[o.viewport,a,f,l]),d.jsx(Kt,{present:n||u!=="hidden",children:d.jsx(Up,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ae(t.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:Ae(t.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),E1=b.forwardRef((t,e)=>{const n=un(Un,t.__scopeScrollArea),{forceMount:r,...o}=t,[a,l]=b.useState(!1),u=t.orientation==="horizontal",f=Dc(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,m=n.viewport.offsetHeight<n.viewport.scrollHeight;l(u?p:m)}},10);return _i(n.viewport,f),_i(n.content,f),d.jsx(Kt,{present:r||a,children:d.jsx(Up,{"data-state":a?"visible":"hidden",...o,ref:e})})}),Up=b.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,o=un(Un,t.__scopeScrollArea),a=b.useRef(null),l=b.useRef(0),[u,f]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=P1(u.viewport,u.content),m={...r,sizes:u,onSizesChange:f,hasThumb:p>0&&p<1,onThumbChange:v=>a.current=v,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:v=>l.current=v};function y(v,x){return BM(v,l.current,u,x)}return n==="horizontal"?d.jsx($M,{...m,ref:e,onThumbPositionChange:()=>{if(o.viewport&&a.current){const v=o.viewport.scrollLeft,x=kw(v,u,o.dir);a.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:v=>{o.viewport&&(o.viewport.scrollLeft=v)},onDragScroll:v=>{o.viewport&&(o.viewport.scrollLeft=y(v,o.dir))}}):n==="vertical"?d.jsx(FM,{...m,ref:e,onThumbPositionChange:()=>{if(o.viewport&&a.current){const v=o.viewport.scrollTop,x=kw(v,u);a.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:v=>{o.viewport&&(o.viewport.scrollTop=v)},onDragScroll:v=>{o.viewport&&(o.viewport.scrollTop=y(v))}}):null}),$M=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...o}=t,a=un(Un,t.__scopeScrollArea),[l,u]=b.useState(),f=b.useRef(null),p=Ve(e,f,a.onScrollbarXChange);return b.useEffect(()=>{f.current&&u(getComputedStyle(f.current))},[f]),d.jsx(T1,{"data-orientation":"horizontal",...o,ref:p,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Mc(n)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.x),onDragScroll:m=>t.onDragScroll(m.x),onWheelScroll:(m,y)=>{if(a.viewport){const v=a.viewport.scrollLeft+m.deltaX;t.onWheelScroll(v),R1(v,y)&&m.preventDefault()}},onResize:()=>{f.current&&a.viewport&&l&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:mc(l.paddingLeft),paddingEnd:mc(l.paddingRight)}})}})}),FM=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...o}=t,a=un(Un,t.__scopeScrollArea),[l,u]=b.useState(),f=b.useRef(null),p=Ve(e,f,a.onScrollbarYChange);return b.useEffect(()=>{f.current&&u(getComputedStyle(f.current))},[f]),d.jsx(T1,{"data-orientation":"vertical",...o,ref:p,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Mc(n)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.y),onDragScroll:m=>t.onDragScroll(m.y),onWheelScroll:(m,y)=>{if(a.viewport){const v=a.viewport.scrollTop+m.deltaY;t.onWheelScroll(v),R1(v,y)&&m.preventDefault()}},onResize:()=>{f.current&&a.viewport&&l&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:mc(l.paddingTop),paddingEnd:mc(l.paddingBottom)}})}})}),[VM,j1]=b1(Un),T1=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:a,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:f,onDragScroll:p,onWheelScroll:m,onResize:y,...v}=t,x=un(Un,n),[_,S]=b.useState(null),k=Ve(e,G=>S(G)),T=b.useRef(null),j=b.useRef(""),C=x.viewport,N=r.content-r.viewport,R=Mt(m),L=Mt(f),$=Dc(y,10);function D(G){if(T.current){const X=G.clientX-T.current.left,fe=G.clientY-T.current.top;p({x:X,y:fe})}}return b.useEffect(()=>{const G=X=>{const fe=X.target;(_==null?void 0:_.contains(fe))&&R(X,N)};return document.addEventListener("wheel",G,{passive:!1}),()=>document.removeEventListener("wheel",G,{passive:!1})},[C,_,N,R]),b.useEffect(L,[r,L]),_i(_,$),_i(x.content,$),d.jsx(VM,{scope:n,scrollbar:_,hasThumb:o,onThumbChange:Mt(a),onThumbPointerUp:Mt(l),onThumbPositionChange:L,onThumbPointerDown:Mt(u),children:d.jsx(Pe.div,{...v,ref:k,style:{position:"absolute",...v.style},onPointerDown:Ae(t.onPointerDown,G=>{G.button===0&&(G.target.setPointerCapture(G.pointerId),T.current=_.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),D(G))}),onPointerMove:Ae(t.onPointerMove,D),onPointerUp:Ae(t.onPointerUp,G=>{const X=G.target;X.hasPointerCapture(G.pointerId)&&X.releasePointerCapture(G.pointerId),document.body.style.webkitUserSelect=j.current,x.viewport&&(x.viewport.style.scrollBehavior=""),T.current=null})})})}),pc="ScrollAreaThumb",C1=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=j1(pc,t.__scopeScrollArea);return d.jsx(Kt,{present:n||o.hasThumb,children:d.jsx(UM,{ref:e,...r})})}),UM=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...o}=t,a=un(pc,n),l=j1(pc,n),{onThumbPositionChange:u}=l,f=Ve(e,y=>l.onThumbChange(y)),p=b.useRef(void 0),m=Dc(()=>{p.current&&(p.current(),p.current=void 0)},100);return b.useEffect(()=>{const y=a.viewport;if(y){const v=()=>{if(m(),!p.current){const x=WM(y,u);p.current=x,u()}};return u(),y.addEventListener("scroll",v),()=>y.removeEventListener("scroll",v)}},[a.viewport,m,u]),d.jsx(Pe.div,{"data-state":l.hasThumb?"visible":"hidden",...o,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ae(t.onPointerDownCapture,y=>{const x=y.target.getBoundingClientRect(),_=y.clientX-x.left,S=y.clientY-x.top;l.onThumbPointerDown({x:_,y:S})}),onPointerUp:Ae(t.onPointerUp,l.onThumbPointerUp)})});C1.displayName=pc;var zp="ScrollAreaCorner",N1=b.forwardRef((t,e)=>{const n=un(zp,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?d.jsx(zM,{...t,ref:e}):null});N1.displayName=zp;var zM=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,o=un(zp,n),[a,l]=b.useState(0),[u,f]=b.useState(0),p=!!(a&&u);return _i(o.scrollbarX,()=>{var y;const m=((y=o.scrollbarX)==null?void 0:y.offsetHeight)||0;o.onCornerHeightChange(m),f(m)}),_i(o.scrollbarY,()=>{var y;const m=((y=o.scrollbarY)==null?void 0:y.offsetWidth)||0;o.onCornerWidthChange(m),l(m)}),p?d.jsx(Pe.div,{...r,ref:e,style:{width:a,height:u,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function mc(t){return t?parseInt(t,10):0}function P1(t,e){const n=t/e;return isNaN(n)?0:n}function Mc(t){const e=P1(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function BM(t,e,n,r="ltr"){const o=Mc(n),a=o/2,l=e||a,u=o-l,f=n.scrollbar.paddingStart+l,p=n.scrollbar.size-n.scrollbar.paddingEnd-u,m=n.content-n.viewport,y=r==="ltr"?[0,m]:[m*-1,0];return A1([f,p],y)(t)}function kw(t,e,n="ltr"){const r=Mc(e),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-o,l=e.content-e.viewport,u=a-r,f=n==="ltr"?[0,l]:[l*-1,0],p=OM(t,f);return A1([0,l],[0,u])(p)}function A1(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function R1(t,e){return t>0&&t<e}var WM=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function o(){const a={left:t.scrollLeft,top:t.scrollTop},l=n.left!==a.left,u=n.top!==a.top;(l||u)&&e(),n=a,r=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(r)};function Dc(t,e){const n=Mt(t),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function _i(t,e){const n=Mt(e);Fn(()=>{let r=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(t),()=>{window.cancelAnimationFrame(r),o.unobserve(t)}}},[t,n])}var O1=S1,HM=k1,GM=N1;const Bp=b.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(O1,{ref:r,"data-slot":"scroll-area",className:Ie("relative",t),...n,children:[d.jsx(HM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),d.jsx(I1,{}),d.jsx(GM,{})]}));Bp.displayName=O1.displayName;const I1=b.forwardRef(({className:t,orientation:e="vertical",...n},r)=>d.jsx(Vp,{ref:r,"data-slot":"scroll-area-scrollbar",orientation:e,className:Ie("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:d.jsx(C1,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})}));I1.displayName=Vp.displayName;var $c="Collapsible",[KM]=cn($c),[qM,Wp]=KM($c),L1=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:o,disabled:a,onOpenChange:l,...u}=t,[f,p]=_s({prop:r,defaultProp:o??!1,onChange:l,caller:$c});return d.jsx(qM,{scope:n,disabled:a,contentId:ws(),open:f,onOpenToggle:b.useCallback(()=>p(m=>!m),[p]),children:d.jsx(Pe.div,{"data-state":Gp(f),"data-disabled":a?"":void 0,...u,ref:e})})});L1.displayName=$c;var M1="CollapsibleTrigger",D1=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,o=Wp(M1,n);return d.jsx(Pe.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":Gp(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:e,onClick:Ae(t.onClick,o.onOpenToggle)})});D1.displayName=M1;var Hp="CollapsibleContent",$1=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=Wp(Hp,t.__scopeCollapsible);return d.jsx(Kt,{present:n||o.open,children:({present:a})=>d.jsx(YM,{...r,ref:e,present:a})})});$1.displayName=Hp;var YM=b.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:o,...a}=t,l=Wp(Hp,n),[u,f]=b.useState(r),p=b.useRef(null),m=Ve(e,p),y=b.useRef(0),v=y.current,x=b.useRef(0),_=x.current,S=l.open||u,k=b.useRef(S),T=b.useRef(void 0);return b.useEffect(()=>{const j=requestAnimationFrame(()=>k.current=!1);return()=>cancelAnimationFrame(j)},[]),Fn(()=>{const j=p.current;if(j){T.current=T.current||{transitionDuration:j.style.transitionDuration,animationName:j.style.animationName},j.style.transitionDuration="0s",j.style.animationName="none";const C=j.getBoundingClientRect();y.current=C.height,x.current=C.width,k.current||(j.style.transitionDuration=T.current.transitionDuration,j.style.animationName=T.current.animationName),f(r)}},[l.open,r]),d.jsx(Pe.div,{"data-state":Gp(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!S,...a,ref:m,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":_?`${_}px`:void 0,...t.style},children:S&&o})});function Gp(t){return t?"open":"closed"}var JM=L1;function F1({...t}){return d.jsx(JM,{"data-slot":"collapsible",...t})}function V1({...t}){return d.jsx(D1,{"data-slot":"collapsible-trigger",...t})}function U1({...t}){return d.jsx($1,{"data-slot":"collapsible-content",...t})}function Ew({user:t,conversations:e,onConversationSelect:n,onLogout:r,onSettings:o}){const[a,l]=b.useState(!0),u=k=>({"Travel & Adventures":YT,"Daily Life & Routines":VT,"Work & Career":kT,"Hobbies & Interests":XT,"Entertainment & Gaming":KT,"Education & Learning":ec,"Technology & Social Media":jT,"Music & Arts":vC,"Food & Cooking":KC,"General Conversation":ai})[k]||ai,f=e.reduce((k,T)=>{const j=T.topic||"General Conversation";return k[j]||(k[j]=[]),k[j].push(T),k},{}),p=Object.keys(f).sort((k,T)=>{const j=Math.max(...f[k].map(N=>new Date(N.timestamp).getTime()));return Math.max(...f[T].map(N=>new Date(N.timestamp).getTime()))-j}),m=!!t.level,y=t.placement_test_completed,v=m&&y,x=m&&!y,_=()=>v?"Set by Placement Test":x?"Self-selected":"Not set",S=()=>m?{Beginner:"New to English pronunciation and prosody. Focus on basic patterns and guided practice.",Intermediate:"Some experience with English speaking. Practice complex patterns and natural conversation.",Advanced:"Strong English skills, refining prosody. Work on subtle nuances and accent reduction."}[t.level]||"Custom learning level.":"No level has been set yet.";return d.jsxs("div",{className:"w-full h-full bg-sidebar border-r border-sidebar-border flex flex-col",children:[d.jsx("div",{className:"p-4 border-b border-sidebar-border",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 bg-sidebar-accent rounded-full flex items-center justify-center",children:d.jsx(Ec,{className:"w-5 h-5 text-sidebar-accent-foreground"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-medium text-sidebar-foreground truncate",children:t.username}),d.jsx("p",{className:"text-sm text-sidebar-foreground/70 truncate",children:t.email})]}),d.jsx(de,{variant:"ghost",size:"icon",onClick:r,children:d.jsx(aC,{className:"w-4 h-4"})})]})}),d.jsx(Bp,{className:"flex-1",children:d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs(gt,{children:[d.jsx(Sn,{className:"pb-3",children:d.jsxs(sn,{className:"text-sm flex items-center gap-2",children:[d.jsx(tc,{className:"w-4 h-4"}),"Current Level (",_(),")"]})}),d.jsx(yt,{className:"space-y-3",children:m?d.jsxs(d.Fragment,{children:[d.jsx(ge.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"flex items-center justify-center",children:d.jsxs("div",{className:"flex items-center gap-3 bg-sidebar-primary/10 border border-sidebar-primary/20 rounded-lg px-4 py-4 w-full",children:[d.jsx("div",{className:"w-10 h-10 bg-sidebar-primary rounded-full flex items-center justify-center flex-shrink-0",children:v?d.jsx(ux,{className:"w-5 h-5 text-sidebar-primary-foreground"}):d.jsx(ec,{className:"w-5 h-5 text-sidebar-primary-foreground"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-semibold text-lg text-sidebar-foreground",children:t.level}),d.jsx("div",{className:"text-xs text-sidebar-foreground/60",children:v?"Assessed level":"Self-selected level"}),t.placement_test_score&&d.jsxs("div",{className:"text-xs text-sidebar-foreground/80 mt-1",children:["Test Score: ",t.placement_test_score,"%"]})]})]})}),d.jsx("div",{className:"bg-sidebar-accent/10 border border-sidebar-accent/20 rounded-lg p-3",children:d.jsx("p",{className:"text-xs text-sidebar-foreground/80 leading-relaxed",children:S()})}),d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:v?"Your level was determined by placement test results for optimal learning.":"You selected this level manually. Consider taking the placement test for a personalized assessment."})})]}):d.jsx(d.Fragment,{children:d.jsxs("div",{className:"text-center space-y-3",children:[d.jsx("div",{className:"w-16 h-16 bg-sidebar-accent/20 rounded-full flex items-center justify-center mx-auto",children:d.jsx(tc,{className:"w-8 h-8 text-sidebar-accent"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-sidebar-foreground",children:"No Level Set"}),d.jsx("p",{className:"text-xs text-sidebar-foreground/60 mt-1",children:"Use the placement test button in the top-right corner to get started with a personalized level assessment."})]})]})})})]}),d.jsxs(F1,{open:a,onOpenChange:l,children:[d.jsx(V1,{asChild:!0,children:d.jsxs(de,{variant:"outline",className:"w-full justify-between",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(ai,{className:"w-4 h-4"}),"History (",e.length,")"]}),d.jsx(Dh,{className:`w-4 h-4 transition-transform ${a?"rotate-180":""}`})]})}),d.jsx(U1,{children:d.jsx("div",{className:"mt-2 space-y-3 max-h-80 overflow-y-auto",children:e.length===0?d.jsx(gt,{children:d.jsx(yt,{className:"p-4 text-center",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"No conversations yet. Start chatting to build your practice history!"})})}):p.map(k=>{const T=f[k],j=u(k);T.reduce((N,R)=>N+R.messagesCount,0);const C=T.filter(N=>N.prosodyScore).reduce((N,R,L,$)=>N+(R.prosodyScore||0)/$.length,0);return d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-sidebar-accent/20 rounded",children:[d.jsx(j,{className:"w-3 h-3 text-sidebar-accent"}),d.jsx("span",{className:"text-xs font-medium text-sidebar-foreground",children:k}),d.jsx("div",{className:"flex-1"}),d.jsxs(We,{variant:"outline",className:"text-xs",children:[T.length," session",T.length!==1?"s":""]}),C>0&&d.jsxs(We,{className:"text-xs bg-sidebar-primary/20 text-sidebar-primary",children:[Math.round(C),"% avg"]})]}),d.jsxs("div",{className:"space-y-1 ml-4",children:[T.sort((N,R)=>new Date(R.timestamp).getTime()-new Date(N.timestamp).getTime()).slice(0,3).map(N=>{const R=G=>G>=85?"bg-success text-success-foreground":G>=70?"bg-secondary text-secondary-foreground":G>=60?"bg-accent text-accent-foreground":"bg-destructive text-destructive-foreground",$=(G=>G>=20?{status:"Complete",icon:tr,color:"text-success"}:G>=10?{status:"In Progress",icon:Af,color:"text-accent"}:{status:"Started",icon:ai,color:"text-secondary"})(N.messagesCount),D=$.icon;return d.jsx(ge.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:d.jsx(gt,{className:"cursor-pointer hover:bg-sidebar-accent/30 transition-all duration-200 border-l-2 border-l-sidebar-primary/30 hover:border-l-sidebar-primary hover:shadow-sm",onClick:()=>n(N),children:d.jsx(yt,{className:"p-2",children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-start justify-between gap-2",children:[d.jsx("h4",{className:"text-xs font-medium truncate text-sidebar-foreground",children:N.title}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(D,{className:`w-3 h-3 ${$.color}`}),N.prosodyScore&&d.jsxs(We,{className:`text-xs ${R(N.prosodyScore)}`,children:[N.prosodyScore,"%"]})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs text-sidebar-foreground/60",children:[d.jsx(Af,{className:"w-2 h-2"}),d.jsx("span",{children:N.timestamp})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(We,{variant:"outline",className:`text-xs ${$.color}`,children:$.status}),d.jsxs("span",{className:"text-xs text-sidebar-foreground/60",children:[N.messagesCount,"msg"]})]})]})]})})})},N.id)}),T.length>3&&d.jsxs("div",{className:"text-xs text-sidebar-foreground/60 text-center py-1",children:["+",T.length-3," more sessions"]})]})]},k)})})})]})]})}),d.jsx("div",{className:"p-4 border-t border-sidebar-border",children:d.jsxs(de,{variant:"outline",className:"w-full justify-start",onClick:o,disabled:!o,children:[d.jsx(Fh,{className:"w-4 h-4 mr-2"}),"Settings"]})})]})}function QM({className:t,...e}){return d.jsx("textarea",{"data-slot":"textarea",className:Ie("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}const XM=["top","right","bottom","left"],Mr=Math.min,Bt=Math.max,gc=Math.round,zl=Math.floor,$n=t=>({x:t,y:t}),ZM={left:"right",right:"left",bottom:"top",top:"bottom"},eD={start:"end",end:"start"};function vh(t,e,n){return Bt(t,Mr(e,n))}function sr(t,e){return typeof t=="function"?t(e):t}function ir(t){return t.split("-")[0]}function Ri(t){return t.split("-")[1]}function Kp(t){return t==="x"?"y":"x"}function qp(t){return t==="y"?"height":"width"}const tD=new Set(["top","bottom"]);function In(t){return tD.has(ir(t))?"y":"x"}function Yp(t){return Kp(In(t))}function nD(t,e,n){n===void 0&&(n=!1);const r=Ri(t),o=Yp(t),a=qp(o);let l=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=yc(l)),[l,yc(l)]}function rD(t){const e=yc(t);return[wh(t),e,wh(e)]}function wh(t){return t.replace(/start|end/g,e=>eD[e])}const jw=["left","right"],Tw=["right","left"],sD=["top","bottom"],iD=["bottom","top"];function oD(t,e,n){switch(t){case"top":case"bottom":return n?e?Tw:jw:e?jw:Tw;case"left":case"right":return e?sD:iD;default:return[]}}function aD(t,e,n,r){const o=Ri(t);let a=oD(ir(t),n==="start",r);return o&&(a=a.map(l=>l+"-"+o),e&&(a=a.concat(a.map(wh)))),a}function yc(t){return t.replace(/left|right|bottom|top/g,e=>ZM[e])}function lD(t){return{top:0,right:0,bottom:0,left:0,...t}}function z1(t){return typeof t!="number"?lD(t):{top:t,right:t,bottom:t,left:t}}function vc(t){const{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}function Cw(t,e,n){let{reference:r,floating:o}=t;const a=In(e),l=Yp(e),u=qp(l),f=ir(e),p=a==="y",m=r.x+r.width/2-o.width/2,y=r.y+r.height/2-o.height/2,v=r[u]/2-o[u]/2;let x;switch(f){case"top":x={x:m,y:r.y-o.height};break;case"bottom":x={x:m,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y};break;case"left":x={x:r.x-o.width,y};break;default:x={x:r.x,y:r.y}}switch(Ri(e)){case"start":x[l]-=v*(n&&p?-1:1);break;case"end":x[l]+=v*(n&&p?-1:1);break}return x}const cD=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:l}=n,u=a.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:t,floating:e,strategy:o}),{x:m,y}=Cw(p,r,f),v=r,x={},_=0;for(let S=0;S<u.length;S++){const{name:k,fn:T}=u[S],{x:j,y:C,data:N,reset:R}=await T({x:m,y,initialPlacement:r,placement:v,strategy:o,middlewareData:x,rects:p,platform:l,elements:{reference:t,floating:e}});m=j??m,y=C??y,x={...x,[k]:{...x[k],...N}},R&&_<=50&&(_++,typeof R=="object"&&(R.placement&&(v=R.placement),R.rects&&(p=R.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:o}):R.rects),{x:m,y}=Cw(p,v,f)),S=-1)}return{x:m,y,placement:v,strategy:o,middlewareData:x}};async function Zo(t,e){var n;e===void 0&&(e={});const{x:r,y:o,platform:a,rects:l,elements:u,strategy:f}=t,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:v=!1,padding:x=0}=sr(e,t),_=z1(x),k=u[v?y==="floating"?"reference":"floating":y],T=vc(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(k)))==null||n?k:k.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:p,rootBoundary:m,strategy:f})),j=y==="floating"?{x:r,y:o,width:l.floating.width,height:l.floating.height}:l.reference,C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),N=await(a.isElement==null?void 0:a.isElement(C))?await(a.getScale==null?void 0:a.getScale(C))||{x:1,y:1}:{x:1,y:1},R=vc(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:j,offsetParent:C,strategy:f}):j);return{top:(T.top-R.top+_.top)/N.y,bottom:(R.bottom-T.bottom+_.bottom)/N.y,left:(T.left-R.left+_.left)/N.x,right:(R.right-T.right+_.right)/N.x}}const uD=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:o,rects:a,platform:l,elements:u,middlewareData:f}=e,{element:p,padding:m=0}=sr(t,e)||{};if(p==null)return{};const y=z1(m),v={x:n,y:r},x=Yp(o),_=qp(x),S=await l.getDimensions(p),k=x==="y",T=k?"top":"left",j=k?"bottom":"right",C=k?"clientHeight":"clientWidth",N=a.reference[_]+a.reference[x]-v[x]-a.floating[_],R=v[x]-a.reference[x],L=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let $=L?L[C]:0;(!$||!await(l.isElement==null?void 0:l.isElement(L)))&&($=u.floating[C]||a.floating[_]);const D=N/2-R/2,G=$/2-S[_]/2-1,X=Mr(y[T],G),fe=Mr(y[j],G),Ee=X,ye=$-S[_]-fe,ve=$/2-S[_]/2+D,Se=vh(Ee,ve,ye),ce=!f.arrow&&Ri(o)!=null&&ve!==Se&&a.reference[_]/2-(ve<Ee?X:fe)-S[_]/2<0,z=ce?ve<Ee?ve-Ee:ve-ye:0;return{[x]:v[x]+z,data:{[x]:Se,centerOffset:ve-Se-z,...ce&&{alignmentOffset:z}},reset:ce}}}),dD=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:o,middlewareData:a,rects:l,initialPlacement:u,platform:f,elements:p}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:v,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:S=!0,...k}=sr(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const T=ir(o),j=In(u),C=ir(u)===u,N=await(f.isRTL==null?void 0:f.isRTL(p.floating)),R=v||(C||!S?[yc(u)]:rD(u)),L=_!=="none";!v&&L&&R.push(...aD(u,S,_,N));const $=[u,...R],D=await Zo(e,k),G=[];let X=((r=a.flip)==null?void 0:r.overflows)||[];if(m&&G.push(D[T]),y){const ve=nD(o,l,N);G.push(D[ve[0]],D[ve[1]])}if(X=[...X,{placement:o,overflows:G}],!G.every(ve=>ve<=0)){var fe,Ee;const ve=(((fe=a.flip)==null?void 0:fe.index)||0)+1,Se=$[ve];if(Se&&(!(y==="alignment"?j!==In(Se):!1)||X.every(O=>In(O.placement)===j?O.overflows[0]>0:!0)))return{data:{index:ve,overflows:X},reset:{placement:Se}};let ce=(Ee=X.filter(z=>z.overflows[0]<=0).sort((z,O)=>z.overflows[1]-O.overflows[1])[0])==null?void 0:Ee.placement;if(!ce)switch(x){case"bestFit":{var ye;const z=(ye=X.filter(O=>{if(L){const H=In(O.placement);return H===j||H==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(H=>H>0).reduce((H,F)=>H+F,0)]).sort((O,H)=>O[1]-H[1])[0])==null?void 0:ye[0];z&&(ce=z);break}case"initialPlacement":ce=u;break}if(o!==ce)return{reset:{placement:ce}}}return{}}}};function Nw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Pw(t){return XM.some(e=>t[e]>=0)}const fD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...o}=sr(t,e);switch(r){case"referenceHidden":{const a=await Zo(e,{...o,elementContext:"reference"}),l=Nw(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Pw(l)}}}case"escaped":{const a=await Zo(e,{...o,altBoundary:!0}),l=Nw(a,n.floating);return{data:{escapedOffsets:l,escaped:Pw(l)}}}default:return{}}}}},B1=new Set(["left","top"]);async function hD(t,e){const{placement:n,platform:r,elements:o}=t,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),l=ir(n),u=Ri(n),f=In(n)==="y",p=B1.has(l)?-1:1,m=a&&f?-1:1,y=sr(e,t);let{mainAxis:v,crossAxis:x,alignmentAxis:_}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof _=="number"&&(x=u==="end"?_*-1:_),f?{x:x*m,y:v*p}:{x:v*p,y:x*m}}const pD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:o,y:a,placement:l,middlewareData:u}=e,f=await hD(e,t);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:o+f.x,y:a+f.y,data:{...f,placement:l}}}}},mD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:o}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:k=>{let{x:T,y:j}=k;return{x:T,y:j}}},...f}=sr(t,e),p={x:n,y:r},m=await Zo(e,f),y=In(ir(o)),v=Kp(y);let x=p[v],_=p[y];if(a){const k=v==="y"?"top":"left",T=v==="y"?"bottom":"right",j=x+m[k],C=x-m[T];x=vh(j,x,C)}if(l){const k=y==="y"?"top":"left",T=y==="y"?"bottom":"right",j=_+m[k],C=_-m[T];_=vh(j,_,C)}const S=u.fn({...e,[v]:x,[y]:_});return{...S,data:{x:S.x-n,y:S.y-r,enabled:{[v]:a,[y]:l}}}}}},gD=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:o,rects:a,middlewareData:l}=e,{offset:u=0,mainAxis:f=!0,crossAxis:p=!0}=sr(t,e),m={x:n,y:r},y=In(o),v=Kp(y);let x=m[v],_=m[y];const S=sr(u,e),k=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(f){const C=v==="y"?"height":"width",N=a.reference[v]-a.floating[C]+k.mainAxis,R=a.reference[v]+a.reference[C]-k.mainAxis;x<N?x=N:x>R&&(x=R)}if(p){var T,j;const C=v==="y"?"width":"height",N=B1.has(ir(o)),R=a.reference[y]-a.floating[C]+(N&&((T=l.offset)==null?void 0:T[y])||0)+(N?0:k.crossAxis),L=a.reference[y]+a.reference[C]+(N?0:((j=l.offset)==null?void 0:j[y])||0)-(N?k.crossAxis:0);_<R?_=R:_>L&&(_=L)}return{[v]:x,[y]:_}}}},yD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:o,rects:a,platform:l,elements:u}=e,{apply:f=()=>{},...p}=sr(t,e),m=await Zo(e,p),y=ir(o),v=Ri(o),x=In(o)==="y",{width:_,height:S}=a.floating;let k,T;y==="top"||y==="bottom"?(k=y,T=v===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(T=y,k=v==="end"?"top":"bottom");const j=S-m.top-m.bottom,C=_-m.left-m.right,N=Mr(S-m[k],j),R=Mr(_-m[T],C),L=!e.middlewareData.shift;let $=N,D=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(D=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&($=j),L&&!v){const X=Bt(m.left,0),fe=Bt(m.right,0),Ee=Bt(m.top,0),ye=Bt(m.bottom,0);x?D=_-2*(X!==0||fe!==0?X+fe:Bt(m.left,m.right)):$=S-2*(Ee!==0||ye!==0?Ee+ye:Bt(m.top,m.bottom))}await f({...e,availableWidth:D,availableHeight:$});const G=await l.getDimensions(u.floating);return _!==G.width||S!==G.height?{reset:{rects:!0}}:{}}}};function Fc(){return typeof window<"u"}function Oi(t){return W1(t)?(t.nodeName||"").toLowerCase():"#document"}function Gt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function zn(t){var e;return(e=(W1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function W1(t){return Fc()?t instanceof Node||t instanceof Gt(t).Node:!1}function kn(t){return Fc()?t instanceof Element||t instanceof Gt(t).Element:!1}function Vn(t){return Fc()?t instanceof HTMLElement||t instanceof Gt(t).HTMLElement:!1}function Aw(t){return!Fc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Gt(t).ShadowRoot}const vD=new Set(["inline","contents"]);function aa(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=En(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!vD.has(o)}const wD=new Set(["table","td","th"]);function xD(t){return wD.has(Oi(t))}const bD=[":popover-open",":modal"];function Vc(t){return bD.some(e=>{try{return t.matches(e)}catch{return!1}})}const SD=["transform","translate","scale","rotate","perspective"],_D=["transform","translate","scale","rotate","perspective","filter"],kD=["paint","layout","strict","content"];function Jp(t){const e=Qp(),n=kn(t)?En(t):t;return SD.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||_D.some(r=>(n.willChange||"").includes(r))||kD.some(r=>(n.contain||"").includes(r))}function ED(t){let e=Dr(t);for(;Vn(e)&&!ki(e);){if(Jp(e))return e;if(Vc(e))return null;e=Dr(e)}return null}function Qp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const jD=new Set(["html","body","#document"]);function ki(t){return jD.has(Oi(t))}function En(t){return Gt(t).getComputedStyle(t)}function Uc(t){return kn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Dr(t){if(Oi(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Aw(t)&&t.host||zn(t);return Aw(e)?e.host:e}function H1(t){const e=Dr(t);return ki(e)?t.ownerDocument?t.ownerDocument.body:t.body:Vn(e)&&aa(e)?e:H1(e)}function ea(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=H1(t),a=o===((r=t.ownerDocument)==null?void 0:r.body),l=Gt(o);if(a){const u=xh(l);return e.concat(l,l.visualViewport||[],aa(o)?o:[],u&&n?ea(u):[])}return e.concat(o,ea(o,[],n))}function xh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function G1(t){const e=En(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=Vn(t),a=o?t.offsetWidth:n,l=o?t.offsetHeight:r,u=gc(n)!==a||gc(r)!==l;return u&&(n=a,r=l),{width:n,height:r,$:u}}function Xp(t){return kn(t)?t:t.contextElement}function yi(t){const e=Xp(t);if(!Vn(e))return $n(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:a}=G1(e);let l=(a?gc(n.width):n.width)/r,u=(a?gc(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const TD=$n(0);function K1(t){const e=Gt(t);return!Qp()||!e.visualViewport?TD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function CD(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Gt(t)?!1:e}function bs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=Xp(t);let l=$n(1);e&&(r?kn(r)&&(l=yi(r)):l=yi(t));const u=CD(a,n,r)?K1(a):$n(0);let f=(o.left+u.x)/l.x,p=(o.top+u.y)/l.y,m=o.width/l.x,y=o.height/l.y;if(a){const v=Gt(a),x=r&&kn(r)?Gt(r):r;let _=v,S=xh(_);for(;S&&r&&x!==_;){const k=yi(S),T=S.getBoundingClientRect(),j=En(S),C=T.left+(S.clientLeft+parseFloat(j.paddingLeft))*k.x,N=T.top+(S.clientTop+parseFloat(j.paddingTop))*k.y;f*=k.x,p*=k.y,m*=k.x,y*=k.y,f+=C,p+=N,_=Gt(S),S=xh(_)}}return vc({width:m,height:y,x:f,y:p})}function zc(t,e){const n=Uc(t).scrollLeft;return e?e.left+n:bs(zn(t)).left+n}function q1(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-zc(t,n),o=n.top+e.scrollTop;return{x:r,y:o}}function ND(t){let{elements:e,rect:n,offsetParent:r,strategy:o}=t;const a=o==="fixed",l=zn(r),u=e?Vc(e.floating):!1;if(r===l||u&&a)return n;let f={scrollLeft:0,scrollTop:0},p=$n(1);const m=$n(0),y=Vn(r);if((y||!y&&!a)&&((Oi(r)!=="body"||aa(l))&&(f=Uc(r)),Vn(r))){const x=bs(r);p=yi(r),m.x=x.x+r.clientLeft,m.y=x.y+r.clientTop}const v=l&&!y&&!a?q1(l,f):$n(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-f.scrollLeft*p.x+m.x+v.x,y:n.y*p.y-f.scrollTop*p.y+m.y+v.y}}function PD(t){return Array.from(t.getClientRects())}function AD(t){const e=zn(t),n=Uc(t),r=t.ownerDocument.body,o=Bt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Bt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+zc(t);const u=-n.scrollTop;return En(r).direction==="rtl"&&(l+=Bt(e.clientWidth,r.clientWidth)-o),{width:o,height:a,x:l,y:u}}const Rw=25;function RD(t,e){const n=Gt(t),r=zn(t),o=n.visualViewport;let a=r.clientWidth,l=r.clientHeight,u=0,f=0;if(o){a=o.width,l=o.height;const m=Qp();(!m||m&&e==="fixed")&&(u=o.offsetLeft,f=o.offsetTop)}const p=zc(r);if(p<=0){const m=r.ownerDocument,y=m.body,v=getComputedStyle(y),x=m.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,_=Math.abs(r.clientWidth-y.clientWidth-x);_<=Rw&&(a-=_)}else p<=Rw&&(a+=p);return{width:a,height:l,x:u,y:f}}const OD=new Set(["absolute","fixed"]);function ID(t,e){const n=bs(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,a=Vn(t)?yi(t):$n(1),l=t.clientWidth*a.x,u=t.clientHeight*a.y,f=o*a.x,p=r*a.y;return{width:l,height:u,x:f,y:p}}function Ow(t,e,n){let r;if(e==="viewport")r=RD(t,n);else if(e==="document")r=AD(zn(t));else if(kn(e))r=ID(e,n);else{const o=K1(t);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return vc(r)}function Y1(t,e){const n=Dr(t);return n===e||!kn(n)||ki(n)?!1:En(n).position==="fixed"||Y1(n,e)}function LD(t,e){const n=e.get(t);if(n)return n;let r=ea(t,[],!1).filter(u=>kn(u)&&Oi(u)!=="body"),o=null;const a=En(t).position==="fixed";let l=a?Dr(t):t;for(;kn(l)&&!ki(l);){const u=En(l),f=Jp(l);!f&&u.position==="fixed"&&(o=null),(a?!f&&!o:!f&&u.position==="static"&&!!o&&OD.has(o.position)||aa(l)&&!f&&Y1(t,l))?r=r.filter(m=>m!==l):o=u,l=Dr(l)}return e.set(t,r),r}function MD(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const l=[...n==="clippingAncestors"?Vc(e)?[]:LD(e,this._c):[].concat(n),r],u=l[0],f=l.reduce((p,m)=>{const y=Ow(e,m,o);return p.top=Bt(y.top,p.top),p.right=Mr(y.right,p.right),p.bottom=Mr(y.bottom,p.bottom),p.left=Bt(y.left,p.left),p},Ow(e,u,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function DD(t){const{width:e,height:n}=G1(t);return{width:e,height:n}}function $D(t,e,n){const r=Vn(e),o=zn(e),a=n==="fixed",l=bs(t,!0,a,e);let u={scrollLeft:0,scrollTop:0};const f=$n(0);function p(){f.x=zc(o)}if(r||!r&&!a)if((Oi(e)!=="body"||aa(o))&&(u=Uc(e)),r){const x=bs(e,!0,a,e);f.x=x.x+e.clientLeft,f.y=x.y+e.clientTop}else o&&p();a&&!r&&o&&p();const m=o&&!r&&!a?q1(o,u):$n(0),y=l.left+u.scrollLeft-f.x-m.x,v=l.top+u.scrollTop-f.y-m.y;return{x:y,y:v,width:l.width,height:l.height}}function kf(t){return En(t).position==="static"}function Iw(t,e){if(!Vn(t)||En(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return zn(t)===n&&(n=n.ownerDocument.body),n}function J1(t,e){const n=Gt(t);if(Vc(t))return n;if(!Vn(t)){let o=Dr(t);for(;o&&!ki(o);){if(kn(o)&&!kf(o))return o;o=Dr(o)}return n}let r=Iw(t,e);for(;r&&xD(r)&&kf(r);)r=Iw(r,e);return r&&ki(r)&&kf(r)&&!Jp(r)?n:r||ED(t)||n}const FD=async function(t){const e=this.getOffsetParent||J1,n=this.getDimensions,r=await n(t.floating);return{reference:$D(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function VD(t){return En(t).direction==="rtl"}const UD={convertOffsetParentRelativeRectToViewportRelativeRect:ND,getDocumentElement:zn,getClippingRect:MD,getOffsetParent:J1,getElementRects:FD,getClientRects:PD,getDimensions:DD,getScale:yi,isElement:kn,isRTL:VD};function Q1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function zD(t,e){let n=null,r;const o=zn(t);function a(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),a();const p=t.getBoundingClientRect(),{left:m,top:y,width:v,height:x}=p;if(u||e(),!v||!x)return;const _=zl(y),S=zl(o.clientWidth-(m+v)),k=zl(o.clientHeight-(y+x)),T=zl(m),C={rootMargin:-_+"px "+-S+"px "+-k+"px "+-T+"px",threshold:Bt(0,Mr(1,f))||1};let N=!0;function R(L){const $=L[0].intersectionRatio;if($!==f){if(!N)return l();$?l(!1,$):r=setTimeout(()=>{l(!1,1e-7)},1e3)}$===1&&!Q1(p,t.getBoundingClientRect())&&l(),N=!1}try{n=new IntersectionObserver(R,{...C,root:o.ownerDocument})}catch{n=new IntersectionObserver(R,C)}n.observe(t)}return l(!0),a}function BD(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,p=Xp(t),m=o||a?[...p?ea(p):[],...ea(e)]:[];m.forEach(T=>{o&&T.addEventListener("scroll",n,{passive:!0}),a&&T.addEventListener("resize",n)});const y=p&&u?zD(p,n):null;let v=-1,x=null;l&&(x=new ResizeObserver(T=>{let[j]=T;j&&j.target===p&&x&&(x.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var C;(C=x)==null||C.observe(e)})),n()}),p&&!f&&x.observe(p),x.observe(e));let _,S=f?bs(t):null;f&&k();function k(){const T=bs(t);S&&!Q1(S,T)&&n(),S=T,_=requestAnimationFrame(k)}return n(),()=>{var T;m.forEach(j=>{o&&j.removeEventListener("scroll",n),a&&j.removeEventListener("resize",n)}),y==null||y(),(T=x)==null||T.disconnect(),x=null,f&&cancelAnimationFrame(_)}}const WD=pD,HD=mD,GD=dD,KD=yD,qD=fD,Lw=uD,YD=gD,JD=(t,e,n)=>{const r=new Map,o={platform:UD,...n},a={...o.platform,_c:r};return cD(t,e,{...o,platform:a})};var QD=typeof document<"u",XD=function(){},Ql=QD?b.useLayoutEffect:XD;function wc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!wc(t[r],e[r]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&t.$$typeof)&&!wc(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function X1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Mw(t,e){const n=X1(t);return Math.round(e*n)/n}function Ef(t){const e=b.useRef(t);return Ql(()=>{e.current=t}),e}function ZD(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:f,open:p}=t,[m,y]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,x]=b.useState(r);wc(v,r)||x(r);const[_,S]=b.useState(null),[k,T]=b.useState(null),j=b.useCallback(O=>{O!==L.current&&(L.current=O,S(O))},[]),C=b.useCallback(O=>{O!==$.current&&($.current=O,T(O))},[]),N=a||_,R=l||k,L=b.useRef(null),$=b.useRef(null),D=b.useRef(m),G=f!=null,X=Ef(f),fe=Ef(o),Ee=Ef(p),ye=b.useCallback(()=>{if(!L.current||!$.current)return;const O={placement:e,strategy:n,middleware:v};fe.current&&(O.platform=fe.current),JD(L.current,$.current,O).then(H=>{const F={...H,isPositioned:Ee.current!==!1};ve.current&&!wc(D.current,F)&&(D.current=F,Ih.flushSync(()=>{y(F)}))})},[v,e,n,fe,Ee]);Ql(()=>{p===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,y(O=>({...O,isPositioned:!1})))},[p]);const ve=b.useRef(!1);Ql(()=>(ve.current=!0,()=>{ve.current=!1}),[]),Ql(()=>{if(N&&(L.current=N),R&&($.current=R),N&&R){if(X.current)return X.current(N,R,ye);ye()}},[N,R,ye,X,G]);const Se=b.useMemo(()=>({reference:L,floating:$,setReference:j,setFloating:C}),[j,C]),ce=b.useMemo(()=>({reference:N,floating:R}),[N,R]),z=b.useMemo(()=>{const O={position:n,left:0,top:0};if(!ce.floating)return O;const H=Mw(ce.floating,m.x),F=Mw(ce.floating,m.y);return u?{...O,transform:"translate("+H+"px, "+F+"px)",...X1(ce.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:F}},[n,u,ce.floating,m.x,m.y]);return b.useMemo(()=>({...m,update:ye,refs:Se,elements:ce,floatingStyles:z}),[m,ye,Se,ce,z])}const e4=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:o}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Lw({element:r.current,padding:o}).fn(n):{}:r?Lw({element:r,padding:o}).fn(n):{}}}},t4=(t,e)=>({...WD(t),options:[t,e]}),n4=(t,e)=>({...HD(t),options:[t,e]}),r4=(t,e)=>({...YD(t),options:[t,e]}),s4=(t,e)=>({...GD(t),options:[t,e]}),i4=(t,e)=>({...KD(t),options:[t,e]}),o4=(t,e)=>({...qD(t),options:[t,e]}),a4=(t,e)=>({...e4(t),options:[t,e]});var l4="Arrow",Z1=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:o=5,...a}=t;return d.jsx(Pe.svg,{...a,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});Z1.displayName=l4;var c4=Z1;function Zp(t){const[e,n]=b.useState(void 0);return Fn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let l,u;if("borderBoxSize"in a){const f=a.borderBoxSize,p=Array.isArray(f)?f[0]:f;l=p.inlineSize,u=p.blockSize}else l=t.offsetWidth,u=t.offsetHeight;n({width:l,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var em="Popper",[e_,t_]=cn(em),[u4,n_]=e_(em),r_=t=>{const{__scopePopper:e,children:n}=t,[r,o]=b.useState(null);return d.jsx(u4,{scope:e,anchor:r,onAnchorChange:o,children:n})};r_.displayName=em;var s_="PopperAnchor",i_=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...o}=t,a=n_(s_,n),l=b.useRef(null),u=Ve(e,l),f=b.useRef(null);return b.useEffect(()=>{const p=f.current;f.current=(r==null?void 0:r.current)||l.current,p!==f.current&&a.onAnchorChange(f.current)}),r?null:d.jsx(Pe.div,{...o,ref:u})});i_.displayName=s_;var tm="PopperContent",[d4,f4]=e_(tm),o_=b.forwardRef((t,e)=>{var te,_e,Te,Me,Xe,Nt;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:m=0,sticky:y="partial",hideWhenDetached:v=!1,updatePositionStrategy:x="optimized",onPlaced:_,...S}=t,k=n_(tm,n),[T,j]=b.useState(null),C=Ve(e,Tn=>j(Tn)),[N,R]=b.useState(null),L=Zp(N),$=(L==null?void 0:L.width)??0,D=(L==null?void 0:L.height)??0,G=r+(a!=="center"?"-"+a:""),X=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},fe=Array.isArray(p)?p:[p],Ee=fe.length>0,ye={padding:X,boundary:fe.filter(p4),altBoundary:Ee},{refs:ve,floatingStyles:Se,placement:ce,isPositioned:z,middlewareData:O}=ZD({strategy:"fixed",placement:G,whileElementsMounted:(...Tn)=>BD(...Tn,{animationFrame:x==="always"}),elements:{reference:k.anchor},middleware:[t4({mainAxis:o+D,alignmentAxis:l}),f&&n4({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?r4():void 0,...ye}),f&&s4({...ye}),i4({...ye,apply:({elements:Tn,rects:ks,availableWidth:ua,availableHeight:da})=>{const{width:Ii,height:fa}=ks.reference,or=Tn.floating.style;or.setProperty("--radix-popper-available-width",`${ua}px`),or.setProperty("--radix-popper-available-height",`${da}px`),or.setProperty("--radix-popper-anchor-width",`${Ii}px`),or.setProperty("--radix-popper-anchor-height",`${fa}px`)}}),N&&a4({element:N,padding:u}),m4({arrowWidth:$,arrowHeight:D}),v&&o4({strategy:"referenceHidden",...ye})]}),[H,F]=c_(ce),P=Mt(_);Fn(()=>{z&&(P==null||P())},[z,P]);const W=(te=O.arrow)==null?void 0:te.x,Q=(_e=O.arrow)==null?void 0:_e.y,ie=((Te=O.arrow)==null?void 0:Te.centerOffset)!==0,[be,je]=b.useState();return Fn(()=>{T&&je(window.getComputedStyle(T).zIndex)},[T]),d.jsx("div",{ref:ve.setFloating,"data-radix-popper-content-wrapper":"",style:{...Se,transform:z?Se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(Me=O.transformOrigin)==null?void 0:Me.x,(Xe=O.transformOrigin)==null?void 0:Xe.y].join(" "),...((Nt=O.hide)==null?void 0:Nt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(d4,{scope:n,placedSide:H,onArrowChange:R,arrowX:W,arrowY:Q,shouldHideArrow:ie,children:d.jsx(Pe.div,{"data-side":H,"data-align":F,...S,ref:C,style:{...S.style,animation:z?void 0:"none"}})})})});o_.displayName=tm;var a_="PopperArrow",h4={top:"bottom",right:"left",bottom:"top",left:"right"},l_=b.forwardRef(function(e,n){const{__scopePopper:r,...o}=e,a=f4(a_,r),l=h4[a.placedSide];return d.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:d.jsx(c4,{...o,ref:n,style:{...o.style,display:"block"}})})});l_.displayName=a_;function p4(t){return t!==null}var m4=t=>({name:"transformOrigin",options:t,fn(e){var k,T,j;const{placement:n,rects:r,middlewareData:o}=e,l=((k=o.arrow)==null?void 0:k.centerOffset)!==0,u=l?0:t.arrowWidth,f=l?0:t.arrowHeight,[p,m]=c_(n),y={start:"0%",center:"50%",end:"100%"}[m],v=(((T=o.arrow)==null?void 0:T.x)??0)+u/2,x=(((j=o.arrow)==null?void 0:j.y)??0)+f/2;let _="",S="";return p==="bottom"?(_=l?y:`${v}px`,S=`${-f}px`):p==="top"?(_=l?y:`${v}px`,S=`${r.floating.height+f}px`):p==="right"?(_=`${-f}px`,S=l?y:`${x}px`):p==="left"&&(_=`${r.floating.width+f}px`,S=l?y:`${x}px`),{data:{x:_,y:S}}}});function c_(t){const[e,n="center"]=t.split("-");return[e,n]}var g4=r_,y4=i_,v4=o_,w4=l_,x4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),b4="VisuallyHidden",u_=b.forwardRef((t,e)=>d.jsx(Pe.span,{...t,ref:e,style:{...x4,...t.style}}));u_.displayName=b4;var d_=u_,[Bc]=cn("Tooltip",[t_]),Wc=t_(),f_="TooltipProvider",S4=700,bh="tooltip.open",[_4,nm]=Bc(f_),h_=t=>{const{__scopeTooltip:e,delayDuration:n=S4,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:a}=t,l=b.useRef(!0),u=b.useRef(!1),f=b.useRef(0);return b.useEffect(()=>{const p=f.current;return()=>window.clearTimeout(p)},[]),d.jsx(_4,{scope:e,isOpenDelayedRef:l,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(f.current),l.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:b.useCallback(p=>{u.current=p},[]),disableHoverableContent:o,children:a})};h_.displayName=f_;var ta="Tooltip",[k4,la]=Bc(ta),p_=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:o,onOpenChange:a,disableHoverableContent:l,delayDuration:u}=t,f=nm(ta,t.__scopeTooltip),p=Wc(e),[m,y]=b.useState(null),v=ws(),x=b.useRef(0),_=l??f.disableHoverableContent,S=u??f.delayDuration,k=b.useRef(!1),[T,j]=_s({prop:r,defaultProp:o??!1,onChange:$=>{$?(f.onOpen(),document.dispatchEvent(new CustomEvent(bh))):f.onClose(),a==null||a($)},caller:ta}),C=b.useMemo(()=>T?k.current?"delayed-open":"instant-open":"closed",[T]),N=b.useCallback(()=>{window.clearTimeout(x.current),x.current=0,k.current=!1,j(!0)},[j]),R=b.useCallback(()=>{window.clearTimeout(x.current),x.current=0,j(!1)},[j]),L=b.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{k.current=!0,j(!0),x.current=0},S)},[S,j]);return b.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),d.jsx(g4,{...p,children:d.jsx(k4,{scope:e,contentId:v,open:T,stateAttribute:C,trigger:m,onTriggerChange:y,onTriggerEnter:b.useCallback(()=>{f.isOpenDelayedRef.current?L():N()},[f.isOpenDelayedRef,L,N]),onTriggerLeave:b.useCallback(()=>{_?R():(window.clearTimeout(x.current),x.current=0)},[R,_]),onOpen:N,onClose:R,disableHoverableContent:_,children:n})})};p_.displayName=ta;var Sh="TooltipTrigger",m_=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,o=la(Sh,n),a=nm(Sh,n),l=Wc(n),u=b.useRef(null),f=Ve(e,u,o.onTriggerChange),p=b.useRef(!1),m=b.useRef(!1),y=b.useCallback(()=>p.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),d.jsx(y4,{asChild:!0,...l,children:d.jsx(Pe.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:f,onPointerMove:Ae(t.onPointerMove,v=>{v.pointerType!=="touch"&&!m.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),m.current=!0)}),onPointerLeave:Ae(t.onPointerLeave,()=>{o.onTriggerLeave(),m.current=!1}),onPointerDown:Ae(t.onPointerDown,()=>{o.open&&o.onClose(),p.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:Ae(t.onFocus,()=>{p.current||o.onOpen()}),onBlur:Ae(t.onBlur,o.onClose),onClick:Ae(t.onClick,o.onClose)})})});m_.displayName=Sh;var rm="TooltipPortal",[E4,j4]=Bc(rm,{forceMount:void 0}),g_=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:o}=t,a=la(rm,e);return d.jsx(E4,{scope:e,forceMount:n,children:d.jsx(Kt,{present:n||a.open,children:d.jsx(Ip,{asChild:!0,container:o,children:r})})})};g_.displayName=rm;var Ei="TooltipContent",y_=b.forwardRef((t,e)=>{const n=j4(Ei,t.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...a}=t,l=la(Ei,t.__scopeTooltip);return d.jsx(Kt,{present:r||l.open,children:l.disableHoverableContent?d.jsx(v_,{side:o,...a,ref:e}):d.jsx(T4,{side:o,...a,ref:e})})}),T4=b.forwardRef((t,e)=>{const n=la(Ei,t.__scopeTooltip),r=nm(Ei,t.__scopeTooltip),o=b.useRef(null),a=Ve(e,o),[l,u]=b.useState(null),{trigger:f,onClose:p}=n,m=o.current,{onPointerInTransitChange:y}=r,v=b.useCallback(()=>{u(null),y(!1)},[y]),x=b.useCallback((_,S)=>{const k=_.currentTarget,T={x:_.clientX,y:_.clientY},j=A4(T,k.getBoundingClientRect()),C=R4(T,j),N=O4(S.getBoundingClientRect()),R=L4([...C,...N]);u(R),y(!0)},[y]);return b.useEffect(()=>()=>v(),[v]),b.useEffect(()=>{if(f&&m){const _=k=>x(k,m),S=k=>x(k,f);return f.addEventListener("pointerleave",_),m.addEventListener("pointerleave",S),()=>{f.removeEventListener("pointerleave",_),m.removeEventListener("pointerleave",S)}}},[f,m,x,v]),b.useEffect(()=>{if(l){const _=S=>{const k=S.target,T={x:S.clientX,y:S.clientY},j=(f==null?void 0:f.contains(k))||(m==null?void 0:m.contains(k)),C=!I4(T,l);j?v():C&&(v(),p())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[f,m,l,p,v]),d.jsx(v_,{...t,ref:a})}),[C4,N4]=Bc(ta,{isInside:!1}),P4=pj("TooltipContent"),v_=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:l,...u}=t,f=la(Ei,n),p=Wc(n),{onClose:m}=f;return b.useEffect(()=>(document.addEventListener(bh,m),()=>document.removeEventListener(bh,m)),[m]),b.useEffect(()=>{if(f.trigger){const y=v=>{const x=v.target;x!=null&&x.contains(f.trigger)&&m()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[f.trigger,m]),d.jsx(Op,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:y=>y.preventDefault(),onDismiss:m,children:d.jsxs(v4,{"data-state":f.stateAttribute,...p,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(P4,{children:r}),d.jsx(C4,{scope:n,isInside:!0,children:d.jsx(d_,{id:f.contentId,role:"tooltip",children:o||r})})]})})});y_.displayName=Ei;var w_="TooltipArrow",x_=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,o=Wc(n);return N4(w_,n).isInside?null:d.jsx(w4,{...o,...r,ref:e})});x_.displayName=w_;function A4(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),o=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,o,a)){case a:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function R4(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function O4(t){const{top:e,right:n,bottom:r,left:o}=t;return[{x:o,y:e},{x:n,y:e},{x:n,y:r},{x:o,y:r}]}function I4(t,e){const{x:n,y:r}=t;let o=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const u=e[a],f=e[l],p=u.x,m=u.y,y=f.x,v=f.y;m>r!=v>r&&n<(y-p)*(r-m)/(v-m)+p&&(o=!o)}return o}function L4(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),M4(e)}function M4(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const o=t[r];for(;e.length>=2;){const a=e[e.length-1],l=e[e.length-2];if((a.x-l.x)*(o.y-l.y)>=(a.y-l.y)*(o.x-l.x))e.pop();else break}e.push(o)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const o=t[r];for(;n.length>=2;){const a=n[n.length-1],l=n[n.length-2];if((a.x-l.x)*(o.y-l.y)>=(a.y-l.y)*(o.x-l.x))n.pop();else break}n.push(o)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var D4=h_,$4=p_,F4=m_,V4=g_,U4=y_,z4=x_;function hi({delayDuration:t=0,...e}){return d.jsx(D4,{"data-slot":"tooltip-provider",delayDuration:t,...e})}function To({...t}){return d.jsx(hi,{children:d.jsx($4,{"data-slot":"tooltip",...t})})}function Co({...t}){return d.jsx(F4,{"data-slot":"tooltip-trigger",...t})}function No({className:t,sideOffset:e=0,children:n,...r}){return d.jsx(V4,{children:d.jsxs(U4,{"data-slot":"tooltip-content",sideOffset:e,className:Ie("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...r,children:[n,d.jsx(z4,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function B4({message:t,isUser:e,isAudio:n=!1,audioBlob:r,prosodyFeedback:o,timestamp:a,isProcessing:l=!1,onAnalysisView:u,onRetry:f,onPlayback:p}){const[m,y]=b.useState(!1),[v,x]=b.useState(!1),_=()=>{if(r&&!m){const N=URL.createObjectURL(r),R=new Audio(N);R.onended=()=>{y(!1),URL.revokeObjectURL(N)},R.onpause=()=>{y(!1)},R.play(),y(!0)}else p?p():(y(!0),setTimeout(()=>y(!1),2e3))},S=()=>{if(r){const N=URL.createObjectURL(r),R=document.createElement("a");R.href=N,R.download=`recording-${Date.now()}.wav`,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(N)}},k=N=>N>=85?"text-success":N>=70?"text-accent":N>=55?"text-secondary":"text-destructive",T=N=>N>=85?"bg-success/10 border-success/20":N>=70?"bg-accent/10 border-accent/20":N>=55?"bg-secondary/10 border-secondary/20":"bg-destructive/10 border-destructive/20",j=N=>{switch(N){case"error":return"bg-destructive/10 text-destructive border-destructive/20";case"good":return"bg-success/10 text-success border-success/20";case"suggestion":return"bg-accent/10 text-accent border-accent/20";default:return"bg-muted/50 text-muted-foreground border-muted/20"}},C=(N,R)=>{if(!R||R.length===0)return N;let L=N;return R.forEach(({text:$,type:D})=>{const G=D==="error"?"bg-destructive/20 text-destructive px-1 rounded":D==="good"?"bg-success/20 text-success-foreground px-1 rounded":"bg-accent/20 text-accent-foreground px-1 rounded";L=L.replace($,`<span class="${G}">${$}</span>`)}),d.jsx("span",{dangerouslySetInnerHTML:{__html:L}})};return d.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${e?"justify-end":"justify-start"} mb-4`,children:d.jsx("div",{className:`max-w-[85%] ${e?"order-2":"order-1"}`,children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("div",{className:`flex-shrink-0 ${e?"order-2":"order-1"}`,children:d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${e?"bg-secondary":"bg-accent"}`,children:e?d.jsx(Ec,{className:"w-4 h-4"}):d.jsx(Or,{className:"w-4 h-4"})})}),d.jsx("div",{className:`flex-1 ${e?"order-1":"order-2"}`,children:d.jsx(gt,{className:`${e?"bg-secondary border-secondary/20":"bg-card border-border"}`,children:d.jsxs(yt,{className:"p-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[n&&d.jsx(rc,{className:"w-4 h-4 text-muted-foreground"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:a})]}),l&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(er,{className:"w-3 h-3 animate-spin text-accent"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:"Analyzing..."})]})]}),d.jsx("p",{className:"text-sm",children:o!=null&&o.highlights?C(t,o.highlights):t})]}),n&&d.jsxs("div",{className:"flex items-center justify-between mt-3 pt-2 border-t border-border/50",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(hi,{children:d.jsxs(To,{children:[d.jsx(Co,{asChild:!0,children:d.jsxs(de,{variant:"ghost",size:"sm",onClick:_,className:"h-7 px-2 text-xs",disabled:l,children:[m?d.jsx(fx,{className:"w-3 h-3 mr-1"}):d.jsx(rc,{className:"w-3 h-3 mr-1"}),m?"Pause":"Play"]})}),d.jsx(No,{children:"Play your recorded audio"})]})}),r&&d.jsx(hi,{children:d.jsxs(To,{children:[d.jsx(Co,{asChild:!0,children:d.jsx(de,{variant:"ghost",size:"sm",onClick:S,className:"h-7 px-2 text-xs",children:d.jsx(zT,{className:"w-3 h-3"})})}),d.jsx(No,{children:"Download audio file"})]})})]}),!l&&o&&d.jsxs(We,{className:`text-xs cursor-pointer transition-all hover:scale-105 ${T(o.score)}`,onClick:()=>x(!v),children:[d.jsx(Ln,{className:"w-3 h-3 mr-1"}),Math.round(o.score),"%"]})]}),d.jsx(wi,{children:e&&o&&v&&d.jsx(ge.div,{initial:{opacity:0,height:0,y:-10},animate:{opacity:1,height:"auto",y:0},exit:{opacity:0,height:0,y:-10},transition:{duration:.2},className:"mt-3",children:d.jsx(gt,{className:`${T(o.score)} shadow-sm`,children:d.jsxs(yt,{className:"p-3 space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-xs font-semibold",children:"AI Prosody Analysis"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:`text-sm font-bold ${k(o.score)}`,children:[Math.round(o.score),"%"]}),u&&d.jsx(hi,{children:d.jsxs(To,{children:[d.jsx(Co,{asChild:!0,children:d.jsx(de,{variant:"ghost",size:"sm",onClick:u,className:"h-6 w-6 p-0",children:d.jsx(Rf,{className:"w-3 h-3"})})}),d.jsx(No,{children:"View detailed analysis"})]})})]})]}),o.highlights.length>0&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Key areas:"}),d.jsx("div",{className:"flex flex-wrap gap-1",children:o.highlights.slice(0,3).map((N,R)=>d.jsx(hi,{children:d.jsxs(To,{children:[d.jsx(Co,{asChild:!0,children:d.jsx(We,{variant:"outline",className:`text-xs px-2 py-0.5 cursor-help ${j(N.type)}`,children:N.text})}),d.jsx(No,{className:"max-w-xs",children:d.jsx("p",{className:"text-xs",children:N.feedback})})]})},R))})]}),o.suggestions.length>0&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Quick tips:"}),d.jsx("ul",{className:"text-xs space-y-0.5",children:o.suggestions.slice(0,2).map((N,R)=>d.jsxs("li",{className:"flex items-start gap-1",children:[d.jsx("span",{className:"text-accent mt-0.5 flex-shrink-0",children:""}),d.jsx("span",{className:"leading-tight",children:N})]},R))})]}),d.jsxs("div",{className:"flex gap-1 pt-1",children:[f&&d.jsxs(de,{variant:"ghost",size:"sm",onClick:f,className:"h-6 px-2 text-xs flex-1",children:[d.jsx(nc,{className:"w-3 h-3 mr-1"}),"Try Again"]}),d.jsxs(de,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",children:[d.jsx(MC,{className:"w-3 h-3 mr-1"}),"Helpful"]}),u&&d.jsxs(de,{variant:"ghost",size:"sm",onClick:u,className:"h-6 px-2 text-xs",children:[d.jsx(Rf,{className:"w-3 h-3 mr-1"}),"Details"]})]})]})})})}),e&&o&&!v&&!l&&d.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-2",children:d.jsxs(de,{variant:"ghost",size:"sm",onClick:()=>x(!0),className:"h-6 px-2 text-xs text-muted-foreground hover:text-foreground w-full justify-start",children:[d.jsx(Ln,{className:"w-3 h-3 mr-1"}),"View AI feedback (",Math.round(o.score),"%)"]})})]})})})]})})})}class W4{constructor(){jt(this,"apiKey",null);jt(this,"baseUrl","");jt(this,"isConfigured",!1);jt(this,"connectionStatus","disconnected");this.loadConfiguration()}loadConfiguration(){try{console.log(" VibeTune AI: Initializing built-in AI prosody analysis"),this.apiKey="BUILT_IN_AI",this.baseUrl="https://api.openai.com/v1",this.isConfigured=!0,this.connectionStatus="connected",console.log(" VibeTune AI: Ready for advanced prosody analysis")}catch(e){console.error("VibeTune AI initialization failed:",e),this.isConfigured=!1,this.connectionStatus="disconnected"}}configure(e,n){return console.log(" VibeTune AI: Already configured with built-in AI"),!0}isReady(){return this.isConfigured}getConnectionStatus(){return this.connectionStatus}async testConnection(){if(!this.isConfigured)return{success:!1,error:"AI service not configured"};this.connectionStatus="checking";try{if(console.log(" VibeTune AI: Testing built-in AI connection"),this.generateMockAnalysis("Hello world",{user_level:"Intermediate",topic:"Test",conversation_history:[],focus_areas:[],learning_objectives:[]}).overall_score>0)return this.connectionStatus="connected",console.log(" VibeTune AI: Connection test successful"),{success:!0};throw new Error("Mock analysis failed")}catch(e){return this.connectionStatus="disconnected",{success:!1,error:e instanceof Error?e.message:"Connection test failed"}}}async analyzeAudio(e,n,r){if(!this.isConfigured)throw new Error("AI service not configured");console.log(" VibeTune AI: Analyzing speech with advanced built-in prosody engine");const o=await this.generateAdvancedAnalysis(n,r);return console.log(" VibeTune AI: Advanced prosody analysis complete"),o}async generateResponse(e,n,r){if(!this.isConfigured)throw new Error("AI service not configured");console.log(" VibeTune AI: Generating contextual response with advanced AI");const o=await this.generateAdvancedResponse(e,n,r);return console.log(" VibeTune AI: Contextual response generated"),o}async getIncrementalFeedback(e,n){if(!this.isConfigured)return{suggestions:[],encouragement:"Keep going!"};const r=["Try emphasizing the main verb","Consider rising intonation at the end","Slow down slightly for clarity"].slice(0,Math.floor(Math.random()*3)+1),o=["Great rhythm so far!","Good pronunciation!","Nice intonation pattern!","Keep up the good work!"];return{suggestions:r,encouragement:o[Math.floor(Math.random()*o.length)]}}generateWordLevelAnalysis(e){return e.toLowerCase().split(" ").filter(r=>r.length>0).map((r,o)=>({word:r,start_time:o*.6,end_time:(o+1)*.6,confidence:.8+Math.random()*.2,stress_correct:Math.random()>.2,pronunciation_score:75+Math.random()*20,issues:Math.random()>.8?["stress placement"]:[]}))}async generateAdvancedAnalysis(e,n){const r=e.toLowerCase().split(" ").filter(_=>_.length>0),o={Beginner:{base:65,variance:15},Intermediate:{base:75,variance:15},Advanced:{base:85,variance:10}}[n.user_level],a=this.analyzeTextComplexity(e),l=n.topic.toLowerCase().includes("general")?5:0,u=o.base+Math.random()*o.variance-o.variance/2,f=a>.7?-5:a<.3?5:0,p=Math.max(0,Math.min(100,u+f+l)),m=this.generateContextualStrengths(n,p),y=this.generateContextualImprovements(n,p),v=this.generateContextualSuggestions(n,e),x=this.generateNextFocusAreas(n,p);return{overall_score:p,pronunciation_score:p+(Math.random()*6-3),rhythm_score:p+(Math.random()*6-3),intonation_score:p+(Math.random()*6-3),fluency_score:p+(Math.random()*6-3),detailed_feedback:{strengths:m,improvements:y,specific_issues:this.generateSpecificIssues(r,n)},word_level_analysis:this.generateWordLevelAnalysis(e),suggestions:v,next_focus_areas:x}}async generateAdvancedResponse(e,n,r){const o=e.includes("?"),a=this.analyzeSentiment(e);this.analyzeTextComplexity(e);const l=this.getAdvancedResponseTemplates(n.user_level,n.topic),u=l[Math.floor(Math.random()*l.length)];let f="";r&&(r.overall_score>=85?f=" Your pronunciation is excellent! ":r.overall_score>=70?f=" Great progress on your pronunciation! ":f=" Keep practicing - your pronunciation is improving! ");const p=u+f+this.generateFollowUpQuestion(n.topic,o),m=r?r.overall_score>90?"increase":r.overall_score<60?"decrease":"maintain":"maintain";return{text_response:p,prosody_analysis:r,conversation_flow:{next_topic_suggestions:this.generateTopicSuggestions(n.topic,n.user_level),difficulty_adjustment:m,engagement_level:.8+a*.2},practice_suggestions:{immediate:this.generateImmediatePractice(n,r),session_goals:this.generateSessionGoals(n.user_level,n.focus_areas),homework:this.generateHomework(n.user_level,n.topic)}}}analyzeTextComplexity(e){const n=e.split(" "),r=n.reduce((a,l)=>a+l.length,0)/n.length,o=n.filter(a=>a.length>6).length/n.length;return Math.min(1,(r/6+o)/2)}analyzeSentiment(e){const n=["good","great","excellent","wonderful","amazing","love","like","enjoy","happy"],r=["bad","terrible","awful","hate","dislike","sad","difficult","hard","problem"],o=e.toLowerCase().split(" "),a=o.filter(u=>n.includes(u)).length,l=o.filter(u=>r.includes(u)).length;return Math.max(-1,Math.min(1,(a-l)/o.length*10))}generateContextualStrengths(e,n){const r=[];return n>=80?(r.push("Excellent overall pronunciation control"),r.push("Natural rhythm and flow")):n>=65?(r.push("Good basic pronunciation foundation"),r.push("Clear articulation of most sounds")):(r.push("Making steady progress"),r.push("Good effort and engagement")),e.user_level==="Advanced"?r.push("Sophisticated intonation patterns"):e.user_level==="Intermediate"?r.push("Developing fluency and confidence"):r.push("Building strong pronunciation fundamentals"),r.slice(0,3)}generateContextualImprovements(e,n){const r=[];return n<70&&(r.push("Focus on vowel clarity and consistency"),r.push("Practice sentence stress patterns")),e.user_level==="Beginner"?r.push("Work on basic word stress rules"):e.user_level==="Intermediate"?r.push("Refine question intonation patterns"):r.push("Polish subtle accent features"),r.slice(0,2)}generateContextualSuggestions(e,n){const r=[`Practice reading aloud content about ${e.topic.toLowerCase()}`,"Record yourself and compare with native speakers","Focus on linking sounds between words"];return e.focus_areas.includes("intonation")&&r.push("Practice rising and falling intonation patterns"),r.slice(0,3)}generateNextFocusAreas(e,n){const r=[];return n<75&&r.push("Basic stress patterns"),e.user_level==="Advanced"?r.push("Accent reduction","Complex rhythm patterns"):r.push("Question intonation","Connected speech"),r.slice(0,3)}generateSpecificIssues(e,n){return e.slice(0,2).map(r=>({type:["pronunciation","rhythm","stress"][Math.floor(Math.random()*3)],word:r,severity:Math.random()>.7?"medium":"low",feedback:`Pay attention to the "${r}" pronunciation`,suggestion:`Try emphasizing the main syllable in "${r}"`}))}getAdvancedResponseTemplates(e,n){const r={Beginner:["That's wonderful! I can hear you're working really hard on your pronunciation.","Great job! Your speaking is getting clearer each time.","Excellent effort! Let's continue practicing together."],Intermediate:["Fantastic progress! Your rhythm and intonation are really developing well.","I'm impressed with your pronunciation control! Let's explore this topic further.","Your speaking fluency is improving noticeably! Great work."],Advanced:["Your prosody demonstrates sophisticated control! The nuances in your speech are excellent.","Outstanding fluency and natural rhythm! Your pronunciation skills are really advanced.","Impressive mastery of intonation patterns! Let's dive deeper into this subject."]};return r[e]||r.Beginner}generateFollowUpQuestion(e,n){const r={travel:"What's the most interesting place you'd like to visit?",food:"What's your favorite dish to cook at home?",work:"What aspect of your job do you find most rewarding?",hobby:"How did you first get interested in that hobby?",general:"What's something interesting that happened to you recently?"},o=Object.keys(r).find(a=>e.toLowerCase().includes(a))||"general";return r[o]}generateTopicSuggestions(e,n){return["Travel experiences","Cultural differences","Technology trends","Future plans"].filter(o=>!o.toLowerCase().includes(e.toLowerCase())).slice(0,3)}generateImmediatePractice(e,n){return["Try the sentence again with more word stress","Practice this phrase with rising intonation","Focus on linking the final consonant to the next vowel"].slice(0,2)}generateSessionGoals(e,n){return[`Master ${n[0]||"pronunciation"} patterns`,"Improve natural speaking rhythm","Build confidence in conversation"].slice(0,2)}generateHomework(e,n){return[`Record yourself discussing ${n.toLowerCase()} for 2 minutes`,"Practice reading news headlines with proper stress","Listen to podcasts and shadow-speak for 10 minutes daily"].slice(0,2)}generateMockAnalysis(e,n){const r=e.toLowerCase().split(" "),o=n.user_level==="Advanced"?80:n.user_level==="Intermediate"?70:60,a=Math.random()*20-10,l=Math.max(0,Math.min(100,o+a));return{overall_score:l,pronunciation_score:l+(Math.random()*10-5),rhythm_score:l+(Math.random()*10-5),intonation_score:l+(Math.random()*10-5),fluency_score:l+(Math.random()*10-5),detailed_feedback:{strengths:["Clear articulation of consonants","Good sentence stress pattern","Natural speaking pace"].slice(0,Math.floor(Math.random()*3)+1),improvements:["Work on vowel pronunciation","Practice word stress in multi-syllable words","Focus on question intonation"].slice(0,Math.floor(Math.random()*2)+1),specific_issues:r.slice(0,2).map((u,f)=>({type:["pronunciation","rhythm","intonation","stress"][Math.floor(Math.random()*4)],word:u,severity:["low","medium"][Math.floor(Math.random()*2)],feedback:`The word "${u}" could be improved`,suggestion:`Try emphasizing the first syllable of "${u}"`}))},word_level_analysis:this.generateWordLevelAnalysis(e),suggestions:["Practice with word stress exercises","Record yourself and compare with native speakers","Focus on sentence-level intonation patterns"],next_focus_areas:["Compound word stress","Question intonation","Rhythm in connected speech"]}}generateMockResponse(e,n,r){const a={Beginner:["That's great! I can hear you're working hard on your pronunciation. Let's practice some more basic patterns.","Nice try! Your rhythm is improving. Can you tell me about your favorite food?","Good effort! I noticed your word stress is getting better. What do you like to do on weekends?"],Intermediate:["Excellent work on your intonation! Your question patterns are much clearer now. Let's discuss something more complex.","I can hear improvement in your connected speech. How do you feel about technology in education?","Your pronunciation has really developed! Let's practice with some more challenging vocabulary."],Advanced:["Your prosody shows sophisticated control! Let's explore some nuanced expressions and idioms.","Impressive fluency! Your stress patterns are very natural. What are your thoughts on current events?","Your accent work is excellent! Let's discuss some abstract concepts to challenge your advanced skills."]}[n.user_level];return{text_response:a[Math.floor(Math.random()*a.length)],prosody_analysis:r,conversation_flow:{next_topic_suggestions:["Travel experiences","Career goals","Cultural differences","Technology trends"],difficulty_adjustment:r?r.overall_score>85?"increase":r.overall_score<60?"decrease":"maintain":"maintain",engagement_level:.8+Math.random()*.2},practice_suggestions:{immediate:["Try the sentence again with more emphasis on key words","Focus on rising intonation for questions"],session_goals:["Master question intonation patterns","Improve word stress accuracy"],homework:["Record yourself reading news headlines","Practice conversation starters with friends"]}}}}const Vo=new W4;function H4({onSendMessage:t,conversationContext:e,disabled:n,showAIFeedback:r=!0}){const[o,a]=b.useState("idle"),[l,u]=b.useState(0),[f,p]=b.useState(""),[m,y]=b.useState(null),[v,x]=b.useState(!1),[_,S]=b.useState(null),[k,T]=b.useState(0),[j,C]=b.useState(!1),N=b.useRef(null),R=b.useRef(null);b.useRef();const L=b.useRef();b.useEffect(()=>{C(Vo.isReady())},[]),b.useEffect(()=>{let z;return o==="recording"?z=setInterval(()=>{u(O=>O+1),j&&e&&l>0&&l%3===0&&D()},1e3):(u(0),S(null)),()=>{z&&clearInterval(z)}},[o,l,j,e]);const $=z=>{const O=Math.floor(z/60),H=z%60;return`${O}:${H.toString().padStart(2,"0")}`},D=async()=>{if(!(!j||!e))try{const z=await Vo.getIncrementalFeedback("Recording in progress...",e);S(z),L.current&&clearTimeout(L.current),L.current=setTimeout(()=>{S(null)},3e3)}catch(z){console.error("Failed to get incremental feedback:",z)}},G=async()=>{if(!n)try{const z=await navigator.mediaDevices.getUserMedia({audio:!0}),O=new MediaRecorder(z);N.current=O;const H=[];O.ondataavailable=F=>{F.data.size>0&&H.push(F.data)},O.onstop=()=>{const F=new Blob(H,{type:"audio/wav"});y(F),z.getTracks().forEach(P=>P.stop())},O.start(),a("recording"),u(0)}catch(z){console.error("Failed to start recording:",z),a("recording"),u(0)}},X=()=>{N.current&&N.current.state==="recording"&&N.current.stop(),a("processing"),T(0);const z=setInterval(()=>{T(O=>O>=100?(clearInterval(z),100):O+Math.random()*15)},200);setTimeout(()=>{clearInterval(z),T(100),j&&r?(a("analyzing"),p("I think learning English prosody is really important for effective communication."),setTimeout(()=>{a("ready")},1500)):(p("I think learning English prosody is really important for effective communication."),a("ready"))},2e3)},fe=()=>{if(m&&!v){const z=URL.createObjectURL(m),O=new Audio(z);R.current=O,O.onended=()=>{x(!1),URL.revokeObjectURL(z)},O.play(),x(!0)}else R.current&&v&&(R.current.pause(),x(!1))},Ee=()=>{p(""),y(null),a("idle"),T(0),S(null),R.current&&(R.current.pause(),x(!1))},ye=()=>{f&&(t(f,!0,m||void 0),p(""),y(null),a("idle"),T(0))},ve=()=>{switch(o){case"recording":return d.jsx(hC,{className:"w-6 h-6"});case"processing":case"analyzing":return d.jsx(er,{className:"w-6 h-6 animate-spin"});default:return d.jsx(Bo,{className:"w-6 h-6"})}},Se=()=>{const z="h-16 w-16 rounded-full flex items-center justify-center transition-all duration-300 relative overflow-hidden";switch(o){case"recording":return`${z} bg-destructive hover:bg-destructive/90 text-destructive-foreground`;case"processing":case"analyzing":return`${z} bg-muted text-muted-foreground cursor-not-allowed`;default:return`${z} bg-accent hover:bg-accent/90 text-accent-foreground shadow-lg hover:shadow-xl ${n?"opacity-50 cursor-not-allowed":""}`}},ce=()=>{switch(o){case"recording":return j?"Speak clearly - AI is listening":"Recording your speech";case"processing":return"Processing audio...";case"analyzing":return"AI analyzing your pronunciation";case"ready":return"Ready to send!";default:return j?"Tap to record with AI analysis":"Tap to record your response"}};return d.jsxs("div",{className:"bg-card border-t border-border p-4 space-y-4",children:[r&&d.jsxs("div",{className:"flex items-center justify-between text-xs",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${j?"bg-success animate-pulse":"bg-muted"}`}),d.jsxs("span",{className:"text-muted-foreground",children:["AI Analysis: ",j?"Active":"Not configured"]})]}),!j&&d.jsxs(de,{variant:"ghost",size:"sm",className:"h-6 px-2",children:[d.jsx(Fh,{className:"w-3 h-3 mr-1"}),"Setup"]})]}),d.jsx(wi,{mode:"wait",children:o!=="idle"&&d.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-3",children:[o==="recording"&&d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx("div",{className:"w-3 h-3 bg-destructive rounded-full animate-pulse"}),d.jsx("span",{className:"text-sm font-medium",children:"Recording"}),d.jsx(We,{variant:"outline",className:"bg-destructive/10 text-destructive",children:$(l)})]}),(o==="processing"||o==="analyzing")&&d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx(er,{className:"w-4 h-4 animate-spin text-accent"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:o==="processing"?"Processing audio...":"AI analyzing pronunciation..."})]}),d.jsx(kc,{value:k,className:"h-1"})]}),_&&o==="recording"&&d.jsxs(ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-accent/10 border border-accent/20 rounded-lg p-3 text-center",children:[d.jsx("p",{className:"text-sm font-medium text-accent mb-1",children:_.encouragement}),_.suggestions.length>0&&d.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",_.suggestions[0]]})]})]})}),d.jsx(wi,{children:f&&d.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-primary/10 border border-primary/20 rounded-lg p-4 space-y-3",children:[d.jsxs("p",{className:"text-sm",children:['"',f,'"']}),d.jsxs("div",{className:"flex items-center gap-2",children:[m&&d.jsx(de,{onClick:fe,variant:"ghost",size:"sm",className:"flex-shrink-0",children:v?d.jsx(fx,{className:"w-4 h-4"}):d.jsx(hx,{className:"w-4 h-4"})}),d.jsxs("div",{className:"flex gap-2 flex-1",children:[d.jsxs(de,{onClick:Ee,variant:"outline",size:"sm",className:"flex-1",children:[d.jsx(nc,{className:"w-4 h-4 mr-2"}),"Retry"]}),d.jsxs(de,{onClick:ye,size:"sm",className:"flex-1 bg-accent hover:bg-accent/90 text-accent-foreground",disabled:o==="analyzing",children:[o==="analyzing"?d.jsx(er,{className:"w-4 h-4 mr-2 animate-spin"}):d.jsx($h,{className:"w-4 h-4 mr-2"}),o==="analyzing"?"Analyzing...":"Send"]})]})]})]})}),d.jsx("div",{className:"flex items-center justify-center",children:d.jsx(ge.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:d.jsxs(de,{onClick:o==="recording"?X:G,className:Se(),disabled:n||o==="processing"||o==="analyzing",children:[o==="recording"&&d.jsx(ge.div,{className:"absolute inset-0 rounded-full bg-destructive",animate:{scale:[1,1.2,1],opacity:[.5,.2,.5]},transition:{duration:1,repeat:1/0,ease:"easeInOut"}}),ve()]})})}),d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-xs text-muted-foreground",children:ce()})})]})}function G4(t){const e=t+"CollectionProvider",[n,r]=cn(e),[o,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:k,children:T}=S,j=Tt.useRef(null),C=Tt.useRef(new Map).current;return d.jsx(o,{scope:k,itemMap:C,collectionRef:j,children:T})};l.displayName=e;const u=t+"CollectionSlot",f=Uo(u),p=Tt.forwardRef((S,k)=>{const{scope:T,children:j}=S,C=a(u,T),N=Ve(k,C.collectionRef);return d.jsx(f,{ref:N,children:j})});p.displayName=u;const m=t+"CollectionItemSlot",y="data-radix-collection-item",v=Uo(m),x=Tt.forwardRef((S,k)=>{const{scope:T,children:j,...C}=S,N=Tt.useRef(null),R=Ve(k,N),L=a(m,T);return Tt.useEffect(()=>(L.itemMap.set(N,{ref:N,...C}),()=>void L.itemMap.delete(N))),d.jsx(v,{[y]:"",ref:R,children:j})});x.displayName=m;function _(S){const k=a(t+"CollectionConsumer",S);return Tt.useCallback(()=>{const j=k.collectionRef.current;if(!j)return[];const C=Array.from(j.querySelectorAll(`[${y}]`));return Array.from(k.itemMap.values()).sort((L,$)=>C.indexOf(L.ref.current)-C.indexOf($.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:l,Slot:p,ItemSlot:x},_,r]}var jf="rovingFocusGroup.onEntryFocus",K4={bubbles:!1,cancelable:!0},ca="RovingFocusGroup",[_h,b_,q4]=G4(ca),[Y4,Hc]=cn(ca,[q4]),[J4,Q4]=Y4(ca),S_=b.forwardRef((t,e)=>d.jsx(_h.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(_h.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(X4,{...t,ref:e})})}));S_.displayName=ca;var X4=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:p,preventScrollOnEntryFocus:m=!1,...y}=t,v=b.useRef(null),x=Ve(e,v),_=Lc(a),[S,k]=_s({prop:l,defaultProp:u??null,onChange:f,caller:ca}),[T,j]=b.useState(!1),C=Mt(p),N=b_(n),R=b.useRef(!1),[L,$]=b.useState(0);return b.useEffect(()=>{const D=v.current;if(D)return D.addEventListener(jf,C),()=>D.removeEventListener(jf,C)},[C]),d.jsx(J4,{scope:n,orientation:r,dir:_,loop:o,currentTabStopId:S,onItemFocus:b.useCallback(D=>k(D),[k]),onItemShiftTab:b.useCallback(()=>j(!0),[]),onFocusableItemAdd:b.useCallback(()=>$(D=>D+1),[]),onFocusableItemRemove:b.useCallback(()=>$(D=>D-1),[]),children:d.jsx(Pe.div,{tabIndex:T||L===0?-1:0,"data-orientation":r,...y,ref:x,style:{outline:"none",...t.style},onMouseDown:Ae(t.onMouseDown,()=>{R.current=!0}),onFocus:Ae(t.onFocus,D=>{const G=!R.current;if(D.target===D.currentTarget&&G&&!T){const X=new CustomEvent(jf,K4);if(D.currentTarget.dispatchEvent(X),!X.defaultPrevented){const fe=N().filter(ce=>ce.focusable),Ee=fe.find(ce=>ce.active),ye=fe.find(ce=>ce.id===S),Se=[Ee,ye,...fe].filter(Boolean).map(ce=>ce.ref.current);E_(Se,m)}}R.current=!1}),onBlur:Ae(t.onBlur,()=>j(!1))})})}),__="RovingFocusGroupItem",k_=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:a,children:l,...u}=t,f=ws(),p=a||f,m=Q4(__,n),y=m.currentTabStopId===p,v=b_(n),{onFocusableItemAdd:x,onFocusableItemRemove:_,currentTabStopId:S}=m;return b.useEffect(()=>{if(r)return x(),()=>_()},[r,x,_]),d.jsx(_h.ItemSlot,{scope:n,id:p,focusable:r,active:o,children:d.jsx(Pe.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...u,ref:e,onMouseDown:Ae(t.onMouseDown,k=>{r?m.onItemFocus(p):k.preventDefault()}),onFocus:Ae(t.onFocus,()=>m.onItemFocus(p)),onKeyDown:Ae(t.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){m.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const T=t3(k,m.orientation,m.dir);if(T!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let C=v().filter(N=>N.focusable).map(N=>N.ref.current);if(T==="last")C.reverse();else if(T==="prev"||T==="next"){T==="prev"&&C.reverse();const N=C.indexOf(k.currentTarget);C=m.loop?n3(C,N+1):C.slice(N+1)}setTimeout(()=>E_(C))}}),children:typeof l=="function"?l({isCurrentTabStop:y,hasTabStop:S!=null}):l})})});k_.displayName=__;var Z4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function e3(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function t3(t,e,n){const r=e3(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Z4[r]}function E_(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function n3(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var j_=S_,T_=k_,Gc="Tabs",[r3]=cn(Gc,[Hc]),C_=Hc(),[s3,sm]=r3(Gc),N_=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:a,orientation:l="horizontal",dir:u,activationMode:f="automatic",...p}=t,m=Lc(u),[y,v]=_s({prop:r,onChange:o,defaultProp:a??"",caller:Gc});return d.jsx(s3,{scope:n,baseId:ws(),value:y,onValueChange:v,orientation:l,dir:m,activationMode:f,children:d.jsx(Pe.div,{dir:m,"data-orientation":l,...p,ref:e})})});N_.displayName=Gc;var P_="TabsList",A_=b.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...o}=t,a=sm(P_,n),l=C_(n);return d.jsx(j_,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:r,children:d.jsx(Pe.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:e})})});A_.displayName=P_;var R_="TabsTrigger",O_=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...a}=t,l=sm(R_,n),u=C_(n),f=M_(l.baseId,r),p=D_(l.baseId,r),m=r===l.value;return d.jsx(T_,{asChild:!0,...u,focusable:!o,active:m,children:d.jsx(Pe.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":p,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...a,ref:e,onMouseDown:Ae(t.onMouseDown,y=>{!o&&y.button===0&&y.ctrlKey===!1?l.onValueChange(r):y.preventDefault()}),onKeyDown:Ae(t.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&l.onValueChange(r)}),onFocus:Ae(t.onFocus,()=>{const y=l.activationMode!=="manual";!m&&!o&&y&&l.onValueChange(r)})})})});O_.displayName=R_;var I_="TabsContent",L_=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:o,children:a,...l}=t,u=sm(I_,n),f=M_(u.baseId,r),p=D_(u.baseId,r),m=r===u.value,y=b.useRef(m);return b.useEffect(()=>{const v=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(v)},[]),d.jsx(Kt,{present:o||m,children:({present:v})=>d.jsx(Pe.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!v,id:p,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:y.current?"0s":void 0},children:v&&a})})});L_.displayName=I_;function M_(t,e){return`${t}-trigger-${e}`}function D_(t,e){return`${t}-content-${e}`}var i3=N_,o3=A_,a3=O_,l3=L_;function c3({className:t,...e}){return d.jsx(i3,{"data-slot":"tabs",className:Ie("flex flex-col gap-2",t),...e})}function u3({className:t,...e}){return d.jsx(o3,{"data-slot":"tabs-list",className:Ie("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function Bl({className:t,...e}){return d.jsx(a3,{"data-slot":"tabs-trigger",className:Ie("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Wl({className:t,...e}){return d.jsx(l3,{"data-slot":"tabs-content",className:Ie("flex-1 outline-none",t),...e})}function d3({analysis:t,originalText:e,onRetry:n,onPlayback:r,className:o=""}){const[a,l]=b.useState(!1),[u,f]=b.useState("overview"),p=x=>x>=85?"text-success":x>=70?"text-accent":x>=60?"text-secondary":"text-destructive",m=x=>x>=85?d.jsx(Ln,{className:"w-4 h-4"}):x>=60?d.jsx(gC,{className:"w-4 h-4"}):d.jsx(FC,{className:"w-4 h-4"}),y=x=>{switch(x){case"pronunciation":return"";case"rhythm":return"";case"intonation":return"";case"stress":return"";case"pace":return"";default:return""}},v=x=>{switch(x){case"high":return"border-destructive/20 bg-destructive/5";case"medium":return"border-secondary/20 bg-secondary/5";case"low":return"border-accent/20 bg-accent/5";default:return"border-muted/20 bg-muted/5"}};return d.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`space-y-4 ${o}`,children:d.jsxs(gt,{className:"bg-gradient-to-r from-accent/5 to-primary/5 border-accent/20",children:[d.jsx(Sn,{className:"pb-3",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(sn,{className:"text-lg flex items-center gap-2",children:[d.jsx(ux,{className:"w-5 h-5 text-accent"}),"Prosody Analysis"]}),d.jsxs("div",{className:"flex gap-2",children:[r&&d.jsx(de,{variant:"ghost",size:"sm",onClick:r,children:d.jsx(rc,{className:"w-4 h-4"})}),n&&d.jsx(de,{variant:"ghost",size:"sm",onClick:n,children:d.jsx(nc,{className:"w-4 h-4"})})]})]})}),d.jsxs(yt,{className:"space-y-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:`text-3xl font-bold ${p(t.overall_score)}`,children:[Math.round(t.overall_score),"%"]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Overall Score"}),d.jsx(kc,{value:t.overall_score,className:"mt-2 h-2"})]}),d.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{label:"Pronunciation",score:t.pronunciation_score},{label:"Rhythm",score:t.rhythm_score},{label:"Intonation",score:t.intonation_score},{label:"Fluency",score:t.fluency_score}].map((x,_)=>d.jsxs("div",{className:"flex items-center justify-between p-2 bg-background/50 rounded-lg",children:[d.jsx("span",{className:"text-sm font-medium",children:x.label}),d.jsxs("div",{className:`flex items-center gap-1 ${p(x.score)}`,children:[m(x.score),d.jsxs("span",{className:"text-sm font-semibold",children:[Math.round(x.score),"%"]})]})]},_))}),d.jsxs(F1,{open:a,onOpenChange:l,children:[d.jsx(V1,{asChild:!0,children:d.jsxs(de,{variant:"ghost",className:"w-full mt-2",children:[d.jsx("span",{children:"Detailed Analysis"}),d.jsx(Dh,{className:`w-4 h-4 ml-2 transition-transform ${a?"rotate-180":""}`})]})}),d.jsx(U1,{className:"mt-4",children:d.jsxs(c3,{value:u,onValueChange:f,children:[d.jsxs(u3,{className:"grid w-full grid-cols-4",children:[d.jsx(Bl,{value:"overview",children:"Overview"}),d.jsx(Bl,{value:"issues",children:"Issues"}),d.jsx(Bl,{value:"words",children:"Words"}),d.jsx(Bl,{value:"practice",children:"Practice"})]}),d.jsxs(Wl,{value:"overview",className:"space-y-4 mt-4",children:[d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold text-success mb-2 flex items-center gap-2",children:[d.jsx(Ln,{className:"w-4 h-4"}),"Strengths"]}),d.jsx("div",{className:"space-y-1",children:t.detailed_feedback.strengths.map((x,_)=>d.jsx(We,{variant:"secondary",className:"bg-success/10 text-success-foreground",children:x},_))})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold text-accent mb-2 flex items-center gap-2",children:[d.jsx(wv,{className:"w-4 h-4"}),"Areas for Improvement"]}),d.jsx("div",{className:"space-y-1",children:t.detailed_feedback.improvements.map((x,_)=>d.jsx(We,{variant:"outline",className:"bg-accent/10",children:x},_))})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[d.jsx(tC,{className:"w-4 h-4"}),"Suggestions"]}),d.jsx("ul",{className:"space-y-2",children:t.suggestions.map((x,_)=>d.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[d.jsx("span",{className:"text-accent mt-1",children:""}),x]},_))})]})]}),d.jsx(Wl,{value:"issues",className:"space-y-3 mt-4",children:t.detailed_feedback.specific_issues.length>0?t.detailed_feedback.specific_issues.map((x,_)=>d.jsx(ge.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:_*.1},className:`p-3 rounded-lg border ${v(x.severity)}`,children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("span",{className:"text-lg",children:y(x.type)}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"font-medium",children:x.word}),d.jsx(We,{variant:"outline",size:"sm",children:x.type}),d.jsx(We,{variant:x.severity==="high"?"destructive":"secondary",size:"sm",children:x.severity})]}),d.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:x.feedback}),d.jsx("p",{className:"text-sm font-medium text-accent",children:x.suggestion})]})]})},_)):d.jsxs("div",{className:"text-center py-8",children:[d.jsx(Ln,{className:"w-12 h-12 text-success mx-auto mb-2"}),d.jsx("p",{className:"text-success font-medium",children:"No issues detected!"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Your pronunciation was excellent."})]})}),d.jsx(Wl,{value:"words",className:"space-y-3 mt-4",children:d.jsx("div",{className:"grid gap-2",children:t.word_level_analysis.map((x,_)=>d.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-medium",children:x.word}),!x.stress_correct&&d.jsx(zC,{className:"w-3 h-3 text-destructive"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:`text-sm ${p(x.pronunciation_score)}`,children:[Math.round(x.pronunciation_score),"%"]}),d.jsx("div",{className:"w-12 h-1 bg-muted rounded",children:d.jsx("div",{className:`h-full rounded transition-all duration-500 ${x.pronunciation_score>=85?"bg-success":x.pronunciation_score>=70?"bg-accent":x.pronunciation_score>=60?"bg-secondary":"bg-destructive"}`,style:{width:`${x.pronunciation_score}%`}})})]})]},_))})}),d.jsxs(Wl,{value:"practice",className:"space-y-4 mt-4",children:[d.jsxs("div",{children:[d.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[d.jsx(wv,{className:"w-4 h-4"}),"Next Focus Areas"]}),d.jsx("div",{className:"space-y-2",children:t.next_focus_areas.map((x,_)=>d.jsxs("div",{className:"flex items-center gap-2 p-2 bg-primary/10 rounded-lg",children:[d.jsx(ec,{className:"w-4 h-4 text-primary"}),d.jsx("span",{className:"text-sm",children:x})]},_))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(de,{variant:"outline",className:"w-full justify-start",onClick:n,children:[d.jsx(nc,{className:"w-4 h-4 mr-2"}),"Try Again"]}),d.jsxs(de,{variant:"outline",className:"w-full justify-start",children:[d.jsx(hx,{className:"w-4 h-4 mr-2"}),"Practice Similar Phrases"]}),d.jsxs(de,{variant:"outline",className:"w-full justify-start",children:[d.jsx(ec,{className:"w-4 h-4 mr-2"}),"View Learning Resources"]})]})]})]})})]})]})]})})}function kh({className:t="",showLabel:e=!0,size:n="md"}){const[r,o]=b.useState("connected"),[a,l]=b.useState(!0),[u,f]=b.useState(new Date);b.useEffect(()=>{p();const k=setInterval(()=>{a&&p()},3e4);return()=>clearInterval(k)},[a]);const p=async()=>{l(!0),o("connected"),f(new Date)},y=(()=>{switch(r){case"connected":return{color:"bg-success text-success-foreground",icon:tr,label:"AI Ready",description:" VibeTune AI is ready! Advanced prosody analysis powered by OpenAI GPT-4."};case"checking":return{color:"bg-accent text-accent-foreground",icon:er,label:"Starting AI",description:"Initializing VibeTune AI...",animate:!0};case"disconnected":default:return{color:"bg-accent text-accent-foreground",icon:Or,label:"AI Built-in",description:"VibeTune includes advanced AI prosody analysis. Ready to help improve your English!"}}})(),v=y.icon,x={sm:"text-xs px-2 py-1",md:"text-sm px-2 py-1",lg:"text-sm px-3 py-2"},_={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-4 h-4"},S=k=>{const j=new Date().getTime()-k.getTime(),C=Math.floor(j/6e4);if(C<1)return"Just now";if(C<60)return`${C}m ago`;const N=Math.floor(C/60);return N<24?`${N}h ago`:k.toLocaleDateString()};return d.jsx("div",{className:`flex items-center gap-2 ${t}`,children:d.jsx(hi,{children:d.jsxs(To,{children:[d.jsx(Co,{asChild:!0,children:d.jsx(ge.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(We,{className:`${y.color} ${x[n]} transition-all duration-200`,children:[d.jsx(v,{className:`${_[n]} mr-1 ${y.animate?"animate-spin":""}`}),e&&d.jsxs(d.Fragment,{children:[d.jsx(Or,{className:`${_[n]} mr-1`}),y.label]})]})})}),d.jsx(No,{side:"bottom",className:"max-w-xs",children:d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"font-medium",children:y.description}),u&&r==="connected"&&d.jsxs("p",{className:"text-xs opacity-75",children:["Last checked: ",S(u)]})]})})]})})})}function f3({topic:t="New Conversation",level:e,onTopicChange:n}){const r=e||"Beginner",[o,a]=b.useState([]),[l,u]=b.useState(""),[f,p]=b.useState(!1),[m,y]=b.useState([]),[v,x]=b.useState(["basic pronunciation","sentence stress"]),[_,S]=b.useState(null),[k,T]=b.useState(!1),[j,C]=b.useState(!1),[N,R]=b.useState(!1),[L,$]=b.useState(!0),[D,G]=b.useState(t),X=b.useRef(null);b.useEffect(()=>{const F=()=>{C(Vo.isReady())};F();const P=setInterval(F,5e3);return()=>clearInterval(P)},[]),b.useEffect(()=>{const F={id:"1",text:` Hi! I'm your VibeTune AI conversation partner. Let's practice English at a ${r.toLowerCase()} level with AI-powered pronunciation feedback!`,isUser:!1,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},P={id:"2",text:"What would you like to talk about today? Feel free to tell me about anything that interests you - your hobbies, work, travel experiences, or any topic you'd like to practice discussing in English!",isUser:!1,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};a([F,P]),y([]),x(fe(r)),$(!0),G("New Conversation")},[r]),b.useEffect(()=>{if(X.current){const F=X.current.querySelector("[data-radix-scroll-area-viewport]");F&&setTimeout(()=>{F.scrollTop=F.scrollHeight},100)}},[o]);const fe=F=>{switch(F){case"Advanced":return["accent reduction","complex intonation","natural rhythm","connected speech"];case"Intermediate":return["word stress","question intonation","sentence rhythm","linking sounds"];default:return["basic pronunciation","sentence stress","clear articulation","simple intonation"]}},Ee=F=>{const P=F.toLowerCase();if(P.includes("travel")||P.includes("trip")||P.includes("vacation")||P.includes("country")||P.includes("visit"))return"Travel & Adventures";if(P.includes("work")||P.includes("job")||P.includes("career")||P.includes("office")||P.includes("business"))return"Work & Career";if(P.includes("food")||P.includes("cook")||P.includes("eat")||P.includes("restaurant")||P.includes("recipe"))return"Food & Cooking";if(P.includes("music")||P.includes("art")||P.includes("paint")||P.includes("draw")||P.includes("sing"))return"Music & Arts";if(P.includes("hobby")||P.includes("interest")||P.includes("free time")||P.includes("enjoy")||P.includes("love"))return"Hobbies & Interests";if(P.includes("daily")||P.includes("routine")||P.includes("morning")||P.includes("evening")||P.includes("weekend"))return"Daily Life & Routines";if(P.includes("game")||P.includes("movie")||P.includes("tv")||P.includes("entertainment")||P.includes("fun"))return"Entertainment & Gaming";if(P.includes("learn")||P.includes("study")||P.includes("school")||P.includes("education")||P.includes("book"))return"Education & Learning";if(P.includes("technology")||P.includes("computer")||P.includes("phone")||P.includes("internet")||P.includes("social media"))return"Technology & Social Media";{const W=F.split(" ").filter(Q=>Q.length>3);return W.length>0?W[0].charAt(0).toUpperCase()+W[0].slice(1).toLowerCase():"General Conversation"}},ye=()=>({user_level:r,topic:D,conversation_history:m,focus_areas:v,learning_objectives:["Improve pronunciation accuracy","Master natural rhythm patterns","Develop confident speaking skills"]}),ve=async(F,P=!1,W)=>{if(!F.trim())return;const Q=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),ie=Date.now().toString();if(L){const te=Ee(F.trim());G(te),$(!1),n&&n(te)}const be={id:ie,text:F.trim(),isUser:!0,isAudio:P,audioBlob:W,timestamp:Q,isProcessing:P&&j};a(te=>[...te,be]),u(""),p(!0);const je={role:"user",content:F.trim(),timestamp:new Date().toISOString()};try{let te,_e;if(P&&W&&j){const Te=ye();try{te=await Vo.analyzeAudio(W,F.trim(),Te),a(Me=>Me.map(Xe=>Xe.id===ie?{...Xe,prosodyAnalysis:te,isProcessing:!1}:Xe)),je.audio_analysis=te}catch(Me){console.error("Audio analysis failed:",Me),a(Xe=>Xe.map(Nt=>Nt.id===ie?{...Nt,isProcessing:!1}:Nt))}}if(j)try{const Te=ye();_e=await Vo.generateResponse(F.trim(),Te,te),te&&te.next_focus_areas.length>0&&x(te.next_focus_areas)}catch(Te){console.error("AI response generation failed:",Te),_e={text_response:Se(F,r),conversation_flow:{next_topic_suggestions:[],difficulty_adjustment:"maintain",engagement_level:.7},practice_suggestions:{immediate:[],session_goals:[],homework:[]}}}else _e={text_response:Se(F,r),conversation_flow:{next_topic_suggestions:[],difficulty_adjustment:"maintain",engagement_level:.7},practice_suggestions:{immediate:[],session_goals:[],homework:[]}};setTimeout(()=>{const Te={id:(Date.now()+1).toString(),text:_e.text_response,isUser:!1,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),aiResponse:_e};a(Xe=>[...Xe,Te]),p(!1);const Me={role:"assistant",content:_e.text_response,timestamp:new Date().toISOString()};y(Xe=>[...Xe,je,Me])},j?1500:800)}catch(te){console.error("Message processing failed:",te),p(!1);const _e={id:(Date.now()+1).toString(),text:"I'm having trouble processing your message right now. Let's try again!",isUser:!1,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};a(Te=>[...Te,_e])}},Se=(F,P)=>{const W={Beginner:["That's great! I can hear you're working hard on your pronunciation. Let's practice some more basic patterns.","Nice try! Your rhythm is improving. Can you tell me about your favorite food?","Good effort! I noticed your word stress is getting better. What do you like to do on weekends?"],Intermediate:["Excellent work on your intonation! Your question patterns are much clearer now. Let's discuss something more complex.","I can hear improvement in your connected speech. How do you feel about technology in education?","Your pronunciation has really developed! Let's practice with some more challenging vocabulary."],Advanced:["Your prosody shows sophisticated control! Let's explore some nuanced expressions and idioms.","Impressive fluency! Your stress patterns are very natural. What are your thoughts on current events?","Your accent work is excellent! Let's discuss some abstract concepts to challenge your advanced skills."]},Q=W[P]||W.Beginner;return Q[Math.floor(Math.random()*Q.length)]},ce=F=>{F.preventDefault(),ve(l,!1)},z=F=>{S(F),T(!0)},O=F=>{o.find(W=>W.id===F)&&a(W=>W.filter(Q=>Q.id!==F))},H=()=>{R(!N)};return d.jsxs("div",{className:"flex flex-col h-full bg-background",children:[d.jsxs("div",{className:"bg-card border-b border-border p-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h2",{className:"font-medium",children:D}),d.jsxs("div",{className:"flex items-center justify-center gap-2 mt-1",children:[d.jsxs(We,{variant:"outline",className:"text-xs",children:[r," Level"]}),d.jsx("span",{className:"text-xs text-muted-foreground",children:""}),d.jsx("span",{className:"text-xs text-muted-foreground",children:"AI Prosody Practice"})]})]}),d.jsx(kh,{size:"sm",showLabel:!1})]}),v.length>0&&d.jsxs("div",{className:"mt-3 flex flex-wrap gap-1 justify-center",children:[d.jsx("span",{className:"text-xs text-muted-foreground mr-2",children:"Focus areas:"}),v.slice(0,3).map((F,P)=>d.jsx(We,{variant:"secondary",className:"text-xs",children:F},P))]})]}),d.jsx(Bp,{ref:X,className:"flex-1 p-4",children:d.jsxs("div",{className:"space-y-4",children:[o.map((F,P)=>d.jsx("div",{children:d.jsx(B4,{message:F.text,isUser:F.isUser,isAudio:F.isAudio,audioBlob:F.audioBlob,prosodyFeedback:F.prosodyAnalysis?{score:F.prosodyAnalysis.overall_score,highlights:F.prosodyAnalysis.detailed_feedback.specific_issues.map(W=>({text:W.word,type:W.severity==="high"?"error":"suggestion",feedback:W.feedback})),suggestions:F.prosodyAnalysis.suggestions}:void 0,timestamp:F.timestamp,isProcessing:F.isProcessing,onAnalysisView:F.prosodyAnalysis?()=>z(F.prosodyAnalysis):void 0,onRetry:()=>O(F.id)})},F.id)),f&&d.jsx(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex justify-start",children:d.jsx("div",{className:"max-w-[85%]",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-accent rounded-full flex items-center justify-center",children:d.jsx(er,{className:"w-4 h-4 animate-spin"})}),d.jsx("div",{className:"bg-card border border-border rounded-lg p-3",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"VibeTune AI is analyzing your speech and crafting a response..."})})]})})})]})}),d.jsx("div",{className:"bg-card border-t border-border p-4 space-y-3",children:d.jsxs("form",{onSubmit:ce,className:"space-y-2",children:[d.jsxs("div",{className:"flex gap-2",children:[N?d.jsx(QM,{value:l,onChange:F=>u(F.target.value),placeholder:L?"Tell me what you'd like to discuss...":"Continue the conversation...",disabled:f,className:"flex-1 min-h-[80px] resize-y",maxLength:500}):d.jsx(fs,{value:l,onChange:F=>u(F.target.value),placeholder:L?"Tell me what you'd like to discuss...":"Continue the conversation...",disabled:f,className:"flex-1"}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx(de,{type:"submit",disabled:!l.trim()||f,size:"icon",className:"bg-accent hover:bg-accent/90 text-accent-foreground",children:d.jsx($h,{className:"w-4 h-4"})}),d.jsx(de,{type:"button",variant:"outline",size:"icon",onClick:H,className:"h-8 w-8",title:N?"Switch to single line":"Switch to multi-line",children:N?d.jsx(NT,{className:"w-3 h-3"}):d.jsx(Dh,{className:"w-3 h-3"})})]})]}),N&&d.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground",children:[d.jsx("span",{children:"Multi-line mode for longer messages"}),d.jsxs("span",{children:[l.length,"/500"]})]})]})}),d.jsx(H4,{onSendMessage:ve,conversationContext:ye(),disabled:f,showAIFeedback:j}),d.jsx(wi,{children:k&&_&&d.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>T(!1),children:d.jsx(ge.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",onClick:F=>F.stopPropagation(),children:d.jsx(d3,{analysis:_,originalText:"Your recorded message",onRetry:()=>T(!1),className:"p-6"})})})})]})}const Dw=t=>{let e;const n=new Set,r=(p,m)=>{const y=typeof p=="function"?p(e):p;if(!Object.is(y,e)){const v=e;e=m??(typeof y!="object"||y===null)?y:Object.assign({},e,y),n.forEach(x=>x(e,v))}},o=()=>e,u={setState:r,getState:o,getInitialState:()=>f,subscribe:p=>(n.add(p),()=>n.delete(p))},f=e=t(r,o,u);return u},h3=(t=>t?Dw(t):Dw),p3=t=>t;function m3(t,e=p3){const n=Tt.useSyncExternalStore(t.subscribe,Tt.useCallback(()=>e(t.getState()),[t,e]),Tt.useCallback(()=>e(t.getInitialState()),[t,e]));return Tt.useDebugValue(n),n}const g3=t=>{const e=h3(t),n=r=>m3(e,r);return Object.assign(n,e),n},y3=(t=>g3),v3=t=>(e,n,r)=>{const o=r.subscribe;return r.subscribe=((l,u,f)=>{let p=l;if(u){const m=(f==null?void 0:f.equalityFn)||Object.is;let y=l(r.getState());p=v=>{const x=l(v);if(!m(y,x)){const _=y;u(y=x,_)}},f!=null&&f.fireImmediately&&u(y,y)}return o(p)}),t(e,n,r)},w3=v3;function Eh(t,e){let n;try{n=t()}catch{return}return{getItem:o=>{var a;const l=f=>f===null?null:JSON.parse(f,void 0),u=(a=n.getItem(o))!=null?a:null;return u instanceof Promise?u.then(l):l(u)},setItem:(o,a)=>n.setItem(o,JSON.stringify(a,void 0)),removeItem:o=>n.removeItem(o)}}const jh=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return jh(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return jh(r)(n)}}}},x3=(t,e)=>(n,r,o)=>{let a={storage:Eh(()=>localStorage),partialize:S=>S,version:0,merge:(S,k)=>({...k,...S}),...e},l=!1;const u=new Set,f=new Set;let p=a.storage;if(!p)return t((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...S)},r,o);const m=()=>{const S=a.partialize({...r()});return p.setItem(a.name,{state:S,version:a.version})},y=o.setState;o.setState=(S,k)=>(y(S,k),m());const v=t((...S)=>(n(...S),m()),r,o);o.getInitialState=()=>v;let x;const _=()=>{var S,k;if(!p)return;l=!1,u.forEach(j=>{var C;return j((C=r())!=null?C:v)});const T=((k=a.onRehydrateStorage)==null?void 0:k.call(a,(S=r())!=null?S:v))||void 0;return jh(p.getItem.bind(p))(a.name).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==a.version){if(a.migrate){const C=a.migrate(j.state,j.version);return C instanceof Promise?C.then(N=>[!0,N]):[!0,C]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,j.state];return[!1,void 0]}).then(j=>{var C;const[N,R]=j;if(x=a.merge(R,(C=r())!=null?C:v),n(x,!0),N)return m()}).then(()=>{T==null||T(x,void 0),x=r(),l=!0,f.forEach(j=>j(x))}).catch(j=>{T==null||T(void 0,j)})};return o.persist={setOptions:S=>{a={...a,...S},S.storage&&(p=S.storage)},clearStorage:()=>{p==null||p.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>_(),hasHydrated:()=>l,onHydrate:S=>(u.add(S),()=>{u.delete(S)}),onFinishHydration:S=>(f.add(S),()=>{f.delete(S)})},a.skipHydration||_(),x||v},b3=x3,Tf={currentQuestion:0,totalQuestions:10,answers:[],topic_scores:{},overall_progress:0},$w={online:typeof navigator<"u"?navigator.onLine:!0,lastSync:null,syncing:!1,hasOfflineChanges:!1},S3=()=>Eh(typeof window<"u"?()=>localStorage:()=>sessionStorage),Rr=y3()(w3(b3((t,e)=>({user:null,setUser:n=>t({user:n}),conversations:[],activeConversationId:null,messages:[],currentTopic:"General Conversation",setConversations:n=>t({conversations:n}),setActiveConversation:n=>t({activeConversationId:n}),addMessage:n=>{t(r=>({messages:[...r.messages,n]})),e().sync.online||t(r=>({sync:{...r.sync,hasOfflineChanges:!0}}))},updateMessage:(n,r)=>{t(o=>({messages:o.messages.map(a=>a.id===n?{...a,...r}:a)}))},deleteMessage:n=>{t(r=>({messages:r.messages.filter(o=>o.id!==n)}))},setCurrentTopic:n=>t({currentTopic:n}),clearMessages:()=>t({messages:[]}),placementTestProgress:Tf,setPlacementTestProgress:n=>t({placementTestProgress:n}),updatePlacementTestProgress:n=>{t(r=>({placementTestProgress:{...r.placementTestProgress,...n}}))},resetPlacementTest:()=>t({placementTestProgress:Tf}),sync:$w,setSyncOnline:n=>{t(r=>({sync:{...r.sync,online:n}}))},setSyncStatus:n=>{t(r=>({sync:{...r.sync,syncing:n}}))},setLastSync:n=>{t(r=>({sync:{...r.sync,lastSync:n}}))},setHasOfflineChanges:n=>{t(r=>({sync:{...r.sync,hasOfflineChanges:n}}))},retryQueue:[],addToRetryQueue:n=>{t(r=>({retryQueue:[...r.retryQueue,n]}))},removeFromRetryQueue:n=>{t(r=>({retryQueue:r.retryQueue.filter(o=>o.id!==n)}))},clearRetryQueue:()=>t({retryQueue:[]}),trackEvent:async(n,r={})=>{const{user:o}=e();if(o)try{const a={event_type:n,metadata:{...r,timestamp:new Date().toISOString(),user_level:o.level,app_version:"1.0.0"}};if(e().sync.online)try{const{SimpleAuthService:l}=await an(async()=>{const{SimpleAuthService:f}=await Promise.resolve().then(()=>uw);return{SimpleAuthService:f}},void 0),u=await l.getCurrentSession();if(u!=null&&u.access_token){const{projectId:f}=await an(async()=>{const{projectId:y}=await Promise.resolve().then(()=>cw);return{projectId:y}},void 0),p=fetch("/api/analytics",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.access_token}`},body:JSON.stringify(a)}),m=new Promise((y,v)=>setTimeout(()=>v(new Error("Analytics timeout")),3e3));await Promise.race([p,m])}}catch(l){console.warn("Analytics tracking failed:",l)}else console.log("Offline: queued analytics event",n)}catch(a){console.warn("Failed to track event:",a)}},initializeApp:async()=>{const{user:n}=e();if(n)try{await e().syncData()}catch(r){console.warn("Failed to sync data on app init:",r)}},syncData:async()=>{const{user:n,sync:r}=e();if(!(!n||!r.online)){t(o=>({sync:{...o.sync,syncing:!0}}));try{const{SimpleAuthService:o}=await an(async()=>{const{SimpleAuthService:m}=await Promise.resolve().then(()=>uw);return{SimpleAuthService:m}},void 0),a=await o.getCurrentSession();if(!(a!=null&&a.access_token))throw new Error("No valid session for sync");const{projectId:l}=await an(async()=>{const{projectId:m}=await Promise.resolve().then(()=>cw);return{projectId:m}},void 0),u=fetch("/api/get-history",{headers:{Authorization:`Bearer ${a.access_token}`}}),f=new Promise((m,y)=>setTimeout(()=>y(new Error("Sync timeout")),5e3)),p=await Promise.race([u,f]);if(p.ok){const m=await p.json();if(m.conversations&&t({conversations:m.conversations}),m.messages&&e().activeConversationId){const v=m.messages.filter(x=>x.conversation_id===e().activeConversationId);t({messages:v})}t(v=>({sync:{...v.sync,lastSync:new Date,hasOfflineChanges:!1,syncing:!1}}));const y=e().retryQueue;if(y.length>0)for(const v of y)try{await fetch("/api/save-message",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.access_token}`},body:JSON.stringify(v)}),e().removeFromRetryQueue(v.id)}catch(x){console.warn("Failed to sync retry message:",v.id,x)}}}catch(o){console.error("Sync failed:",o)}finally{t(o=>({sync:{...o.sync,syncing:!1}}))}}},resetStore:()=>{t({user:null,conversations:[],activeConversationId:null,messages:[],currentTopic:"General Conversation",placementTestProgress:Tf,sync:$w,retryQueue:[]})}}),{name:"vibetune-app-store",storage:S3(),partialize:t=>({user:t.user,conversations:t.conversations,placementTestProgress:t.placementTestProgress,retryQueue:t.retryQueue,currentTopic:t.currentTopic,sync:{...t.sync,syncing:!1}}),onRehydrateStorage:()=>t=>{t&&typeof navigator<"u"&&t.setSyncOnline(navigator.onLine)}}))),_3=()=>Rr(t=>t.conversations),$_=()=>Rr(t=>t.sync);typeof window<"u"&&(window.addEventListener("online",()=>{Rr.getState().setSyncOnline(!0),Rr.getState().syncData()}),window.addEventListener("offline",()=>{Rr.getState().setSyncOnline(!1)}));function Fw({compact:t=!1,showLabel:e=!0,className:n=""}){const[r,o]=b.useState(!1),a=$_(),l=Rr(_=>_.syncData),{online:u,syncing:f,lastSync:p,hasOfflineChanges:m}=a,v=u?f?{icon:yv,text:"Syncing...",color:"default",description:"Syncing your data with VibeTune cloud.",bgColor:"bg-accent/10",textColor:"text-accent"}:m?{icon:ps,text:"Pending",color:"secondary",description:"You have changes waiting to sync.",bgColor:"bg-secondary/10",textColor:"text-secondary-foreground"}:{icon:$T,text:"Synced",color:"success",description:p?`Last synced ${p.toLocaleTimeString()}`:"All changes are saved to VibeTune cloud.",bgColor:"bg-success/10",textColor:"text-success-foreground"}:{icon:MT,text:"Offline",color:"destructive",description:"Working offline. Changes will sync when connected.",bgColor:"bg-destructive/10",textColor:"text-destructive"},x=v.icon;return b.useEffect(()=>{if(r){const _=setTimeout(()=>o(!1),5e3);return()=>clearTimeout(_)}},[r]),t?d.jsxs(ge.div,{className:`flex items-center gap-1 ${n}`,whileHover:{scale:1.05},title:v.description,children:[d.jsx("div",{className:`p-1.5 rounded-full ${v.bgColor}`,children:d.jsx(x,{className:`w-3 h-3 ${v.textColor} ${f?"animate-spin":""}`})}),e&&d.jsx("span",{className:"text-xs font-medium",children:v.text})]}):d.jsxs("div",{className:`relative ${n}`,children:[d.jsx(ge.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(We,{variant:v.color,className:"cursor-pointer flex items-center gap-2 text-xs px-3 py-1.5 transition-all duration-200 hover:shadow-md",onClick:()=>o(!r),children:[d.jsx(x,{className:`w-3 h-3 ${f?"animate-spin":""}`}),e&&v.text]})}),d.jsx(wi,{children:r&&d.jsxs(d.Fragment,{children:[d.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>o(!1)}),d.jsx(ge.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute top-full right-0 mt-2 p-4 bg-card border border-border rounded-lg shadow-xl z-50 min-w-72 max-w-sm",children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-full ${v.bgColor}`,children:d.jsx(x,{className:`w-4 h-4 ${v.textColor} ${f?"animate-spin":""}`})}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-sm",children:v.text}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"VibeTune Cloud Sync"})]})]}),d.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:v.description}),d.jsxs("div",{className:"space-y-2 pt-2 border-t border-border",children:[p&&d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-muted-foreground",children:"Last sync:"}),d.jsx("span",{className:"font-medium",children:p.toLocaleString()})]}),d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-muted-foreground",children:"Status:"}),d.jsx("span",{className:`font-medium ${v.textColor}`,children:u?"Connected":"Offline"})]}),m&&d.jsxs("div",{className:"flex justify-between text-xs",children:[d.jsx("span",{className:"text-muted-foreground",children:"Pending changes:"}),d.jsx("span",{className:"font-medium text-secondary-foreground",children:"Yes"})]})]}),d.jsxs("div",{className:"flex gap-2 pt-2",children:[m&&u&&d.jsxs(de,{size:"sm",variant:"outline",onClick:()=>{l(),o(!1)},disabled:f,className:"flex-1",children:[d.jsx(yv,{className:`w-3 h-3 mr-1 ${f?"animate-spin":""}`}),"Sync Now"]}),d.jsx(de,{size:"sm",variant:"ghost",onClick:()=>o(!1),className:"text-xs",children:"Close"})]})]})})]})})]})}function F_(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Kc="Switch",[k3]=cn(Kc),[E3,j3]=k3(Kc),V_=b.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:a,required:l,disabled:u,value:f="on",onCheckedChange:p,form:m,...y}=t,[v,x]=b.useState(null),_=Ve(e,C=>x(C)),S=b.useRef(!1),k=v?m||!!v.closest("form"):!0,[T,j]=_s({prop:o,defaultProp:a??!1,onChange:p,caller:Kc});return d.jsxs(E3,{scope:n,checked:T,disabled:u,children:[d.jsx(Pe.button,{type:"button",role:"switch","aria-checked":T,"aria-required":l,"data-state":W_(T),"data-disabled":u?"":void 0,disabled:u,value:f,...y,ref:_,onClick:Ae(t.onClick,C=>{j(N=>!N),k&&(S.current=C.isPropagationStopped(),S.current||C.stopPropagation())})}),k&&d.jsx(B_,{control:v,bubbles:!S.current,name:r,value:f,checked:T,required:l,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});V_.displayName=Kc;var U_="SwitchThumb",z_=b.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,o=j3(U_,n);return d.jsx(Pe.span,{"data-state":W_(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:e})});z_.displayName=U_;var T3="SwitchBubbleInput",B_=b.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...o},a)=>{const l=b.useRef(null),u=Ve(l,a),f=F_(n),p=Zp(e);return b.useEffect(()=>{const m=l.current;if(!m)return;const y=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(y,"checked").set;if(f!==n&&x){const _=new Event("click",{bubbles:r});x.call(m,n),m.dispatchEvent(_)}},[f,n,r]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:u,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});B_.displayName=T3;function W_(t){return t?"checked":"unchecked"}var C3=V_,N3=z_;function ko({className:t,...e}){return d.jsx(C3,{"data-slot":"switch",className:Ie("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:d.jsx(N3,{"data-slot":"switch-thumb",className:Ie("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var P3="Separator",Vw="horizontal",A3=["horizontal","vertical"],H_=b.forwardRef((t,e)=>{const{decorative:n,orientation:r=Vw,...o}=t,a=R3(r)?r:Vw,u=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return d.jsx(Pe.div,{"data-orientation":a,...u,...o,ref:e})});H_.displayName=P3;function R3(t){return A3.includes(t)}var O3=H_;function Xn({className:t,orientation:e="horizontal",decorative:n=!0,...r}){return d.jsx(O3,{"data-slot":"separator-root",decorative:n,orientation:e,className:Ie("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...r})}const Th=b.forwardRef(({...t},e)=>d.jsx(d_,{ref:e,...t}));Th.displayName="VisuallyHidden";function Ch({...t}){return d.jsx(g1,{"data-slot":"dialog",...t})}function xc({...t}){return d.jsx(y1,{"data-slot":"dialog-trigger",...t})}function I3({...t}){return d.jsx(v1,{"data-slot":"dialog-portal",...t})}const G_=b.forwardRef(({className:t,...e},n)=>d.jsx(Ic,{ref:n,"data-slot":"dialog-overlay",className:Ie("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));G_.displayName=Ic.displayName;const bc=b.forwardRef(({className:t,children:e,hideTitle:n,hideDescription:r,...o},a)=>{const l=b.Children.toArray(e).some(f=>{var p;return b.isValidElement(f)&&(f.type===Sc||typeof f.type=="object"&&((p=f.type)==null?void 0:p.displayName)===gh.displayName)}),u=b.Children.toArray(e).some(f=>{var p;return b.isValidElement(f)&&(f.type===_c||typeof f.type=="object"&&((p=f.type)==null?void 0:p.displayName)===yh.displayName)});return d.jsxs(I3,{"data-slot":"dialog-portal",children:[d.jsx(G_,{}),d.jsxs($p,{ref:a,"data-slot":"dialog-content",className:Ie("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),"aria-describedby":u?void 0:"dialog-description-fallback",...o,children:[!l&&d.jsx(Th,{children:d.jsx(gh,{children:"Dialog"})}),!u&&d.jsx(Th,{children:d.jsx(yh,{id:"dialog-description-fallback",children:"Dialog content"})}),e,d.jsxs(w1,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[d.jsx(Vh,{}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]})});bc.displayName=$p.displayName;function Nh({className:t,...e}){return d.jsx("div",{"data-slot":"dialog-header",className:Ie("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Sc({className:t,...e}){return d.jsx(gh,{"data-slot":"dialog-title",className:Ie("text-lg leading-none font-semibold",t),...e})}function _c({className:t,...e}){return d.jsx(yh,{"data-slot":"dialog-description",className:Ie("text-muted-foreground text-sm",t),...e})}function L3({user:t,onUserUpdate:e,onBack:n,onStartPlacementTest:r}){const[o,a]=b.useState(!1),[l,u]=b.useState(t.username),[f,p]=b.useState(!1),[m,y]=b.useState(null),[v,x]=b.useState(null),[_,S]=b.useState({notifications:!0,soundEffects:!0,autoSync:!0,darkMode:!1,prosodyFeedback:!0,voiceRecording:!0}),k=async()=>{if(!l.trim()||l===t.username){a(!1),u(t.username);return}p(!0),y(null),x(null);try{const{data:L,error:$}=await _n.updateProfile(t.id,{username:l.trim()},t);if($)throw $;L&&(e(L),x("Username updated successfully!"),a(!1))}catch(L){console.error("Username update error:",L),y(L.message||"Failed to update username"),u(t.username)}finally{p(!1)}},T=(L,$)=>{S(D=>({...D,[L]:$})),console.log(`Setting ${L} changed to:`,$)},j=L=>new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),C=L=>{switch(L){case"Beginner":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"Intermediate":return"bg-blue-100 text-blue-800 border-blue-200";case"Advanced":return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},R=t.placement_test_completed?{text:"Completed",color:"text-success",icon:tr,action:"Retake Test",actionIcon:Ln}:{text:"Not taken",color:"text-muted-foreground",icon:ps,action:"Take Test",actionIcon:Or};return d.jsx("div",{className:"min-h-screen bg-background",children:d.jsxs("div",{className:"max-w-2xl mx-auto p-4 space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n&&d.jsx(de,{variant:"ghost",size:"icon",onClick:n,children:d.jsx(zo,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Fh,{className:"w-6 h-6 text-accent"}),d.jsx("h1",{className:"text-2xl font-bold",children:"Settings"})]})]}),m&&d.jsx(ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:d.jsxs(ys,{variant:"destructive",children:[d.jsx(ps,{className:"h-4 w-4"}),d.jsx(vs,{children:m})]})}),v&&d.jsx(ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:d.jsxs(ys,{className:"border-success/20 bg-success/10",children:[d.jsx(tr,{className:"h-4 w-4 text-success"}),d.jsx(vs,{className:"text-success-foreground",children:v})]})}),d.jsxs(gt,{children:[d.jsxs(Sn,{children:[d.jsxs(sn,{className:"flex items-center gap-2",children:[d.jsx(Ec,{className:"w-5 h-5"}),"Profile Information"]}),d.jsx(Po,{children:"Your account details and learning progress"})]}),d.jsxs(yt,{className:"space-y-4",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"space-y-1",children:[d.jsx(pt,{className:"text-sm font-medium",children:"Username"}),o?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(fs,{value:l,onChange:L=>u(L.target.value),className:"max-w-xs",disabled:f}),d.jsx(de,{size:"sm",onClick:k,disabled:f,children:f?d.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):d.jsx(CC,{className:"w-4 h-4"})}),d.jsx(de,{size:"sm",variant:"ghost",onClick:()=>{a(!1),u(t.username),y(null)},disabled:f,children:d.jsx(Vh,{className:"w-4 h-4"})})]}):d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:t.username}),d.jsx(de,{size:"sm",variant:"ghost",onClick:()=>a(!0),children:d.jsx(_C,{className:"w-4 h-4"})})]})]})}),d.jsx(Xn,{}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"space-y-1",children:[d.jsxs(pt,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(dx,{className:"w-4 h-4"}),"Email"]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:t.email})]})}),d.jsx(Xn,{}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"space-y-1",children:[d.jsxs(pt,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(tc,{className:"w-4 h-4"}),"Learning Level"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(We,{className:C(t.level),children:t.level||"Not set"}),t.level&&d.jsx("span",{className:"text-xs text-muted-foreground",children:t.placement_test_completed?"(From placement test)":"(Self-selected)"})]})]})}),d.jsx(Xn,{}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(pt,{className:"text-sm font-medium",children:"Placement Test"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(R.icon,{className:`w-4 h-4 ${R.color}`}),d.jsx("span",{className:`text-sm ${R.color}`,children:R.text}),t.placement_test_score&&d.jsxs(We,{variant:"outline",className:"text-xs",children:["Score: ",t.placement_test_score,"%"]})]})]}),r&&d.jsxs(de,{size:"sm",onClick:r,className:"bg-accent hover:bg-accent/90",children:[d.jsx(R.actionIcon,{className:"w-4 h-4 mr-2"}),R.action]})]}),d.jsx(Xn,{}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs(pt,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(Af,{className:"w-4 h-4"}),"Member Since"]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:j(t.created_at)})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx(pt,{className:"text-sm font-medium",children:"Last Login"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:j(t.last_login)})]})]})]}),d.jsxs(gt,{children:[d.jsxs(Sn,{children:[d.jsxs(sn,{className:"flex items-center gap-2",children:[d.jsx(xC,{className:"w-5 h-5"}),"App Preferences"]}),d.jsx(Po,{children:"Customize your learning experience"})]}),d.jsxs(yt,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs(pt,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(xT,{className:"w-4 h-4"}),"Notifications"]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive reminders and progress updates"})]}),d.jsx(ko,{checked:_.notifications,onCheckedChange:L=>T("notifications",L)})]}),d.jsx(Xn,{}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs(pt,{className:"text-sm font-medium flex items-center gap-2",children:[d.jsx(rc,{className:"w-4 h-4"}),"Sound Effects"]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Play sounds for interactions and feedback"})]}),d.jsx(ko,{checked:_.soundEffects,onCheckedChange:L=>T("soundEffects",L)})]}),d.jsx(Xn,{}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(pt,{className:"text-sm font-medium",children:"Auto Sync"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically sync your progress across devices"})]}),d.jsx(ko,{checked:_.autoSync,onCheckedChange:L=>T("autoSync",L)})]}),d.jsx(Xn,{}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(pt,{className:"text-sm font-medium",children:"Detailed Prosody Feedback"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Show detailed pronunciation and rhythm analysis"})]}),d.jsx(ko,{checked:_.prosodyFeedback,onCheckedChange:L=>T("prosodyFeedback",L)})]}),d.jsx(Xn,{}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(pt,{className:"text-sm font-medium",children:"Voice Recording"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable microphone for pronunciation practice"})]}),d.jsx(ko,{checked:_.voiceRecording,onCheckedChange:L=>T("voiceRecording",L)})]})]})]}),d.jsxs(gt,{children:[d.jsxs(Sn,{children:[d.jsxs(sn,{className:"flex items-center gap-2",children:[d.jsx(RC,{className:"w-5 h-5"}),"Privacy & Security"]}),d.jsx(Po,{children:"Manage your data and account security"})]}),d.jsxs(yt,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(pt,{className:"text-sm font-medium",children:"Device ID"}),d.jsx("p",{className:"text-xs text-muted-foreground font-mono bg-muted p-2 rounded",children:t.device_id})]}),d.jsx(Xn,{}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(pt,{className:"text-sm font-medium text-destructive",children:"Danger Zone"}),d.jsxs(Ch,{children:[d.jsx(xc,{asChild:!0,children:d.jsxs(de,{variant:"destructive",size:"sm",className:"w-full",children:[d.jsx(xv,{className:"w-4 h-4 mr-2"}),"Delete Account"]})}),d.jsxs(bc,{children:[d.jsxs(Nh,{children:[d.jsxs(Sc,{className:"flex items-center gap-2 text-destructive",children:[d.jsx(xv,{className:"w-5 h-5"}),"Delete Account"]}),d.jsx(_c,{children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs(ys,{variant:"destructive",children:[d.jsx(ps,{className:"h-4 w-4"}),d.jsxs(vs,{children:[d.jsx("strong",{children:"Warning:"})," All your learning progress, conversations, and settings will be permanently lost."]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(de,{variant:"destructive",className:"flex-1",children:"Yes, Delete My Account"}),d.jsx(xc,{asChild:!0,children:d.jsx(de,{variant:"outline",className:"flex-1",children:"Cancel"})})]})]})]})]})]})]})]}),d.jsxs(gt,{children:[d.jsx(Sn,{children:d.jsx(sn,{children:"App Information"})}),d.jsxs(yt,{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Version"}),d.jsx("span",{children:"1.0.0"})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Build"}),d.jsx("span",{children:"2024.10.10"})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Platform"}),d.jsx("span",{children:"Web"})]})]})]})]})})}function M3({user:t,onLogout:e,onStartPlacementTest:n,onUserUpdate:r}){const o=t.level||"Beginner",[a,l]=b.useState(!1),[u,f]=b.useState(!1),p=_3(),m=$_(),{currentTopic:y,setCurrentTopic:v,setActiveConversation:x,initializeApp:_,syncData:S,trackEvent:k}=Rr();b.useEffect(()=>{_(),k("main_app_viewed",{user_level:o})},[_,k,o]),b.useEffect(()=>{m.online&&!m.syncing&&m.hasOfflineChanges&&S()},[m.online,m.syncing,m.hasOfflineChanges,S]);const T=N=>{const R=N.topic||N.title;v(R),x(N.id),l(!1),k("conversation_selected",{conversation_id:N.id,topic:R})},j=()=>t.placement_test_completed?"Retake Placement Test":"Take Placement Test",C=()=>t.placement_test_completed?Ln:Or;return d.jsxs("div",{className:"h-screen bg-background flex",children:[d.jsx("div",{className:"hidden md:block w-80 h-full",children:d.jsx(Ew,{user:t,conversations:p,onConversationSelect:T,onLogout:e,onSettings:()=>f(!0)})}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsxs("div",{className:"bg-card border-b border-border p-4",children:[d.jsxs("div",{className:"md:hidden flex items-center justify-between",children:[d.jsxs(CM,{open:a,onOpenChange:l,children:[d.jsx(NM,{asChild:!0,children:d.jsx(de,{variant:"outline",size:"icon",children:d.jsx(uC,{className:"w-4 h-4"})})}),d.jsx(AM,{side:"left",className:"w-80 p-0",children:d.jsx(Ew,{user:t,conversations:p,onConversationSelect:T,onLogout:e,onSettings:()=>{f(!0),l(!1)}})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Bo,{className:"w-5 h-5 text-accent"}),d.jsx("h1",{className:"font-semibold",children:"VibeTune"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Fw,{compact:!0,showLabel:!1}),d.jsx(kh,{size:"sm",showLabel:!1}),d.jsx(ge.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:d.jsxs(de,{onClick:n,className:"bg-accent hover:bg-accent/90 text-accent-foreground shadow-md",size:"sm",children:[Tt.createElement(C(),{className:"w-4 h-4 mr-1"}),d.jsx("span",{className:"hidden xs:inline",children:t.placement_test_completed?"Retake Test":"Take Test"}),d.jsx("span",{className:"xs:hidden",children:t.placement_test_completed?"Retake":"Test"})]})})]})]}),d.jsxs("div",{className:"hidden md:flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Bo,{className:"w-5 h-5 text-accent"}),d.jsx("h1",{className:"text-lg font-semibold",children:"VibeTune"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(Fw,{compact:!1,showLabel:!0}),d.jsx(kh,{size:"md",showLabel:!0}),d.jsx(ge.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(de,{onClick:n,className:"bg-accent hover:bg-accent/90 text-accent-foreground shadow-lg px-4 py-2",size:"default",children:[Tt.createElement(C(),{className:"w-4 h-4 mr-2"}),j()]})})]})]})]}),d.jsx("div",{className:"flex-1",children:d.jsx(f3,{topic:y,level:o,onTopicChange:v})})]}),u&&d.jsx("div",{className:"fixed inset-0 z-50 bg-background",children:d.jsx(L3,{user:t,onUserUpdate:N=>{r&&r(N)},onBack:()=>f(!1),onStartPlacementTest:()=>{f(!1),n()}})})]})}var D3={};const tn=[{id:"introduction",name:"Personal Introduction",difficulty:"beginner",prompt:"Let's start with a simple introduction. Tell me about yourself - your name, where you're from, and what you do."},{id:"daily_life",name:"Daily Routines",difficulty:"beginner",prompt:"Describe a typical day in your life. What time do you wake up, what do you do for work or study, and how do you spend your evenings?"},{id:"hobbies",name:"Hobbies & Interests",difficulty:"intermediate",prompt:"What are your hobbies and interests? How did you get started with them, and what do you enjoy most about them?"},{id:"travel",name:"Travel & Culture",difficulty:"intermediate",prompt:"Tell me about a place you've visited or would like to visit. What makes it special, and how do you think travel affects people?"},{id:"future_goals",name:"Goals & Aspirations",difficulty:"advanced",prompt:"What are your goals for the future? How do you plan to achieve them, and what challenges do you expect to face?"}];function $3({user:t,onComplete:e,onSkip:n,onBack:r}){const[o,a]=b.useState([]),[l,u]=b.useState(0),[f,p]=b.useState(!1),[m,y]=b.useState(!1),[v,x]=b.useState(null),[_,S]=b.useState(900),[k,T]=b.useState(null),[j,C]=b.useState(""),[N,R]=b.useState(!1),L=b.useRef(null);b.useEffect(()=>{if(_>0&&!m){const z=setTimeout(()=>{S(O=>O-1)},1e3);return()=>clearTimeout(z)}else _===0&&!m&&ye()},[_,m]),b.useEffect(()=>{var z;(z=L.current)==null||z.scrollIntoView({behavior:"smooth"})},[o]),b.useEffect(()=>{(()=>{a([{id:"initial",role:"ai",content:`Hello! I'm your AI conversation partner for this placement test. We'll have a natural conversation covering different topics to assess your English prosody skills. This will help us determine the best learning level for you. 

I'll ask you about 5 different topics, and you can respond by typing your answers. Try to be as natural and detailed as possible - imagine we're having a friendly conversation!

Ready to begin?`,timestamp:new Date,topic:"introduction"}]),setTimeout(()=>{$()},2e3)})()},[]);const $=()=>{if(l>=tn.length){X();return}const z=tn[l],O={id:`question-${l}`,role:"ai",content:z.prompt,timestamp:new Date,topic:z.id};a(H=>[...H,O])},D=async z=>{if(z.trim()){p(!0),R(!0),T(null);try{const O={id:`user-${Date.now()}`,role:"user",content:z,timestamp:new Date,topic:tn[l].id,isAudioResponse:!1};a(P=>[...P,O]),C("");const H=await G(z,tn[l]);O.score=H.score;const F={id:`followup-${Date.now()}`,role:"ai",content:H.feedback,timestamp:new Date,topic:tn[l].id};setTimeout(()=>{a(P=>[...P,F]),setTimeout(()=>{u(P=>P+1),$()},1500)},1e3)}catch(O){console.error("Error processing response:",O),T("Failed to process your response. Please try again.")}finally{p(!1),R(!1)}}},G=async(z,O)=>{try{const H=`
You are an English language assessment AI specializing in prosody and conversational skills. 

Analyze this student response for a ${O.difficulty} level topic about "${O.name}":

Student Response: "${z}"

Provide a JSON response with:
1. score: A number from 0-100 based on:
   - Vocabulary richness and appropriateness
   - Grammar accuracy
   - Response completeness and relevance
   - Natural conversational flow
   - Complexity appropriate for ${O.difficulty} level

2. feedback: A brief, encouraging response (1-2 sentences) that:
   - Acknowledges their response positively
   - Provides subtle guidance if needed
   - Maintains conversational flow

Format: {"score": number, "feedback": "string"}
`,F=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D3.REACT_APP_OPENAI_API_KEY||"sk-placeholder"}`},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"system",content:"You are an expert English language assessor. Respond only with valid JSON."},{role:"user",content:H}],temperature:.3,max_tokens:200})});if(!F.ok)throw new Error("AI analysis failed");const P=await F.json(),W=JSON.parse(P.choices[0].message.content);return{score:Math.max(0,Math.min(100,W.score)),feedback:W.feedback}}catch(H){console.warn("AI analysis failed, using fallback:",H);const F=z.split(" ").length,P=z.length;let W=50;F>=10&&(W+=20),F>=25&&(W+=15),P>100&&(W+=10),O.difficulty==="advanced"&&(W=Math.min(W*.9,100)),O.difficulty==="beginner"&&(W=Math.min(W*1.1,100));const Q=["Thank you for sharing that! Your response shows good understanding.","Great! I can see you're expressing yourself clearly.","That's interesting! You're communicating your thoughts well.","Nice response! You're doing well with this topic."];return{score:Math.round(W),feedback:Q[Math.floor(Math.random()*Q.length)]}}},X=async()=>{p(!0);try{const z=o.filter(Q=>Q.role==="user"&&Q.score!==void 0),O=z.reduce((Q,ie)=>Q+(ie.score||0),0),H=z.length>0?O/z.length:0;let F="Beginner";H>=75?F="Advanced":H>=55&&(F="Intermediate");const P={};tn.forEach(Q=>{const ie=z.filter(be=>be.topic===Q.id);if(ie.length>0){const be=ie.reduce((je,te)=>je+(te.score||0),0);P[Q.name]=be/ie.length}});const W={overallScore:Math.round(H),level:F,topicScores:P,strengths:fe(H,P),improvements:Ee(H,P),totalQuestions:tn.length,completedQuestions:z.length};x(W),y(!0),await _n.updateProfile(t.id,{level:F,placement_test_completed:!0,placement_test_score:W.overallScore},t)}catch(z){console.error("Error completing test:",z),T("Failed to complete the test. Please try again.")}finally{p(!1)}},fe=(z,O)=>{const H=[];z>=70&&H.push("Clear and coherent communication"),z>=60&&H.push("Good conversational engagement"),z>=80&&H.push("Rich vocabulary usage");const F=Object.entries(O).reduce((P,[W,Q])=>Q>P.score?{topic:W,score:Q}:P,{topic:"",score:0});return F.score>=70&&H.push(`Excellent performance discussing ${F.topic.toLowerCase()}`),H.length>0?H:["Willingness to communicate and engage"]},Ee=(z,O)=>{const H=[];z<60&&H.push("Focus on expanding response detail and complexity"),z<70&&H.push("Practice using more varied vocabulary"),z<50&&H.push("Work on grammar accuracy and sentence structure");const F=Object.entries(O).reduce((P,[W,Q])=>Q<P.score?{topic:W,score:Q}:P,{topic:"",score:100});return F.score<60&&Object.keys(O).length>1&&H.push(`Additional practice with ${F.topic.toLowerCase()} discussions`),H.length>0?H:["Continue practicing to build confidence"]},ye=()=>{T("Time's up! Completing test with current responses..."),setTimeout(()=>{X()},2e3)},ve=z=>{const O=Math.floor(z/60),H=z%60;return`${O}:${H.toString().padStart(2,"0")}`},Se=()=>Math.min(l/tn.length*100,100),ce=z=>{z.key==="Enter"&&!z.shiftKey&&j.trim()&&!f&&(z.preventDefault(),D(j))};return m&&v?d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:d.jsx(ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-2xl",children:d.jsx(gt,{children:d.jsxs(yt,{className:"p-8 text-center space-y-6",children:[d.jsx(tr,{className:"w-16 h-16 text-success mx-auto"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-3xl font-bold",children:"Placement Test Complete!"}),d.jsxs("div",{className:"bg-accent/10 p-6 rounded-lg space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-center gap-4",children:[d.jsxs(We,{className:"text-lg px-4 py-2 bg-accent text-accent-foreground",children:[v.level," Level"]}),d.jsxs(We,{variant:"outline",className:"text-lg px-4 py-2",children:[v.overallScore,"% Score"]})]}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-left",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"font-semibold text-success",children:"Your Strengths:"}),d.jsx("ul",{className:"text-sm space-y-1",children:v.strengths.map((z,O)=>d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx(tr,{className:"w-4 h-4 text-success"}),z]},O))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"font-semibold text-primary",children:"Areas to Improve:"}),d.jsx("ul",{className:"text-sm space-y-1",children:v.improvements.map((z,O)=>d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx(Ln,{className:"w-4 h-4 text-primary"}),z]},O))})]})]})]}),d.jsxs(de,{onClick:()=>e({level:v.level,score:v.overallScore}),className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground text-lg py-6",size:"lg",children:[d.jsx(Or,{className:"w-5 h-5 mr-2"}),"Start Learning at ",v.level," Level"]})]})]})})})}):d.jsx("div",{className:"min-h-screen bg-background p-4",children:d.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[r&&d.jsx(de,{variant:"ghost",size:"icon",onClick:r,children:d.jsx(zo,{className:"w-4 h-4"})}),d.jsx("div",{className:"flex items-center gap-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-xl font-bold",children:"AI Placement Test"}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Topic ",l+1," of ",tn.length]})]})}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-sm font-medium",children:ve(_)}),d.jsx("div",{className:"text-xs text-muted-foreground",children:"remaining"})]}),d.jsx(de,{variant:"outline",size:"sm",onClick:n,children:"Skip Test"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{children:"Progress"}),d.jsxs("span",{children:[Math.round(Se()),"%"]})]}),d.jsx(kc,{value:Se(),className:"h-2"})]}),k&&d.jsxs(ys,{variant:"destructive",children:[d.jsx(ps,{className:"h-4 w-4"}),d.jsx(vs,{children:k})]}),d.jsxs(gt,{className:"flex-1",children:[d.jsxs(Sn,{children:[d.jsxs(sn,{className:"flex items-center gap-2",children:[d.jsx(ai,{className:"w-5 h-5"}),"Conversation"]}),d.jsx(Po,{children:l<tn.length?`Current topic: ${tn[l].name}`:"Test completed"})]}),d.jsxs(yt,{children:[d.jsxs("div",{className:"space-y-4 mb-4 max-h-96 overflow-y-auto",children:[d.jsx(wi,{children:o.map(z=>d.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`flex gap-3 ${z.role==="user"?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`flex gap-3 max-w-[80%] ${z.role==="user"?"flex-row-reverse":"flex-row"}`,children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${z.role==="ai"?"bg-accent text-accent-foreground":"bg-primary text-primary-foreground"}`,children:z.role==="ai"?d.jsx(mv,{className:"w-4 h-4"}):d.jsx(Ec,{className:"w-4 h-4"})}),d.jsxs("div",{className:`rounded-lg p-3 ${z.role==="ai"?"bg-muted text-muted-foreground":"bg-primary text-primary-foreground"}`,children:[d.jsx("p",{className:"text-sm whitespace-pre-wrap",children:z.content}),z.score&&d.jsxs("div",{className:"mt-2 text-xs opacity-70",children:["Score: ",z.score,"%"]})]})]})},z.id))}),N&&d.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex gap-3 justify-start",children:d.jsxs("div",{className:"flex gap-3 max-w-[80%]",children:[d.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-accent text-accent-foreground",children:d.jsx(mv,{className:"w-4 h-4"})}),d.jsx("div",{className:"rounded-lg p-3 bg-muted text-muted-foreground",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(er,{className:"w-4 h-4 animate-spin"}),d.jsx("span",{className:"text-sm",children:"Analyzing your response..."})]})})]})}),d.jsx("div",{ref:L})]}),l<tn.length&&!m&&d.jsxs("div",{className:"flex gap-2",children:[d.jsx(fs,{value:j,onChange:z=>C(z.target.value),onKeyPress:ce,placeholder:"Type your response here...",disabled:f,className:"flex-1"}),d.jsx(de,{onClick:()=>D(j),disabled:!j.trim()||f,size:"icon",children:f?d.jsx(er,{className:"w-4 h-4 animate-spin"}):d.jsx($h,{className:"w-4 h-4"})})]})]})]})]})})}var im="Radio",[F3,K_]=cn(im),[V3,U3]=F3(im),q_=b.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:o=!1,required:a,disabled:l,value:u="on",onCheck:f,form:p,...m}=t,[y,v]=b.useState(null),x=Ve(e,k=>v(k)),_=b.useRef(!1),S=y?p||!!y.closest("form"):!0;return d.jsxs(V3,{scope:n,checked:o,disabled:l,children:[d.jsx(Pe.button,{type:"button",role:"radio","aria-checked":o,"data-state":X_(o),"data-disabled":l?"":void 0,disabled:l,value:u,...m,ref:x,onClick:Ae(t.onClick,k=>{o||f==null||f(),S&&(_.current=k.isPropagationStopped(),_.current||k.stopPropagation())})}),S&&d.jsx(Q_,{control:y,bubbles:!_.current,name:r,value:u,checked:o,required:a,disabled:l,form:p,style:{transform:"translateX(-100%)"}})]})});q_.displayName=im;var Y_="RadioIndicator",J_=b.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...o}=t,a=U3(Y_,n);return d.jsx(Kt,{present:r||a.checked,children:d.jsx(Pe.span,{"data-state":X_(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:e})})});J_.displayName=Y_;var z3="RadioBubbleInput",Q_=b.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...o},a)=>{const l=b.useRef(null),u=Ve(l,a),f=F_(n),p=Zp(e);return b.useEffect(()=>{const m=l.current;if(!m)return;const y=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(y,"checked").set;if(f!==n&&x){const _=new Event("click",{bubbles:r});x.call(m,n),m.dispatchEvent(_)}},[f,n,r]),d.jsx(Pe.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:u,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Q_.displayName=z3;function X_(t){return t?"checked":"unchecked"}var B3=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],qc="RadioGroup",[W3]=cn(qc,[Hc,K_]),Z_=Hc(),ek=K_(),[H3,G3]=W3(qc),tk=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:o,value:a,required:l=!1,disabled:u=!1,orientation:f,dir:p,loop:m=!0,onValueChange:y,...v}=t,x=Z_(n),_=Lc(p),[S,k]=_s({prop:a,defaultProp:o??null,onChange:y,caller:qc});return d.jsx(H3,{scope:n,name:r,required:l,disabled:u,value:S,onValueChange:k,children:d.jsx(j_,{asChild:!0,...x,orientation:f,dir:_,loop:m,children:d.jsx(Pe.div,{role:"radiogroup","aria-required":l,"aria-orientation":f,"data-disabled":u?"":void 0,dir:_,...v,ref:e})})})});tk.displayName=qc;var nk="RadioGroupItem",rk=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...o}=t,a=G3(nk,n),l=a.disabled||r,u=Z_(n),f=ek(n),p=b.useRef(null),m=Ve(e,p),y=a.value===o.value,v=b.useRef(!1);return b.useEffect(()=>{const x=S=>{B3.includes(S.key)&&(v.current=!0)},_=()=>v.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",_),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",_)}},[]),d.jsx(T_,{asChild:!0,...u,focusable:!l,active:y,children:d.jsx(q_,{disabled:l,required:a.required,checked:y,...f,...o,name:a.name,ref:m,onCheck:()=>a.onValueChange(o.value),onKeyDown:Ae(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:Ae(o.onFocus,()=>{var x;v.current&&((x=p.current)==null||x.click())})})})});rk.displayName=nk;var K3="RadioGroupIndicator",sk=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,o=ek(n);return d.jsx(J_,{...o,...r,ref:e})});sk.displayName=K3;var q3=tk,Y3=rk,J3=sk;function Q3({className:t,...e}){return d.jsx(q3,{"data-slot":"radio-group",className:Ie("grid gap-3",t),...e})}function X3({className:t,...e}){return d.jsx(Y3,{"data-slot":"radio-group-item",className:Ie("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:d.jsx(J3,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:d.jsx(OT,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const Z3=[{value:"Beginner",title:"Beginner",emoji:"",color:"bg-emerald-50 border-emerald-200 text-emerald-800",selectedColor:"bg-emerald-100 border-emerald-300 ring-emerald-500",badges:["Basic","Simple","Guided"],description:"Perfect for those new to English pronunciation and prosody",detailedFeatures:["Basic stress patterns","Simple intonation practice","Common vocabulary focus","Step-by-step guided practice","Fundamental rhythm training"],recommended:"Choose if you're just starting with English pronunciation or want to build strong foundations"},{value:"Intermediate",title:"Intermediate",emoji:"",color:"bg-blue-50 border-blue-200 text-blue-800",selectedColor:"bg-blue-100 border-blue-300 ring-blue-500",badges:["Complex","Varied","Natural"],description:"Ideal for learners with some English speaking experience",detailedFeatures:["Complex stress patterns","Varied intonation training","Advanced vocabulary practice","Natural conversation flow","Contextual pronunciation"],recommended:"Choose if you can speak English conversationally but want to improve pronunciation and sound more natural"},{value:"Advanced",title:"Advanced",emoji:"",color:"bg-purple-50 border-purple-200 text-purple-800",selectedColor:"bg-purple-100 border-purple-300 ring-purple-500",badges:["Nuanced","Native","Pro"],description:"Designed for proficient speakers refining their prosody",detailedFeatures:["Subtle pronunciation nuances","Native-like intonation patterns","Professional vocabulary mastery","Accent reduction techniques","Advanced prosody refinement"],recommended:"Choose if you speak English fluently but want to perfect your prosody and achieve native-like pronunciation"}];function e$({onLevelSelect:t,onTakePlacementTest:e,onBack:n,user:r}){const[o,a]=b.useState(""),[l,u]=b.useState(!1),f=r==null?void 0:r.level,p=r==null?void 0:r.placement_test_completed,m=f&&p,y=f&&!p,v=()=>m?"Redo Placement Test":"Take Placement Test",x=k=>{if(f){u(!0);return}a(k)},_=()=>{o&&!f&&t(o)},S=()=>{u(!1),e()};return f?d.jsx("div",{className:"min-h-screen bg-background",children:d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx("div",{className:"flex-none px-4 py-6 md:px-6 md:py-8",children:d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n&&d.jsx(de,{variant:"ghost",size:"icon",onClick:n,className:"flex-shrink-0",children:d.jsx(zo,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Your Learning Level"}),d.jsx("p",{className:"text-sm md:text-base text-muted-foreground",children:"Level locked for consistent progress"})]})]})})}),d.jsx("div",{className:"flex-1 px-4 md:px-6 flex items-center",children:d.jsx("div",{className:"w-full max-w-md mx-auto",children:d.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:d.jsxs(gt,{className:"bg-accent/10 border-accent/20 shadow-lg",children:[d.jsx(Sn,{className:"text-center pb-4",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx("div",{className:"w-16 h-16 bg-accent rounded-full flex items-center justify-center shadow-lg",children:d.jsx(tc,{className:"w-8 h-8 text-accent-foreground"})}),d.jsxs("div",{children:[d.jsxs(sn,{className:"text-2xl md:text-3xl font-bold",children:[r.level," Level"]}),d.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[d.jsx(Ao,{className:"w-4 h-4 text-muted-foreground"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:m?"Set by placement test":"Self-selected"})]})]})]})}),d.jsxs(yt,{className:"text-center space-y-6 pb-6",children:[d.jsx("p",{className:"text-base text-muted-foreground",children:m?"Your level was determined by placement test results for optimal learning progress.":"You selected this level manually. Take the placement test for a personalized assessment."}),d.jsx(ge.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:d.jsxs(de,{onClick:S,className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground shadow-lg",size:"lg",children:[d.jsx(Or,{className:"w-5 h-5 mr-2"}),v()]})}),d.jsxs(Ch,{children:[d.jsx(xc,{asChild:!0,children:d.jsxs(de,{variant:"ghost",size:"sm",className:"w-full text-muted-foreground hover:text-foreground",children:[d.jsx(gv,{className:"w-4 h-4 mr-2"}),"Why can't I change my level directly?"]})}),d.jsxs(bc,{className:"max-w-md mx-auto",children:[d.jsxs(Nh,{children:[d.jsxs(Sc,{className:"flex items-center gap-3",children:[d.jsx(Ao,{className:"w-5 h-5 text-accent"}),"Level Locking System"]}),d.jsx(_c,{className:"text-left",children:"VibeTune locks your level to ensure consistent, progressive learning. This prevents switching between difficulty levels that could disrupt your learning path."})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-accent/10 p-4 rounded-lg border border-accent/20",children:[d.jsx("h4",{className:"font-semibold mb-2 text-accent-foreground",children:"Benefits of Level Locking:"}),d.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[d.jsx("li",{children:" Consistent difficulty progression"}),d.jsx("li",{children:" Personalized content at the right level"}),d.jsx("li",{children:" Prevents skill gaps from level jumping"}),d.jsx("li",{children:" Accurate progress tracking"})]})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"The placement test provides the most accurate assessment of your current abilities and ensures you get content that matches your skill level."})]})]})]})]})]})})})}),d.jsx("div",{className:"flex-none px-4 py-6 md:px-6 md:py-8",children:d.jsx("div",{className:"max-w-md mx-auto",children:l&&d.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:d.jsxs(ys,{className:"border-accent/30 bg-accent/10 shadow-lg",children:[d.jsx(ps,{className:"h-5 w-5 text-accent"}),d.jsxs(vs,{className:"text-base",children:[d.jsx("strong",{className:"text-accent-foreground",children:"Level is locked."}),d.jsx("br",{}),"Take the placement test to change your level and get a personalized assessment of your abilities."]})]})})})})]})}):d.jsx("div",{className:"min-h-screen bg-background",children:d.jsx("div",{className:"min-h-screen flex items-center justify-center px-3 py-2",children:d.jsxs("div",{className:"w-full max-w-md mx-auto",children:[n&&d.jsx("div",{className:"flex justify-start mb-3",children:d.jsx(de,{variant:"ghost",size:"icon",onClick:n,className:"w-8 h-8",children:d.jsx(zo,{className:"w-4 h-4"})})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Choose Your Level"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Level locks after selection. Change by retaking placement test."}),d.jsx(ge.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:d.jsxs(de,{onClick:S,className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",size:"default",children:[d.jsx(Ln,{className:"w-4 h-4 mr-2"}),"Take Placement Test (Recommended)"]})}),d.jsxs("div",{className:"flex items-center gap-3 py-1",children:[d.jsx("div",{className:"h-px bg-border flex-1"}),d.jsx("span",{className:"text-xs text-muted-foreground px-2",children:"OR SELF-SELECT"}),d.jsx("div",{className:"h-px bg-border flex-1"})]})]}),d.jsx("div",{children:d.jsx(Q3,{value:o,onValueChange:a,children:d.jsx("div",{className:"grid grid-cols-3 gap-2",children:Z3.map((k,T)=>d.jsx(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:T*.05},className:"relative",children:d.jsxs(gt,{className:`cursor-pointer transition-all duration-300 h-full min-h-[180px] text-center relative overflow-hidden ${o===k.value?`${k.selectedColor} shadow-xl scale-[1.03] ring-2 ring-offset-1`:`${k.color} hover:shadow-lg hover:scale-[1.01] shadow-md`}`,onClick:()=>x(k.value),children:[o===k.value&&d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent pointer-events-none"}),d.jsxs(Ch,{children:[d.jsx(xc,{asChild:!0,children:d.jsx(de,{variant:"ghost",size:"icon",className:"absolute top-1 right-1 w-6 h-6 rounded-full bg-white/90 hover:bg-white shadow-md z-20",onClick:j=>j.stopPropagation(),children:d.jsx(gv,{className:"w-3 h-3"})})}),d.jsxs(bc,{className:"max-w-sm mx-auto",children:[d.jsxs(Nh,{children:[d.jsxs(Sc,{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-2xl",children:k.emoji}),d.jsxs("div",{className:"text-lg",children:[k.title," Level"]})]}),d.jsx(_c,{children:k.description})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-2",children:"What you'll practice:"}),d.jsx("ul",{className:"space-y-1",children:k.detailedFeatures.map((j,C)=>d.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[d.jsx(tr,{className:"w-4 h-4 text-success mt-0.5 flex-shrink-0"}),j]},C))})]}),d.jsx("div",{className:"bg-accent/10 p-3 rounded-lg border border-accent/20",children:d.jsxs("p",{className:"text-sm",children:[d.jsx("strong",{className:"text-accent-foreground",children:"Choose this level if:"}),d.jsx("br",{}),k.recommended]})})]})]})]}),d.jsx("div",{className:"absolute top-1 left-1 z-20",children:d.jsx(X3,{value:k.value,id:k.value,className:"w-4 h-4 border-2 bg-white/90"})}),d.jsxs(yt,{className:"p-2 h-full flex flex-col justify-center pt-6",children:[d.jsxs("div",{className:"space-y-2 mb-3",children:[d.jsx("div",{className:"text-3xl",children:k.emoji}),d.jsx(sn,{className:"text-sm leading-tight font-bold",children:k.title})]}),d.jsx("div",{className:"space-y-1",children:k.badges.map((j,C)=>d.jsx(We,{variant:"secondary",className:"text-xs px-1 py-0 h-4 rounded-sm block w-full bg-white/80 text-gray-800 border border-gray-300 font-medium",children:j},C))})]})]})},k.value))})})}),o&&d.jsx(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-3",children:d.jsxs("div",{className:"bg-success/10 rounded-lg p-4 border border-success/20 space-y-3",children:[d.jsx("div",{className:"text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[d.jsx(tr,{className:"w-5 h-5 text-success"}),d.jsxs("span",{className:"text-base font-bold text-success-foreground",children:[o," Level Selected"]})]})}),d.jsxs("div",{className:"flex items-start gap-2 p-2 bg-primary/15 rounded border border-primary/25",children:[d.jsx(Ao,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),d.jsxs("p",{className:"text-sm text-primary-foreground",children:[d.jsx("strong",{children:"Level will be locked after confirmation."})," You can only change it by taking the placement test later."]})]}),d.jsx(ge.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:d.jsxs(de,{onClick:_,className:"w-full bg-success hover:bg-success/90 text-success-foreground h-11 text-base font-bold shadow-lg",size:"lg",children:[d.jsx(Or,{className:"w-5 h-5 mr-2"}),"Start Learning at ",o," Level"]})})]})}),!o&&d.jsx("div",{className:"text-center py-2",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:" Tap a level card above to continue"})})]})]})})})}class t$ extends Tt.Component{constructor(n){super(n);jt(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("VibeTune Error Boundary caught an error:",n,r),this.setState({error:n,errorInfo:r}),setTimeout(()=>{try{an(async()=>{const{trackEvent:o}=await Promise.resolve().then(()=>lL);return{trackEvent:o}},void 0).then(({trackEvent:o})=>{o("app_error_boundary",{error:n.message,stack:n.stack,componentStack:r.componentStack})})}catch(o){console.warn("Failed to track error boundary event:",o)}},0)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full text-center space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[d.jsx("div",{className:"w-12 h-12 bg-accent rounded-full flex items-center justify-center",children:d.jsx("svg",{className:"w-6 h-6 text-accent-foreground",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"})})}),d.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"VibeTune"})]}),d.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-6",children:[d.jsx("h2",{className:"text-lg font-semibold text-destructive mb-2",children:"Oops! Something went wrong"}),d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"We encountered an unexpected error. Don't worry, your data is safe."}),!1]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("button",{onClick:this.handleReset,className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground px-4 py-2 rounded-lg font-medium transition-colors",children:"Try Again"}),d.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-secondary hover:bg-secondary/90 text-secondary-foreground px-4 py-2 rounded-lg font-medium transition-colors",children:"Refresh Page"}),d.jsx("button",{onClick:()=>{try{localStorage.clear(),sessionStorage.clear()}catch(n){console.warn("Failed to clear storage:",n)}window.location.reload()},className:"w-full border border-border hover:bg-muted px-4 py-2 rounded-lg font-medium transition-colors text-sm",children:"Reset App Data"})]}),d.jsxs("div",{className:"text-xs text-muted-foreground",children:[d.jsx("p",{children:"If this problem persists, please contact support."}),d.jsxs("p",{className:"mt-1",children:["Error ID: ",Date.now().toString(36)]})]})]})}):this.props.children}}const n$={user:null,currentConversation:[],placementTestProgress:0,isLoading:!1,error:null,isOffline:!1,syncStatus:"synced"};function r$(t,e){switch(e.type){case"SET_USER":return{...t,user:e.payload};case"SET_CONVERSATION":return{...t,currentConversation:e.payload};case"ADD_MESSAGE":return{...t,currentConversation:[...t.currentConversation,e.payload]};case"UPDATE_MESSAGE":return{...t,currentConversation:t.currentConversation.map(n=>n.id===e.payload.id?{...n,...e.payload.message}:n)};case"SET_PLACEMENT_TEST_PROGRESS":return{...t,placementTestProgress:e.payload};case"SET_LOADING":return{...t,isLoading:e.payload};case"SET_ERROR":return{...t,error:e.payload};case"SET_OFFLINE":return{...t,isOffline:e.payload};case"SET_SYNC_STATUS":return{...t,syncStatus:e.payload};case"CLEAR_CONVERSATION":return{...t,currentConversation:[]};default:return t}}const ik=b.createContext(null);function s$({children:t}){const[e,n]=b.useReducer(r$,n$);return d.jsx(ik.Provider,{value:{state:e,dispatch:n},children:t})}function i$(){const t=b.useContext(ik);if(!t)throw new Error("useAppContext must be used within an AppProvider");return t}const ss={setUser:t=>({type:"SET_USER",payload:t}),setConversation:t=>({type:"SET_CONVERSATION",payload:t}),addMessage:t=>({type:"ADD_MESSAGE",payload:t}),updateMessage:(t,e)=>({type:"UPDATE_MESSAGE",payload:{id:t,message:e}}),setPlacementTestProgress:t=>({type:"SET_PLACEMENT_TEST_PROGRESS",payload:t}),setLoading:t=>({type:"SET_LOADING",payload:t}),setError:t=>({type:"SET_ERROR",payload:t}),setOffline:t=>({type:"SET_OFFLINE",payload:t}),setSyncStatus:t=>({type:"SET_SYNC_STATUS",payload:t}),clearConversation:()=>({type:"CLEAR_CONVERSATION"})};class On{static getStorage(){return typeof window<"u"?{getItem:e=>localStorage.getItem(e),setItem:(e,n)=>localStorage.setItem(e,n),removeItem:e=>localStorage.removeItem(e)}:{getItem:async e=>null,setItem:async(e,n)=>{},removeItem:async e=>{}}}static saveMessageOffline(e){try{const n=this.getStorage(),r=n.getItem(this.STORAGE_KEYS.MESSAGES),o=r?JSON.parse(r):[],a={...e,device_id:this.getDeviceId(),synced:!1};o.push(a),n.setItem(this.STORAGE_KEYS.MESSAGES,JSON.stringify(o)),this.addToSyncQueue("message",a.id)}catch(n){console.error("Failed to save message offline:",n)}}static saveConversationOffline(e){try{const n=this.getStorage(),r=n.getItem(this.STORAGE_KEYS.CONVERSATIONS),o=r?JSON.parse(r):[],a={...e,device_id:this.getDeviceId(),synced:!1};o.push(a),n.setItem(this.STORAGE_KEYS.CONVERSATIONS,JSON.stringify(o)),this.addToSyncQueue("conversation",a.id)}catch(n){console.error("Failed to save conversation offline:",n)}}static getOfflineMessages(e){try{const r=this.getStorage().getItem(this.STORAGE_KEYS.MESSAGES);return(r?JSON.parse(r):[]).filter(a=>a.conversation_id===e)}catch(n){return console.error("Failed to get offline messages:",n),[]}}static getOfflineConversations(){try{const n=this.getStorage().getItem(this.STORAGE_KEYS.CONVERSATIONS);return n?JSON.parse(n):[]}catch(e){return console.error("Failed to get offline conversations:",e),[]}}static getUnsyncedItems(){const e=this.getAllOfflineMessages(),n=this.getOfflineConversations();return{messages:e.filter(r=>!r.synced),conversations:n.filter(r=>!r.synced)}}static markAsSynced(e,n){try{const r=this.getStorage(),o=e==="message"?this.STORAGE_KEYS.MESSAGES:this.STORAGE_KEYS.CONVERSATIONS,a=r.getItem(o);if(!a)return;const u=JSON.parse(a).map(f=>f.id===n?{...f,synced:!0}:f);r.setItem(o,JSON.stringify(u)),this.removeFromSyncQueue(e,n)}catch(r){console.error("Failed to mark item as synced:",r)}}static addToSyncQueue(e,n){try{const r=this.getStorage(),o=r.getItem(this.STORAGE_KEYS.SYNC_QUEUE),a=o?JSON.parse(o):[];a.push({type:e,id:n,timestamp:Date.now()}),r.setItem(this.STORAGE_KEYS.SYNC_QUEUE,JSON.stringify(a))}catch(r){console.error("Failed to add to sync queue:",r)}}static removeFromSyncQueue(e,n){try{const r=this.getStorage(),o=r.getItem(this.STORAGE_KEYS.SYNC_QUEUE);if(!o)return;const l=JSON.parse(o).filter(u=>!(u.type===e&&u.id===n));r.setItem(this.STORAGE_KEYS.SYNC_QUEUE,JSON.stringify(l))}catch(r){console.error("Failed to remove from sync queue:",r)}}static getSyncQueue(){try{const n=this.getStorage().getItem(this.STORAGE_KEYS.SYNC_QUEUE);return n?JSON.parse(n):[]}catch(e){return console.error("Failed to get sync queue:",e),[]}}static clearSyncedItems(){try{const e=this.getStorage(),n=e.getItem(this.STORAGE_KEYS.MESSAGES);if(n){const o=JSON.parse(n),a=Date.now()-10080*60*1e3,l=o.filter(u=>!u.synced||new Date(u.created_at).getTime()>a);e.setItem(this.STORAGE_KEYS.MESSAGES,JSON.stringify(l))}const r=e.getItem(this.STORAGE_KEYS.CONVERSATIONS);if(r){const o=JSON.parse(r),a=Date.now()-720*60*60*1e3,l=o.filter(u=>!u.synced||new Date(u.started_at).getTime()>a);e.setItem(this.STORAGE_KEYS.CONVERSATIONS,JSON.stringify(l))}}catch(e){console.error("Failed to clear synced items:",e)}}static getDeviceId(){try{const e=this.getStorage();let n=e.getItem("device_id");return n||(n="web_"+Date.now().toString(36)+Math.random().toString(36).substr(2),e.setItem("device_id",n)),n}catch(e){return console.error("Failed to get device ID:",e),"unknown_device"}}static getAllOfflineMessages(){try{const n=this.getStorage().getItem(this.STORAGE_KEYS.MESSAGES);return n?JSON.parse(n):[]}catch(e){return console.error("Failed to get all offline messages:",e),[]}}static updateLastSync(){try{this.getStorage().setItem(this.STORAGE_KEYS.LAST_SYNC,Date.now().toString())}catch(e){console.error("Failed to update last sync:",e)}}static getLastSync(){try{const n=this.getStorage().getItem(this.STORAGE_KEYS.LAST_SYNC);return n?parseInt(n):0}catch(e){return console.error("Failed to get last sync:",e),0}}static isOffline(){return typeof navigator<"u"&&!navigator.onLine}static getStorageStats(){const e=this.getAllOfflineMessages(),n=this.getOfflineConversations(),r=this.getUnsyncedItems();return{messageCount:e.length,conversationCount:n.length,unsyncedMessages:r.messages.length,unsyncedConversations:r.conversations.length,lastSync:this.getLastSync()}}}jt(On,"STORAGE_KEYS",{MESSAGES:"speakpro_offline_messages",CONVERSATIONS:"speakpro_offline_conversations",SYNC_QUEUE:"speakpro_sync_queue",LAST_SYNC:"speakpro_last_sync"});class Xl{static async analyzeAudio({audioBlob:e,text:n,level:r,context:o}){try{if(!this.checkRateLimit())throw new Error("Rate limit exceeded. Please wait before making another request.");const a=new FormData;e&&a.append("audio",e,"recording.wav"),n&&a.append("text",n),a.append("level",r),a.append("context",o||"general");const l=await fetch(this.API_ENDPOINT,{method:"POST",body:a,headers:{Authorization:`Bearer ${await this.getAuthToken()}`}});if(!l.ok)throw l.status===429?new Error("API rate limit exceeded. Please try again later."):new Error(`API request failed: ${l.statusText}`);const u=await l.json();return this.updateRateLimit(),{data:u,error:null}}catch(a){return console.error("Audio analysis error:",a),{data:this.generateMockAnalysis(n||"",r),error:a}}}static async streamTranscription(e,n,r){try{let o="";const a=["I","think","learning","English","pronunciation","is","very","important"];for(let l=0;l<a.length;l++)await new Promise(u=>setTimeout(u,500)),o+=(l>0?" ":"")+a[l],n({text:o,isFinal:l===a.length-1,confidence:.85+Math.random()*.15})}catch(o){r(o)}}static checkRateLimit(){const e=Date.now(),n=localStorage.getItem(this.RATE_LIMIT_KEY);if(!n)return!0;const{count:r,windowStart:o}=JSON.parse(n),a=60*1e3;return e-o>a?!0:r<this.MAX_REQUESTS_PER_MINUTE}static updateRateLimit(){const e=Date.now(),n=localStorage.getItem(this.RATE_LIMIT_KEY);if(!n){localStorage.setItem(this.RATE_LIMIT_KEY,JSON.stringify({count:1,windowStart:e}));return}const{count:r,windowStart:o}=JSON.parse(n),a=60*1e3;e-o>a?localStorage.setItem(this.RATE_LIMIT_KEY,JSON.stringify({count:1,windowStart:e})):localStorage.setItem(this.RATE_LIMIT_KEY,JSON.stringify({count:r+1,windowStart:o}))}static async getAuthToken(){const{data:{session:e}}=await Fe.auth.getSession();return(e==null?void 0:e.access_token)||Rp}static generateMockAnalysis(e,n){const r=e.toLowerCase().split(" "),o=Math.floor(Math.random()*30)+70,a=[],l=[];return n==="Beginner"?(r.includes("really")||r.includes("very"))&&a.push({type:"stress",score:.6,location:"really",suggestion:"Emphasize this word with rising stress"}):n==="Intermediate"&&a.push({type:"intonation",score:.75,suggestion:"Try varying your pitch more throughout the sentence"}),r.forEach(u=>{u.length>8&&l.push(u)}),{prosodyErrors:a,vocabSuggestions:l.slice(0,3),guidance:this.generateGuidance(o,n),overallScore:o,transcript:e}}static generateGuidance(e,n){const r={high:["Excellent prosody! Your rhythm and intonation are very natural.","Great job with word stress patterns. Keep practicing!","Your speech sounds very confident and clear."],medium:["Good effort! Try to focus more on sentence-level intonation.","Your pronunciation is clear. Work on varying your pitch more.","Nice rhythm! Pay attention to stressed syllables in longer words."],low:["Keep practicing! Focus on one aspect at a time - start with word stress.","Take your time with pronunciation. Slow, clear speech is better than fast, unclear speech.","Listen to native speakers and try to mimic their intonation patterns."]},o=e>=85?"high":e>=70?"medium":"low",a=r[o];return a[Math.floor(Math.random()*a.length)]}}jt(Xl,"API_ENDPOINT",`https://${Ap}.supabase.co/functions/v1/make-server-b2083953/analyze-audio`),jt(Xl,"RATE_LIMIT_KEY","audio_analysis_rate_limit"),jt(Xl,"MAX_REQUESTS_PER_MINUTE",20);class cs{static addSyncListener(e){this.syncListeners.push(e)}static removeSyncListener(e){this.syncListeners=this.syncListeners.filter(n=>n!==e)}static notifyListeners(e){this.syncListeners.forEach(n=>n(e))}static async sync(){if(this.syncInProgress)return{success:!1,syncedMessages:0,syncedConversations:0,errors:["Sync already in progress"]};this.syncInProgress=!0,this.notifyListeners("syncing");const e=new Promise((n,r)=>setTimeout(()=>r(new Error("Sync operation timed out")),1e4));try{return await Promise.race([this._performSync(),e])}catch(n){return this.syncInProgress=!1,this.notifyListeners("error"),console.error("Sync failed:",(n==null?void 0:n.message)||n),{success:!1,syncedMessages:0,syncedConversations:0,errors:[(n==null?void 0:n.message)||"Sync failed"]}}}static async _performSync(){const e={success:!1,syncedMessages:0,syncedConversations:0,errors:[]};try{if(On.isOffline())return this.syncInProgress=!1,this.notifyListeners("synced"),{success:!0,syncedMessages:0,syncedConversations:0,errors:["Device is offline - sync will resume when online"]};const n=await this.checkAuthentication();if(!n.isAuthenticated)return this.syncInProgress=!1,this.notifyListeners("synced"),{success:!0,syncedMessages:0,syncedConversations:0,errors:[n.reason||"No authenticated user - sync skipped"]};const{messages:r,conversations:o}=On.getUnsyncedItems();for(const a of o)try{await this.syncConversation(a),e.syncedConversations++}catch(l){console.error("Failed to sync conversation:",l),e.errors.push(`Failed to sync conversation ${a.id}: ${l}`)}for(const a of r)try{await this.syncMessage(a),e.syncedMessages++}catch(l){console.error("Failed to sync message:",l),e.errors.push(`Failed to sync message ${a.id}: ${l}`)}await this.downloadServerUpdates(),On.updateLastSync(),e.success=e.errors.length===0,this.notifyListeners(e.success?"synced":"error"),On.clearSyncedItems()}catch(n){console.error("Sync failed:",n);const r=n instanceof Error?n.message:String(n);e.errors.push(`Sync failed: ${r}`),!r.includes("not authenticated")&&!r.includes("offline")?this.notifyListeners("error"):this.notifyListeners("synced")}finally{this.syncInProgress=!1}return e}static async syncConversation(e){try{const{data:n}=await Fe.from("conversations").select("id, device_id").eq("id",e.id).single();if(n)await this.resolveConversationConflict(e,n);else{const{error:r}=await Fe.from("conversations").insert([{id:e.id,profile_id:e.profile_id,topic:e.topic,is_placement_test:e.is_placement_test,started_at:e.started_at,ended_at:e.ended_at,device_id:e.device_id}]);if(r)throw r}On.markAsSynced("conversation",e.id)}catch(n){throw console.error("Failed to sync conversation:",n),n}}static async syncMessage(e){try{const{data:n}=await Fe.from("messages").select("id, device_id, version").eq("id",e.id).single();if(n)await this.resolveMessageConflict(e,n);else{let r=null;if(e.type==="audio"&&e.sender==="user")try{const{data:a}=await Xl.analyzeAudio({text:e.content,level:"Intermediate"});r=a}catch(a){console.warn("Failed to analyze audio during sync:",a)}const{error:o}=await Fe.from("messages").insert([{id:e.id,conversation_id:e.conversation_id,sender:e.sender,type:e.type,content:e.content,audio_url:e.audio_url,prosody_feedback:r,created_at:e.created_at,device_id:e.device_id,version:1}]);if(o)throw o}On.markAsSynced("message",e.id)}catch(n){throw console.error("Failed to sync message:",n),n}}static async resolveConversationConflict(e,n){const r=new Date(e.started_at).getTime(),o=new Date(n.started_at).getTime();if(r>o||e.device_id===n.device_id){const{error:a}=await Fe.from("conversations").update({topic:e.topic,ended_at:e.ended_at,device_id:e.device_id}).eq("id",e.id);if(a)throw a}}static async resolveMessageConflict(e,n){if(e.sender==="ai"&&e.prosody_feedback){const{error:r}=await Fe.from("messages").update({prosody_feedback:e.prosody_feedback,version:(n.version||1)+1,device_id:e.device_id}).eq("id",e.id);if(r)throw r}}static async downloadServerUpdates(){try{const e=await this.checkAuthentication();if(!e.isAuthenticated){console.log("Skipping server updates download:",e.reason);return}const{data:{session:n}}=await Fe.auth.getSession();if(!(n!=null&&n.user)){console.log("No session available for server updates");return}const r=On.getLastSync(),o=new Date(r).toISOString(),{data:a}=await Fe.from("conversations").select("*").eq("profile_id",n.user.id).gt("started_at",o).order("started_at",{ascending:!1});if(a&&a.length>0){const l=a.map(f=>f.id),{data:u}=await Fe.from("messages").select("*").in("conversation_id",l).gt("created_at",o).order("created_at",{ascending:!0});u&&u.forEach(f=>{const p={...f,synced:!0}})}}catch(e){throw console.error("Failed to download server updates:",e),e}}static enableAutoSync(){return new Promise((e,n)=>{if(this.autoSyncEnabled||typeof window>"u"){console.log(" Auto-sync already enabled"),e();return}try{this.autoSyncEnabled=!0,console.log(" Auto-sync enabled");const r=()=>{console.log(" Online - will sync soon"),setTimeout(()=>{this.sync().catch(a=>{console.warn(" Auto-sync failed:",(a==null?void 0:a.message)||a)})},3e3)};window.addEventListener("online",r);const o=setInterval(async()=>{if(!On.isOffline()&&!this.syncInProgress)try{const a=this.checkAuthentication(),l=new Promise((f,p)=>setTimeout(()=>p(new Error("Auth check timeout")),2e3)),u=await Promise.race([a,l]);u.isAuthenticated?(console.log("Starting periodic sync"),this.sync().catch(f=>{console.warn(" Periodic sync failed:",(f==null?void 0:f.message)||f)})):console.log("Periodic sync skipped:",u.reason)}catch(a){console.warn(" Auth check failed for periodic sync:",(a==null?void 0:a.message)||a)}},300*1e3);window.__vibeTuneSyncCleanup||(window.__vibeTuneSyncCleanup=()=>{console.log("Cleaning up auto-sync"),window.removeEventListener("online",r),clearInterval(o),this.autoSyncEnabled=!1,this.resetAuthCache()}),e()}catch(r){console.warn(" Auto-sync setup failed:",r),n(r)}})}static async forceSync(){return this.sync()}static isSyncing(){return this.syncInProgress}static getPendingSyncCount(){const{messages:e,conversations:n}=On.getUnsyncedItems();return e.length+n.length}static async checkAuthentication(){var n;const e=Date.now();if(e-this.lastAuthCheck<3e4&&this.isAuthenticated)return{isAuthenticated:!0};try{const{data:{session:r},error:o}=await Fe.auth.getSession();if(o)return console.log("Auth check failed:",o.message),this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:`Authentication error: ${o.message}`};if(!(r!=null&&r.user))return this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:"No active session"};if(r.expires_at&&new Date(r.expires_at*1e3)<=new Date)return console.log("Session expired"),this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:"Session expired"};if(r.expires_at&&new Date(r.expires_at*1e3).getTime()-e<300*1e3){console.log("Session close to expiry, attempting refresh...");const{data:a,error:l}=await Fe.auth.refreshSession();if(l)return console.log("Session refresh failed:",l.message),this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:`Session refresh failed: ${l.message}`};if(!((n=a.session)!=null&&n.user))return this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:"Session refresh returned no user"}}return this.isAuthenticated=!0,this.lastAuthCheck=e,{isAuthenticated:!0}}catch(r){return console.log("Auth check exception:",r),this.isAuthenticated=!1,this.lastAuthCheck=e,{isAuthenticated:!1,reason:`Auth check failed: ${r}`}}}static resetAuthCache(){this.isAuthenticated=!1,this.lastAuthCheck=0}}jt(cs,"syncInProgress",!1),jt(cs,"autoSyncEnabled",!1),jt(cs,"syncListeners",[]),jt(cs,"lastAuthCheck",0),jt(cs,"isAuthenticated",!1);function o$(){const{state:t,dispatch:e}=i$(),{trackEvent:n}=Rr(),[r,o]=b.useState("loading"),[a,l]=b.useState(!1),[u,f]=b.useState(!1),{user:p}=t;b.useEffect(()=>{if(a)return;(async()=>{var C,N;l(!0);try{typeof navigator<"u"&&e(ss.setOffline(!navigator.onLine));const R=await _n.getCurrentSession();(C=R==null?void 0:R.data)!=null&&C.user&&((N=R==null?void 0:R.data)!=null&&N.profile)?(e(ss.setUser(R.data.profile)),R.data.profile.level?o("main-app"):o("level-selection")):o("onboarding")}catch(R){console.warn(" Session check failed:",R),o("onboarding")}finally{f(!0)}})()},[e,a]);const m=()=>{o("signup"),n("onboarding_signup_clicked")},y=()=>{o("signin"),n("onboarding_signin_clicked")},v=b.useCallback(j=>{e(ss.setUser(j)),j.level?o("main-app"):o("level-selection"),setTimeout(()=>{try{cs.enableAutoSync().catch(C=>console.warn(" Sync setup failed:",C)),n("auth_completed",{userId:j.id,level:j.level,isNewUser:!j.level}).catch(C=>console.warn("Event tracking failed:",C))}catch(C){console.warn("Background tasks failed:",C)}},100)},[e,n]),x=async j=>{if(p)try{const{data:C}=await _n.updateProfile(p.id,{level:j.level,placement_test_completed:!0,placement_test_score:j.score},p);C&&e(ss.setUser(C)),n("placement_test_completed",{userId:p.id,score:j.score,level:j.level,previousLevel:p.level,selectionMethod:"placement_test"}).catch(N=>console.warn("Tracking failed:",N))}catch(C){console.error(" Failed to update profile after placement test:",C)}o("main-app")},_=()=>{o("main-app"),n("placement_test_skipped",{userId:p==null?void 0:p.id})},S=async j=>{if(p)try{const{data:C}=await _n.updateProfile(p.id,{level:j,placement_test_completed:!1},p);C&&e(ss.setUser(C)),n("level_selected",{userId:p.id,level:j,previousLevel:p.level,selectionMethod:"manual"}).catch(N=>console.warn("Tracking failed:",N))}catch(C){console.error(" Failed to update profile with selected level:",C)}o("main-app")},k=b.useCallback(async()=>{try{n("user_logout_initiated",{userId:p==null?void 0:p.id}).catch(j=>console.warn("Logout tracking failed:",j)),await _n.signOut(),cs.resetAuthCache().catch(j=>console.warn("Sync reset failed:",j))}catch(j){console.warn(" Logout cleanup failed:",j)}finally{e(ss.setUser(null)),o("onboarding")}},[e,n,p==null?void 0:p.id]),T=()=>{o("onboarding"),n("auth_back_to_onboarding")};if(!u)return d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"w-8 h-8 border-2 border-accent border-t-transparent rounded-full animate-spin mx-auto"}),d.jsx("p",{className:"text-muted-foreground",children:"Loading VibeTune..."})]})});switch(r){case"onboarding":return d.jsx(AR,{onSignUp:m,onSignIn:y});case"signup":return d.jsx(dw,{mode:"signup",onAuthComplete:v,onBack:T});case"signin":return d.jsx(dw,{mode:"signin",onAuthComplete:v,onBack:T});case"level-selection":return d.jsx(e$,{onLevelSelect:S,onTakePlacementTest:()=>o("placement-test"),onBack:T,user:p});case"placement-test":return p?d.jsx($3,{user:p,onComplete:x,onSkip:_,onBack:()=>o("level-selection")}):(o("signin"),null);case"main-app":return p?d.jsx(M3,{user:p,onLogout:k,onStartPlacementTest:()=>o("placement-test"),onUserUpdate:j=>{e(ss.setUser(j))}}):(o("signin"),null);default:return d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsxs("p",{className:"text-destructive",children:["Unexpected app state: ",r]}),d.jsx("button",{onClick:()=>o("onboarding"),className:"text-accent underline",children:"Return to start"})]})})}}function a$(){return d.jsx(t$,{children:d.jsx(s$,{children:d.jsx(o$,{})})})}fj.createRoot(document.getElementById("root")).render(d.jsx(a$,{}));
//# sourceMappingURL=index-B_xaSoAV.js.map
